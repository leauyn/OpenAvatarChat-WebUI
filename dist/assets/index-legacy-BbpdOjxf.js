!(function () {
  function e(e) {
    if (null != e) {
      var t = e[('function' == typeof Symbol && Symbol.iterator) || '@@iterator'],
        n = 0
      if (t) return t.call(e)
      if ('function' == typeof e.next) return e
      if (!isNaN(e.length))
        return {
          next: function () {
            return (e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e })
          },
        }
    }
    throw new TypeError(P(e) + ' is not iterable')
  }
  function t(e) {
    var t = Object(e),
      n = []
    for (var r in t) n.unshift(r)
    return function e() {
      for (; n.length; ) if ((r = n.pop()) in t) return ((e.value = r), (e.done = !1), e)
      return ((e.done = !0), e)
    }
  }
  function n(e, t, n, i) {
    var a = r(_(1 & i ? e.prototype : e), t, n)
    return 2 & i && 'function' == typeof a
      ? function (e) {
          return a.apply(n, e)
        }
      : a
  }
  function r() {
    return (
      (r =
        'undefined' != typeof Reflect && Reflect.get
          ? Reflect.get.bind()
          : function (e, t, n) {
              var r = (function (e, t) {
                for (; !{}.hasOwnProperty.call(e, t) && null !== (e = _(e)); );
                return e
              })(e, t)
              if (r) {
                var i = Object.getOwnPropertyDescriptor(r, t)
                return i.get ? i.get.call(arguments.length < 3 ? e : n) : i.value
              }
            }),
      r.apply(null, arguments)
    )
  }
  function i(e, t, n) {
    return n(d(e, t))
  }
  function a(e, t, n) {
    return (e.set(d(e, t), n), n)
  }
  function o(e, t) {
    var n = Object.keys(e)
    if (Object.getOwnPropertySymbols) {
      var r = Object.getOwnPropertySymbols(e)
      ;(t &&
        (r = r.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable
        })),
        n.push.apply(n, r))
    }
    return n
  }
  function s(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = null != arguments[t] ? arguments[t] : {}
      t % 2
        ? o(Object(n), !0).forEach(function (t) {
            M(e, t, n[t])
          })
        : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
          : o(Object(n)).forEach(function (t) {
              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
    }
    return e
  }
  function u(e, t, n) {
    ;(l(e, t), t.set(e, n))
  }
  function l(e, t) {
    if (t.has(e))
      throw new TypeError('Cannot initialize the same private elements twice on an object')
  }
  function c(e, t) {
    return e.get(d(e, t))
  }
  function d(e, t, n) {
    if ('function' == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n
    throw new TypeError('Private element is not present on this object')
  }
  function h() {
    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e,
      t,
      n = 'function' == typeof Symbol ? Symbol : {},
      r = n.iterator || '@@iterator',
      i = n.toStringTag || '@@toStringTag'
    function a(n, r, i, a) {
      var u = r && r.prototype instanceof s ? r : s,
        l = Object.create(u.prototype)
      return (
        f(
          l,
          '_invoke',
          (function (n, r, i) {
            var a,
              s,
              u,
              l = 0,
              c = i || [],
              d = !1,
              h = {
                p: 0,
                n: 0,
                v: e,
                a: f,
                f: f.bind(e, 4),
                d: function (t, n) {
                  return ((a = t), (s = 0), (u = e), (h.n = n), o)
                },
              }
            function f(n, r) {
              for (s = n, u = r, t = 0; !d && l && !i && t < c.length; t++) {
                var i,
                  a = c[t],
                  f = h.p,
                  p = a[2]
                n > 3
                  ? (i = p === r) && ((u = a[(s = a[4]) ? 5 : ((s = 3), 3)]), (a[4] = a[5] = e))
                  : a[0] <= f &&
                    ((i = n < 2 && f < a[1])
                      ? ((s = 0), (h.v = r), (h.n = a[1]))
                      : f < p &&
                        (i = n < 3 || a[0] > r || r > p) &&
                        ((a[4] = n), (a[5] = r), (h.n = p), (s = 0)))
              }
              if (i || n > 1) return o
              throw ((d = !0), r)
            }
            return function (i, c, p) {
              if (l > 1) throw TypeError('Generator is already running')
              for (d && 1 === c && f(c, p), s = c, u = p; (t = s < 2 ? e : u) || !d; ) {
                a || (s ? (s < 3 ? (s > 1 && (h.n = -1), f(s, u)) : (h.n = u)) : (h.v = u))
                try {
                  if (((l = 2), a)) {
                    if ((s || (i = 'next'), (t = a[i]))) {
                      if (!(t = t.call(a, u))) throw TypeError('iterator result is not an object')
                      if (!t.done) return t
                      ;((u = t.value), s < 2 && (s = 0))
                    } else
                      (1 === s && (t = a.return) && t.call(a),
                        s < 2 &&
                          ((u = TypeError("The iterator does not provide a '" + i + "' method")),
                          (s = 1)))
                    a = e
                  } else if ((t = (d = h.n < 0) ? u : n.call(r, h)) !== o) break
                } catch (t) {
                  ;((a = e), (s = 1), (u = t))
                } finally {
                  l = 1
                }
              }
              return { value: t, done: d }
            }
          })(n, i, a),
          !0
        ),
        l
      )
    }
    var o = {}
    function s() {}
    function u() {}
    function l() {}
    t = Object.getPrototypeOf
    var c = [][r]
        ? t(t([][r]()))
        : (f((t = {}), r, function () {
            return this
          }),
          t),
      d = (l.prototype = s.prototype = Object.create(c))
    function p(e) {
      return (
        Object.setPrototypeOf
          ? Object.setPrototypeOf(e, l)
          : ((e.__proto__ = l), f(e, i, 'GeneratorFunction')),
        (e.prototype = Object.create(d)),
        e
      )
    }
    return (
      (u.prototype = l),
      f(d, 'constructor', l),
      f(l, 'constructor', u),
      (u.displayName = 'GeneratorFunction'),
      f(l, i, 'GeneratorFunction'),
      f(d),
      f(d, i, 'Generator'),
      f(d, r, function () {
        return this
      }),
      f(d, 'toString', function () {
        return '[object Generator]'
      }),
      (h = function () {
        return { w: a, m: p }
      })()
    )
  }
  function f(e, t, n, r) {
    var i = Object.defineProperty
    try {
      i({}, '', {})
    } catch (e) {
      i = 0
    }
    ;((f = function (e, t, n, r) {
      function a(t, n) {
        f(e, t, function (e) {
          return this._invoke(t, n, e)
        })
      }
      t
        ? i
          ? i(e, t, { value: n, enumerable: !r, configurable: !r, writable: !r })
          : (e[t] = n)
        : (a('next', 0), a('throw', 1), a('return', 2))
    }),
      f(e, t, n, r))
  }
  function p(e, t, n, r, i, a, o) {
    try {
      var s = e[a](o),
        u = s.value
    } catch (e) {
      return void n(e)
    }
    s.done ? t(u) : Promise.resolve(u).then(r, i)
  }
  function v(e) {
    return function () {
      var t = this,
        n = arguments
      return new Promise(function (r, i) {
        var a = e.apply(t, n)
        function o(e) {
          p(a, r, i, o, s, 'next', e)
        }
        function s(e) {
          p(a, r, i, o, s, 'throw', e)
        }
        o(void 0)
      })
    }
  }
  function m(e) {
    var t = 'function' == typeof Map ? new Map() : void 0
    return (
      (m = function (e) {
        if (
          null === e ||
          !(function (e) {
            try {
              return -1 !== Function.toString.call(e).indexOf('[native code]')
            } catch (t) {
              return 'function' == typeof e
            }
          })(e)
        )
          return e
        if ('function' != typeof e)
          throw new TypeError('Super expression must either be null or a function')
        if (void 0 !== t) {
          if (t.has(e)) return t.get(e)
          t.set(e, n)
        }
        function n() {
          return g(e, arguments, _(this).constructor)
        }
        return (
          (n.prototype = Object.create(e.prototype, {
            constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 },
          })),
          S(n, e)
        )
      }),
      m(e)
    )
  }
  function g(e, t, n) {
    if (x()) return Reflect.construct.apply(null, arguments)
    var r = [null]
    r.push.apply(r, t)
    var i = new (e.bind.apply(e, r))()
    return (n && S(i, n.prototype), i)
  }
  function y(e, t, n) {
    return (
      (t = _(t)),
      (function (e, t) {
        if (t && ('object' == P(t) || 'function' == typeof t)) return t
        if (void 0 !== t)
          throw new TypeError('Derived constructors may only return object or undefined')
        return (function (e) {
          if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
          return e
        })(e)
      })(e, x() ? Reflect.construct(t, n || [], _(e).constructor) : t.apply(e, n))
    )
  }
  function x() {
    try {
      var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}))
    } catch (e) {}
    return (x = function () {
      return !!e
    })()
  }
  function _(e) {
    return (
      (_ = Object.setPrototypeOf
        ? Object.getPrototypeOf.bind()
        : function (e) {
            return e.__proto__ || Object.getPrototypeOf(e)
          }),
      _(e)
    )
  }
  function b(e, t) {
    if ('function' != typeof t && null !== t)
      throw new TypeError('Super expression must either be null or a function')
    ;((e.prototype = Object.create(t && t.prototype, {
      constructor: { value: e, writable: !0, configurable: !0 },
    })),
      Object.defineProperty(e, 'prototype', { writable: !1 }),
      t && S(e, t))
  }
  function S(e, t) {
    return (
      (S = Object.setPrototypeOf
        ? Object.setPrototypeOf.bind()
        : function (e, t) {
            return ((e.__proto__ = t), e)
          }),
      S(e, t)
    )
  }
  function w(e, t) {
    if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function')
  }
  function A(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n]
      ;((r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(e, E(r.key), r))
    }
  }
  function T(e, t, n) {
    return (
      t && A(e.prototype, t),
      n && A(e, n),
      Object.defineProperty(e, 'prototype', { writable: !1 }),
      e
    )
  }
  function M(e, t, n) {
    return (
      (t = E(t)) in e
        ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 })
        : (e[t] = n),
      e
    )
  }
  function E(e) {
    var t = (function (e, t) {
      if ('object' != P(e) || !e) return e
      var n = e[Symbol.toPrimitive]
      if (void 0 !== n) {
        var r = n.call(e, t || 'default')
        if ('object' != P(r)) return r
        throw new TypeError('@@toPrimitive must return a primitive value.')
      }
      return ('string' === t ? String : Number)(e)
    })(e, 'string')
    return 'symbol' == P(t) ? t : t + ''
  }
  function C(e, t) {
    return (
      R(e) ||
      (function (e, t) {
        var n =
          null == e ? null : ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator']
        if (null != n) {
          var r,
            i,
            a,
            o,
            s = [],
            u = !0,
            l = !1
          try {
            if (((a = (n = n.call(e)).next), 0 === t)) {
              if (Object(n) !== n) return
              u = !1
            } else for (; !(u = (r = a.call(n)).done) && (s.push(r.value), s.length !== t); u = !0);
          } catch (e) {
            ;((l = !0), (i = e))
          } finally {
            try {
              if (!u && null != n.return && ((o = n.return()), Object(o) !== o)) return
            } finally {
              if (l) throw i
            }
          }
          return s
        }
      })(e, t) ||
      D(e, t) ||
      k()
    )
  }
  function k() {
    throw new TypeError(
      'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    )
  }
  function R(e) {
    if (Array.isArray(e)) return e
  }
  function I(e) {
    return (
      (function (e) {
        if (Array.isArray(e)) return O(e)
      })(e) ||
      N(e) ||
      D(e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        )
      })()
    )
  }
  function N(e) {
    if (('undefined' != typeof Symbol && null != e[Symbol.iterator]) || null != e['@@iterator'])
      return Array.from(e)
  }
  function P(e) {
    return (
      (P =
        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
          ? function (e) {
              return typeof e
            }
          : function (e) {
              return e &&
                'function' == typeof Symbol &&
                e.constructor === Symbol &&
                e !== Symbol.prototype
                ? 'symbol'
                : typeof e
            }),
      P(e)
    )
  }
  function L(e, t) {
    var n = ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator']
    if (!n) {
      if (Array.isArray(e) || (n = D(e)) || (t && e && 'number' == typeof e.length)) {
        n && (e = n)
        var r = 0,
          i = function () {}
        return {
          s: i,
          n: function () {
            return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] }
          },
          e: function (e) {
            throw e
          },
          f: i,
        }
      }
      throw new TypeError(
        'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      )
    }
    var a,
      o = !0,
      s = !1
    return {
      s: function () {
        n = n.call(e)
      },
      n: function () {
        var e = n.next()
        return ((o = e.done), e)
      },
      e: function (e) {
        ;((s = !0), (a = e))
      },
      f: function () {
        try {
          o || null == n.return || n.return()
        } finally {
          if (s) throw a
        }
      },
    }
  }
  function D(e, t) {
    if (e) {
      if ('string' == typeof e) return O(e, t)
      var n = {}.toString.call(e).slice(8, -1)
      return (
        'Object' === n && e.constructor && (n = e.constructor.name),
        'Map' === n || 'Set' === n
          ? Array.from(e)
          : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? O(e, t)
            : void 0
      )
    }
  }
  function O(e, t) {
    ;(null == t || t > e.length) && (t = e.length)
    for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n]
    return r
  }
  function F(e) {
    return function () {
      return new B(e.apply(this, arguments))
    }
  }
  function B(e) {
    var t, n
    function r(t, n) {
      try {
        var a = e[t](n),
          o = a.value,
          s = o instanceof V
        Promise.resolve(s ? o.v : o).then(
          function (n) {
            if (s) {
              var u = 'return' === t ? 'return' : 'next'
              if (!o.k || n.done) return r(u, n)
              n = e[u](n).value
            }
            i(a.done ? 'return' : 'normal', n)
          },
          function (e) {
            r('throw', e)
          }
        )
      } catch (e) {
        i('throw', e)
      }
    }
    function i(e, i) {
      switch (e) {
        case 'return':
          t.resolve({ value: i, done: !0 })
          break
        case 'throw':
          t.reject(i)
          break
        default:
          t.resolve({ value: i, done: !1 })
      }
      ;(t = t.next) ? r(t.key, t.arg) : (n = null)
    }
    ;((this._invoke = function (e, i) {
      return new Promise(function (a, o) {
        var s = { key: e, arg: i, resolve: a, reject: o, next: null }
        n ? (n = n.next = s) : ((t = n = s), r(e, i))
      })
    }),
      'function' != typeof e.return && (this.return = void 0))
  }
  function U(e) {
    return new V(e, 0)
  }
  function z(e) {
    var t = {},
      n = !1
    function r(t, r) {
      return (
        (n = !0),
        (r = new Promise(function (n) {
          n(e[t](r))
        })),
        { done: !1, value: new V(r, 1) }
      )
    }
    return (
      (t[('undefined' != typeof Symbol && Symbol.iterator) || '@@iterator'] = function () {
        return this
      }),
      (t.next = function (e) {
        return n ? ((n = !1), e) : r('next', e)
      }),
      'function' == typeof e.throw &&
        (t.throw = function (e) {
          if (n) throw ((n = !1), e)
          return r('throw', e)
        }),
      'function' == typeof e.return &&
        (t.return = function (e) {
          return n ? ((n = !1), e) : r('return', e)
        }),
      t
    )
  }
  function V(e, t) {
    ;((this.v = e), (this.k = t))
  }
  function H(e) {
    var t,
      n,
      r,
      i = 2
    for (
      'undefined' != typeof Symbol && ((n = Symbol.asyncIterator), (r = Symbol.iterator));
      i--;

    ) {
      if (n && null != (t = e[n])) return t.call(e)
      if (r && null != (t = e[r])) return new W(t.call(e))
      ;((n = '@@asyncIterator'), (r = '@@iterator'))
    }
    throw new TypeError('Object is not async iterable')
  }
  function W(e) {
    function t(e) {
      if (Object(e) !== e) return Promise.reject(new TypeError(e + ' is not an object.'))
      var t = e.done
      return Promise.resolve(e.value).then(function (e) {
        return { value: e, done: t }
      })
    }
    return (
      (W = function (e) {
        ;((this.s = e), (this.n = e.next))
      }),
      (W.prototype = {
        s: null,
        n: null,
        next: function () {
          return t(this.n.apply(this.s, arguments))
        },
        return: function (e) {
          var n = this.s.return
          return void 0 === n
            ? Promise.resolve({ value: e, done: !0 })
            : t(n.apply(this.s, arguments))
        },
        throw: function (e) {
          var n = this.s.return
          return void 0 === n ? Promise.reject(e) : t(n.apply(this.s, arguments))
        },
      }),
      new W(e)
    )
  }
  ;((B.prototype[('function' == typeof Symbol && Symbol.asyncIterator) || '@@asyncIterator'] =
    function () {
      return this
    }),
    (B.prototype.next = function (e) {
      return this._invoke('next', e)
    }),
    (B.prototype.throw = function (e) {
      return this._invoke('throw', e)
    }),
    (B.prototype.return = function (e) {
      return this._invoke('return', e)
    }),
    System.register([], function (r, o) {
      'use strict'
      return {
        execute: function () {
          var r,
            f,
            p,
            x,
            _ = document.createElement('style')
          /**
           * @vue/shared v3.5.21
           * (c) 2018-present Yuxi (Evan) You and Vue contributors
           * @license MIT
           **/
          function S(e) {
            var t,
              n = Object.create(null),
              r = L(e.split(','))
            try {
              for (r.s(); !(t = r.n()).done; ) {
                var i = t.value
                n[i] = 1
              }
            } catch (a) {
              r.e(a)
            } finally {
              r.f()
            }
            return function (e) {
              return e in n
            }
          }
          ;((_.textContent =
            'body{margin:0;overflow-y:auto;font-size:13px;font-weight:400;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;color:#26244c}*{box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent!important}img{pointer-events:none}#app{width:100vw;height:100vh}body.iframe-mode{overflow:hidden}body.iframe-mode #app{position:relative;z-index:9999}body.iframe-mode .player-controls{position:fixed!important;bottom:0!important;left:0!important;right:0!important;width:100%!important;background:#fff!important;z-index:10000!important;margin:0!important;padding:16px 0!important;min-height:100px!important;max-height:140px!important;box-shadow:0 -2px 10px rgba(0,0,0,.1)!important}body.iframe-mode .player-controls .chat-btn{margin:0 auto!important}body.iframe-mode .chat-input-container{position:fixed!important;bottom:0!important;left:0!important;right:0!important;width:100%!important;background:#fff!important;z-index:10000!important;margin:0!important;padding:16px 0!important;min-height:100px!important;max-height:140px!important;box-shadow:0 -2px 10px rgba(0,0,0,.1)!important}body.iframe-mode .chat-input-container .chat-input-main{margin:0 auto!important}body.iframe-mode .chat-records-container{bottom:140px!important;z-index:9999!important}@media (max-width: 1024px) and (min-width: 769px){body.iframe-mode .chat-records-container{bottom:130px!important}}@media (max-width: 768px){body.iframe-mode .chat-records-container{bottom:120px!important}}@media (max-width: 480px){body.iframe-mode .chat-records-container{bottom:110px!important}}@media (max-width: 360px){body.iframe-mode .chat-records-container{bottom:100px!important}}@media screen and (max-width: 1024px) and (min-width: 769px){body{font-size:13px}}@media screen and (max-width: 768px){body{font-size:14px}}@media screen and (max-width: 480px){body{font-size:14px}}@media screen and (max-width: 360px){body{font-size:13px}}.access-wrap[data-v-2804bf05]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;z-index:1000;background:rgba(0,0,0,.1);backdrop-filter:blur(5px);color:#333;font-size:16px;font-weight:500;transition:all .3s ease}.access-wrap[data-v-2804bf05]:hover{background:rgba(0,0,0,.2);transform:scale(1.02)}@media (max-width: 768px){.access-wrap[data-v-2804bf05]{font-size:14px}}@media (max-width: 480px){.access-wrap[data-v-2804bf05]{font-size:13px}}.icon-wrap[data-v-2804bf05]{width:30px;font-size:40px;margin-bottom:16px;color:#7873f6}@media (max-width: 768px){.icon-wrap[data-v-2804bf05]{font-size:36px;margin-bottom:14px}}@media (max-width: 480px){.icon-wrap[data-v-2804bf05]{font-size:32px;margin-bottom:12px}}.icon[data-v-91f3cb32]{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden;color:inherit;font-size:inherit}.action-group[data-v-f5429897]{border-radius:20px;background:rgba(88,87,87,.5);padding:8px;backdrop-filter:blur(8px);display:flex;align-items:center;gap:8px;flex-shrink:0}.action-group .action[data-v-f5429897]{cursor:pointer;width:70px;height:70px;border-radius:16px;font-size:34px;display:flex;align-items:center;justify-content:center;position:relative;color:#fff;transition:background-color .2s ease;flex-shrink:0}.action-group .action[data-v-f5429897]:hover{background:#67666a}.action-group .action .corner[data-v-f5429897]{position:absolute;right:0;bottom:0;padding:3px}.action-group .action .corner .corner-inner[data-v-f5429897]{width:6px;height:6px;border-top:3px transparent solid;border-left:3px transparent solid;border-bottom:3px #fff solid;border-right:3px #fff solid}.action-group .action .selectors[data-v-f5429897]{position:absolute;top:0;left:100%;margin-left:3px;max-height:150px;min-width:200px;border-radius:12px;width:max-content;overflow:hidden;overflow-y:auto;background:rgba(90,90,90,.5);backdrop-filter:blur(8px);z-index:1000}.action-group .action .selectors.left[data-v-f5429897]{left:0;margin-left:-3px;transform:translate(-100%)}.action-group .action .selectors .selector[data-v-f5429897]{max-width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;cursor:pointer;height:42px;line-height:42px;color:#fff;font-size:14px;padding-left:15px;padding-right:50px;transition:background-color .2s ease}.action-group .action .selectors .selector[data-v-f5429897]:hover{background:#67666a}.action-group .action .selectors .selector .active-icon[data-v-f5429897]{position:absolute;right:10px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;top:0}@media screen and (max-width: 1024px) and (min-width: 769px){.action-group[data-v-f5429897]{padding:6px;gap:6px}.action-group .action[data-v-f5429897]{width:60px;height:60px;font-size:28px;border-radius:14px}.action-group .selectors .selector[data-v-f5429897]{height:50px;line-height:50px;font-size:16px;padding-left:18px;padding-right:60px}.action-group .selectors .selector .active-icon[data-v-f5429897]{width:50px;height:50px;right:15px}}@media screen and (max-width: 768px){.action-group[data-v-f5429897]{padding:6px;gap:6px;border-radius:16px}.action-group .action[data-v-f5429897]{width:50px;height:50px;font-size:24px;border-radius:12px}.action-group .selectors .selector[data-v-f5429897]{height:50px;line-height:50px;font-size:16px;padding-left:18px;padding-right:60px}.action-group .selectors .selector .active-icon[data-v-f5429897]{width:50px;height:50px;right:15px}}@media screen and (max-width: 480px){.action-group[data-v-f5429897]{padding:4px;gap:4px;border-radius:12px}.action-group .action[data-v-f5429897]{width:44px;height:44px;font-size:20px;border-radius:10px}.action-group .selectors .selector[data-v-f5429897]{height:44px;line-height:44px;font-size:14px;padding-left:16px;padding-right:50px}.action-group .selectors .selector .active-icon[data-v-f5429897]{width:44px;height:44px;right:12px}}@media screen and (max-width: 360px){.action-group[data-v-f5429897]{padding:3px;gap:3px;border-radius:10px}.action-group .action[data-v-f5429897]{width:40px;height:40px;font-size:18px;border-radius:8px}.action-group .selectors .selector[data-v-f5429897]{height:40px;line-height:40px;font-size:12px;padding-left:14px;padding-right:45px}.action-group .selectors .selector .active-icon[data-v-f5429897]{width:40px;height:40px;right:10px}}.gradio-webrtc-waveContainer[data-v-d7e47480]{position:relative;display:flex;min-height:100px;max-height:128px;justify-content:center;align-items:center}.gradio-webrtc-boxContainer[data-v-d7e47480]{display:flex;justify-content:space-between;height:64px;--boxSize: 4px;--gutter: 4px}.split-container[data-v-d7e47480]{width:80px}.gradio-webrtc-box[data-v-d7e47480]{height:100%;width:var(--boxSize);background:var(--color-accent);border-radius:8px;transition:transform .05s ease}.gradio-webrtc-icon-container[data-v-d7e47480]{position:relative;width:128px;height:128px;display:flex;justify-content:center;align-items:center}.gradio-webrtc-icon[data-v-d7e47480]{position:relative;width:48px;height:48px;border-radius:50%;transition:transform .1s ease;display:flex;justify-content:center;align-items:center;z-index:2}.icon-image[data-v-d7e47480]{width:32px;height:32px;object-fit:contain;filter:brightness(0) invert(1)}.pulse-ring[data-v-d7e47480]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:48px;height:48px;border-radius:50%;animation:pulse-d7e47480 2s cubic-bezier(.4,0,.6,1) infinite;opacity:.5}@keyframes pulse-d7e47480{0%{transform:translate(-50%,-50%) scale(1);opacity:.5}to{transform:translate(-50%,-50%) scale(var(--max-scale, 3));opacity:0}}.dots[data-v-d7e47480]{display:flex;gap:8px;align-items:center;height:64px}.dot[data-v-d7e47480]{width:12px;height:12px;border-radius:50%;opacity:.5;animation:pulse-d7e47480 1.5s infinite}.dot[data-v-d7e47480]:nth-child(2){animation-delay:.2s}.dot[data-v-d7e47480]:nth-child(3){animation-delay:.4s}@keyframes pulse-d7e47480{0%,to{opacity:.4;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}.player-controls[data-v-2b647c0d]{flex:0 0 auto;position:relative;display:flex;justify-content:center;align-items:center;min-height:100px;max-height:140px;margin:16px auto;padding:0 16px}@media (max-width: 1024px) and (min-width: 769px){.player-controls[data-v-2b647c0d]{min-height:95px;max-height:130px;margin:14px auto;padding:0 14px}}@media (max-width: 768px){.player-controls[data-v-2b647c0d]{min-height:90px;max-height:120px;margin:12px auto;padding:0 12px}}@media (max-width: 480px){.player-controls[data-v-2b647c0d]{min-height:85px;max-height:110px;margin:10px auto;padding:0 10px}}@media (max-width: 360px){.player-controls[data-v-2b647c0d]{min-height:80px;max-height:100px;margin:8px auto;padding:0 8px}}.player-controls .chat-btn[data-v-2b647c0d]{height:64px;width:296px;display:flex;justify-content:center;align-items:center;border-radius:999px;opacity:1;background:linear-gradient(180deg,#7873f6,#524de1);transition:all .3s;z-index:2;cursor:pointer}@media (max-width: 1024px) and (min-width: 769px){.player-controls .chat-btn[data-v-2b647c0d]{height:60px;width:280px}}@media (max-width: 768px){.player-controls .chat-btn[data-v-2b647c0d]{height:56px;width:260px}}@media (max-width: 480px){.player-controls .chat-btn[data-v-2b647c0d]{height:52px;width:240px}}@media (max-width: 360px){.player-controls .chat-btn[data-v-2b647c0d]{height:48px;width:220px}}.player-controls .start-chat[data-v-2b647c0d]{font-size:16px;font-weight:500;text-align:center;color:#fff}@media (max-width: 1024px) and (min-width: 769px){.player-controls .start-chat[data-v-2b647c0d]{font-size:15px}}@media (max-width: 768px){.player-controls .start-chat[data-v-2b647c0d]{font-size:14px}}@media (max-width: 480px){.player-controls .start-chat[data-v-2b647c0d]{font-size:13px}}@media (max-width: 360px){.player-controls .start-chat[data-v-2b647c0d]{font-size:12px}}.player-controls .waiting-icon-text[data-v-2b647c0d]{width:80px;align-items:center;font-size:16px;font-weight:500;color:#fff;margin:0 var(--spacing-sm);display:flex;justify-content:space-evenly;gap:var(--size-1)}@media (max-width: 1024px) and (min-width: 769px){.player-controls .waiting-icon-text[data-v-2b647c0d]{font-size:15px;width:75px}}@media (max-width: 768px){.player-controls .waiting-icon-text[data-v-2b647c0d]{font-size:14px;width:70px}}@media (max-width: 480px){.player-controls .waiting-icon-text[data-v-2b647c0d]{font-size:13px;width:65px}}@media (max-width: 360px){.player-controls .waiting-icon-text[data-v-2b647c0d]{font-size:12px;width:60px}}.player-controls .waiting-icon-text .icon[data-v-2b647c0d]{width:25px;height:25px;fill:#fff;stroke:#fff;color:#fff}@media (max-width: 1024px) and (min-width: 769px){.player-controls .waiting-icon-text .icon[data-v-2b647c0d]{width:23px;height:23px}}@media (max-width: 768px){.player-controls .waiting-icon-text .icon[data-v-2b647c0d]{width:21px;height:21px}}@media (max-width: 480px){.player-controls .waiting-icon-text .icon[data-v-2b647c0d]{width:19px;height:19px}}@media (max-width: 360px){.player-controls .waiting-icon-text .icon[data-v-2b647c0d]{width:17px;height:17px}}.player-controls .waiting-icon-text .spin-icon[data-v-2b647c0d]{color:#fff}.ant-spin-dot-item{background-color:#fff!important}.player-controls .stop-chat[data-v-2b647c0d]{width:64px}@media (max-width: 1024px) and (min-width: 769px){.player-controls .stop-chat[data-v-2b647c0d]{width:60px}}@media (max-width: 768px){.player-controls .stop-chat[data-v-2b647c0d]{width:56px}}@media (max-width: 480px){.player-controls .stop-chat[data-v-2b647c0d]{width:52px}}@media (max-width: 360px){.player-controls .stop-chat[data-v-2b647c0d]{width:48px}}.player-controls .stop-chat .stop-chat-inner[data-v-2b647c0d]{width:25px;height:25px;border-radius:6.25px;background:#fafafa}@media (max-width: 1024px) and (min-width: 769px){.player-controls .stop-chat .stop-chat-inner[data-v-2b647c0d]{width:23px;height:23px;border-radius:5.75px}}@media (max-width: 768px){.player-controls .stop-chat .stop-chat-inner[data-v-2b647c0d]{width:21px;height:21px;border-radius:5.25px}}@media (max-width: 480px){.player-controls .stop-chat .stop-chat-inner[data-v-2b647c0d]{width:19px;height:19px;border-radius:4.75px}}@media (max-width: 360px){.player-controls .stop-chat .stop-chat-inner[data-v-2b647c0d]{width:17px;height:17px;border-radius:4.25px}}.player-controls .input-audio-wave[data-v-2b647c0d]{position:absolute}.chat-input-container[data-v-eeb6eebe]{flex:0 0 auto;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100px;max-height:140px;width:90%;max-width:500px;margin:16px auto;padding:0 16px}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container[data-v-eeb6eebe]{min-height:95px;max-height:130px;width:92%;max-width:480px;margin:14px auto;padding:0 14px}}@media (max-width: 768px){.chat-input-container[data-v-eeb6eebe]{min-height:90px;max-height:120px;width:95%;max-width:460px;margin:12px auto;padding:0 12px}}@media (max-width: 480px){.chat-input-container[data-v-eeb6eebe]{min-height:85px;max-height:110px;width:98%;max-width:440px;margin:10px auto;padding:0 10px}}@media (max-width: 360px){.chat-input-container[data-v-eeb6eebe]{min-height:80px;max-height:100px;width:100%;max-width:420px;margin:8px auto;padding:0 8px}}.chat-input-container .chat-input-main[data-v-eeb6eebe]{display:flex;align-items:center;gap:12px;width:100%}@media (max-width: 768px){.chat-input-container .chat-input-main[data-v-eeb6eebe]{gap:10px}}@media (max-width: 480px){.chat-input-container .chat-input-main[data-v-eeb6eebe]{gap:8px}}.chat-input-container .chat-input-inner[data-v-eeb6eebe]{padding:0 12px;background-color:#fff;height:44px;flex:1;display:flex;align-items:center;border:1px solid #e8eaf2;border-radius:22px;box-shadow:0 4px 12px -4px rgba(54,54,73,.04),0 4px 16px rgba(51,51,71,.08),0 0 1px rgba(44,44,54,.02);transition:all .2s ease}.chat-input-container .chat-input-inner[data-v-eeb6eebe]:focus-within{border-color:#7873f6;box-shadow:0 4px 12px -4px rgba(120,115,246,.1),0 4px 16px rgba(120,115,246,.15),0 0 1px rgba(120,115,246,.2)}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container .chat-input-inner[data-v-eeb6eebe]{height:40px;border-radius:20px;padding:0 10px}}@media (max-width: 768px){.chat-input-container .chat-input-inner[data-v-eeb6eebe]{height:36px;border-radius:18px;padding:0 10px}}@media (max-width: 480px){.chat-input-container .chat-input-inner[data-v-eeb6eebe]{height:32px;border-radius:16px;padding:0 8px}}@media (max-width: 360px){.chat-input-container .chat-input-inner[data-v-eeb6eebe]{height:28px;border-radius:14px;padding:0 8px}}.chat-input-container .chat-input-inner .chat-input-wrapper[data-v-eeb6eebe]{flex:1;position:relative;display:flex;align-items:center}.chat-input-container .chat-input-inner .chat-input-wrapper .chat-input[data-v-eeb6eebe]{width:100%;border:none;outline:none;color:#26244c;font-size:13px;font-weight:400;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;resize:none;padding:0;margin:6px 0;line-height:1.5;max-height:32px;min-height:20px}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container .chat-input-inner .chat-input-wrapper .chat-input[data-v-eeb6eebe]{font-size:13px;line-height:1.5;margin:5px 0}}@media (max-width: 768px){.chat-input-container .chat-input-inner .chat-input-wrapper .chat-input[data-v-eeb6eebe]{font-size:14px;line-height:1.5;margin:4px 0}}@media (max-width: 480px){.chat-input-container .chat-input-inner .chat-input-wrapper .chat-input[data-v-eeb6eebe]{font-size:14px;line-height:1.5;margin:3px 0}}@media (max-width: 360px){.chat-input-container .chat-input-inner .chat-input-wrapper .chat-input[data-v-eeb6eebe]{font-size:13px;line-height:1.4;margin:3px 0}}.chat-input-container .chat-input-inner .chat-input-wrapper .rowsDiv[data-v-eeb6eebe]{position:absolute;left:0;right:0;z-index:-1;visibility:hidden;font-size:13px;font-weight:400;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe],.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]{border:none;flex:0 0 auto;background:#615ced;border-radius:18px;height:28px;width:28px;display:flex;align-items:center;justify-content:center;margin-left:8px;cursor:pointer;transition:all .2s ease}.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe]:hover,.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]:hover{background:#524de1;transform:scale(1.05);box-shadow:0 4px 12px rgba(97,92,237,.3)}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe],.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]{height:24px;width:24px;border-radius:12px;margin-left:6px}}@media (max-width: 768px){.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe],.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]{height:22px;width:22px;border-radius:11px;margin-left:6px}}@media (max-width: 480px){.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe],.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]{height:20px;width:20px;border-radius:10px;margin-left:4px}}@media (max-width: 360px){.chat-input-container .chat-input-inner .send-btn[data-v-eeb6eebe],.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]{height:18px;width:18px;border-radius:9px;margin-left:4px}}.chat-input-container .chat-input-inner .interrupt-btn[data-v-eeb6eebe]:after{content:" ";width:12px;height:12px;border-radius:2px;background:#fafafa}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]{cursor:pointer;height:44px;width:44px;display:flex;justify-content:center;align-items:center;border-radius:22px;opacity:1;background:linear-gradient(180deg,#7873f6,#524de1);transition:all .2s ease;flex-shrink:0}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:hover{transform:scale(1.05);box-shadow:0 4px 12px rgba(120,115,246,.3)}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:after{content:" ";width:16px;height:16px;border-radius:3px;background:#fafafa}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container .stop-chat-btn[data-v-eeb6eebe]{height:40px;width:40px;border-radius:20px}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:after{width:14px;height:14px;border-radius:2.5px}}@media (max-width: 768px){.chat-input-container .stop-chat-btn[data-v-eeb6eebe]{height:36px;width:36px;border-radius:18px}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:after{width:12px;height:12px;border-radius:2px}}@media (max-width: 480px){.chat-input-container .stop-chat-btn[data-v-eeb6eebe]{height:32px;width:32px;border-radius:16px}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:after{width:10px;height:10px;border-radius:1.5px}}@media (max-width: 360px){.chat-input-container .stop-chat-btn[data-v-eeb6eebe]{height:28px;width:28px;border-radius:14px}.chat-input-container .stop-chat-btn[data-v-eeb6eebe]:after{width:8px;height:8px;border-radius:1px}}.chat-input-container .ai-generate-hint[data-v-eeb6eebe]{margin-top:6px;font-size:11px;font-weight:400;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;color:#8e8ea0;text-align:center;opacity:.7;line-height:1.4}@media (max-width: 1024px) and (min-width: 769px){.chat-input-container .ai-generate-hint[data-v-eeb6eebe]{font-size:11px;margin-top:5px}}@media (max-width: 768px){.chat-input-container .ai-generate-hint[data-v-eeb6eebe]{font-size:12px;margin-top:4px}}@media (max-width: 480px){.chat-input-container .ai-generate-hint[data-v-eeb6eebe]{font-size:11px;margin-top:3px}}@media (max-width: 360px){.chat-input-container .ai-generate-hint[data-v-eeb6eebe]{font-size:10px;margin-top:2px}}.answer-message-container[data-v-57261938]{padding:8px 12px;background:rgba(255,255,255,.9);border-radius:12px;color:#26244c;font-size:13px;font-weight:400;line-height:1.5;word-wrap:break-word;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif}.answer-message-container.human[data-v-57261938]{background:rgba(221,221,221,.8);margin-right:0}.answer-message-container.avatar[data-v-57261938]{background:#7873f6;color:#fff}@media screen and (max-width: 1024px) and (min-width: 769px){.answer-message-container[data-v-57261938]{padding:10px 14px;font-size:13px;border-radius:14px}}@media screen and (max-width: 768px){.answer-message-container[data-v-57261938]{padding:8px 10px;font-size:13px;line-height:1.4;border-radius:10px}}@media screen and (max-width: 480px){.answer-message-container[data-v-57261938]{padding:8px 10px;font-size:12px;line-height:1.4;border-radius:8px}}@media screen and (max-width: 360px){.answer-message-container[data-v-57261938]{padding:6px 8px;font-size:11px;line-height:1.3;border-radius:6px}}.chat-records{width:100%;height:100%;overflow-y:auto}.chat-records::-webkit-scrollbar{display:none}.chat-records-inner{display:flex;flex-direction:column;align-items:flex-end;justify-content:end;width:100%;height:auto;min-height:100%;padding:8px 0}.chat-records-inner .chat-message{margin-bottom:12px;max-width:80%}.chat-records-inner .chat-message.human{align-self:flex-end}.chat-records-inner .chat-message.avatar{align-self:flex-start}.chat-records-inner .chat-message:last-child{margin-bottom:0}@media screen and (max-width: 1024px) and (min-width: 769px){.chat-records-inner{padding:10px 0}.chat-records-inner .chat-message{margin-bottom:14px;max-width:85%}}@media screen and (max-width: 768px){.chat-records-inner{padding:8px 0}.chat-records-inner .chat-message{margin-bottom:10px;max-width:90%}}@media screen and (max-width: 480px){.chat-records-inner{padding:6px 0}.chat-records-inner .chat-message{margin-bottom:8px;max-width:95%}}@media screen and (max-width: 360px){.chat-records-inner{padding:4px 0}.chat-records-inner .chat-message{margin-bottom:6px;max-width:98%}}.chat-input-wrapper[data-v-ecb5f62f]{flex:0 0 auto;display:flex;justify-content:center;align-items:center;width:100%;padding:8px 16px 16px;transition:width .1s ease}@media (max-width: 1024px) and (min-width: 769px){.chat-input-wrapper[data-v-ecb5f62f]{padding:6px 14px 14px}}@media (max-width: 768px){.chat-input-wrapper[data-v-ecb5f62f]{padding:4px 12px 12px}}@media (max-width: 480px){.chat-input-wrapper[data-v-ecb5f62f]{padding:4px 10px 10px}}@media (max-width: 360px){.chat-input-wrapper[data-v-ecb5f62f]{padding:2px 8px 8px}}.page-container[data-v-ecb5f62f]{height:100vh;width:100vw;padding:0;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}@media (max-width: 768px){.page-container[data-v-ecb5f62f]{padding:0}}@media (max-width: 480px){.page-container[data-v-ecb5f62f]{padding:0}}.content-container[data-v-ecb5f62f]{height:100%;width:100%;max-width:100%;display:flex;flex-direction:column;position:relative}.video-container[data-v-ecb5f62f]{position:relative;width:100%;flex:1;min-height:0;margin:0}@media (max-width: 768px){.video-container[data-v-ecb5f62f]{min-height:60vh}}@media (max-width: 480px){.video-container[data-v-ecb5f62f]{min-height:55vh}}.video-container .local-video-container[data-v-ecb5f62f]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:32px;overflow:hidden;display:flex;align-items:center;justify-content:center;z-index:1;background:#fff;transition:all .3s ease}.video-container .connection-loading-container[data-v-ecb5f62f]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:32px;overflow:hidden;display:flex;align-items:center;justify-content:center;z-index:2;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);transition:all .3s ease}.video-container .connection-loading-container .loading-content[data-v-ecb5f62f]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.video-container .connection-loading-container .loading-content .loading-spinner[data-v-ecb5f62f]{color:#7873f6}.video-container .connection-loading-container .loading-content .loading-text[data-v-ecb5f62f]{font-size:16px;font-weight:500;color:#666;text-align:center}@media (max-width: 1024px) and (min-width: 769px){.video-container .connection-loading-container .loading-content .loading-text[data-v-ecb5f62f]{font-size:15px}}@media (max-width: 768px){.video-container .connection-loading-container .loading-content .loading-text[data-v-ecb5f62f]{font-size:14px}}@media (max-width: 480px){.video-container .connection-loading-container .loading-content .loading-text[data-v-ecb5f62f]{font-size:13px}}@media (max-width: 360px){.video-container .connection-loading-container .loading-content .loading-text[data-v-ecb5f62f]{font-size:12px}}.video-container .local-video-container.scaled[data-v-ecb5f62f]{position:absolute;top:auto;left:calc(10px + 25% - 18vw);bottom:calc(27.5% + 3px);width:18vw;height:18vw;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.3);border:2px solid rgba(255,255,255,.2);z-index:100;transform:translateY(0);transition:all .3s ease}@media (max-width: 1024px) and (min-width: 769px){.video-container .local-video-container.scaled[data-v-ecb5f62f]{width:20vw;height:20vw;border-radius:14px;border:2px solid rgba(255,255,255,.25);box-shadow:0 3px 10px rgba(0,0,0,.25)}}@media (max-width: 768px){.video-container .local-video-container.scaled[data-v-ecb5f62f]{width:22vw;height:22vw;border-radius:12px;border:1px solid rgba(255,255,255,.3);box-shadow:0 2px 8px rgba(0,0,0,.2)}}@media (max-width: 480px){.video-container .local-video-container.scaled[data-v-ecb5f62f]{width:26vw;height:26vw;border-radius:10px;border:1px solid rgba(255,255,255,.4);box-shadow:0 1px 6px rgba(0,0,0,.15)}}@media (max-width: 360px){.video-container .local-video-container.scaled[data-v-ecb5f62f]{width:30vw;height:30vw;border-radius:8px;border:1px solid rgba(255,255,255,.5);box-shadow:0 1px 4px rgba(0,0,0,.1)}}.video-container .remote-video-container[data-v-ecb5f62f]{width:100%;height:100%;overflow:hidden;border-radius:0;transition:all .3s linear;background:#fff;position:relative}.video-container .chat-records-container[data-v-ecb5f62f]{position:absolute;bottom:0;left:0;right:0;height:27.5%;min-height:132px;max-height:220px;margin:0 16px;overflow:auto;background:linear-gradient(to bottom,rgba(255,255,255,.12),rgba(255,255,255,.08));backdrop-filter:blur(15px);border-radius:16px 16px 0 0;border:1px solid rgba(255,255,255,.1);padding:16px;box-sizing:border-box;z-index:50;-webkit-mask-image:linear-gradient(to bottom,transparent 0%,black 30%);mask-image:linear-gradient(to bottom,transparent 0%,black 30%)}@media (max-width: 1024px) and (min-width: 769px){.video-container .chat-records-container[data-v-ecb5f62f]{height:28%;min-height:140px;max-height:220px;margin:0 14px;padding:14px;border-radius:16px 16px 0 0}}@media (max-width: 768px){.video-container .chat-records-container[data-v-ecb5f62f]{height:30%;min-height:120px;max-height:200px;margin:0 12px;padding:12px;border-radius:14px 14px 0 0}}@media (max-width: 480px){.video-container .chat-records-container[data-v-ecb5f62f]{height:35%;min-height:100px;max-height:180px;margin:0 10px;padding:10px;border-radius:12px 12px 0 0}}@media (max-width: 360px){.video-container .chat-records-container[data-v-ecb5f62f]{height:40%;min-height:90px;max-height:160px;margin:0 8px;padding:8px;border-radius:10px 10px 0 0}}.video-container .local-video[data-v-ecb5f62f]{width:100%;height:100%;object-fit:cover;object-position:center center}.video-container .remote-video[data-v-ecb5f62f]{width:101%;height:100%;object-fit:cover}.video-container .remote-canvas[data-v-ecb5f62f]{width:100%;height:100%}.top-actions[data-v-ecb5f62f]{position:absolute;top:12px;left:50%;transform:translate(-50%);z-index:10;display:flex;justify-content:center;align-items:center}@media screen and (max-width: 1024px) and (min-width: 769px){.top-actions[data-v-ecb5f62f]{top:10px;left:50%;transform:translate(-50%)}}@media screen and (max-width: 768px){.top-actions[data-v-ecb5f62f]{top:8px;left:50%;transform:translate(-50%)}}@media screen and (max-width: 480px){.top-actions[data-v-ecb5f62f]{top:6px;left:50%;transform:translate(-50%);width:auto;max-width:none}}@media screen and (max-width: 360px){.top-actions[data-v-ecb5f62f]{top:4px;left:50%;transform:translate(-50%);width:auto;max-width:none}}.wrap[data-v-7e26f29b]{background-image:url(' +
            new URL('background-vSsKLYpR.png', o.meta.url).href +
            ');height:100vh;width:100vw;background-size:100% 100%;background-repeat:no-repeat;position:relative}.wrap[data-v-7e26f29b] *::-webkit-scrollbar{display:none}\n/*$vite$:1*/'),
            document.head.appendChild(_))
          var A,
            E = {},
            O = [],
            B = function () {},
            V = function () {
              return !1
            },
            W = function (e) {
              return (
                111 === e.charCodeAt(0) &&
                110 === e.charCodeAt(1) &&
                (e.charCodeAt(2) > 122 || e.charCodeAt(2) < 97)
              )
            },
            G = function (e) {
              return e.startsWith('onUpdate:')
            },
            j = Object.assign,
            Q = function (e, t) {
              var n = e.indexOf(t)
              n > -1 && e.splice(n, 1)
            },
            q = Object.prototype.hasOwnProperty,
            X = function (e, t) {
              return q.call(e, t)
            },
            Y = Array.isArray,
            K = function (e) {
              return '[object Map]' === ie(e)
            },
            Z = function (e) {
              return '[object Set]' === ie(e)
            },
            J = function (e) {
              return 'function' == typeof e
            },
            $ = function (e) {
              return 'string' == typeof e
            },
            ee = function (e) {
              return 'symbol' === P(e)
            },
            te = function (e) {
              return null !== e && 'object' === P(e)
            },
            ne = function (e) {
              return (te(e) || J(e)) && J(e.then) && J(e.catch)
            },
            re = Object.prototype.toString,
            ie = function (e) {
              return re.call(e)
            },
            ae = function (e) {
              return '[object Object]' === ie(e)
            },
            oe = function (e) {
              return $(e) && 'NaN' !== e && '-' !== e[0] && '' + parseInt(e, 10) === e
            },
            se = S(
              ',key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted'
            ),
            ue = function (e) {
              var t = Object.create(null)
              return function (n) {
                return t[n] || (t[n] = e(n))
              }
            },
            le = /-\w/g,
            ce = ue(function (e) {
              return e.replace(le, function (e) {
                return e.slice(1).toUpperCase()
              })
            }),
            de = /\B([A-Z])/g,
            he = ue(function (e) {
              return e.replace(de, '-$1').toLowerCase()
            }),
            fe = ue(function (e) {
              return e.charAt(0).toUpperCase() + e.slice(1)
            }),
            pe = ue(function (e) {
              return e ? 'on'.concat(fe(e)) : ''
            }),
            ve = function (e, t) {
              return !Object.is(e, t)
            },
            me = function (e) {
              for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                n[r - 1] = arguments[r]
              for (var i = 0; i < e.length; i++) e[i].apply(e, n)
            },
            ge = function (e, t, n) {
              var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
              Object.defineProperty(e, t, {
                configurable: !0,
                enumerable: !1,
                writable: r,
                value: n,
              })
            },
            ye = function (e) {
              var t = parseFloat(e)
              return isNaN(t) ? e : t
            },
            xe = function () {
              return (
                A ||
                (A =
                  'undefined' != typeof globalThis
                    ? globalThis
                    : 'undefined' != typeof self
                      ? self
                      : 'undefined' != typeof window
                        ? window
                        : 'undefined' != typeof global
                          ? global
                          : {})
              )
            }
          function _e(e) {
            if (Y(e)) {
              for (var t = {}, n = 0; n < e.length; n++) {
                var r = e[n],
                  i = $(r) ? Ae(r) : _e(r)
                if (i) for (var a in i) t[a] = i[a]
              }
              return t
            }
            if ($(e) || te(e)) return e
          }
          var be = /;(?![^(]*\))/g,
            Se = /:([^]+)/,
            we = /\/\*[^]*?\*\//g
          function Ae(e) {
            var t = {}
            return (
              e
                .replace(we, '')
                .split(be)
                .forEach(function (e) {
                  if (e) {
                    var n = e.split(Se)
                    n.length > 1 && (t[n[0].trim()] = n[1].trim())
                  }
                }),
              t
            )
          }
          function Te(e) {
            var t = ''
            if ($(e)) t = e
            else if (Y(e))
              for (var n = 0; n < e.length; n++) {
                var r = Te(e[n])
                r && (t += r + ' ')
              }
            else if (te(e)) for (var i in e) e[i] && (t += i + ' ')
            return t.trim()
          }
          var Me = S('itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly')
          function Ee(e) {
            return !!e || '' === e
          }
          var Ce,
            ke,
            Re = function (e) {
              return !(!e || !0 !== e.__v_isRef)
            },
            Ie = function (e) {
              return $(e)
                ? e
                : null == e
                  ? ''
                  : Y(e) || (te(e) && (e.toString === re || !J(e.toString)))
                    ? Re(e)
                      ? Ie(e.value)
                      : JSON.stringify(e, Ne, 2)
                    : String(e)
            },
            Ne = function (e, t) {
              return Re(t)
                ? Ne(e, t.value)
                : K(t)
                  ? M(
                      {},
                      'Map('.concat(t.size, ')'),
                      I(t.entries()).reduce(function (e, t, n) {
                        var r = C(t, 2),
                          i = r[0],
                          a = r[1]
                        return ((e[Pe(i, n) + ' =>'] = a), e)
                      }, {})
                    )
                  : Z(t)
                    ? M(
                        {},
                        'Set('.concat(t.size, ')'),
                        I(t.values()).map(function (e) {
                          return Pe(e)
                        })
                      )
                    : ee(t)
                      ? Pe(t)
                      : !te(t) || Y(t) || ae(t)
                        ? t
                        : String(t)
            },
            Pe = function (e) {
              var t,
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''
              return ee(e) ? 'Symbol('.concat(null != (t = e.description) ? t : n, ')') : e
            },
            Le = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  ;(w(this, e),
                    (this.detached = t),
                    (this._active = !0),
                    (this._on = 0),
                    (this.effects = []),
                    (this.cleanups = []),
                    (this._isPaused = !1),
                    (this.parent = Ce),
                    !t && Ce && (this.index = (Ce.scopes || (Ce.scopes = [])).push(this) - 1))
                },
                [
                  {
                    key: 'active',
                    get: function () {
                      return this._active
                    },
                  },
                  {
                    key: 'pause',
                    value: function () {
                      if (this._active) {
                        var e, t
                        if (((this._isPaused = !0), this.scopes))
                          for (e = 0, t = this.scopes.length; e < t; e++) this.scopes[e].pause()
                        for (e = 0, t = this.effects.length; e < t; e++) this.effects[e].pause()
                      }
                    },
                  },
                  {
                    key: 'resume',
                    value: function () {
                      if (this._active && this._isPaused) {
                        var e, t
                        if (((this._isPaused = !1), this.scopes))
                          for (e = 0, t = this.scopes.length; e < t; e++) this.scopes[e].resume()
                        for (e = 0, t = this.effects.length; e < t; e++) this.effects[e].resume()
                      }
                    },
                  },
                  {
                    key: 'run',
                    value: function (e) {
                      if (this._active) {
                        var t = Ce
                        try {
                          return ((Ce = this), e())
                        } finally {
                          Ce = t
                        }
                      }
                    },
                  },
                  {
                    key: 'on',
                    value: function () {
                      1 === ++this._on && ((this.prevScope = Ce), (Ce = this))
                    },
                  },
                  {
                    key: 'off',
                    value: function () {
                      this._on > 0 &&
                        0 === --this._on &&
                        ((Ce = this.prevScope), (this.prevScope = void 0))
                    },
                  },
                  {
                    key: 'stop',
                    value: function (e) {
                      if (this._active) {
                        var t, n
                        for (this._active = !1, t = 0, n = this.effects.length; t < n; t++)
                          this.effects[t].stop()
                        for (this.effects.length = 0, t = 0, n = this.cleanups.length; t < n; t++)
                          this.cleanups[t]()
                        if (((this.cleanups.length = 0), this.scopes)) {
                          for (t = 0, n = this.scopes.length; t < n; t++) this.scopes[t].stop(!0)
                          this.scopes.length = 0
                        }
                        if (!this.detached && this.parent && !e) {
                          var r = this.parent.scopes.pop()
                          r &&
                            r !== this &&
                            ((this.parent.scopes[this.index] = r), (r.index = this.index))
                        }
                        this.parent = void 0
                      }
                    },
                  },
                ]
              )
            })()
          function De(e) {
            return new Le(e)
          }
          function Oe() {
            return Ce
          }
          var Fe,
            Be,
            Ue = new WeakSet(),
            ze = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.fn = t),
                    (this.deps = void 0),
                    (this.depsTail = void 0),
                    (this.flags = 5),
                    (this.next = void 0),
                    (this.cleanup = void 0),
                    (this.scheduler = void 0),
                    Ce && Ce.active && Ce.effects.push(this))
                },
                [
                  {
                    key: 'pause',
                    value: function () {
                      this.flags |= 64
                    },
                  },
                  {
                    key: 'resume',
                    value: function () {
                      64 & this.flags &&
                        ((this.flags &= -65), Ue.has(this) && (Ue.delete(this), this.trigger()))
                    },
                  },
                  {
                    key: 'notify',
                    value: function () {
                      ;(2 & this.flags && !(32 & this.flags)) || 8 & this.flags || He(this)
                    },
                  },
                  {
                    key: 'run',
                    value: function () {
                      if (!(1 & this.flags)) return this.fn()
                      ;((this.flags |= 2), tt(this), je(this))
                      var e = ke,
                        t = Ze
                      ;((ke = this), (Ze = !0))
                      try {
                        return this.fn()
                      } finally {
                        ;(Qe(this), (ke = e), (Ze = t), (this.flags &= -3))
                      }
                    },
                  },
                  {
                    key: 'stop',
                    value: function () {
                      if (1 & this.flags) {
                        for (var e = this.deps; e; e = e.nextDep) Ye(e)
                        ;((this.deps = this.depsTail = void 0),
                          tt(this),
                          this.onStop && this.onStop(),
                          (this.flags &= -2))
                      }
                    },
                  },
                  {
                    key: 'trigger',
                    value: function () {
                      64 & this.flags
                        ? Ue.add(this)
                        : this.scheduler
                          ? this.scheduler()
                          : this.runIfDirty()
                    },
                  },
                  {
                    key: 'runIfDirty',
                    value: function () {
                      qe(this) && this.run()
                    },
                  },
                  {
                    key: 'dirty',
                    get: function () {
                      return qe(this)
                    },
                  },
                ]
              )
            })(),
            Ve = 0
          function He(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
            if (((e.flags |= 8), t)) return ((e.next = Be), void (Be = e))
            ;((e.next = Fe), (Fe = e))
          }
          function We() {
            Ve++
          }
          function Ge() {
            if (!(--Ve > 0)) {
              if (Be) {
                var e = Be
                for (Be = void 0; e; ) {
                  var t = e.next
                  ;((e.next = void 0), (e.flags &= -9), (e = t))
                }
              }
              for (var n; Fe; ) {
                var r = Fe
                for (Fe = void 0; r; ) {
                  var i = r.next
                  if (((r.next = void 0), (r.flags &= -9), 1 & r.flags))
                    try {
                      r.trigger()
                    } catch (a) {
                      n || (n = a)
                    }
                  r = i
                }
              }
              if (n) throw n
            }
          }
          function je(e) {
            for (var t = e.deps; t; t = t.nextDep)
              ((t.version = -1), (t.prevActiveLink = t.dep.activeLink), (t.dep.activeLink = t))
          }
          function Qe(e) {
            for (var t, n = e.depsTail, r = n; r; ) {
              var i = r.prevDep
              ;(-1 === r.version ? (r === n && (n = i), Ye(r), Ke(r)) : (t = r),
                (r.dep.activeLink = r.prevActiveLink),
                (r.prevActiveLink = void 0),
                (r = i))
            }
            ;((e.deps = t), (e.depsTail = n))
          }
          function qe(e) {
            for (var t = e.deps; t; t = t.nextDep)
              if (
                t.dep.version !== t.version ||
                (t.dep.computed && (Xe(t.dep.computed) || t.dep.version !== t.version))
              )
                return !0
            return !!e._dirty
          }
          function Xe(e) {
            if (
              (!(4 & e.flags) || 16 & e.flags) &&
              ((e.flags &= -17),
              e.globalVersion !== nt &&
                ((e.globalVersion = nt),
                e.isSSR || !(128 & e.flags) || ((e.deps || e._dirty) && qe(e))))
            ) {
              e.flags |= 2
              var t = e.dep,
                n = ke,
                r = Ze
              ;((ke = e), (Ze = !0))
              try {
                je(e)
                var i = e.fn(e._value)
                ;(0 === t.version || ve(i, e._value)) &&
                  ((e.flags |= 128), (e._value = i), t.version++)
              } catch (a) {
                throw (t.version++, a)
              } finally {
                ;((ke = n), (Ze = r), Qe(e), (e.flags &= -3))
              }
            }
          }
          function Ye(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              n = e.dep,
              r = e.prevSub,
              i = e.nextSub
            if (
              (r && ((r.nextSub = i), (e.prevSub = void 0)),
              i && ((i.prevSub = r), (e.nextSub = void 0)),
              n.subs === e && ((n.subs = r), !r && n.computed))
            ) {
              n.computed.flags &= -5
              for (var a = n.computed.deps; a; a = a.nextDep) Ye(a, !0)
            }
            t || --n.sc || !n.map || n.map.delete(n.key)
          }
          function Ke(e) {
            var t = e.prevDep,
              n = e.nextDep
            ;(t && ((t.nextDep = n), (e.prevDep = void 0)),
              n && ((n.prevDep = t), (e.nextDep = void 0)))
          }
          var Ze = !0,
            Je = []
          function $e() {
            ;(Je.push(Ze), (Ze = !1))
          }
          function et() {
            var e = Je.pop()
            Ze = void 0 === e || e
          }
          function tt(e) {
            var t = e.cleanup
            if (((e.cleanup = void 0), t)) {
              var n = ke
              ke = void 0
              try {
                t()
              } finally {
                ke = n
              }
            }
          }
          var nt = 0,
            rt = T(function e(t, n) {
              ;(w(this, e),
                (this.sub = t),
                (this.dep = n),
                (this.version = n.version),
                (this.nextDep =
                  this.prevDep =
                  this.nextSub =
                  this.prevSub =
                  this.prevActiveLink =
                    void 0))
            }),
            it = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.computed = t),
                    (this.version = 0),
                    (this.activeLink = void 0),
                    (this.subs = void 0),
                    (this.map = void 0),
                    (this.key = void 0),
                    (this.sc = 0),
                    (this.__v_skip = !0))
                },
                [
                  {
                    key: 'track',
                    value: function (e) {
                      if (ke && Ze && ke !== this.computed) {
                        var t = this.activeLink
                        if (void 0 === t || t.sub !== ke)
                          ((t = this.activeLink = new rt(ke, this)),
                            ke.deps
                              ? ((t.prevDep = ke.depsTail),
                                (ke.depsTail.nextDep = t),
                                (ke.depsTail = t))
                              : (ke.deps = ke.depsTail = t),
                            at(t))
                        else if (-1 === t.version && ((t.version = this.version), t.nextDep)) {
                          var n = t.nextDep
                          ;((n.prevDep = t.prevDep),
                            t.prevDep && (t.prevDep.nextDep = n),
                            (t.prevDep = ke.depsTail),
                            (t.nextDep = void 0),
                            (ke.depsTail.nextDep = t),
                            (ke.depsTail = t),
                            ke.deps === t && (ke.deps = n))
                        }
                        return t
                      }
                    },
                  },
                  {
                    key: 'trigger',
                    value: function (e) {
                      ;(this.version++, nt++, this.notify(e))
                    },
                  },
                  {
                    key: 'notify',
                    value: function (e) {
                      We()
                      try {
                        0
                        for (var t = this.subs; t; t = t.prevSub)
                          t.sub.notify() && t.sub.dep.notify()
                      } finally {
                        Ge()
                      }
                    },
                  },
                ]
              )
            })()
          function at(e) {
            if ((e.dep.sc++, 4 & e.sub.flags)) {
              var t = e.dep.computed
              if (t && !e.dep.subs) {
                t.flags |= 20
                for (var n = t.deps; n; n = n.nextDep) at(n)
              }
              var r = e.dep.subs
              ;(r !== e && ((e.prevSub = r), r && (r.nextSub = e)), (e.dep.subs = e))
            }
          }
          var ot = new WeakMap(),
            st = Symbol(''),
            ut = Symbol(''),
            lt = Symbol('')
          function ct(e, t, n) {
            if (Ze && ke) {
              var r = ot.get(e)
              r || ot.set(e, (r = new Map()))
              var i = r.get(n)
              ;(i || (r.set(n, (i = new it())), (i.map = r), (i.key = n)), i.track())
            }
          }
          function dt(e, t, n, r, i, a) {
            var o = ot.get(e)
            if (o) {
              var s = function (e) {
                e && e.trigger()
              }
              if ((We(), 'clear' === t)) o.forEach(s)
              else {
                var u = Y(e),
                  l = u && oe(n)
                if (u && 'length' === n) {
                  var c = Number(r)
                  o.forEach(function (e, t) {
                    ;('length' === t || t === lt || (!ee(t) && t >= c)) && s(e)
                  })
                } else
                  switch (((void 0 !== n || o.has(void 0)) && s(o.get(n)), l && s(o.get(lt)), t)) {
                    case 'add':
                      u ? l && s(o.get('length')) : (s(o.get(st)), K(e) && s(o.get(ut)))
                      break
                    case 'delete':
                      u || (s(o.get(st)), K(e) && s(o.get(ut)))
                      break
                    case 'set':
                      K(e) && s(o.get(st))
                  }
              }
              Ge()
            } else nt++
          }
          function ht(e) {
            var t = Kt(e)
            return t === e ? t : (ct(t, 0, lt), Xt(e) ? t : t.map(Jt))
          }
          function ft(e) {
            return (ct((e = Kt(e)), 0, lt), e)
          }
          var pt =
            (M(
              M(
                M(
                  M(
                    M(
                      M(
                        M(
                          M(
                            M(
                              M((r = { __proto__: null }), Symbol.iterator, function () {
                                return vt(this, Symbol.iterator, Jt)
                              }),
                              'concat',
                              function () {
                                for (
                                  var e, t = arguments.length, n = new Array(t), r = 0;
                                  r < t;
                                  r++
                                )
                                  n[r] = arguments[r]
                                return (e = ht(this)).concat.apply(
                                  e,
                                  I(
                                    n.map(function (e) {
                                      return Y(e) ? ht(e) : e
                                    })
                                  )
                                )
                              }
                            ),
                            'entries',
                            function () {
                              return vt(this, 'entries', function (e) {
                                return ((e[1] = Jt(e[1])), e)
                              })
                            }
                          ),
                          'every',
                          function (e, t) {
                            return gt(this, 'every', e, t, void 0, arguments)
                          }
                        ),
                        'filter',
                        function (e, t) {
                          return gt(
                            this,
                            'filter',
                            e,
                            t,
                            function (e) {
                              return e.map(Jt)
                            },
                            arguments
                          )
                        }
                      ),
                      'find',
                      function (e, t) {
                        return gt(this, 'find', e, t, Jt, arguments)
                      }
                    ),
                    'findIndex',
                    function (e, t) {
                      return gt(this, 'findIndex', e, t, void 0, arguments)
                    }
                  ),
                  'findLast',
                  function (e, t) {
                    return gt(this, 'findLast', e, t, Jt, arguments)
                  }
                ),
                'findLastIndex',
                function (e, t) {
                  return gt(this, 'findLastIndex', e, t, void 0, arguments)
                }
              ),
              'forEach',
              function (e, t) {
                return gt(this, 'forEach', e, t, void 0, arguments)
              }
            ),
            M(
              M(
                M(
                  M(
                    M(
                      M(
                        M(
                          M(
                            M(
                              M(r, 'includes', function () {
                                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                  t[n] = arguments[n]
                                return xt(this, 'includes', t)
                              }),
                              'indexOf',
                              function () {
                                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                                  t[n] = arguments[n]
                                return xt(this, 'indexOf', t)
                              }
                            ),
                            'join',
                            function (e) {
                              return ht(this).join(e)
                            }
                          ),
                          'lastIndexOf',
                          function () {
                            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                              t[n] = arguments[n]
                            return xt(this, 'lastIndexOf', t)
                          }
                        ),
                        'map',
                        function (e, t) {
                          return gt(this, 'map', e, t, void 0, arguments)
                        }
                      ),
                      'pop',
                      function () {
                        return _t(this, 'pop')
                      }
                    ),
                    'push',
                    function () {
                      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                        t[n] = arguments[n]
                      return _t(this, 'push', t)
                    }
                  ),
                  'reduce',
                  function (e) {
                    for (
                      var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1;
                      r < t;
                      r++
                    )
                      n[r - 1] = arguments[r]
                    return yt(this, 'reduce', e, n)
                  }
                ),
                'reduceRight',
                function (e) {
                  for (
                    var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1;
                    r < t;
                    r++
                  )
                    n[r - 1] = arguments[r]
                  return yt(this, 'reduceRight', e, n)
                }
              ),
              'shift',
              function () {
                return _t(this, 'shift')
              }
            ),
            M(
              M(
                M(
                  M(
                    M(
                      M(
                        M(r, 'some', function (e, t) {
                          return gt(this, 'some', e, t, void 0, arguments)
                        }),
                        'splice',
                        function () {
                          for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n]
                          return _t(this, 'splice', t)
                        }
                      ),
                      'toReversed',
                      function () {
                        return ht(this).toReversed()
                      }
                    ),
                    'toSorted',
                    function (e) {
                      return ht(this).toSorted(e)
                    }
                  ),
                  'toSpliced',
                  function () {
                    var e
                    return (e = ht(this)).toSpliced.apply(e, arguments)
                  }
                ),
                'unshift',
                function () {
                  for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                    t[n] = arguments[n]
                  return _t(this, 'unshift', t)
                }
              ),
              'values',
              function () {
                return vt(this, 'values', Jt)
              }
            ))
          function vt(e, t, n) {
            var r = ft(e),
              i = r[t]()
            return (
              r === e ||
                Xt(e) ||
                ((i._next = i.next),
                (i.next = function () {
                  var e = i._next()
                  return (e.value && (e.value = n(e.value)), e)
                })),
              i
            )
          }
          var mt = Array.prototype
          function gt(e, t, n, r, i, a) {
            var o = ft(e),
              s = o !== e && !Xt(e),
              u = o[t]
            if (u !== mt[t]) {
              var l = u.apply(e, a)
              return s ? Jt(l) : l
            }
            var c = n
            o !== e &&
              (s
                ? (c = function (t, r) {
                    return n.call(this, Jt(t), r, e)
                  })
                : n.length > 2 &&
                  (c = function (t, r) {
                    return n.call(this, t, r, e)
                  }))
            var d = u.call(o, c, r)
            return s && i ? i(d) : d
          }
          function yt(e, t, n, r) {
            var i = ft(e),
              a = n
            return (
              i !== e &&
                (Xt(e)
                  ? n.length > 3 &&
                    (a = function (t, r, i) {
                      return n.call(this, t, r, i, e)
                    })
                  : (a = function (t, r, i) {
                      return n.call(this, t, Jt(r), i, e)
                    })),
              i[t].apply(i, [a].concat(I(r)))
            )
          }
          function xt(e, t, n) {
            var r = Kt(e)
            ct(r, 0, lt)
            var i = r[t].apply(r, I(n))
            return (-1 !== i && !1 !== i) || !Yt(n[0])
              ? i
              : ((n[0] = Kt(n[0])), r[t].apply(r, I(n)))
          }
          function _t(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
            ;($e(), We())
            var r = Kt(e)[t].apply(e, n)
            return (Ge(), et(), r)
          }
          var bt = S('__proto__,__v_isRef,__isVue'),
            St = new Set(
              Object.getOwnPropertyNames(Symbol)
                .filter(function (e) {
                  return 'arguments' !== e && 'caller' !== e
                })
                .map(function (e) {
                  return Symbol[e]
                })
                .filter(ee)
            )
          function wt(e) {
            ee(e) || (e = String(e))
            var t = Kt(this)
            return (ct(t, 0, e), t.hasOwnProperty(e))
          }
          var At = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                    n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  ;(w(this, e), (this._isReadonly = t), (this._isShallow = n))
                },
                [
                  {
                    key: 'get',
                    value: function (e, t, n) {
                      if ('__v_skip' === t) return e.__v_skip
                      var r = this._isReadonly,
                        i = this._isShallow
                      if ('__v_isReactive' === t) return !r
                      if ('__v_isReadonly' === t) return r
                      if ('__v_isShallow' === t) return i
                      if ('__v_raw' === t)
                        return n === (r ? (i ? Vt : zt) : i ? Ut : Bt).get(e) ||
                          Object.getPrototypeOf(e) === Object.getPrototypeOf(n)
                          ? e
                          : void 0
                      var a = Y(e)
                      if (!r) {
                        var o
                        if (a && (o = pt[t])) return o
                        if ('hasOwnProperty' === t) return wt
                      }
                      var s = Reflect.get(e, t, en(e) ? e : n)
                      return (ee(t) ? St.has(t) : bt(t))
                        ? s
                        : (r || ct(e, 0, t),
                          i
                            ? s
                            : en(s)
                              ? a && oe(t)
                                ? s
                                : s.value
                              : te(s)
                                ? r
                                  ? Gt(s)
                                  : Wt(s)
                                : s)
                    },
                  },
                ]
              )
            })(),
            Tt = (function (e) {
              function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                return (w(this, t), y(this, t, [!1, e]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'set',
                    value: function (e, t, n, r) {
                      var i = e[t]
                      if (!this._isShallow) {
                        var a = qt(i)
                        if (
                          (Xt(n) || qt(n) || ((i = Kt(i)), (n = Kt(n))), !Y(e) && en(i) && !en(n))
                        )
                          return (a || (i.value = n), !0)
                      }
                      var o = Y(e) && oe(t) ? Number(t) < e.length : X(e, t),
                        s = Reflect.set(e, t, n, en(e) ? e : r)
                      return (
                        e === Kt(r) && (o ? ve(n, i) && dt(e, 'set', t, n) : dt(e, 'add', t, n)),
                        s
                      )
                    },
                  },
                  {
                    key: 'deleteProperty',
                    value: function (e, t) {
                      var n = X(e, t)
                      e[t]
                      var r = Reflect.deleteProperty(e, t)
                      return (r && n && dt(e, 'delete', t, void 0), r)
                    },
                  },
                  {
                    key: 'has',
                    value: function (e, t) {
                      var n = Reflect.has(e, t)
                      return ((ee(t) && St.has(t)) || ct(e, 0, t), n)
                    },
                  },
                  {
                    key: 'ownKeys',
                    value: function (e) {
                      return (ct(e, 0, Y(e) ? 'length' : st), Reflect.ownKeys(e))
                    },
                  },
                ])
              )
            })(At),
            Mt = (function (e) {
              function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                return (w(this, t), y(this, t, [!0, e]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'set',
                    value: function (e, t) {
                      return !0
                    },
                  },
                  {
                    key: 'deleteProperty',
                    value: function (e, t) {
                      return !0
                    },
                  },
                ])
              )
            })(At),
            Et = new Tt(),
            Ct = new Mt(),
            kt = new Tt(!0),
            Rt = function (e) {
              return e
            },
            It = function (e) {
              return Reflect.getPrototypeOf(e)
            }
          function Nt(e) {
            return function () {
              return 'delete' !== e && ('clear' === e ? void 0 : this)
            }
          }
          function Pt(e, t) {
            var n = {
              get: function (n) {
                var r = this.__v_raw,
                  i = Kt(r),
                  a = Kt(n)
                e || (ve(n, a) && ct(i, 0, n), ct(i, 0, a))
                var o = It(i).has,
                  s = t ? Rt : e ? $t : Jt
                return o.call(i, n)
                  ? s(r.get(n))
                  : o.call(i, a)
                    ? s(r.get(a))
                    : void (r !== i && r.get(n))
              },
              get size() {
                var t = this.__v_raw
                return (!e && ct(Kt(t), 0, st), t.size)
              },
              has: function (t) {
                var n = this.__v_raw,
                  r = Kt(n),
                  i = Kt(t)
                return (
                  e || (ve(t, i) && ct(r, 0, t), ct(r, 0, i)),
                  t === i ? n.has(t) : n.has(t) || n.has(i)
                )
              },
              forEach: function (n, r) {
                var i = this,
                  a = i.__v_raw,
                  o = Kt(a),
                  s = t ? Rt : e ? $t : Jt
                return (
                  !e && ct(o, 0, st),
                  a.forEach(function (e, t) {
                    return n.call(r, s(e), s(t), i)
                  })
                )
              },
            }
            return (
              j(
                n,
                e
                  ? { add: Nt('add'), set: Nt('set'), delete: Nt('delete'), clear: Nt('clear') }
                  : {
                      add: function (e) {
                        t || Xt(e) || qt(e) || (e = Kt(e))
                        var n = Kt(this)
                        return (It(n).has.call(n, e) || (n.add(e), dt(n, 'add', e, e)), this)
                      },
                      set: function (e, n) {
                        t || Xt(n) || qt(n) || (n = Kt(n))
                        var r = Kt(this),
                          i = It(r),
                          a = i.has,
                          o = i.get,
                          s = a.call(r, e)
                        s || ((e = Kt(e)), (s = a.call(r, e)))
                        var u = o.call(r, e)
                        return (
                          r.set(e, n),
                          s ? ve(n, u) && dt(r, 'set', e, n) : dt(r, 'add', e, n),
                          this
                        )
                      },
                      delete: function (e) {
                        var t = Kt(this),
                          n = It(t),
                          r = n.has,
                          i = n.get,
                          a = r.call(t, e)
                        ;(a || ((e = Kt(e)), (a = r.call(t, e))), i && i.call(t, e))
                        var o = t.delete(e)
                        return (a && dt(t, 'delete', e, void 0), o)
                      },
                      clear: function () {
                        var e = Kt(this),
                          t = 0 !== e.size,
                          n = e.clear()
                        return (t && dt(e, 'clear', void 0, void 0), n)
                      },
                    }
              ),
              ['keys', 'values', 'entries', Symbol.iterator].forEach(function (r) {
                n[r] = (function (e, t, n) {
                  return function () {
                    var r = this.__v_raw,
                      i = Kt(r),
                      a = K(i),
                      o = 'entries' === e || (e === Symbol.iterator && a),
                      s = 'keys' === e && a,
                      u = r[e].apply(r, arguments),
                      l = n ? Rt : t ? $t : Jt
                    return (
                      !t && ct(i, 0, s ? ut : st),
                      M(
                        {
                          next: function () {
                            var e = u.next(),
                              t = e.value,
                              n = e.done
                            return n
                              ? { value: t, done: n }
                              : { value: o ? [l(t[0]), l(t[1])] : l(t), done: n }
                          },
                        },
                        Symbol.iterator,
                        function () {
                          return this
                        }
                      )
                    )
                  }
                })(r, e, t)
              }),
              n
            )
          }
          function Lt(e, t) {
            var n = Pt(e, t)
            return function (t, r, i) {
              return '__v_isReactive' === r
                ? !e
                : '__v_isReadonly' === r
                  ? e
                  : '__v_raw' === r
                    ? t
                    : Reflect.get(X(n, r) && r in t ? n : t, r, i)
            }
          }
          var Dt = { get: Lt(!1, !1) },
            Ot = { get: Lt(!1, !0) },
            Ft = { get: Lt(!0, !1) },
            Bt = new WeakMap(),
            Ut = new WeakMap(),
            zt = new WeakMap(),
            Vt = new WeakMap()
          function Ht(e) {
            return e.__v_skip || !Object.isExtensible(e)
              ? 0
              : (function (e) {
                  switch (e) {
                    case 'Object':
                    case 'Array':
                      return 1
                    case 'Map':
                    case 'Set':
                    case 'WeakMap':
                    case 'WeakSet':
                      return 2
                    default:
                      return 0
                  }
                })(
                  (function (e) {
                    return ie(e).slice(8, -1)
                  })(e)
                )
          }
          function Wt(e) {
            return qt(e) ? e : jt(e, !1, Et, Dt, Bt)
          }
          function Gt(e) {
            return jt(e, !0, Ct, Ft, zt)
          }
          function jt(e, t, n, r, i) {
            if (!te(e)) return e
            if (e.__v_raw && (!t || !e.__v_isReactive)) return e
            var a = Ht(e)
            if (0 === a) return e
            var o = i.get(e)
            if (o) return o
            var s = new Proxy(e, 2 === a ? r : n)
            return (i.set(e, s), s)
          }
          function Qt(e) {
            return qt(e) ? Qt(e.__v_raw) : !(!e || !e.__v_isReactive)
          }
          function qt(e) {
            return !(!e || !e.__v_isReadonly)
          }
          function Xt(e) {
            return !(!e || !e.__v_isShallow)
          }
          function Yt(e) {
            return !!e && !!e.__v_raw
          }
          function Kt(e) {
            var t = e && e.__v_raw
            return t ? Kt(t) : e
          }
          function Zt(e) {
            return (!X(e, '__v_skip') && Object.isExtensible(e) && ge(e, '__v_skip', !0), e)
          }
          var Jt = function (e) {
              return te(e) ? Wt(e) : e
            },
            $t = function (e) {
              return te(e) ? Gt(e) : e
            }
          function en(e) {
            return !!e && !0 === e.__v_isRef
          }
          function tn(e) {
            return rn(e, !1)
          }
          function nn(e) {
            return rn(e, !0)
          }
          function rn(e, t) {
            return en(e) ? e : new an(e, t)
          }
          var an = (function () {
            return T(
              function e(t, n) {
                ;(w(this, e),
                  (this.dep = new it()),
                  (this.__v_isRef = !0),
                  (this.__v_isShallow = !1),
                  (this._rawValue = n ? t : Kt(t)),
                  (this._value = n ? t : Jt(t)),
                  (this.__v_isShallow = n))
              },
              [
                {
                  key: 'value',
                  get: function () {
                    return (this.dep.track(), this._value)
                  },
                  set: function (e) {
                    var t = this._rawValue,
                      n = this.__v_isShallow || Xt(e) || qt(e)
                    ;((e = n ? e : Kt(e)),
                      ve(e, t) &&
                        ((this._rawValue = e), (this._value = n ? e : Jt(e)), this.dep.trigger()))
                  },
                },
              ]
            )
          })()
          function on(e) {
            return en(e) ? e.value : e
          }
          var sn = {
            get: function (e, t, n) {
              return '__v_raw' === t ? e : on(Reflect.get(e, t, n))
            },
            set: function (e, t, n, r) {
              var i = e[t]
              return en(i) && !en(n) ? ((i.value = n), !0) : Reflect.set(e, t, n, r)
            },
          }
          function un(e) {
            return Qt(e) ? e : new Proxy(e, sn)
          }
          var ln = (function () {
              return T(
                function e(t, n, r) {
                  ;(w(this, e),
                    (this._object = t),
                    (this._key = n),
                    (this._defaultValue = r),
                    (this.__v_isRef = !0),
                    (this._value = void 0))
                },
                [
                  {
                    key: 'value',
                    get: function () {
                      var e = this._object[this._key]
                      return (this._value = void 0 === e ? this._defaultValue : e)
                    },
                    set: function (e) {
                      this._object[this._key] = e
                    },
                  },
                  {
                    key: 'dep',
                    get: function () {
                      return (function (e, t) {
                        var n = ot.get(e)
                        return n && n.get(t)
                      })(Kt(this._object), this._key)
                    },
                  },
                ]
              )
            })(),
            cn = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this._getter = t),
                    (this.__v_isRef = !0),
                    (this.__v_isReadonly = !0),
                    (this._value = void 0))
                },
                [
                  {
                    key: 'value',
                    get: function () {
                      return (this._value = this._getter())
                    },
                  },
                ]
              )
            })()
          function dn(e, t, n) {
            var r = e[t]
            return en(r) ? r : new ln(e, t, n)
          }
          var hn = (function () {
            return T(
              function e(t, n, r) {
                ;(w(this, e),
                  (this.fn = t),
                  (this.setter = n),
                  (this._value = void 0),
                  (this.dep = new it(this)),
                  (this.__v_isRef = !0),
                  (this.deps = void 0),
                  (this.depsTail = void 0),
                  (this.flags = 16),
                  (this.globalVersion = nt - 1),
                  (this.next = void 0),
                  (this.effect = this),
                  (this.__v_isReadonly = !n),
                  (this.isSSR = r))
              },
              [
                {
                  key: 'notify',
                  value: function () {
                    if (((this.flags |= 16), !(8 & this.flags) && ke !== this))
                      return (He(this, !0), !0)
                  },
                },
                {
                  key: 'value',
                  get: function () {
                    var e = this.dep.track()
                    return (Xe(this), e && (e.version = this.dep.version), this._value)
                  },
                  set: function (e) {
                    this.setter && this.setter(e)
                  },
                },
              ]
            )
          })()
          var fn = {},
            pn = new WeakMap(),
            vn = void 0
          function mn(e, t) {
            var n,
              r,
              i,
              a,
              o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : E,
              s = o.immediate,
              u = o.deep,
              l = o.once,
              c = o.scheduler,
              d = o.augmentJob,
              h = o.call,
              f = function (e) {
                return u ? e : Xt(e) || !1 === u || 0 === u ? gn(e, 1) : gn(e)
              },
              p = !1,
              v = !1
            if (
              (en(e)
                ? ((r = function () {
                    return e.value
                  }),
                  (p = Xt(e)))
                : Qt(e)
                  ? ((r = function () {
                      return f(e)
                    }),
                    (p = !0))
                  : Y(e)
                    ? ((v = !0),
                      (p = e.some(function (e) {
                        return Qt(e) || Xt(e)
                      })),
                      (r = function () {
                        return e.map(function (e) {
                          return en(e)
                            ? e.value
                            : Qt(e)
                              ? f(e)
                              : J(e)
                                ? h
                                  ? h(e, 2)
                                  : e()
                                : void 0
                        })
                      }))
                    : (r = J(e)
                        ? t
                          ? h
                            ? function () {
                                return h(e, 2)
                              }
                            : e
                          : function () {
                              if (i) {
                                $e()
                                try {
                                  i()
                                } finally {
                                  et()
                                }
                              }
                              var t = vn
                              vn = n
                              try {
                                return h ? h(e, 3, [a]) : e(a)
                              } finally {
                                vn = t
                              }
                            }
                        : B),
              t && u)
            ) {
              var m = r,
                g = !0 === u ? 1 / 0 : u
              r = function () {
                return gn(m(), g)
              }
            }
            var y = Oe(),
              x = function () {
                ;(n.stop(), y && y.active && Q(y.effects, n))
              }
            if (l && t) {
              var _ = t
              t = function () {
                ;(_.apply(void 0, arguments), x())
              }
            }
            var b = v ? new Array(e.length).fill(fn) : fn,
              S = function (e) {
                if (1 & n.flags && (n.dirty || e))
                  if (t) {
                    var r = n.run()
                    if (
                      u ||
                      p ||
                      (v
                        ? r.some(function (e, t) {
                            return ve(e, b[t])
                          })
                        : ve(r, b))
                    ) {
                      i && i()
                      var o = vn
                      vn = n
                      try {
                        var s = [r, b === fn ? void 0 : v && b[0] === fn ? [] : b, a]
                        ;((b = r), h ? h(t, 3, s) : t.apply(void 0, s))
                      } finally {
                        vn = o
                      }
                    }
                  } else n.run()
              }
            return (
              d && d(S),
              ((n = new ze(r)).scheduler = c
                ? function () {
                    return c(S, !1)
                  }
                : S),
              (a = function (e) {
                return (function (e) {
                  var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : vn
                  if (t) {
                    var n = pn.get(t)
                    ;(n || pn.set(t, (n = [])), n.push(e))
                  }
                })(e, !1, n)
              }),
              (i = n.onStop =
                function () {
                  var e = pn.get(n)
                  if (e) {
                    if (h) h(e, 4)
                    else {
                      var t,
                        r = L(e)
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          ;(0, t.value)()
                        }
                      } catch (i) {
                        r.e(i)
                      } finally {
                        r.f()
                      }
                    }
                    pn.delete(n)
                  }
                }),
              t ? (s ? S(!0) : (b = n.run())) : c ? c(S.bind(null, !0), !0) : n.run(),
              (x.pause = n.pause.bind(n)),
              (x.resume = n.resume.bind(n)),
              (x.stop = x),
              x
            )
          }
          function gn(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0,
              n = arguments.length > 2 ? arguments[2] : void 0
            if (t <= 0 || !te(e) || e.__v_skip) return e
            if (((n = n || new Map()).get(e) || 0) >= t) return e
            if ((n.set(e, t), t--, en(e))) gn(e.value, t, n)
            else if (Y(e)) for (var r = 0; r < e.length; r++) gn(e[r], t, n)
            else if (Z(e) || K(e))
              e.forEach(function (e) {
                gn(e, t, n)
              })
            else if (ae(e)) {
              for (var i in e) gn(e[i], t, n)
              var a,
                o = L(Object.getOwnPropertySymbols(e))
              try {
                for (o.s(); !(a = o.n()).done; ) {
                  var s = a.value
                  Object.prototype.propertyIsEnumerable.call(e, s) && gn(e[s], t, n)
                }
              } catch (u) {
                o.e(u)
              } finally {
                o.f()
              }
            }
            return e
          }
          /**
           * @vue/runtime-core v3.5.21
           * (c) 2018-present Yuxi (Evan) You and Vue contributors
           * @license MIT
           **/ function yn(e, t, n, r) {
            try {
              return r ? e.apply(void 0, I(r)) : e()
            } catch (i) {
              _n(i, t, n)
            }
          }
          function xn(e, t, n, r) {
            if (J(e)) {
              var i = yn(e, t, n, r)
              return (
                i &&
                  ne(i) &&
                  i.catch(function (e) {
                    _n(e, t, n)
                  }),
                i
              )
            }
            if (Y(e)) {
              for (var a = [], o = 0; o < e.length; o++) a.push(xn(e[o], t, n, r))
              return a
            }
          }
          function _n(e, t, n) {
            var r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
              i = t ? t.vnode : null,
              a = (t && t.appContext.config) || E,
              o = a.errorHandler,
              s = a.throwUnhandledErrorInProduction
            if (t) {
              for (
                var u = t.parent,
                  l = t.proxy,
                  c = 'https://vuejs.org/error-reference/#runtime-'.concat(n);
                u;

              ) {
                var d = u.ec
                if (d) for (var h = 0; h < d.length; h++) if (!1 === d[h](e, l, c)) return
                u = u.parent
              }
              if (o) return ($e(), yn(o, null, 10, [e, l, c]), void et())
            }
            !(function (e, t, n) {
              var r = arguments.length > 4 && void 0 !== arguments[4] && arguments[4]
              if (r) throw e
              console.error(e)
            })(e, n, i, r, s)
          }
          var bn = [],
            Sn = -1,
            wn = [],
            An = null,
            Tn = 0,
            Mn = Promise.resolve(),
            En = null
          function Cn(e) {
            var t = En || Mn
            return e ? t.then(this ? e.bind(this) : e) : t
          }
          function kn(e) {
            if (!(1 & e.flags)) {
              var t = Pn(e),
                n = bn[bn.length - 1]
              ;(!n || (!(2 & e.flags) && t >= Pn(n))
                ? bn.push(e)
                : bn.splice(
                    (function (e) {
                      for (var t = Sn + 1, n = bn.length; t < n; ) {
                        var r = (t + n) >>> 1,
                          i = bn[r],
                          a = Pn(i)
                        a < e || (a === e && 2 & i.flags) ? (t = r + 1) : (n = r)
                      }
                      return t
                    })(t),
                    0,
                    e
                  ),
                (e.flags |= 1),
                Rn())
            }
          }
          function Rn() {
            En || (En = Mn.then(Ln))
          }
          function In(e, t) {
            for (
              var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Sn + 1;
              n < bn.length;
              n++
            ) {
              var r = bn[n]
              if (r && 2 & r.flags) {
                if (e && r.id !== e.uid) continue
                ;(bn.splice(n, 1),
                  n--,
                  4 & r.flags && (r.flags &= -2),
                  r(),
                  4 & r.flags || (r.flags &= -2))
              }
            }
          }
          function Nn(e) {
            if (wn.length) {
              var t,
                n = I(new Set(wn)).sort(function (e, t) {
                  return Pn(e) - Pn(t)
                })
              if (((wn.length = 0), An)) return void (t = An).push.apply(t, I(n))
              for (An = n, Tn = 0; Tn < An.length; Tn++) {
                var r = An[Tn]
                ;(4 & r.flags && (r.flags &= -2), 8 & r.flags || r(), (r.flags &= -2))
              }
              ;((An = null), (Tn = 0))
            }
          }
          var Pn = function (e) {
            return null == e.id ? (2 & e.flags ? -1 : 1 / 0) : e.id
          }
          function Ln(e) {
            try {
              for (Sn = 0; Sn < bn.length; Sn++) {
                var t = bn[Sn]
                !t ||
                  8 & t.flags ||
                  (4 & t.flags && (t.flags &= -2),
                  yn(t, t.i, t.i ? 15 : 14),
                  4 & t.flags || (t.flags &= -2))
              }
            } finally {
              for (; Sn < bn.length; Sn++) {
                var n = bn[Sn]
                n && (n.flags &= -2)
              }
              ;((Sn = -1), (bn.length = 0), Nn(), (En = null), (bn.length || wn.length) && Ln())
            }
          }
          var Dn = null,
            On = null
          function Fn(e) {
            var t = Dn
            return ((Dn = e), (On = (e && e.type.__scopeId) || null), t)
          }
          function Bn(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Dn
            if (!t) return e
            if (e._n) return e
            var n = function () {
              n._d && Yi(-1)
              var r,
                i = Fn(t)
              try {
                r = e.apply(void 0, arguments)
              } finally {
                ;(Fn(i), n._d && Yi(1))
              }
              return r
            }
            return ((n._n = !0), (n._c = !0), (n._d = !0), n)
          }
          function Un(e, t) {
            if (null === Dn) return e
            for (var n = Ca(Dn), r = e.dirs || (e.dirs = []), i = 0; i < t.length; i++) {
              var a = C(t[i], 4),
                o = a[0],
                s = a[1],
                u = a[2],
                l = a[3],
                c = void 0 === l ? E : l
              o &&
                (J(o) && (o = { mounted: o, updated: o }),
                o.deep && gn(s),
                r.push({ dir: o, instance: n, value: s, oldValue: void 0, arg: u, modifiers: c }))
            }
            return e
          }
          function zn(e, t, n, r) {
            for (var i = e.dirs, a = t && t.dirs, o = 0; o < i.length; o++) {
              var s = i[o]
              a && (s.oldValue = a[o].value)
              var u = s.dir[r]
              u && ($e(), xn(u, n, 8, [e.el, s, e, t]), et())
            }
          }
          var Vn = Symbol('_vte'),
            Hn = function (e) {
              return e && (e.disabled || '' === e.disabled)
            },
            Wn = function (e) {
              return e && (e.defer || '' === e.defer)
            },
            Gn = function (e) {
              return 'undefined' != typeof SVGElement && e instanceof SVGElement
            },
            jn = function (e) {
              return 'function' == typeof MathMLElement && e instanceof MathMLElement
            },
            Qn = function (e, t) {
              var n = e && e.to
              return $(n) ? (t ? t(n) : null) : n
            },
            qn = {
              name: 'Teleport',
              __isTeleport: !0,
              process: function (e, t, n, r, i, a, o, s, u, l) {
                var c = l.mc,
                  d = l.pc,
                  h = l.pbc,
                  f = l.o,
                  p = f.insert,
                  v = f.querySelector,
                  m = f.createText,
                  g = (f.createComment, Hn(t.props)),
                  y = t.shapeFlag,
                  x = t.children,
                  _ = t.dynamicChildren
                if (null == e) {
                  var b = (t.el = m('')),
                    S = (t.anchor = m(''))
                  ;(p(b, n, r), p(S, n, r))
                  var w = function (e, t) {
                      16 & y &&
                        (i && i.isCE && (i.ce._teleportTarget = e), c(x, e, t, i, a, o, s, u))
                    },
                    A = function () {
                      var e = (t.target = Qn(t.props, v)),
                        n = Zn(e, t, m, p)
                      e &&
                        ('svg' !== o && Gn(e)
                          ? (o = 'svg')
                          : 'mathml' !== o && jn(e) && (o = 'mathml'),
                        g || (w(e, n), Kn(t, !1)))
                    }
                  ;(g && (w(n, S), Kn(t, !0)),
                    Wn(t.props)
                      ? ((t.el.__isMounted = !1),
                        gi(function () {
                          ;(A(), delete t.el.__isMounted)
                        }, a))
                      : A())
                } else {
                  if (Wn(t.props) && !1 === e.el.__isMounted)
                    return void gi(function () {
                      qn.process(e, t, n, r, i, a, o, s, u, l)
                    }, a)
                  ;((t.el = e.el), (t.targetStart = e.targetStart))
                  var T = (t.anchor = e.anchor),
                    M = (t.target = e.target),
                    E = (t.targetAnchor = e.targetAnchor),
                    C = Hn(e.props),
                    k = C ? n : M,
                    R = C ? T : E
                  if (
                    ('svg' === o || Gn(M)
                      ? (o = 'svg')
                      : ('mathml' === o || jn(M)) && (o = 'mathml'),
                    _
                      ? (h(e.dynamicChildren, _, k, i, a, o, s), bi(e, t, !0))
                      : u || d(e, t, k, R, i, a, o, s, !1),
                    g)
                  )
                    C
                      ? t.props && e.props && t.props.to !== e.props.to && (t.props.to = e.props.to)
                      : Xn(t, n, T, l, 1)
                  else if ((t.props && t.props.to) !== (e.props && e.props.to)) {
                    var I = (t.target = Qn(t.props, v))
                    I && Xn(t, I, null, l, 0)
                  } else C && Xn(t, M, E, l, 1)
                  Kn(t, g)
                }
              },
              remove: function (e, t, n, r, i) {
                var a = r.um,
                  o = r.o.remove,
                  s = e.shapeFlag,
                  u = e.children,
                  l = e.anchor,
                  c = e.targetStart,
                  d = e.targetAnchor,
                  h = e.target,
                  f = e.props
                if ((h && (o(c), o(d)), i && o(l), 16 & s))
                  for (var p = i || !Hn(f), v = 0; v < u.length; v++) {
                    var m = u[v]
                    a(m, t, n, p, !!m.dynamicChildren)
                  }
              },
              move: Xn,
              hydrate: function (e, t, n, r, i, a, o, s) {
                var u = o.o,
                  l = u.nextSibling,
                  c = u.parentNode,
                  d = u.querySelector,
                  h = u.insert,
                  f = u.createText
                function p(e, t, o, u) {
                  ;((t.anchor = s(l(e), t, c(e), n, r, i, a)),
                    (t.targetStart = o),
                    (t.targetAnchor = u))
                }
                var v = (t.target = Qn(t.props, d)),
                  m = Hn(t.props)
                if (v) {
                  var g = v._lpa || v.firstChild
                  if (16 & t.shapeFlag)
                    if (m) p(e, t, g, g && l(g))
                    else {
                      t.anchor = l(e)
                      for (var y = g; y; ) {
                        if (y && 8 === y.nodeType)
                          if ('teleport start anchor' === y.data) t.targetStart = y
                          else if ('teleport anchor' === y.data) {
                            ;((t.targetAnchor = y), (v._lpa = t.targetAnchor && l(t.targetAnchor)))
                            break
                          }
                        y = l(y)
                      }
                      ;(t.targetAnchor || Zn(v, t, f, h), s(g && l(g), t, v, n, r, i, a))
                    }
                  Kn(t, m)
                } else m && 16 & t.shapeFlag && p(e, t, e, l(e))
                return t.anchor && l(t.anchor)
              },
            }
          function Xn(e, t, n, r) {
            var i = r.o.insert,
              a = r.m,
              o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 2
            0 === o && i(e.targetAnchor, t, n)
            var s = e.el,
              u = e.anchor,
              l = e.shapeFlag,
              c = e.children,
              d = e.props,
              h = 2 === o
            if ((h && i(s, t, n), (!h || Hn(d)) && 16 & l))
              for (var f = 0; f < c.length; f++) a(c[f], t, n, 2)
            h && i(u, t, n)
          }
          var Yn = qn
          function Kn(e, t) {
            var n = e.ctx
            if (n && n.ut) {
              var r, i
              for (
                t ? ((r = e.el), (i = e.anchor)) : ((r = e.targetStart), (i = e.targetAnchor));
                r && r !== i;

              )
                (1 === r.nodeType && r.setAttribute('data-v-owner', n.uid), (r = r.nextSibling))
              n.ut()
            }
          }
          function Zn(e, t, n, r) {
            var i = (t.targetStart = n('')),
              a = (t.targetAnchor = n(''))
            return ((i[Vn] = a), e && (r(i, e), r(a, e)), a)
          }
          var Jn = Symbol('_leaveCb'),
            $n = Symbol('_enterCb')
          var er = [Function, Array],
            tr = {
              mode: String,
              appear: Boolean,
              persisted: Boolean,
              onBeforeEnter: er,
              onEnter: er,
              onAfterEnter: er,
              onEnterCancelled: er,
              onBeforeLeave: er,
              onLeave: er,
              onAfterLeave: er,
              onLeaveCancelled: er,
              onBeforeAppear: er,
              onAppear: er,
              onAfterAppear: er,
              onAppearCancelled: er,
            }
          function nr(e, t, n, r, i) {
            var a = t.appear,
              o = t.mode,
              s = t.persisted,
              u = void 0 !== s && s,
              l = t.onBeforeEnter,
              c = t.onEnter,
              d = t.onAfterEnter,
              h = t.onEnterCancelled,
              f = t.onBeforeLeave,
              p = t.onLeave,
              v = t.onAfterLeave,
              m = t.onLeaveCancelled,
              g = t.onBeforeAppear,
              y = t.onAppear,
              x = t.onAfterAppear,
              _ = t.onAppearCancelled,
              b = String(e.key),
              S = (function (e, t) {
                var n = e.leavingVNodes,
                  r = n.get(t.type)
                return (r || ((r = Object.create(null)), n.set(t.type, r)), r)
              })(n, e),
              w = function (e, t) {
                e && xn(e, r, 9, t)
              },
              A = function (e, t) {
                var n = t[1]
                ;(w(e, t),
                  Y(e)
                    ? e.every(function (e) {
                        return e.length <= 1
                      }) && n()
                    : e.length <= 1 && n())
              },
              T = {
                mode: o,
                persisted: u,
                beforeEnter: function (t) {
                  var r = l
                  if (!n.isMounted) {
                    if (!a) return
                    r = g || l
                  }
                  t[Jn] && t[Jn](!0)
                  var i = S[b]
                  ;(i && ea(e, i) && i.el[Jn] && i.el[Jn](), w(r, [t]))
                },
                enter: function (e) {
                  var t = c,
                    r = d,
                    i = h
                  if (!n.isMounted) {
                    if (!a) return
                    ;((t = y || c), (r = x || d), (i = _ || h))
                  }
                  var o = !1,
                    s = (e[$n] = function (t) {
                      o ||
                        ((o = !0),
                        w(t ? i : r, [e]),
                        T.delayedLeave && T.delayedLeave(),
                        (e[$n] = void 0))
                    })
                  t ? A(t, [e, s]) : s()
                },
                leave: function (t, r) {
                  var i = String(e.key)
                  if ((t[$n] && t[$n](!0), n.isUnmounting)) return r()
                  w(f, [t])
                  var a = !1,
                    o = (t[Jn] = function (n) {
                      a ||
                        ((a = !0),
                        r(),
                        w(n ? m : v, [t]),
                        (t[Jn] = void 0),
                        S[i] === e && delete S[i])
                    })
                  ;((S[i] = e), p ? A(p, [t, o]) : o())
                },
                clone: function (e) {
                  return nr(e, t, n, r)
                },
              }
            return T
          }
          function rr(e, t) {
            6 & e.shapeFlag && e.component
              ? ((e.transition = t), rr(e.component.subTree, t))
              : 128 & e.shapeFlag
                ? ((e.ssContent.transition = t.clone(e.ssContent)),
                  (e.ssFallback.transition = t.clone(e.ssFallback)))
                : (e.transition = t)
          }
          function ir(e) {
            for (
              var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                n = arguments.length > 2 ? arguments[2] : void 0,
                r = [],
                i = 0,
                a = 0;
              a < e.length;
              a++
            ) {
              var o = e[a],
                s = null == n ? o.key : String(n) + String(null != o.key ? o.key : a)
              o.type === Vi
                ? (128 & o.patchFlag && i++, (r = r.concat(ir(o.children, t, s))))
                : (t || o.type !== Wi) && r.push(null != s ? aa(o, { key: s }) : o)
            }
            if (i > 1) for (var u = 0; u < r.length; u++) r[u].patchFlag = -2
            return r
          }
          function ar(e, t) {
            return J(e)
              ? (function () {
                  return j({ name: e.name }, t, { setup: e })
                })()
              : e
          }
          function or(e) {
            e.ids = [e.ids[0] + e.ids[2]++ + '-', 0, 0]
          }
          function sr(e) {
            var t = ya(),
              n = nn(null)
            if (t) {
              var r = t.refs === E ? (t.refs = {}) : t.refs
              Object.defineProperty(r, e, {
                enumerable: !0,
                get: function () {
                  return n.value
                },
                set: function (e) {
                  return (n.value = e)
                },
              })
            }
            return n
          }
          var ur = new WeakMap()
          function lr(e, t, n, r) {
            var i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4]
            if (Y(e))
              e.forEach(function (e, a) {
                return lr(e, t && (Y(t) ? t[a] : t), n, r, i)
              })
            else if (!dr(r) || i) {
              var a = 4 & r.shapeFlag ? Ca(r.component) : r.el,
                o = i ? null : a,
                s = e.i,
                u = e.r,
                l = t && t.r,
                c = s.refs === E ? (s.refs = {}) : s.refs,
                d = s.setupState,
                h = Kt(d),
                f =
                  d === E
                    ? V
                    : function (e) {
                        return X(h, e)
                      }
              if (null != l && l !== u)
                if ((cr(t), $(l))) ((c[l] = null), f(l) && (d[l] = null))
                else if (en(l)) {
                  l.value = null
                  var p = t
                  p.k && (c[p.k] = null)
                }
              if (J(u)) yn(u, s, 12, [o, c])
              else {
                var v = $(u),
                  m = en(u)
                if (v || m) {
                  var g = function () {
                    if (e.f) {
                      var t = v ? (f(u) ? d[u] : c[u]) : u.value
                      if (i) Y(t) && Q(t, a)
                      else if (Y(t)) t.includes(a) || t.push(a)
                      else if (v) ((c[u] = [a]), f(u) && (d[u] = c[u]))
                      else {
                        var n = [a]
                        ;((u.value = n), e.k && (c[e.k] = n))
                      }
                    } else
                      v
                        ? ((c[u] = o), f(u) && (d[u] = o))
                        : m && ((u.value = o), e.k && (c[e.k] = o))
                  }
                  if (o) {
                    var y = function () {
                      ;(g(), ur.delete(e))
                    }
                    ;((y.id = -1), ur.set(e, y), gi(y, n))
                  } else (cr(e), g())
                }
              }
            } else
              512 & r.shapeFlag &&
                r.type.__asyncResolved &&
                r.component.subTree.component &&
                lr(e, t, n, r.component.subTree)
          }
          function cr(e) {
            var t = ur.get(e)
            t && ((t.flags |= 8), ur.delete(e))
          }
          ;(xe().requestIdleCallback, xe().cancelIdleCallback)
          var dr = function (e) {
              return !!e.type.__asyncLoader
            },
            hr = function (e) {
              return e.type.__isKeepAlive
            }
          function fr(e, t) {
            vr(e, 'a', t)
          }
          function pr(e, t) {
            vr(e, 'da', t)
          }
          function vr(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ga,
              r =
                e.__wdc ||
                (e.__wdc = function () {
                  for (var t = n; t; ) {
                    if (t.isDeactivated) return
                    t = t.parent
                  }
                  return e()
                })
            if ((gr(t, r, n), n))
              for (var i = n.parent; i && i.parent; )
                (hr(i.parent.vnode) && mr(r, t, n, i), (i = i.parent))
          }
          function mr(e, t, n, r) {
            var i = gr(t, e, r, !0)
            Ar(function () {
              Q(r[t], i)
            }, n)
          }
          function gr(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ga,
              r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
            if (n) {
              var i = n[e] || (n[e] = []),
                a =
                  t.__weh ||
                  (t.__weh = function () {
                    $e()
                    for (var r = ba(n), i = arguments.length, a = new Array(i), o = 0; o < i; o++)
                      a[o] = arguments[o]
                    var s = xn(t, n, e, a)
                    return (r(), et(), s)
                  })
              return (r ? i.unshift(a) : i.push(a), a)
            }
          }
          var yr = function (e) {
              return function (t) {
                ;(Aa && 'sp' !== e) ||
                  gr(
                    e,
                    function () {
                      return t.apply(void 0, arguments)
                    },
                    arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ga
                  )
              }
            },
            xr = yr('bm'),
            _r = yr('m'),
            br = yr('bu'),
            Sr = yr('u'),
            wr = yr('bum'),
            Ar = yr('um'),
            Tr = yr('sp'),
            Mr = yr('rtg'),
            Er = yr('rtc')
          function Cr(e) {
            gr('ec', e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ga)
          }
          var kr = 'components',
            Rr = Symbol.for('v-ndc')
          function Ir(e, t) {
            var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              r = Dn || ga
            if (r) {
              var i = r.type
              if (e === kr) {
                var a = ka(i, !1)
                if (a && (a === t || a === ce(t) || a === fe(ce(t)))) return i
              }
              var o = Nr(r[e] || i[e], t) || Nr(r.appContext[e], t)
              return !o && n ? i : o
            }
          }
          function Nr(e, t) {
            return e && (e[t] || e[ce(t)] || e[fe(ce(t))])
          }
          function Pr(e, t, n, r) {
            var i,
              a = n,
              o = Y(e)
            if (o || $(e)) {
              var s = !1,
                u = !1
              ;(o && Qt(e) && ((s = !Xt(e)), (u = qt(e)), (e = ft(e))), (i = new Array(e.length)))
              for (var l = 0, c = e.length; l < c; l++)
                i[l] = t(s ? (u ? $t(Jt(e[l])) : Jt(e[l])) : e[l], l, void 0, a)
            } else if ('number' == typeof e) {
              i = new Array(e)
              for (var d = 0; d < e; d++) i[d] = t(d + 1, d, void 0, a)
            } else if (te(e))
              if (e[Symbol.iterator])
                i = Array.from(e, function (e, n) {
                  return t(e, n, void 0, a)
                })
              else {
                var h = Object.keys(e)
                i = new Array(h.length)
                for (var f = 0, p = h.length; f < p; f++) {
                  var v = h[f]
                  i[f] = t(e[v], v, f, a)
                }
              }
            else i = []
            return i
          }
          var Lr = function (e) {
              return e ? (wa(e) ? Ca(e) : Lr(e.parent)) : null
            },
            Dr = j(Object.create(null), {
              $: function (e) {
                return e
              },
              $el: function (e) {
                return e.vnode.el
              },
              $data: function (e) {
                return e.data
              },
              $props: function (e) {
                return e.props
              },
              $attrs: function (e) {
                return e.attrs
              },
              $slots: function (e) {
                return e.slots
              },
              $refs: function (e) {
                return e.refs
              },
              $parent: function (e) {
                return Lr(e.parent)
              },
              $root: function (e) {
                return Lr(e.root)
              },
              $host: function (e) {
                return e.ce
              },
              $emit: function (e) {
                return e.emit
              },
              $options: function (e) {
                return Wr(e)
              },
              $forceUpdate: function (e) {
                return (
                  e.f ||
                  (e.f = function () {
                    kn(e.update)
                  })
                )
              },
              $nextTick: function (e) {
                return e.n || (e.n = Cn.bind(e.proxy))
              },
              $watch: function (e) {
                return ki.bind(e)
              },
            }),
            Or = function (e, t) {
              return e !== E && !e.__isScriptSetup && X(e, t)
            },
            Fr = {
              get: function (e, t) {
                var n = e._
                if ('__v_skip' === t) return !0
                var r,
                  i = n.ctx,
                  a = n.setupState,
                  o = n.data,
                  s = n.props,
                  u = n.accessCache,
                  l = n.type,
                  c = n.appContext
                if ('$' !== t[0]) {
                  var d = u[t]
                  if (void 0 !== d)
                    switch (d) {
                      case 1:
                        return a[t]
                      case 2:
                        return o[t]
                      case 4:
                        return i[t]
                      case 3:
                        return s[t]
                    }
                  else {
                    if (Or(a, t)) return ((u[t] = 1), a[t])
                    if (o !== E && X(o, t)) return ((u[t] = 2), o[t])
                    if ((r = n.propsOptions[0]) && X(r, t)) return ((u[t] = 3), s[t])
                    if (i !== E && X(i, t)) return ((u[t] = 4), i[t])
                    Ur && (u[t] = 0)
                  }
                }
                var h,
                  f,
                  p = Dr[t]
                return p
                  ? ('$attrs' === t && ct(n.attrs, 0, ''), p(n))
                  : (h = l.__cssModules) && (h = h[t])
                    ? h
                    : i !== E && X(i, t)
                      ? ((u[t] = 4), i[t])
                      : ((f = c.config.globalProperties), X(f, t) ? f[t] : void 0)
              },
              set: function (e, t, n) {
                var r = e._,
                  i = r.data,
                  a = r.setupState,
                  o = r.ctx
                return Or(a, t)
                  ? ((a[t] = n), !0)
                  : i !== E && X(i, t)
                    ? ((i[t] = n), !0)
                    : !X(r.props, t) && ('$' !== t[0] || !(t.slice(1) in r)) && ((o[t] = n), !0)
              },
              has: function (e, t) {
                var n,
                  r,
                  i = e._,
                  a = i.data,
                  o = i.setupState,
                  s = i.accessCache,
                  u = i.ctx,
                  l = i.appContext,
                  c = i.propsOptions,
                  d = i.type
                return !!(
                  s[t] ||
                  (a !== E && '$' !== t[0] && X(a, t)) ||
                  Or(o, t) ||
                  ((n = c[0]) && X(n, t)) ||
                  X(u, t) ||
                  X(Dr, t) ||
                  X(l.config.globalProperties, t) ||
                  ((r = d.__cssModules) && r[t])
                )
              },
              defineProperty: function (e, t, n) {
                return (
                  null != n.get
                    ? (e._.accessCache[t] = 0)
                    : X(n, 'value') && this.set(e, t, n.value, null),
                  Reflect.defineProperty(e, t, n)
                )
              },
            }
          function Br(e) {
            return Y(e)
              ? e.reduce(function (e, t) {
                  return ((e[t] = null), e)
                }, {})
              : e
          }
          var Ur = !0
          function zr(e) {
            var t = Wr(e),
              n = e.proxy,
              r = e.ctx
            ;((Ur = !1), t.beforeCreate && Vr(t.beforeCreate, e, 'bc'))
            var i = t.data,
              a = t.computed,
              o = t.methods,
              s = t.watch,
              u = t.provide,
              l = t.inject,
              c = t.created,
              d = t.beforeMount,
              h = t.mounted,
              f = t.beforeUpdate,
              p = t.updated,
              v = t.activated,
              m = t.deactivated,
              g = (t.beforeDestroy, t.beforeUnmount),
              y = (t.destroyed, t.unmounted),
              x = t.render,
              _ = t.renderTracked,
              b = t.renderTriggered,
              S = t.errorCaptured,
              w = t.serverPrefetch,
              A = t.expose,
              T = t.inheritAttrs,
              M = t.components,
              E = t.directives
            t.filters
            if (
              (l &&
                (function (e, t) {
                  Y(e) && (e = qr(e))
                  var n = function () {
                    var n,
                      i = e[r]
                    en(
                      (n = te(i)
                        ? 'default' in i
                          ? ni(i.from || r, i.default, !0)
                          : ni(i.from || r)
                        : ni(i))
                    )
                      ? Object.defineProperty(t, r, {
                          enumerable: !0,
                          configurable: !0,
                          get: function () {
                            return n.value
                          },
                          set: function (e) {
                            return (n.value = e)
                          },
                        })
                      : (t[r] = n)
                  }
                  for (var r in e) n()
                })(l, r, null),
              o)
            )
              for (var C in o) {
                var k = o[C]
                J(k) && (r[C] = k.bind(n))
              }
            if (i) {
              var R = i.call(n, n)
              te(R) && (e.data = Wt(R))
            }
            if (((Ur = !0), a)) {
              var I = function () {
                var e = a[N],
                  t = J(e) ? e.bind(n, n) : J(e.get) ? e.get.bind(n, n) : B,
                  i = !J(e) && J(e.set) ? e.set.bind(n) : B,
                  o = Ra({ get: t, set: i })
                Object.defineProperty(r, N, {
                  enumerable: !0,
                  configurable: !0,
                  get: function () {
                    return o.value
                  },
                  set: function (e) {
                    return (o.value = e)
                  },
                })
              }
              for (var N in a) I()
            }
            if (s) for (var P in s) Hr(s[P], r, n, P)
            if (u) {
              var L = J(u) ? u.call(n) : u
              Reflect.ownKeys(L).forEach(function (e) {
                ti(e, L[e])
              })
            }
            function D(e, t) {
              Y(t)
                ? t.forEach(function (t) {
                    return e(t.bind(n))
                  })
                : t && e(t.bind(n))
            }
            if (
              (c && Vr(c, e, 'c'),
              D(xr, d),
              D(_r, h),
              D(br, f),
              D(Sr, p),
              D(fr, v),
              D(pr, m),
              D(Cr, S),
              D(Er, _),
              D(Mr, b),
              D(wr, g),
              D(Ar, y),
              D(Tr, w),
              Y(A))
            )
              if (A.length) {
                var O = e.exposed || (e.exposed = {})
                A.forEach(function (e) {
                  Object.defineProperty(O, e, {
                    get: function () {
                      return n[e]
                    },
                    set: function (t) {
                      return (n[e] = t)
                    },
                    enumerable: !0,
                  })
                })
              } else e.exposed || (e.exposed = {})
            ;(x && e.render === B && (e.render = x),
              null != T && (e.inheritAttrs = T),
              M && (e.components = M),
              E && (e.directives = E),
              w && or(e))
          }
          function Vr(e, t, n) {
            xn(
              Y(e)
                ? e.map(function (e) {
                    return e.bind(t.proxy)
                  })
                : e.bind(t.proxy),
              t,
              n
            )
          }
          function Hr(e, t, n, r) {
            var i = r.includes('.')
              ? Ri(n, r)
              : function () {
                  return n[r]
                }
            if ($(e)) {
              var a = t[e]
              J(a) && Ei(i, a)
            } else if (J(e)) Ei(i, e.bind(n))
            else if (te(e))
              if (Y(e))
                e.forEach(function (e) {
                  return Hr(e, t, n, r)
                })
              else {
                var o = J(e.handler) ? e.handler.bind(n) : t[e.handler]
                J(o) && Ei(i, o, e)
              }
          }
          function Wr(e) {
            var t,
              n = e.type,
              r = n.mixins,
              i = n.extends,
              a = e.appContext,
              o = a.mixins,
              s = a.optionsCache,
              u = a.config.optionMergeStrategies,
              l = s.get(n)
            return (
              l
                ? (t = l)
                : o.length || r || i
                  ? ((t = {}),
                    o.length &&
                      o.forEach(function (e) {
                        return Gr(t, e, u, !0)
                      }),
                    Gr(t, n, u))
                  : (t = n),
              te(n) && s.set(n, t),
              t
            )
          }
          function Gr(e, t, n) {
            var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              i = t.mixins,
              a = t.extends
            for (var o in (a && Gr(e, a, n, !0),
            i &&
              i.forEach(function (t) {
                return Gr(e, t, n, !0)
              }),
            t))
              if (r && 'expose' === o);
              else {
                var s = jr[o] || (n && n[o])
                e[o] = s ? s(e[o], t[o]) : t[o]
              }
            return e
          }
          var jr = {
            data: Qr,
            props: Kr,
            emits: Kr,
            methods: Yr,
            computed: Yr,
            beforeCreate: Xr,
            created: Xr,
            beforeMount: Xr,
            mounted: Xr,
            beforeUpdate: Xr,
            updated: Xr,
            beforeDestroy: Xr,
            beforeUnmount: Xr,
            destroyed: Xr,
            unmounted: Xr,
            activated: Xr,
            deactivated: Xr,
            errorCaptured: Xr,
            serverPrefetch: Xr,
            components: Yr,
            directives: Yr,
            watch: function (e, t) {
              if (!e) return t
              if (!t) return e
              var n = j(Object.create(null), e)
              for (var r in t) n[r] = Xr(e[r], t[r])
              return n
            },
            provide: Qr,
            inject: function (e, t) {
              return Yr(qr(e), qr(t))
            },
          }
          function Qr(e, t) {
            return t
              ? e
                ? function () {
                    return j(J(e) ? e.call(this, this) : e, J(t) ? t.call(this, this) : t)
                  }
                : t
              : e
          }
          function qr(e) {
            if (Y(e)) {
              for (var t = {}, n = 0; n < e.length; n++) t[e[n]] = e[n]
              return t
            }
            return e
          }
          function Xr(e, t) {
            return e ? I(new Set([].concat(e, t))) : t
          }
          function Yr(e, t) {
            return e ? j(Object.create(null), e, t) : t
          }
          function Kr(e, t) {
            return e
              ? Y(e) && Y(t)
                ? I(new Set([].concat(I(e), I(t))))
                : j(Object.create(null), Br(e), Br(null != t ? t : {}))
              : t
          }
          function Zr() {
            return {
              app: null,
              config: {
                isNativeTag: V,
                performance: !1,
                globalProperties: {},
                optionMergeStrategies: {},
                errorHandler: void 0,
                warnHandler: void 0,
                compilerOptions: {},
              },
              mixins: [],
              components: {},
              directives: {},
              provides: Object.create(null),
              optionsCache: new WeakMap(),
              propsCache: new WeakMap(),
              emitsCache: new WeakMap(),
            }
          }
          var Jr = 0
          function $r(e, t) {
            return function (t) {
              var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
              ;(J(t) || (t = j({}, t)), null == n || te(n) || (n = null))
              var r = Zr(),
                i = new WeakSet(),
                a = [],
                o = !1,
                s = (r.app = {
                  _uid: Jr++,
                  _component: t,
                  _props: n,
                  _container: null,
                  _context: r,
                  _instance: null,
                  version: Na,
                  get config() {
                    return r.config
                  },
                  set config(e) {},
                  use: function (e) {
                    for (
                      var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1;
                      r < t;
                      r++
                    )
                      n[r - 1] = arguments[r]
                    return (
                      i.has(e) ||
                        (e && J(e.install)
                          ? (i.add(e), e.install.apply(e, [s].concat(n)))
                          : J(e) && (i.add(e), e.apply(void 0, [s].concat(n)))),
                      s
                    )
                  },
                  mixin: function (e) {
                    return (r.mixins.includes(e) || r.mixins.push(e), s)
                  },
                  component: function (e, t) {
                    return t ? ((r.components[e] = t), s) : r.components[e]
                  },
                  directive: function (e, t) {
                    return t ? ((r.directives[e] = t), s) : r.directives[e]
                  },
                  mount: function (i, a, u) {
                    if (!o) {
                      var l = s._ceVNode || ia(t, n)
                      return (
                        (l.appContext = r),
                        !0 === u ? (u = 'svg') : !1 === u && (u = void 0),
                        e(l, i, u),
                        (o = !0),
                        (s._container = i),
                        (i.__vue_app__ = s),
                        Ca(l.component)
                      )
                    }
                  },
                  onUnmount: function (e) {
                    a.push(e)
                  },
                  unmount: function () {
                    o &&
                      (xn(a, s._instance, 16),
                      e(null, s._container),
                      delete s._container.__vue_app__)
                  },
                  provide: function (e, t) {
                    return ((r.provides[e] = t), s)
                  },
                  runWithContext: function (e) {
                    var t = ei
                    ei = s
                    try {
                      return e()
                    } finally {
                      ei = t
                    }
                  },
                })
              return s
            }
          }
          var ei = null
          function ti(e, t) {
            if (ga) {
              var n = ga.provides,
                r = ga.parent && ga.parent.provides
              ;(r === n && (n = ga.provides = Object.create(r)), (n[e] = t))
            } else;
          }
          function ni(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = ya()
            if (r || ei) {
              var i = ei
                ? ei._context.provides
                : r
                  ? null == r.parent || r.ce
                    ? r.vnode.appContext && r.vnode.appContext.provides
                    : r.parent.provides
                  : void 0
              if (i && e in i) return i[e]
              if (arguments.length > 1) return n && J(t) ? t.call(r && r.proxy) : t
            }
          }
          var ri = {},
            ii = function () {
              return Object.create(ri)
            },
            ai = function (e) {
              return Object.getPrototypeOf(e) === ri
            }
          function oi(e, t, n) {
            var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              i = {},
              a = ii()
            for (var o in ((e.propsDefaults = Object.create(null)),
            si(e, t, i, a),
            e.propsOptions[0]))
              o in i || (i[o] = void 0)
            ;(n
              ? (e.props = r
                  ? i
                  : (function (e) {
                      return jt(e, !1, kt, Ot, Ut)
                    })(i))
              : e.type.props
                ? (e.props = i)
                : (e.props = a),
              (e.attrs = a))
          }
          function si(e, t, n, r) {
            var i,
              a = C(e.propsOptions, 2),
              o = a[0],
              s = a[1],
              u = !1
            if (t)
              for (var l in t)
                if (!se(l)) {
                  var c = t[l],
                    d = void 0
                  o && X(o, (d = ce(l)))
                    ? s && s.includes(d)
                      ? ((i || (i = {}))[d] = c)
                      : (n[d] = c)
                    : Di(e.emitsOptions, l) || (l in r && c === r[l]) || ((r[l] = c), (u = !0))
                }
            if (s)
              for (var h = Kt(n), f = i || E, p = 0; p < s.length; p++) {
                var v = s[p]
                n[v] = ui(o, h, v, f[v], e, !X(f, v))
              }
            return u
          }
          function ui(e, t, n, r, i, a) {
            var o = e[n]
            if (null != o) {
              var s = X(o, 'default')
              if (s && void 0 === r) {
                var u = o.default
                if (o.type !== Function && !o.skipFactory && J(u)) {
                  var l = i.propsDefaults
                  if (n in l) r = l[n]
                  else {
                    var c = ba(i)
                    ;((r = l[n] = u.call(null, t)), c())
                  }
                } else r = u
                i.ce && i.ce._setProp(n, r)
              }
              o[0] && (a && !s ? (r = !1) : !o[1] || ('' !== r && r !== he(n)) || (r = !0))
            }
            return r
          }
          var li = new WeakMap()
          function ci(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = n ? li : t.propsCache,
              i = r.get(e)
            if (i) return i
            var a = e.props,
              o = {},
              s = [],
              u = !1
            if (!J(e)) {
              var l = function (e) {
                u = !0
                var n = C(ci(e, t, !0), 2),
                  r = n[0],
                  i = n[1]
                ;(j(o, r), i && s.push.apply(s, I(i)))
              }
              ;(!n && t.mixins.length && t.mixins.forEach(l),
                e.extends && l(e.extends),
                e.mixins && e.mixins.forEach(l))
            }
            if (!a && !u) return (te(e) && r.set(e, O), O)
            if (Y(a))
              for (var c = 0; c < a.length; c++) {
                var d = ce(a[c])
                di(d) && (o[d] = E)
              }
            else if (a)
              for (var h in a) {
                var f = ce(h)
                if (di(f)) {
                  var p = a[h],
                    v = (o[f] = Y(p) || J(p) ? { type: p } : j({}, p)),
                    m = v.type,
                    g = !1,
                    y = !0
                  if (Y(m))
                    for (var x = 0; x < m.length; ++x) {
                      var _ = m[x],
                        b = J(_) && _.name
                      if ('Boolean' === b) {
                        g = !0
                        break
                      }
                      'String' === b && (y = !1)
                    }
                  else g = J(m) && 'Boolean' === m.name
                  ;((v[0] = g), (v[1] = y), (g || X(v, 'default')) && s.push(f))
                }
              }
            var S = [o, s]
            return (te(e) && r.set(e, S), S)
          }
          function di(e) {
            return '$' !== e[0] && !se(e)
          }
          var hi = function (e) {
              return '_' === e || '_ctx' === e || '$stable' === e
            },
            fi = function (e) {
              return Y(e) ? e.map(la) : [la(e)]
            },
            pi = function (e, t, n) {
              var r = e._ctx,
                i = function () {
                  if (hi(a)) return 1
                  var n = e[a]
                  if (J(n))
                    t[a] = (function (e, t, n) {
                      if (t._n) return t
                      var r = Bn(function () {
                        return fi(t.apply(void 0, arguments))
                      }, n)
                      return ((r._c = !1), r)
                    })(0, n, r)
                  else if (null != n) {
                    var i = fi(n)
                    t[a] = function () {
                      return i
                    }
                  }
                }
              for (var a in e) i()
            },
            vi = function (e, t) {
              var n = fi(t)
              e.slots.default = function () {
                return n
              }
            },
            mi = function (e, t, n) {
              for (var r in t) (!n && hi(r)) || (e[r] = t[r])
            },
            gi = function (e, t) {
              if (t && t.pendingBranch) {
                var n
                if (Y(e)) (n = t.effects).push.apply(n, I(e))
                else t.effects.push(e)
              } else
                (Y((r = e))
                  ? wn.push.apply(wn, I(r))
                  : An && -1 === r.id
                    ? An.splice(Tn + 1, 0, r)
                    : 1 & r.flags || (wn.push(r), (r.flags |= 1)),
                  Rn())
              var r
            }
          function yi(e) {
            return (function (e) {
              var t = xe()
              t.__VUE__ = !0
              var n,
                r = e.insert,
                i = e.remove,
                a = e.patchProp,
                o = e.createElement,
                s = e.createText,
                u = e.createComment,
                l = e.setText,
                c = e.setElementText,
                d = e.parentNode,
                h = e.nextSibling,
                f = e.setScopeId,
                p = void 0 === f ? B : f,
                v = e.insertStaticContent,
                m = function (e, t, n) {
                  var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
                    i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
                    a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null,
                    o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : void 0,
                    s = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : null,
                    u =
                      arguments.length > 8 && void 0 !== arguments[8]
                        ? arguments[8]
                        : !!t.dynamicChildren
                  if (e !== t) {
                    ;(e && !ea(e, t) && ((r = Y(e)), W(e, i, a, !0), (e = null)),
                      -2 === t.patchFlag && ((u = !1), (t.dynamicChildren = null)))
                    var l = t.type,
                      c = t.ref,
                      d = t.shapeFlag
                    switch (l) {
                      case Hi:
                        g(e, t, n, r)
                        break
                      case Wi:
                        y(e, t, n, r)
                        break
                      case Gi:
                        null == e && x(t, n, r, o)
                        break
                      case Vi:
                        I(e, t, n, r, i, a, o, s, u)
                        break
                      default:
                        1 & d
                          ? S(e, t, n, r, i, a, o, s, u)
                          : 6 & d
                            ? N(e, t, n, r, i, a, o, s, u)
                            : (64 & d || 128 & d) && l.process(e, t, n, r, i, a, o, s, u, J)
                    }
                    null != c && i
                      ? lr(c, e && e.ref, a, t || e, !t)
                      : null == c && e && null != e.ref && lr(e.ref, null, a, e, !0)
                  }
                },
                g = function (e, t, n, i) {
                  if (null == e) r((t.el = s(t.children)), n, i)
                  else {
                    var a = (t.el = e.el)
                    t.children !== e.children && l(a, t.children)
                  }
                },
                y = function (e, t, n, i) {
                  null == e ? r((t.el = u(t.children || '')), n, i) : (t.el = e.el)
                },
                x = function (e, t, n, r) {
                  var i = C(v(e.children, t, n, r, e.el, e.anchor), 2)
                  ;((e.el = i[0]), (e.anchor = i[1]))
                },
                _ = function (e, t, n) {
                  for (var i, a = e.el, o = e.anchor; a && a !== o; )
                    ((i = h(a)), r(a, t, n), (a = i))
                  r(o, t, n)
                },
                b = function (e) {
                  for (var t, n = e.el, r = e.anchor; n && n !== r; ) ((t = h(n)), i(n), (n = t))
                  i(r)
                },
                S = function (e, t, n, r, i, a, o, s, u) {
                  ;('svg' === t.type ? (o = 'svg') : 'math' === t.type && (o = 'mathml'),
                    null == e ? w(t, n, r, i, a, o, s, u) : M(e, t, i, a, o, s, u))
                },
                w = function (e, t, n, i, s, u, l, d) {
                  var h,
                    f,
                    p = e.props,
                    v = e.shapeFlag,
                    m = e.transition,
                    g = e.dirs
                  if (
                    ((h = e.el = o(e.type, u, p && p.is, p)),
                    8 & v
                      ? c(h, e.children)
                      : 16 & v && T(e.children, h, null, i, s, xi(e, u), l, d),
                    g && zn(e, null, i, 'created'),
                    A(h, e, e.scopeId, l, i),
                    p)
                  ) {
                    for (var y in p) 'value' === y || se(y) || a(h, y, null, p[y], u, i)
                    ;('value' in p && a(h, 'value', null, p.value, u),
                      (f = p.onVnodeBeforeMount) && ha(f, i, e))
                  }
                  g && zn(e, null, i, 'beforeMount')
                  var x = (function (e, t) {
                    return (!e || (e && !e.pendingBranch)) && t && !t.persisted
                  })(s, m)
                  ;(x && m.beforeEnter(h),
                    r(h, t, n),
                    ((f = p && p.onVnodeMounted) || x || g) &&
                      gi(function () {
                        ;(f && ha(f, i, e), x && m.enter(h), g && zn(e, null, i, 'mounted'))
                      }, s))
                },
                A = function (e, t, n, r, i) {
                  if ((n && p(e, n), r)) for (var a = 0; a < r.length; a++) p(e, r[a])
                  if (i) {
                    var o = i.subTree
                    if (t === o || (zi(o.type) && (o.ssContent === t || o.ssFallback === t))) {
                      var s = i.vnode
                      A(e, s, s.scopeId, s.slotScopeIds, i.parent)
                    }
                  }
                },
                T = function (e, t, n, r, i, a, o, s) {
                  for (
                    var u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
                    u < e.length;
                    u++
                  ) {
                    var l = (e[u] = s ? ca(e[u]) : la(e[u]))
                    m(null, l, t, n, r, i, a, o, s)
                  }
                },
                M = function (e, t, n, r, i, o, s) {
                  var u = (t.el = e.el),
                    l = t.patchFlag,
                    d = t.dynamicChildren,
                    h = t.dirs
                  l |= 16 & e.patchFlag
                  var f,
                    p = e.props || E,
                    v = t.props || E
                  if (
                    (n && _i(n, !1),
                    (f = v.onVnodeBeforeUpdate) && ha(f, n, t, e),
                    h && zn(t, e, n, 'beforeUpdate'),
                    n && _i(n, !0),
                    ((p.innerHTML && null == v.innerHTML) ||
                      (p.textContent && null == v.textContent)) &&
                      c(u, ''),
                    d
                      ? k(e.dynamicChildren, d, u, n, r, xi(t, i), o)
                      : s || U(e, t, u, null, n, r, xi(t, i), o, !1),
                    l > 0)
                  ) {
                    if (16 & l) R(u, p, v, n, i)
                    else if (
                      (2 & l && p.class !== v.class && a(u, 'class', null, v.class, i),
                      4 & l && a(u, 'style', p.style, v.style, i),
                      8 & l)
                    )
                      for (var m = t.dynamicProps, g = 0; g < m.length; g++) {
                        var y = m[g],
                          x = p[y],
                          _ = v[y]
                        ;(_ === x && 'value' !== y) || a(u, y, x, _, i, n)
                      }
                    1 & l && e.children !== t.children && c(u, t.children)
                  } else s || null != d || R(u, p, v, n, i)
                  ;((f = v.onVnodeUpdated) || h) &&
                    gi(function () {
                      ;(f && ha(f, n, t, e), h && zn(t, e, n, 'updated'))
                    }, r)
                },
                k = function (e, t, n, r, i, a, o) {
                  for (var s = 0; s < t.length; s++) {
                    var u = e[s],
                      l = t[s],
                      c = u.el && (u.type === Vi || !ea(u, l) || 198 & u.shapeFlag) ? d(u.el) : n
                    m(u, l, c, null, r, i, a, o, !0)
                  }
                },
                R = function (e, t, n, r, i) {
                  if (t !== n) {
                    if (t !== E) for (var o in t) se(o) || o in n || a(e, o, t[o], null, i, r)
                    for (var s in n)
                      if (!se(s)) {
                        var u = n[s],
                          l = t[s]
                        u !== l && 'value' !== s && a(e, s, l, u, i, r)
                      }
                    'value' in n && a(e, 'value', t.value, n.value, i)
                  }
                },
                I = function (e, t, n, i, a, o, u, l, c) {
                  var d = (t.el = e ? e.el : s('')),
                    h = (t.anchor = e ? e.anchor : s('')),
                    f = t.patchFlag,
                    p = t.dynamicChildren,
                    v = t.slotScopeIds
                  ;(v && (l = l ? l.concat(v) : v),
                    null == e
                      ? (r(d, n, i), r(h, n, i), T(t.children || [], n, h, a, o, u, l, c))
                      : f > 0 && 64 & f && p && e.dynamicChildren
                        ? (k(e.dynamicChildren, p, n, a, o, u, l),
                          (null != t.key || (a && t === a.subTree)) && bi(e, t, !0))
                        : U(e, t, n, h, a, o, u, l, c))
                },
                N = function (e, t, n, r, i, a, o, s, u) {
                  ;((t.slotScopeIds = s),
                    null == e
                      ? 512 & t.shapeFlag
                        ? i.ctx.activate(t, n, r, o, u)
                        : P(t, n, r, i, a, o, u)
                      : L(e, t, u))
                },
                P = function (e, t, n, r, i, a, o) {
                  var s = (e.component = (function (e, t, n) {
                    var r = e.type,
                      i = (t ? t.appContext : e.appContext) || fa,
                      a = {
                        uid: pa++,
                        vnode: e,
                        type: r,
                        parent: t,
                        appContext: i,
                        root: null,
                        next: null,
                        subTree: null,
                        effect: null,
                        update: null,
                        job: null,
                        scope: new Le(!0),
                        render: null,
                        proxy: null,
                        exposed: null,
                        exposeProxy: null,
                        withProxy: null,
                        provides: t ? t.provides : Object.create(i.provides),
                        ids: t ? t.ids : ['', 0, 0],
                        accessCache: null,
                        renderCache: [],
                        components: null,
                        directives: null,
                        propsOptions: ci(r, i),
                        emitsOptions: Li(r, i),
                        emit: null,
                        emitted: null,
                        propsDefaults: E,
                        inheritAttrs: r.inheritAttrs,
                        ctx: E,
                        data: E,
                        props: E,
                        attrs: E,
                        slots: E,
                        refs: E,
                        setupState: E,
                        setupContext: null,
                        suspense: n,
                        suspenseId: n ? n.pendingId : 0,
                        asyncDep: null,
                        asyncResolved: !1,
                        isMounted: !1,
                        isUnmounted: !1,
                        isDeactivated: !1,
                        bc: null,
                        c: null,
                        bm: null,
                        m: null,
                        bu: null,
                        u: null,
                        um: null,
                        bum: null,
                        da: null,
                        a: null,
                        rtg: null,
                        rtc: null,
                        ec: null,
                        sp: null,
                      }
                    ;((a.ctx = { _: a }),
                      (a.root = t ? t.root : a),
                      (a.emit = Ni.bind(null, a)),
                      e.ce && e.ce(a))
                    return a
                  })(e, r, i))
                  if (
                    (hr(e) && (s.ctx.renderer = J),
                    (function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                      t && ma(t)
                      var r = e.vnode,
                        i = r.props,
                        a = r.children,
                        o = wa(e)
                      ;(oi(e, i, o, t),
                        (function (e, t, n) {
                          var r = (e.slots = ii())
                          if (32 & e.vnode.shapeFlag) {
                            var i = t._
                            i ? (mi(r, t, n), n && ge(r, '_', i, !0)) : pi(t, r)
                          } else t && vi(e, t)
                        })(e, a, n || t))
                      var s = o
                        ? (function (e, t) {
                            var n = e.type
                            ;((e.accessCache = Object.create(null)),
                              (e.proxy = new Proxy(e.ctx, Fr)))
                            var r = n.setup
                            if (r) {
                              $e()
                              var i = (e.setupContext =
                                  r.length > 1
                                    ? (function (e) {
                                        var t = function (t) {
                                          e.exposed = t || {}
                                        }
                                        return {
                                          attrs: new Proxy(e.attrs, Ea),
                                          slots: e.slots,
                                          emit: e.emit,
                                          expose: t,
                                        }
                                      })(e)
                                    : null),
                                a = ba(e),
                                o = yn(r, e, 0, [e.props, i]),
                                s = ne(o)
                              if ((et(), a(), (!s && !e.sp) || dr(e) || or(e), s)) {
                                if ((o.then(Sa, Sa), t))
                                  return o
                                    .then(function (t) {
                                      Ta(e, t)
                                    })
                                    .catch(function (t) {
                                      _n(t, e, 0)
                                    })
                                e.asyncDep = o
                              } else Ta(e, o)
                            } else Ma(e)
                          })(e, t)
                        : void 0
                      t && ma(!1)
                    })(s, !1, o),
                    s.asyncDep)
                  ) {
                    if ((i && i.registerDep(s, D, o), !e.el)) {
                      var u = (s.subTree = ia(Wi))
                      ;(y(null, u, t, n), (e.placeholder = u.el))
                    }
                  } else D(s, e, t, n, i, a, o)
                },
                L = function (e, t, n) {
                  var r = (t.component = e.component)
                  if (
                    (function (e, t, n) {
                      var r = e.props,
                        i = e.children,
                        a = e.component,
                        o = t.props,
                        s = t.children,
                        u = t.patchFlag,
                        l = a.emitsOptions
                      if (t.dirs || t.transition) return !0
                      if (!(n && u >= 0))
                        return (
                          !((!i && !s) || (s && s.$stable)) ||
                          (r !== o && (r ? !o || Ui(r, o, l) : !!o))
                        )
                      if (1024 & u) return !0
                      if (16 & u) return r ? Ui(r, o, l) : !!o
                      if (8 & u)
                        for (var c = t.dynamicProps, d = 0; d < c.length; d++) {
                          var h = c[d]
                          if (o[h] !== r[h] && !Di(l, h)) return !0
                        }
                      return !1
                    })(e, t, n)
                  ) {
                    if (r.asyncDep && !r.asyncResolved) return void F(r, t, n)
                    ;((r.next = t), r.update())
                  } else ((t.el = e.el), (r.vnode = t))
                },
                D = function (e, t, n, r, i, a, o) {
                  var s = function () {
                    if (e.isMounted) {
                      var u = e.next,
                        l = e.bu,
                        c = e.u,
                        h = e.parent,
                        f = e.vnode,
                        p = Si(e)
                      if (p)
                        return (
                          u && ((u.el = f.el), F(e, u, o)),
                          void p.asyncDep.then(function () {
                            e.isUnmounted || s()
                          })
                        )
                      var v,
                        g = u
                      ;(_i(e, !1),
                        u ? ((u.el = f.el), F(e, u, o)) : (u = f),
                        l && me(l),
                        (v = u.props && u.props.onVnodeBeforeUpdate) && ha(v, h, u, f),
                        _i(e, !0))
                      var y = Oi(e),
                        x = e.subTree
                      ;((e.subTree = y),
                        m(x, y, d(x.el), Y(x), e, i, a),
                        (u.el = y.el),
                        null === g &&
                          (function (e, t) {
                            var n = e.vnode,
                              r = e.parent
                            for (; r; ) {
                              var i = r.subTree
                              if (
                                (i.suspense && i.suspense.activeBranch === n && (i.el = n.el),
                                i !== n)
                              )
                                break
                              ;(((n = r.vnode).el = t), (r = r.parent))
                            }
                          })(e, y.el),
                        c && gi(c, i),
                        (v = u.props && u.props.onVnodeUpdated) &&
                          gi(function () {
                            return ha(v, h, u, f)
                          }, i))
                    } else {
                      var _,
                        b = t,
                        S = (b.el, b.props),
                        w = e.bm,
                        A = e.m,
                        T = e.parent,
                        M = e.root,
                        E = e.type,
                        C = dr(t)
                      ;(_i(e, !1),
                        w && me(w),
                        !C && (_ = S && S.onVnodeBeforeMount) && ha(_, T, t),
                        _i(e, !0),
                        M.ce && !1 !== M.ce._def.shadowRoot && M.ce._injectChildStyle(E))
                      var k = (e.subTree = Oi(e))
                      if (
                        (m(null, k, n, r, e, i, a),
                        (t.el = k.el),
                        A && gi(A, i),
                        !C && (_ = S && S.onVnodeMounted))
                      ) {
                        var R = t
                        gi(function () {
                          return ha(_, T, R)
                        }, i)
                      }
                      ;((256 & t.shapeFlag || (T && dr(T.vnode) && 256 & T.vnode.shapeFlag)) &&
                        e.a &&
                        gi(e.a, i),
                        (e.isMounted = !0),
                        (t = n = r = null))
                    }
                  }
                  e.scope.on()
                  var u = (e.effect = new ze(s))
                  e.scope.off()
                  var l = (e.update = u.run.bind(u)),
                    c = (e.job = u.runIfDirty.bind(u))
                  ;((c.i = e),
                    (c.id = e.uid),
                    (u.scheduler = function () {
                      return kn(c)
                    }),
                    _i(e, !0),
                    l())
                },
                F = function (e, t, n) {
                  t.component = e
                  var r = e.vnode.props
                  ;((e.vnode = t),
                    (e.next = null),
                    (function (e, t, n, r) {
                      var i = e.props,
                        a = e.attrs,
                        o = e.vnode.patchFlag,
                        s = Kt(i),
                        u = C(e.propsOptions, 1)[0],
                        l = !1
                      if (!(r || o > 0) || 16 & o) {
                        var c
                        for (var d in (si(e, t, i, a) && (l = !0), s))
                          (t && (X(t, d) || ((c = he(d)) !== d && X(t, c)))) ||
                            (u
                              ? !n ||
                                (void 0 === n[d] && void 0 === n[c]) ||
                                (i[d] = ui(u, s, d, void 0, e, !0))
                              : delete i[d])
                        if (a !== s) for (var h in a) (t && X(t, h)) || (delete a[h], (l = !0))
                      } else if (8 & o)
                        for (var f = e.vnode.dynamicProps, p = 0; p < f.length; p++) {
                          var v = f[p]
                          if (!Di(e.emitsOptions, v)) {
                            var m = t[v]
                            if (u)
                              if (X(a, v)) m !== a[v] && ((a[v] = m), (l = !0))
                              else {
                                var g = ce(v)
                                i[g] = ui(u, s, g, m, e, !1)
                              }
                            else m !== a[v] && ((a[v] = m), (l = !0))
                          }
                        }
                      l && dt(e.attrs, 'set', '')
                    })(e, t.props, r, n),
                    (function (e, t, n) {
                      var r = e.vnode,
                        i = e.slots,
                        a = !0,
                        o = E
                      if (32 & r.shapeFlag) {
                        var s = t._
                        ;(s
                          ? n && 1 === s
                            ? (a = !1)
                            : mi(i, t, n)
                          : ((a = !t.$stable), pi(t, i)),
                          (o = t))
                      } else t && (vi(e, t), (o = { default: 1 }))
                      if (a) for (var u in i) hi(u) || null != o[u] || delete i[u]
                    })(e, t.children, n),
                    $e(),
                    In(e),
                    et())
                },
                U = function (e, t, n, r, i, a, o, s) {
                  var u = arguments.length > 8 && void 0 !== arguments[8] && arguments[8],
                    l = e && e.children,
                    d = e ? e.shapeFlag : 0,
                    h = t.children,
                    f = t.patchFlag,
                    p = t.shapeFlag
                  if (f > 0) {
                    if (128 & f) return void V(l, h, n, r, i, a, o, s, u)
                    if (256 & f) return void z(l, h, n, r, i, a, o, s, u)
                  }
                  8 & p
                    ? (16 & d && q(l, i, a), h !== l && c(n, h))
                    : 16 & d
                      ? 16 & p
                        ? V(l, h, n, r, i, a, o, s, u)
                        : q(l, i, a, !0)
                      : (8 & d && c(n, ''), 16 & p && T(h, n, r, i, a, o, s, u))
                },
                z = function (e, t, n, r, i, a, o, s, u) {
                  t = t || O
                  var l,
                    c = (e = e || O).length,
                    d = t.length,
                    h = Math.min(c, d)
                  for (l = 0; l < h; l++) {
                    var f = (t[l] = u ? ca(t[l]) : la(t[l]))
                    m(e[l], f, n, null, i, a, o, s, u)
                  }
                  c > d ? q(e, i, a, !0, !1, h) : T(t, n, r, i, a, o, s, u, h)
                },
                V = function (e, t, n, r, i, a, o, s, u) {
                  for (var l = 0, c = t.length, d = e.length - 1, h = c - 1; l <= d && l <= h; ) {
                    var f = e[l],
                      p = (t[l] = u ? ca(t[l]) : la(t[l]))
                    if (!ea(f, p)) break
                    ;(m(f, p, n, null, i, a, o, s, u), l++)
                  }
                  for (; l <= d && l <= h; ) {
                    var v = e[d],
                      g = (t[h] = u ? ca(t[h]) : la(t[h]))
                    if (!ea(v, g)) break
                    ;(m(v, g, n, null, i, a, o, s, u), d--, h--)
                  }
                  if (l > d) {
                    if (l <= h)
                      for (var y = h + 1, x = y < c ? t[y].el : r; l <= h; )
                        (m(null, (t[l] = u ? ca(t[l]) : la(t[l])), n, x, i, a, o, s, u), l++)
                  } else if (l > h) for (; l <= d; ) (W(e[l], i, a, !0), l++)
                  else {
                    var _,
                      b = l,
                      S = l,
                      w = new Map()
                    for (l = S; l <= h; l++) {
                      var A = (t[l] = u ? ca(t[l]) : la(t[l]))
                      null != A.key && w.set(A.key, l)
                    }
                    var T = 0,
                      M = h - S + 1,
                      E = !1,
                      C = 0,
                      k = new Array(M)
                    for (l = 0; l < M; l++) k[l] = 0
                    for (l = b; l <= d; l++) {
                      var R = e[l]
                      if (T >= M) W(R, i, a, !0)
                      else {
                        var I = void 0
                        if (null != R.key) I = w.get(R.key)
                        else
                          for (_ = S; _ <= h; _++)
                            if (0 === k[_ - S] && ea(R, t[_])) {
                              I = _
                              break
                            }
                        void 0 === I
                          ? W(R, i, a, !0)
                          : ((k[I - S] = l + 1),
                            I >= C ? (C = I) : (E = !0),
                            m(R, t[I], n, null, i, a, o, s, u),
                            T++)
                      }
                    }
                    var N = E
                      ? (function (e) {
                          var t,
                            n,
                            r,
                            i,
                            a,
                            o = e.slice(),
                            s = [0],
                            u = e.length
                          for (t = 0; t < u; t++) {
                            var l = e[t]
                            if (0 !== l) {
                              if (e[(n = s[s.length - 1])] < l) {
                                ;((o[t] = n), s.push(t))
                                continue
                              }
                              for (r = 0, i = s.length - 1; r < i; )
                                e[s[(a = (r + i) >> 1)]] < l ? (r = a + 1) : (i = a)
                              l < e[s[r]] && (r > 0 && (o[t] = s[r - 1]), (s[r] = t))
                            }
                          }
                          ;((r = s.length), (i = s[r - 1]))
                          for (; r-- > 0; ) ((s[r] = i), (i = o[i]))
                          return s
                        })(k)
                      : O
                    for (_ = N.length - 1, l = M - 1; l >= 0; l--) {
                      var P = S + l,
                        L = t[P],
                        D = t[P + 1],
                        F = P + 1 < c ? D.el || D.placeholder : r
                      0 === k[l]
                        ? m(null, L, n, F, i, a, o, s, u)
                        : E && (_ < 0 || l !== N[_] ? H(L, n, F, 2) : _--)
                    }
                  }
                },
                H = function (e, t, n, a) {
                  var o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
                    s = e.el,
                    u = e.type,
                    l = e.transition,
                    c = e.children,
                    d = e.shapeFlag
                  if (6 & d) H(e.component.subTree, t, n, a)
                  else if (128 & d) e.suspense.move(t, n, a)
                  else if (64 & d) u.move(e, t, n, J)
                  else if (u !== Vi) {
                    if (u !== Gi)
                      if (2 !== a && 1 & d && l)
                        if (0 === a)
                          (l.beforeEnter(s),
                            r(s, t, n),
                            gi(function () {
                              return l.enter(s)
                            }, o))
                        else {
                          var h = l.leave,
                            f = l.delayLeave,
                            p = l.afterLeave,
                            v = function () {
                              e.ctx.isUnmounted ? i(s) : r(s, t, n)
                            },
                            m = function () {
                              ;(s._isLeaving && s[Jn](!0),
                                h(s, function () {
                                  ;(v(), p && p())
                                }))
                            }
                          f ? f(s, v, m) : m()
                        }
                      else r(s, t, n)
                    else _(e, t, n)
                  } else {
                    r(s, t, n)
                    for (var g = 0; g < c.length; g++) H(c[g], t, n, a)
                    r(e.anchor, t, n)
                  }
                },
                W = function (e, t, n) {
                  var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                    i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                    a = e.type,
                    o = e.props,
                    s = e.ref,
                    u = e.children,
                    l = e.dynamicChildren,
                    c = e.shapeFlag,
                    d = e.patchFlag,
                    h = e.dirs,
                    f = e.cacheIndex
                  if (
                    (-2 === d && (i = !1),
                    null != s && ($e(), lr(s, null, n, e, !0), et()),
                    null != f && (t.renderCache[f] = void 0),
                    256 & c)
                  )
                    t.ctx.deactivate(e)
                  else {
                    var p,
                      v = 1 & c && h,
                      m = !dr(e)
                    if ((m && (p = o && o.onVnodeBeforeUnmount) && ha(p, t, e), 6 & c))
                      Q(e.component, n, r)
                    else {
                      if (128 & c) return void e.suspense.unmount(n, r)
                      ;(v && zn(e, null, t, 'beforeUnmount'),
                        64 & c
                          ? e.type.remove(e, t, n, J, r)
                          : l && !l.hasOnce && (a !== Vi || (d > 0 && 64 & d))
                            ? q(l, t, n, !1, !0)
                            : ((a === Vi && 384 & d) || (!i && 16 & c)) && q(u, t, n),
                        r && G(e))
                    }
                    ;((m && (p = o && o.onVnodeUnmounted)) || v) &&
                      gi(function () {
                        ;(p && ha(p, t, e), v && zn(e, null, t, 'unmounted'))
                      }, n)
                  }
                },
                G = function (e) {
                  var t = e.type,
                    n = e.el,
                    r = e.anchor,
                    a = e.transition
                  if (t !== Vi)
                    if (t !== Gi) {
                      var o = function () {
                        ;(i(n), a && !a.persisted && a.afterLeave && a.afterLeave())
                      }
                      if (1 & e.shapeFlag && a && !a.persisted) {
                        var s = a.leave,
                          u = a.delayLeave,
                          l = function () {
                            return s(n, o)
                          }
                        u ? u(e.el, o, l) : l()
                      } else o()
                    } else b(e)
                  else j(n, r)
                },
                j = function (e, t) {
                  for (var n; e !== t; ) ((n = h(e)), i(e), (e = n))
                  i(t)
                },
                Q = function (e, t, n) {
                  var r = e.bum,
                    i = e.scope,
                    a = e.job,
                    o = e.subTree,
                    s = e.um,
                    u = e.m,
                    l = e.a
                  ;(wi(u),
                    wi(l),
                    r && me(r),
                    i.stop(),
                    a && ((a.flags |= 8), W(o, e, t, n)),
                    s && gi(s, t),
                    gi(function () {
                      e.isUnmounted = !0
                    }, t))
                },
                q = function (e, t, n) {
                  for (
                    var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                      i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                      a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                    a < e.length;
                    a++
                  )
                    W(e[a], t, n, r, i)
                },
                Y = function (e) {
                  if (6 & e.shapeFlag) return Y(e.component.subTree)
                  if (128 & e.shapeFlag) return e.suspense.next()
                  var t = h(e.anchor || e.el),
                    n = t && t[Vn]
                  return n ? h(n) : t
                },
                K = !1,
                Z = function (e, t, n) {
                  ;(null == e
                    ? t._vnode && W(t._vnode, null, null, !0)
                    : m(t._vnode || null, e, t, null, null, null, n),
                    (t._vnode = e),
                    K || ((K = !0), In(), Nn(), (K = !1)))
                },
                J = { p: m, um: W, m: H, r: G, mt: P, mc: T, pc: U, pbc: k, n: Y, o: e }
              return { render: Z, hydrate: n, createApp: $r(Z) }
            })(e)
          }
          function xi(e, t) {
            var n = e.type,
              r = e.props
            return ('svg' === t && 'foreignObject' === n) ||
              ('mathml' === t &&
                'annotation-xml' === n &&
                r &&
                r.encoding &&
                r.encoding.includes('html'))
              ? void 0
              : t
          }
          function _i(e, t) {
            var n = e.effect,
              r = e.job
            t ? ((n.flags |= 32), (r.flags |= 4)) : ((n.flags &= -33), (r.flags &= -5))
          }
          function bi(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = e.children,
              i = t.children
            if (Y(r) && Y(i))
              for (var a = 0; a < r.length; a++) {
                var o = r[a],
                  s = i[a]
                ;(1 & s.shapeFlag &&
                  !s.dynamicChildren &&
                  ((s.patchFlag <= 0 || 32 === s.patchFlag) && ((s = i[a] = ca(i[a])).el = o.el),
                  n || -2 === s.patchFlag || bi(o, s)),
                  s.type === Hi && -1 !== s.patchFlag && (s.el = o.el),
                  s.type !== Wi || s.el || (s.el = o.el))
              }
          }
          function Si(e) {
            var t = e.subTree.component
            if (t) return t.asyncDep && !t.asyncResolved ? t : Si(t)
          }
          function wi(e) {
            if (e) for (var t = 0; t < e.length; t++) e[t].flags |= 8
          }
          var Ai = Symbol.for('v-scx'),
            Ti = function () {
              return ni(Ai)
            }
          function Mi(e, t) {
            return Ci(e, null, t)
          }
          function Ei(e, t, n) {
            return Ci(e, t, n)
          }
          function Ci(e, t) {
            var n,
              r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : E,
              i = r.immediate,
              a = (r.deep, r.flush),
              o = (r.once, j({}, r)),
              s = (t && i) || (!t && 'post' !== a)
            if (Aa)
              if ('sync' === a) {
                var u = Ti()
                n = u.__watcherHandles || (u.__watcherHandles = [])
              } else if (!s) {
                var l = function () {}
                return ((l.stop = B), (l.resume = B), (l.pause = B), l)
              }
            var c = ga
            o.call = function (e, t, n) {
              return xn(e, c, t, n)
            }
            var d = !1
            ;('post' === a
              ? (o.scheduler = function (e) {
                  gi(e, c && c.suspense)
                })
              : 'sync' !== a &&
                ((d = !0),
                (o.scheduler = function (e, t) {
                  t ? e() : kn(e)
                })),
              (o.augmentJob = function (e) {
                ;(t && (e.flags |= 4), d && ((e.flags |= 2), c && ((e.id = c.uid), (e.i = c))))
              }))
            var h = mn(e, t, o)
            return (Aa && (n ? n.push(h) : s && h()), h)
          }
          function ki(e, t, n) {
            var r,
              i = this.proxy,
              a = $(e)
                ? e.includes('.')
                  ? Ri(i, e)
                  : function () {
                      return i[e]
                    }
                : e.bind(i, i)
            J(t) ? (r = t) : ((r = t.handler), (n = t))
            var o = ba(this),
              s = Ci(a, r.bind(i), n)
            return (o(), s)
          }
          function Ri(e, t) {
            var n = t.split('.')
            return function () {
              for (var t = e, r = 0; r < n.length && t; r++) t = t[n[r]]
              return t
            }
          }
          var Ii = function (e, t) {
            return 'modelValue' === t || 'model-value' === t
              ? e.modelModifiers
              : e[''.concat(t, 'Modifiers')] ||
                  e[''.concat(ce(t), 'Modifiers')] ||
                  e[''.concat(he(t), 'Modifiers')]
          }
          function Ni(e, t) {
            if (!e.isUnmounted) {
              for (
                var n = e.vnode.props || E,
                  r = arguments.length,
                  i = new Array(r > 2 ? r - 2 : 0),
                  a = 2;
                a < r;
                a++
              )
                i[a - 2] = arguments[a]
              var o,
                s = i,
                u = t.startsWith('update:'),
                l = u && Ii(n, t.slice(7))
              l &&
                (l.trim &&
                  (s = i.map(function (e) {
                    return $(e) ? e.trim() : e
                  })),
                l.number && (s = i.map(ye)))
              var c = n[(o = pe(t))] || n[(o = pe(ce(t)))]
              ;(!c && u && (c = n[(o = pe(he(t)))]), c && xn(c, e, 6, s))
              var d = n[o + 'Once']
              if (d) {
                if (e.emitted) {
                  if (e.emitted[o]) return
                } else e.emitted = {}
                ;((e.emitted[o] = !0), xn(d, e, 6, s))
              }
            }
          }
          var Pi = new WeakMap()
          function Li(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = n ? Pi : t.emitsCache,
              i = r.get(e)
            if (void 0 !== i) return i
            var a = e.emits,
              o = {},
              s = !1
            if (!J(e)) {
              var u = function (e) {
                var n = Li(e, t, !0)
                n && ((s = !0), j(o, n))
              }
              ;(!n && t.mixins.length && t.mixins.forEach(u),
                e.extends && u(e.extends),
                e.mixins && e.mixins.forEach(u))
            }
            return a || s
              ? (Y(a)
                  ? a.forEach(function (e) {
                      return (o[e] = null)
                    })
                  : j(o, a),
                te(e) && r.set(e, o),
                o)
              : (te(e) && r.set(e, null), null)
          }
          function Di(e, t) {
            return (
              !(!e || !W(t)) &&
              ((t = t.slice(2).replace(/Once$/, '')),
              X(e, t[0].toLowerCase() + t.slice(1)) || X(e, he(t)) || X(e, t))
            )
          }
          function Oi(e) {
            var t,
              n,
              r = e.type,
              i = e.vnode,
              a = e.proxy,
              o = e.withProxy,
              s = C(e.propsOptions, 1)[0],
              u = e.slots,
              l = e.attrs,
              c = e.emit,
              d = e.render,
              h = e.renderCache,
              f = e.props,
              p = e.data,
              v = e.setupState,
              m = e.ctx,
              g = e.inheritAttrs,
              y = Fn(e)
            try {
              if (4 & i.shapeFlag) {
                var x = o || a,
                  _ = x
                ;((t = la(d.call(_, x, h, f, v, p, m))), (n = l))
              } else {
                var b = r
                ;(0,
                  (t = la(b.length > 1 ? b(f, { attrs: l, slots: u, emit: c }) : b(f, null))),
                  (n = r.props ? l : Fi(l)))
              }
            } catch (T) {
              ;((ji.length = 0), _n(T, e, 1), (t = ia(Wi)))
            }
            var S = t
            if (n && !1 !== g) {
              var w = Object.keys(n),
                A = S.shapeFlag
              w.length && 7 & A && (s && w.some(G) && (n = Bi(n, s)), (S = aa(S, n, !1, !0)))
            }
            return (
              i.dirs && ((S = aa(S, null, !1, !0)).dirs = S.dirs ? S.dirs.concat(i.dirs) : i.dirs),
              i.transition && rr(S, i.transition),
              (t = S),
              Fn(y),
              t
            )
          }
          var Fi = function (e) {
              var t
              for (var n in e)
                ('class' === n || 'style' === n || W(n)) && ((t || (t = {}))[n] = e[n])
              return t
            },
            Bi = function (e, t) {
              var n = {}
              for (var r in e) (G(r) && r.slice(9) in t) || (n[r] = e[r])
              return n
            }
          function Ui(e, t, n) {
            var r = Object.keys(t)
            if (r.length !== Object.keys(e).length) return !0
            for (var i = 0; i < r.length; i++) {
              var a = r[i]
              if (t[a] !== e[a] && !Di(n, a)) return !0
            }
            return !1
          }
          var zi = function (e) {
            return e.__isSuspense
          }
          var Vi = Symbol.for('v-fgt'),
            Hi = Symbol.for('v-txt'),
            Wi = Symbol.for('v-cmt'),
            Gi = Symbol.for('v-stc'),
            ji = [],
            Qi = null
          function qi() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
            ji.push((Qi = e ? null : []))
          }
          var Xi = 1
          function Yi(e) {
            ;((Xi += e),
              e < 0 &&
                Qi &&
                arguments.length > 1 &&
                void 0 !== arguments[1] &&
                arguments[1] &&
                (Qi.hasOnce = !0))
          }
          function Ki(e) {
            return (
              (e.dynamicChildren = Xi > 0 ? Qi || O : null),
              ji.pop(),
              (Qi = ji[ji.length - 1] || null),
              Xi > 0 && Qi && Qi.push(e),
              e
            )
          }
          function Zi(e, t, n, r, i, a) {
            return Ki(ra(e, t, n, r, i, a, !0))
          }
          function Ji(e, t, n, r, i) {
            return Ki(ia(e, t, n, r, i, !0))
          }
          function $i(e) {
            return !!e && !0 === e.__v_isVNode
          }
          function ea(e, t) {
            return e.type === t.type && e.key === t.key
          }
          var ta = function (e) {
              var t = e.key
              return null != t ? t : null
            },
            na = function (e) {
              var t = e.ref,
                n = e.ref_key,
                r = e.ref_for
              return (
                'number' == typeof t && (t = '' + t),
                null != t ? ($(t) || en(t) || J(t) ? { i: Dn, r: t, k: n, f: !!r } : t) : null
              )
            }
          function ra(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
              n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
              r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
              i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
              a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : e === Vi ? 0 : 1,
              o = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
              s = arguments.length > 7 && void 0 !== arguments[7] && arguments[7],
              u = {
                __v_isVNode: !0,
                __v_skip: !0,
                type: e,
                props: t,
                key: t && ta(t),
                ref: t && na(t),
                scopeId: On,
                slotScopeIds: null,
                children: n,
                component: null,
                suspense: null,
                ssContent: null,
                ssFallback: null,
                dirs: null,
                transition: null,
                el: null,
                anchor: null,
                target: null,
                targetStart: null,
                targetAnchor: null,
                staticCount: 0,
                shapeFlag: a,
                patchFlag: r,
                dynamicProps: i,
                dynamicChildren: null,
                appContext: null,
                ctx: Dn,
              }
            return (
              s ? (da(u, n), 128 & a && e.normalize(u)) : n && (u.shapeFlag |= $(n) ? 8 : 16),
              Xi > 0 && !o && Qi && (u.patchFlag > 0 || 6 & a) && 32 !== u.patchFlag && Qi.push(u),
              u
            )
          }
          var ia = function (e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
              n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
              r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
              i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
              a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]
            ;(e && e !== Rr) || (e = Wi)
            if ($i(e)) {
              var o = aa(e, t, !0)
              return (
                n && da(o, n),
                Xi > 0 && !a && Qi && (6 & o.shapeFlag ? (Qi[Qi.indexOf(e)] = o) : Qi.push(o)),
                (o.patchFlag = -2),
                o
              )
            }
            ;((s = e), J(s) && '__vccOpts' in s && (e = e.__vccOpts))
            var s
            if (t) {
              var u = (t = (function (e) {
                  return e ? (Yt(e) || ai(e) ? j({}, e) : e) : null
                })(t)),
                l = u.class,
                c = u.style
              ;(l && !$(l) && (t.class = Te(l)),
                te(c) && (Yt(c) && !Y(c) && (c = j({}, c)), (t.style = _e(c))))
            }
            var d = $(e)
              ? 1
              : zi(e)
                ? 128
                : (function (e) {
                      return e.__isTeleport
                    })(e)
                  ? 64
                  : te(e)
                    ? 4
                    : J(e)
                      ? 2
                      : 0
            return ra(e, t, n, r, i, d, a, !0)
          }
          function aa(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
              i = e.props,
              a = e.ref,
              o = e.patchFlag,
              s = e.children,
              u = e.transition,
              l = t
                ? (function () {
                    for (var e = {}, t = 0; t < arguments.length; t++) {
                      var n = t < 0 || arguments.length <= t ? void 0 : arguments[t]
                      for (var r in n)
                        if ('class' === r) e.class !== n.class && (e.class = Te([e.class, n.class]))
                        else if ('style' === r) e.style = _e([e.style, n.style])
                        else if (W(r)) {
                          var i = e[r],
                            a = n[r]
                          !a ||
                            i === a ||
                            (Y(i) && i.includes(a)) ||
                            (e[r] = i ? [].concat(i, a) : a)
                        } else '' !== r && (e[r] = n[r])
                    }
                    return e
                  })(i || {}, t)
                : i,
              c = {
                __v_isVNode: !0,
                __v_skip: !0,
                type: e.type,
                props: l,
                key: l && ta(l),
                ref: t && t.ref ? (n && a ? (Y(a) ? a.concat(na(t)) : [a, na(t)]) : na(t)) : a,
                scopeId: e.scopeId,
                slotScopeIds: e.slotScopeIds,
                children: s,
                target: e.target,
                targetStart: e.targetStart,
                targetAnchor: e.targetAnchor,
                staticCount: e.staticCount,
                shapeFlag: e.shapeFlag,
                patchFlag: t && e.type !== Vi ? (-1 === o ? 16 : 16 | o) : o,
                dynamicProps: e.dynamicProps,
                dynamicChildren: e.dynamicChildren,
                appContext: e.appContext,
                dirs: e.dirs,
                transition: u,
                component: e.component,
                suspense: e.suspense,
                ssContent: e.ssContent && aa(e.ssContent),
                ssFallback: e.ssFallback && aa(e.ssFallback),
                placeholder: e.placeholder,
                el: e.el,
                anchor: e.anchor,
                ctx: e.ctx,
                ce: e.ce,
              }
            return (u && r && rr(c, u.clone(c)), c)
          }
          function oa() {
            return ia(
              Hi,
              null,
              arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ' ',
              arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
            )
          }
          function sa(e, t) {
            var n = ia(Gi, null, e)
            return ((n.staticCount = t), n)
          }
          function ua() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ''
            return arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
              ? (qi(), Ji(Wi, null, e))
              : ia(Wi, null, e)
          }
          function la(e) {
            return null == e || 'boolean' == typeof e
              ? ia(Wi)
              : Y(e)
                ? ia(Vi, null, e.slice())
                : $i(e)
                  ? ca(e)
                  : ia(Hi, null, String(e))
          }
          function ca(e) {
            return (null === e.el && -1 !== e.patchFlag) || e.memo ? e : aa(e)
          }
          function da(e, t) {
            var n = 0,
              r = e.shapeFlag
            if (null == t) t = null
            else if (Y(t)) n = 16
            else if ('object' === P(t)) {
              if (65 & r) {
                var i = t.default
                return void (i && (i._c && (i._d = !1), da(e, i()), i._c && (i._d = !0)))
              }
              n = 32
              var a = t._
              a || ai(t)
                ? 3 === a &&
                  Dn &&
                  (1 === Dn.slots._ ? (t._ = 1) : ((t._ = 2), (e.patchFlag |= 1024)))
                : (t._ctx = Dn)
            } else
              J(t)
                ? ((t = { default: t, _ctx: Dn }), (n = 32))
                : ((t = String(t)), 64 & r ? ((n = 16), (t = [oa(t)])) : (n = 8))
            ;((e.children = t), (e.shapeFlag |= n))
          }
          function ha(e, t, n) {
            xn(e, t, 7, [n, arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null])
          }
          var fa = Zr(),
            pa = 0
          var va,
            ma,
            ga = null,
            ya = function () {
              return ga || Dn
            },
            xa = xe(),
            _a = function (e, t) {
              var n
              return (
                (n = xa[e]) || (n = xa[e] = []),
                n.push(t),
                function (e) {
                  n.length > 1
                    ? n.forEach(function (t) {
                        return t(e)
                      })
                    : n[0](e)
                }
              )
            }
          ;((va = _a('__VUE_INSTANCE_SETTERS__', function (e) {
            return (ga = e)
          })),
            (ma = _a('__VUE_SSR_SETTERS__', function (e) {
              return (Aa = e)
            })))
          var ba = function (e) {
              var t = ga
              return (
                va(e),
                e.scope.on(),
                function () {
                  ;(e.scope.off(), va(t))
                }
              )
            },
            Sa = function () {
              ;(ga && ga.scope.off(), va(null))
            }
          function wa(e) {
            return 4 & e.vnode.shapeFlag
          }
          var Aa = !1
          function Ta(e, t, n) {
            ;(J(t)
              ? e.type.__ssrInlineRender
                ? (e.ssrRender = t)
                : (e.render = t)
              : te(t) && (e.setupState = un(t)),
              Ma(e))
          }
          function Ma(e, t, n) {
            var r = e.type
            e.render || (e.render = r.render || B)
            var i = ba(e)
            $e()
            try {
              zr(e)
            } finally {
              ;(et(), i())
            }
          }
          var Ea = {
            get: function (e, t) {
              return (ct(e, 0, ''), e[t])
            },
          }
          function Ca(e) {
            return e.exposed
              ? e.exposeProxy ||
                  (e.exposeProxy = new Proxy(un(Zt(e.exposed)), {
                    get: function (t, n) {
                      return n in t ? t[n] : n in Dr ? Dr[n](e) : void 0
                    },
                    has: function (e, t) {
                      return t in e || t in Dr
                    },
                  }))
              : e.proxy
          }
          function ka(e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
            return J(e) ? e.displayName || e.name : e.name || (t && e.__name)
          }
          var Ra = function (e, t) {
            var n = (function (e, t) {
              var n,
                r,
                i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
              return (J(e) ? (n = e) : ((n = e.get), (r = e.set)), new hn(n, r, i))
            })(e, t, Aa)
            return n
          }
          function Ia(e, t, n) {
            var r = function (e, t, n) {
                Yi(-1)
                try {
                  return ia(e, t, n)
                } finally {
                  Yi(1)
                }
              },
              i = arguments.length
            return 2 === i
              ? te(t) && !Y(t)
                ? $i(t)
                  ? r(e, null, [t])
                  : r(e, t)
                : r(e, null, t)
              : (i > 3
                  ? (n = Array.prototype.slice.call(arguments, 2))
                  : 3 === i && $i(n) && (n = [n]),
                r(e, t, n))
          }
          var Na = '3.5.21',
            Pa = void 0,
            La = 'undefined' != typeof window && window.trustedTypes
          /**
           * @vue/runtime-dom v3.5.21
           * (c) 2018-present Yuxi (Evan) You and Vue contributors
           * @license MIT
           **/ if (La)
            try {
              Pa = La.createPolicy('vue', {
                createHTML: function (e) {
                  return e
                },
              })
            } catch (u$) {}
          var Da = Pa
              ? function (e) {
                  return Pa.createHTML(e)
                }
              : function (e) {
                  return e
                },
            Oa = 'undefined' != typeof document ? document : null,
            Fa = Oa && Oa.createElement('template'),
            Ba = {
              insert: function (e, t, n) {
                t.insertBefore(e, n || null)
              },
              remove: function (e) {
                var t = e.parentNode
                t && t.removeChild(e)
              },
              createElement: function (e, t, n, r) {
                var i =
                  'svg' === t
                    ? Oa.createElementNS('http://www.w3.org/2000/svg', e)
                    : 'mathml' === t
                      ? Oa.createElementNS('http://www.w3.org/1998/Math/MathML', e)
                      : n
                        ? Oa.createElement(e, { is: n })
                        : Oa.createElement(e)
                return (
                  'select' === e &&
                    r &&
                    null != r.multiple &&
                    i.setAttribute('multiple', r.multiple),
                  i
                )
              },
              createText: function (e) {
                return Oa.createTextNode(e)
              },
              createComment: function (e) {
                return Oa.createComment(e)
              },
              setText: function (e, t) {
                e.nodeValue = t
              },
              setElementText: function (e, t) {
                e.textContent = t
              },
              parentNode: function (e) {
                return e.parentNode
              },
              nextSibling: function (e) {
                return e.nextSibling
              },
              querySelector: function (e) {
                return Oa.querySelector(e)
              },
              setScopeId: function (e, t) {
                e.setAttribute(t, '')
              },
              insertStaticContent: function (e, t, n, r, i, a) {
                var o = n ? n.previousSibling : t.lastChild
                if (i && (i === a || i.nextSibling))
                  for (; t.insertBefore(i.cloneNode(!0), n), i !== a && (i = i.nextSibling); );
                else {
                  Fa.innerHTML = Da(
                    'svg' === r
                      ? '<svg>'.concat(e, '</svg>')
                      : 'mathml' === r
                        ? '<math>'.concat(e, '</math>')
                        : e
                  )
                  var s = Fa.content
                  if ('svg' === r || 'mathml' === r) {
                    for (var u = s.firstChild; u.firstChild; ) s.appendChild(u.firstChild)
                    s.removeChild(u)
                  }
                  t.insertBefore(s, n)
                }
                return [o ? o.nextSibling : t.firstChild, n ? n.previousSibling : t.lastChild]
              },
            },
            Ua = 'transition',
            za = 'animation',
            Va = Symbol('_vtc'),
            Ha = {
              name: String,
              type: String,
              css: { type: Boolean, default: !0 },
              duration: [String, Number, Object],
              enterFromClass: String,
              enterActiveClass: String,
              enterToClass: String,
              appearFromClass: String,
              appearActiveClass: String,
              appearToClass: String,
              leaveFromClass: String,
              leaveActiveClass: String,
              leaveToClass: String,
            },
            Wa = j({}, tr, Ha),
            Ga = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
              Y(e)
                ? e.forEach(function (e) {
                    return e.apply(void 0, I(t))
                  })
                : e && e.apply(void 0, I(t))
            },
            ja = function (e) {
              return (
                !!e &&
                (Y(e)
                  ? e.some(function (e) {
                      return e.length > 1
                    })
                  : e.length > 1)
              )
            }
          function Qa(e) {
            var t = {}
            for (var n in e) n in Ha || (t[n] = e[n])
            if (!1 === e.css) return t
            var r = e.name,
              i = void 0 === r ? 'v' : r,
              a = e.type,
              o = e.duration,
              s = e.enterFromClass,
              u = void 0 === s ? ''.concat(i, '-enter-from') : s,
              l = e.enterActiveClass,
              c = void 0 === l ? ''.concat(i, '-enter-active') : l,
              d = e.enterToClass,
              h = void 0 === d ? ''.concat(i, '-enter-to') : d,
              f = e.appearFromClass,
              p = void 0 === f ? u : f,
              v = e.appearActiveClass,
              m = void 0 === v ? c : v,
              g = e.appearToClass,
              y = void 0 === g ? h : g,
              x = e.leaveFromClass,
              _ = void 0 === x ? ''.concat(i, '-leave-from') : x,
              b = e.leaveActiveClass,
              S = void 0 === b ? ''.concat(i, '-leave-active') : b,
              w = e.leaveToClass,
              A = void 0 === w ? ''.concat(i, '-leave-to') : w,
              T = (function (e) {
                if (null == e) return null
                if (te(e)) return [qa(e.enter), qa(e.leave)]
                var t = qa(e)
                return [t, t]
              })(o),
              M = T && T[0],
              E = T && T[1],
              C = t.onBeforeEnter,
              k = t.onEnter,
              R = t.onEnterCancelled,
              I = t.onLeave,
              N = t.onLeaveCancelled,
              P = t.onBeforeAppear,
              L = void 0 === P ? C : P,
              D = t.onAppear,
              O = void 0 === D ? k : D,
              F = t.onAppearCancelled,
              B = void 0 === F ? R : F,
              U = function (e, t, n, r) {
                ;((e._enterCancelled = r), Ya(e, t ? y : h), Ya(e, t ? m : c), n && n())
              },
              z = function (e, t) {
                ;((e._isLeaving = !1), Ya(e, _), Ya(e, A), Ya(e, S), t && t())
              },
              V = function (e) {
                return function (t, n) {
                  var r = e ? O : k,
                    i = function () {
                      return U(t, e, n)
                    }
                  ;(Ga(r, [t, i]),
                    Ka(function () {
                      ;(Ya(t, e ? p : u), Xa(t, e ? y : h), ja(r) || Ja(t, a, M, i))
                    }))
                }
              }
            return j(t, {
              onBeforeEnter: function (e) {
                ;(Ga(C, [e]), Xa(e, u), Xa(e, c))
              },
              onBeforeAppear: function (e) {
                ;(Ga(L, [e]), Xa(e, p), Xa(e, m))
              },
              onEnter: V(!1),
              onAppear: V(!0),
              onLeave: function (e, t) {
                e._isLeaving = !0
                var n = function () {
                  return z(e, t)
                }
                ;(Xa(e, _),
                  e._enterCancelled ? (Xa(e, S), no()) : (no(), Xa(e, S)),
                  Ka(function () {
                    e._isLeaving && (Ya(e, _), Xa(e, A), ja(I) || Ja(e, a, E, n))
                  }),
                  Ga(I, [e, n]))
              },
              onEnterCancelled: function (e) {
                ;(U(e, !1, void 0, !0), Ga(R, [e]))
              },
              onAppearCancelled: function (e) {
                ;(U(e, !0, void 0, !0), Ga(B, [e]))
              },
              onLeaveCancelled: function (e) {
                ;(z(e), Ga(N, [e]))
              },
            })
          }
          function qa(e) {
            var t = (function (e) {
              var t = $(e) ? Number(e) : NaN
              return isNaN(t) ? e : t
            })(e)
            return t
          }
          function Xa(e, t) {
            ;(t.split(/\s+/).forEach(function (t) {
              return t && e.classList.add(t)
            }),
              (e[Va] || (e[Va] = new Set())).add(t))
          }
          function Ya(e, t) {
            t.split(/\s+/).forEach(function (t) {
              return t && e.classList.remove(t)
            })
            var n = e[Va]
            n && (n.delete(t), n.size || (e[Va] = void 0))
          }
          function Ka(e) {
            requestAnimationFrame(function () {
              requestAnimationFrame(e)
            })
          }
          var Za = 0
          function Ja(e, t, n, r) {
            var i = (e._endId = ++Za),
              a = function () {
                i === e._endId && r()
              }
            if (null != n) return setTimeout(a, n)
            var o = $a(e, t),
              s = o.type,
              u = o.timeout,
              l = o.propCount
            if (!s) return r()
            var c = s + 'end',
              d = 0,
              h = function () {
                ;(e.removeEventListener(c, f), a())
              },
              f = function (t) {
                t.target === e && ++d >= l && h()
              }
            ;(setTimeout(function () {
              d < l && h()
            }, u + 1),
              e.addEventListener(c, f))
          }
          function $a(e, t) {
            var n = window.getComputedStyle(e),
              r = function (e) {
                return (n[e] || '').split(', ')
              },
              i = r(''.concat(Ua, 'Delay')),
              a = r(''.concat(Ua, 'Duration')),
              o = eo(i, a),
              s = r(''.concat(za, 'Delay')),
              u = r(''.concat(za, 'Duration')),
              l = eo(s, u),
              c = null,
              d = 0,
              h = 0
            return (
              t === Ua
                ? o > 0 && ((c = Ua), (d = o), (h = a.length))
                : t === za
                  ? l > 0 && ((c = za), (d = l), (h = u.length))
                  : (h = (c = (d = Math.max(o, l)) > 0 ? (o > l ? Ua : za) : null)
                      ? c === Ua
                        ? a.length
                        : u.length
                      : 0),
              {
                type: c,
                timeout: d,
                propCount: h,
                hasTransform:
                  c === Ua &&
                  /\b(?:transform|all)(?:,|$)/.test(r(''.concat(Ua, 'Property')).toString()),
              }
            )
          }
          function eo(e, t) {
            for (; e.length < t.length; ) e = e.concat(e)
            return Math.max.apply(
              Math,
              I(
                t.map(function (t, n) {
                  return to(t) + to(e[n])
                })
              )
            )
          }
          function to(e) {
            return 'auto' === e ? 0 : 1e3 * Number(e.slice(0, -1).replace(',', '.'))
          }
          function no() {
            return document.body.offsetHeight
          }
          var ro = Symbol('_vod'),
            io = Symbol('_vsh'),
            ao = {
              name: 'show',
              beforeMount: function (e, t, n) {
                var r = t.value,
                  i = n.transition
                ;((e[ro] = 'none' === e.style.display ? '' : e.style.display),
                  i && r ? i.beforeEnter(e) : oo(e, r))
              },
              mounted: function (e, t, n) {
                var r = t.value,
                  i = n.transition
                i && r && i.enter(e)
              },
              updated: function (e, t, n) {
                var r = t.value,
                  i = t.oldValue,
                  a = n.transition
                !r != !i &&
                  (a
                    ? r
                      ? (a.beforeEnter(e), oo(e, !0), a.enter(e))
                      : a.leave(e, function () {
                          oo(e, !1)
                        })
                    : oo(e, r))
              },
              beforeUnmount: function (e, t) {
                oo(e, t.value)
              },
            }
          function oo(e, t) {
            ;((e.style.display = t ? e[ro] : 'none'), (e[io] = !t))
          }
          var so = Symbol(''),
            uo = /(?:^|;)\s*display\s*:/
          var lo = /\s*!important$/
          function co(e, t, n) {
            if (Y(n))
              n.forEach(function (n) {
                return co(e, t, n)
              })
            else if ((null == n && (n = ''), t.startsWith('--'))) e.setProperty(t, n)
            else {
              var r = (function (e, t) {
                var n = fo[t]
                if (n) return n
                var r = ce(t)
                if ('filter' !== r && r in e) return (fo[t] = r)
                r = fe(r)
                for (var i = 0; i < ho.length; i++) {
                  var a = ho[i] + r
                  if (a in e) return (fo[t] = a)
                }
                return t
              })(e, t)
              lo.test(n) ? e.setProperty(he(r), n.replace(lo, ''), 'important') : (e[r] = n)
            }
          }
          var ho = ['Webkit', 'Moz', 'ms'],
            fo = {}
          var po = 'http://www.w3.org/1999/xlink'
          function vo(e, t, n, r, i) {
            var a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : Me(t)
            r && t.startsWith('xlink:')
              ? null == n
                ? e.removeAttributeNS(po, t.slice(6, t.length))
                : e.setAttributeNS(po, t, n)
              : null == n || (a && !Ee(n))
                ? e.removeAttribute(t)
                : e.setAttribute(t, a ? '' : ee(n) ? String(n) : n)
          }
          function mo(e, t, n, r, i) {
            if ('innerHTML' !== t && 'textContent' !== t) {
              var a = e.tagName
              if ('value' === t && 'PROGRESS' !== a && !a.includes('-')) {
                var o = 'OPTION' === a ? e.getAttribute('value') || '' : e.value,
                  s = null == n ? ('checkbox' === e.type ? 'on' : '') : String(n)
                return (
                  (o === s && '_value' in e) || (e.value = s),
                  null == n && e.removeAttribute(t),
                  void (e._value = n)
                )
              }
              var u = !1
              if ('' === n || null == n) {
                var l = P(e[t])
                'boolean' === l
                  ? (n = Ee(n))
                  : null == n && 'string' === l
                    ? ((n = ''), (u = !0))
                    : 'number' === l && ((n = 0), (u = !0))
              }
              try {
                e[t] = n
              } catch (u$) {}
              u && e.removeAttribute(i || t)
            } else null != n && (e[t] = 'innerHTML' === t ? Da(n) : n)
          }
          var go = Symbol('_vei')
          function yo(e, t, n, r) {
            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null,
              a = e[go] || (e[go] = {}),
              o = a[t]
            if (r && o) o.value = r
            else {
              var s = (function (e) {
                  var t
                  if (xo.test(e)) {
                    var n
                    for (t = {}; (n = e.match(xo)); )
                      ((e = e.slice(0, e.length - n[0].length)), (t[n[0].toLowerCase()] = !0))
                  }
                  var r = ':' === e[2] ? e.slice(3) : he(e.slice(2))
                  return [r, t]
                })(t),
                u = C(s, 2),
                l = u[0],
                c = u[1]
              if (r) {
                var d = (a[t] = (function (e, t) {
                  var n = function (e) {
                    if (e._vts) {
                      if (e._vts <= n.attached) return
                    } else e._vts = Date.now()
                    xn(
                      (function (e, t) {
                        if (Y(t)) {
                          var n = e.stopImmediatePropagation
                          return (
                            (e.stopImmediatePropagation = function () {
                              ;(n.call(e), (e._stopped = !0))
                            }),
                            t.map(function (e) {
                              return function (t) {
                                return !t._stopped && e && e(t)
                              }
                            })
                          )
                        }
                        return t
                      })(e, n.value),
                      t,
                      5,
                      [e]
                    )
                  }
                  return ((n.value = e), (n.attached = So()), n)
                })(r, i))
                !(function (e, t, n, r) {
                  e.addEventListener(t, n, r)
                })(e, l, d, c)
              } else
                o &&
                  (!(function (e, t, n, r) {
                    e.removeEventListener(t, n, r)
                  })(e, l, o, c),
                  (a[t] = void 0))
            }
          }
          var xo = /(?:Once|Passive|Capture)$/
          var _o = 0,
            bo = Promise.resolve(),
            So = function () {
              return (
                _o ||
                (bo.then(function () {
                  return (_o = 0)
                }),
                (_o = Date.now()))
              )
            }
          var wo = function (e) {
            return (
              111 === e.charCodeAt(0) &&
              110 === e.charCodeAt(1) &&
              e.charCodeAt(2) > 96 &&
              e.charCodeAt(2) < 123
            )
          }
          var Ao = new WeakMap(),
            To = new WeakMap(),
            Mo = Symbol('_moveCb'),
            Eo = Symbol('_enterCb'),
            Co = function (e) {
              return (delete e.props.mode, e)
            },
            ko = Co({
              name: 'TransitionGroup',
              props: j({}, Wa, { tag: String, moveClass: String }),
              setup: function (e, t) {
                var n,
                  r,
                  i = t.slots,
                  a = ya(),
                  o = (function () {
                    var e = {
                      isMounted: !1,
                      isLeaving: !1,
                      isUnmounting: !1,
                      leavingVNodes: new Map(),
                    }
                    return (
                      _r(function () {
                        e.isMounted = !0
                      }),
                      wr(function () {
                        e.isUnmounting = !0
                      }),
                      e
                    )
                  })()
                return (
                  Sr(function () {
                    if (n.length) {
                      var t = e.moveClass || ''.concat(e.name || 'v', '-move')
                      if (
                        (function (e, t, n) {
                          var r = e.cloneNode(),
                            i = e[Va]
                          i &&
                            i.forEach(function (e) {
                              e.split(/\s+/).forEach(function (e) {
                                return e && r.classList.remove(e)
                              })
                            })
                          ;(n.split(/\s+/).forEach(function (e) {
                            return e && r.classList.add(e)
                          }),
                            (r.style.display = 'none'))
                          var a = 1 === t.nodeType ? t : t.parentNode
                          a.appendChild(r)
                          var o = $a(r).hasTransform
                          return (a.removeChild(r), o)
                        })(n[0].el, a.vnode.el, t)
                      ) {
                        ;(n.forEach(Io), n.forEach(No))
                        var r = n.filter(Po)
                        ;(no(),
                          r.forEach(function (e) {
                            var n = e.el,
                              r = n.style
                            ;(Xa(n, t),
                              (r.transform = r.webkitTransform = r.transitionDuration = ''))
                            var i = (n[Mo] = function (e) {
                              ;(e && e.target !== n) ||
                                (e && !e.propertyName.endsWith('transform')) ||
                                (n.removeEventListener('transitionend', i),
                                (n[Mo] = null),
                                Ya(n, t))
                            })
                            n.addEventListener('transitionend', i)
                          }),
                          (n = []))
                      } else n = []
                    }
                  }),
                  function () {
                    var t = Kt(e),
                      s = Qa(t),
                      u = t.tag || Vi
                    if (((n = []), r))
                      for (var l = 0; l < r.length; l++) {
                        var c = r[l]
                        c.el &&
                          c.el instanceof Element &&
                          (n.push(c),
                          rr(c, nr(c, s, o, a)),
                          Ao.set(c, c.el.getBoundingClientRect()))
                      }
                    r = i.default ? ir(i.default()) : []
                    for (var d = 0; d < r.length; d++) {
                      var h = r[d]
                      null != h.key && rr(h, nr(h, s, o, a))
                    }
                    return ia(u, null, r)
                  }
                )
              },
            }),
            Ro = ko
          function Io(e) {
            var t = e.el
            ;(t[Mo] && t[Mo](), t[Eo] && t[Eo]())
          }
          function No(e) {
            To.set(e, e.el.getBoundingClientRect())
          }
          function Po(e) {
            var t = Ao.get(e),
              n = To.get(e),
              r = t.left - n.left,
              i = t.top - n.top
            if (r || i) {
              var a = e.el.style
              return (
                (a.transform = a.webkitTransform = 'translate('.concat(r, 'px,').concat(i, 'px)')),
                (a.transitionDuration = '0s'),
                e
              )
            }
          }
          var Lo,
            Do = ['ctrl', 'shift', 'alt', 'meta'],
            Oo = {
              stop: function (e) {
                return e.stopPropagation()
              },
              prevent: function (e) {
                return e.preventDefault()
              },
              self: function (e) {
                return e.target !== e.currentTarget
              },
              ctrl: function (e) {
                return !e.ctrlKey
              },
              shift: function (e) {
                return !e.shiftKey
              },
              alt: function (e) {
                return !e.altKey
              },
              meta: function (e) {
                return !e.metaKey
              },
              left: function (e) {
                return 'button' in e && 0 !== e.button
              },
              middle: function (e) {
                return 'button' in e && 1 !== e.button
              },
              right: function (e) {
                return 'button' in e && 2 !== e.button
              },
              exact: function (e, t) {
                return Do.some(function (n) {
                  return e[''.concat(n, 'Key')] && !t.includes(n)
                })
              },
            },
            Fo = function (e, t) {
              var n = e._withMods || (e._withMods = {}),
                r = t.join('.')
              return (
                n[r] ||
                (n[r] = function (n) {
                  for (var r = 0; r < t.length; r++) {
                    var i = Oo[t[r]]
                    if (i && i(n, t)) return
                  }
                  for (
                    var a = arguments.length, o = new Array(a > 1 ? a - 1 : 0), s = 1;
                    s < a;
                    s++
                  )
                    o[s - 1] = arguments[s]
                  return e.apply(void 0, [n].concat(o))
                })
              )
            },
            Bo = j(
              {
                patchProp: function (e, t, n, r, i, a) {
                  var o = 'svg' === i
                  'class' === t
                    ? (function (e, t, n) {
                        var r = e[Va]
                        ;(r && (t = (t ? [t].concat(I(r)) : I(r)).join(' ')),
                          null == t
                            ? e.removeAttribute('class')
                            : n
                              ? e.setAttribute('class', t)
                              : (e.className = t))
                      })(e, r, o)
                    : 'style' === t
                      ? (function (e, t, n) {
                          var r = e.style,
                            i = $(n),
                            a = !1
                          if (n && !i) {
                            if (t)
                              if ($(t)) {
                                var o,
                                  s = L(t.split(';'))
                                try {
                                  for (s.s(); !(o = s.n()).done; ) {
                                    var u = o.value,
                                      l = u.slice(0, u.indexOf(':')).trim()
                                    null == n[l] && co(r, l, '')
                                  }
                                } catch (f) {
                                  s.e(f)
                                } finally {
                                  s.f()
                                }
                              } else for (var c in t) null == n[c] && co(r, c, '')
                            for (var d in n) ('display' === d && (a = !0), co(r, d, n[d]))
                          } else if (i) {
                            if (t !== n) {
                              var h = r[so]
                              ;(h && (n += ';' + h), (r.cssText = n), (a = uo.test(n)))
                            }
                          } else t && e.removeAttribute('style')
                          ro in e && ((e[ro] = a ? r.display : ''), e[io] && (r.display = 'none'))
                        })(e, n, r)
                      : W(t)
                        ? G(t) || yo(e, t, n, r, a)
                        : (
                              '.' === t[0]
                                ? ((t = t.slice(1)), 1)
                                : '^' === t[0]
                                  ? ((t = t.slice(1)), 0)
                                  : (function (e, t, n, r) {
                                      if (r)
                                        return (
                                          'innerHTML' === t ||
                                          'textContent' === t ||
                                          !!(t in e && wo(t) && J(n))
                                        )
                                      if (
                                        'spellcheck' === t ||
                                        'draggable' === t ||
                                        'translate' === t ||
                                        'autocorrect' === t
                                      )
                                        return !1
                                      if ('form' === t) return !1
                                      if ('list' === t && 'INPUT' === e.tagName) return !1
                                      if ('type' === t && 'TEXTAREA' === e.tagName) return !1
                                      if ('width' === t || 'height' === t) {
                                        var i = e.tagName
                                        if (
                                          'IMG' === i ||
                                          'VIDEO' === i ||
                                          'CANVAS' === i ||
                                          'SOURCE' === i
                                        )
                                          return !1
                                      }
                                      if (wo(t) && $(n)) return !1
                                      return t in e
                                    })(e, t, r, o)
                            )
                          ? (mo(e, t, r),
                            e.tagName.includes('-') ||
                              ('value' !== t && 'checked' !== t && 'selected' !== t) ||
                              vo(e, t, r, o, a, 'value' !== t))
                          : !e._isVueCE || (!/[A-Z]/.test(t) && $(r))
                            ? ('true-value' === t
                                ? (e._trueValue = r)
                                : 'false-value' === t && (e._falseValue = r),
                              vo(e, t, r, o))
                            : mo(e, ce(t), r, 0, t)
                },
              },
              Ba
            )
          function Uo() {
            return Lo || (Lo = yi(Bo))
          }
          var zo,
            Vo = function () {
              var e
              ;(e = Uo()).render.apply(e, arguments)
            }
          var Ho,
            Wo,
            Go = function (e) {
              return (zo = e)
            },
            jo = Symbol()
          function Qo(e) {
            return (
              e &&
              'object' === P(e) &&
              '[object Object]' === Object.prototype.toString.call(e) &&
              'function' != typeof e.toJSON
            )
          }
          ;(((Wo = Ho || (Ho = {})).direct = 'direct'),
            (Wo.patchObject = 'patch object'),
            (Wo.patchFunction = 'patch function'))
          var qo = function () {}
          function Xo(e, t, n) {
            var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : qo
            e.push(t)
            var i,
              a = function () {
                var n = e.indexOf(t)
                n > -1 && (e.splice(n, 1), r())
              }
            return (!n && Oe() && ((i = a), Ce && Ce.cleanups.push(i)), a)
          }
          function Yo(e) {
            for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
              n[r - 1] = arguments[r]
            e.slice().forEach(function (e) {
              e.apply(void 0, n)
            })
          }
          var Ko = function (e) {
              return e()
            },
            Zo = Symbol(),
            Jo = Symbol()
          function $o(e, t) {
            for (var n in (e instanceof Map && t instanceof Map
              ? t.forEach(function (t, n) {
                  return e.set(n, t)
                })
              : e instanceof Set && t instanceof Set && t.forEach(e.add, e),
            t))
              if (t.hasOwnProperty(n)) {
                var r = t[n],
                  i = e[n]
                Qo(i) && Qo(r) && e.hasOwnProperty(n) && !en(r) && !Qt(r)
                  ? (e[n] = $o(i, r))
                  : (e[n] = r)
              }
            return e
          }
          var es = Symbol()
          function ts(e) {
            return !Qo(e) || !Object.prototype.hasOwnProperty.call(e, es)
          }
          var ns = Object.assign
          function rs(e) {
            return !(!en(e) || !e.effect)
          }
          function is(e, t, n, r) {
            var i,
              a = t.state,
              o = t.actions,
              s = t.getters,
              u = n.state.value[e]
            return (
              (i = as(
                e,
                function () {
                  u || (n.state.value[e] = a ? a() : {})
                  var t = (function (e) {
                    var t = Y(e) ? new Array(e.length) : {}
                    for (var n in e) t[n] = dn(e, n)
                    return t
                  })(n.state.value[e])
                  return ns(
                    t,
                    o,
                    Object.keys(s || {}).reduce(function (t, r) {
                      return (
                        (t[r] = Zt(
                          Ra(function () {
                            Go(n)
                            var t = n._s.get(e)
                            return s[r].call(t, t)
                          })
                        )),
                        t
                      )
                    }, {})
                  )
                },
                t,
                n,
                r,
                !0
              )),
              i
            )
          }
          function as(e, t) {
            var n,
              r,
              i,
              a,
              o,
              s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
              u = arguments.length > 3 ? arguments[3] : void 0,
              l = arguments.length > 5 ? arguments[5] : void 0,
              c = ns({ actions: {} }, s),
              d = { deep: !0 },
              h = [],
              f = [],
              p = u.state.value[e]
            function v(t) {
              var n
              ;((r = i = !1),
                'function' == typeof t
                  ? (t(u.state.value[e]), (n = { type: Ho.patchFunction, storeId: e, events: a }))
                  : ($o(u.state.value[e], t),
                    (n = { type: Ho.patchObject, payload: t, storeId: e, events: a })))
              var s = (o = Symbol())
              ;(Cn().then(function () {
                o === s && (r = !0)
              }),
                (i = !0),
                Yo(h, n, u.state.value[e]))
            }
            ;(l || p || (u.state.value[e] = {}), tn({}))
            var m = l
              ? function () {
                  var e = s.state,
                    t = e ? e() : {}
                  this.$patch(function (e) {
                    ns(e, t)
                  })
                }
              : qo
            var g = function (t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''
                if (Zo in t) return ((t[Jo] = n), t)
                var r = function () {
                  Go(u)
                  var n,
                    i = Array.from(arguments),
                    a = [],
                    o = []
                  Yo(f, {
                    args: i,
                    name: r[Jo],
                    store: x,
                    after: function (e) {
                      a.push(e)
                    },
                    onError: function (e) {
                      o.push(e)
                    },
                  })
                  try {
                    n = t.apply(this && this.$id === e ? this : x, i)
                  } catch (s) {
                    throw (Yo(o, s), s)
                  }
                  return n instanceof Promise
                    ? n
                        .then(function (e) {
                          return (Yo(a, e), e)
                        })
                        .catch(function (e) {
                          return (Yo(o, e), Promise.reject(e))
                        })
                    : (Yo(a, n), n)
                }
                return ((r[Zo] = !0), (r[Jo] = n), r)
              },
              y = {
                _p: u,
                $id: e,
                $onAction: Xo.bind(null, f),
                $patch: v,
                $reset: m,
                $subscribe: function (t) {
                  var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    s = Xo(h, t, o.detached, function () {
                      return l()
                    }),
                    l = n.run(function () {
                      return Ei(
                        function () {
                          return u.state.value[e]
                        },
                        function (n) {
                          ;('sync' === o.flush ? i : r) &&
                            t({ storeId: e, type: Ho.direct, events: a }, n)
                        },
                        ns({}, d, o)
                      )
                    })
                  return s
                },
                $dispose: function () {
                  ;(n.stop(), (h = []), (f = []), u._s.delete(e))
                },
              },
              x = Wt(y)
            u._s.set(e, x)
            var _ = ((u._a && u._a.runWithContext) || Ko)(function () {
              return u._e.run(function () {
                return (n = De()).run(function () {
                  return t({ action: g })
                })
              })
            })
            for (var b in _) {
              var S = _[b]
              if ((en(S) && !rs(S)) || Qt(S))
                l ||
                  (p && ts(S) && (en(S) ? (S.value = p[b]) : $o(S, p[b])),
                  (u.state.value[e][b] = S))
              else if ('function' == typeof S) {
                var w = g(S, b)
                ;((_[b] = w), (c.actions[b] = S))
              }
            }
            return (
              ns(x, _),
              ns(Kt(x), _),
              Object.defineProperty(x, '$state', {
                get: function () {
                  return u.state.value[e]
                },
                set: function (e) {
                  v(function (t) {
                    ns(t, e)
                  })
                },
              }),
              u._p.forEach(function (e) {
                ns(
                  x,
                  n.run(function () {
                    return e({ store: x, app: u._a, pinia: u, options: c })
                  })
                )
              }),
              p && l && s.hydrate && s.hydrate(x.$state, p),
              (r = !0),
              (i = !0),
              x
            )
          }
          /*! #__NO_SIDE_EFFECTS__ */ function os(e, t, n) {
            var r,
              i = 'function' == typeof t
            function a(n, a) {
              var o = !(!ya() && !ei)
              return (
                (n = n || (o ? ni(jo, null) : null)) && Go(n),
                (n = zo)._s.has(e) || (i ? as(e, t, r, n) : is(e, r, n)),
                n._s.get(e)
              )
            }
            return ((r = i ? n : t), (a.$id = e), a)
          }
          function ss(e) {
            var t = Kt(e),
              n = {},
              r = function (r) {
                var i = t[r]
                i.effect
                  ? (n[r] = Ra({
                      get: function () {
                        return e[r]
                      },
                      set: function (t) {
                        e[r] = t
                      },
                    }))
                  : (en(i) || Qt(i)) &&
                    (n[r] = (function (e, t, n) {
                      return en(e)
                        ? e
                        : J(e)
                          ? new cn(e)
                          : te(e) && arguments.length > 1
                            ? dn(e, t, n)
                            : tn(e)
                    })(e, r))
              }
            for (var i in t) r(i)
            return n
          }
          function us(e) {
            return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, 'default')
              ? e.default
              : e
          }
          var ls,
            cs = { exports: {} }
          var ds =
              (ls ||
                ((ls = 1),
                (function (e) {
                  var t = Object.prototype.hasOwnProperty,
                    n = '~'
                  function r() {}
                  function i(e, t, n) {
                    ;((this.fn = e), (this.context = t), (this.once = n || !1))
                  }
                  function a(e, t, r, a, o) {
                    if ('function' != typeof r)
                      throw new TypeError('The listener must be a function')
                    var s = new i(r, a || e, o),
                      u = n ? n + t : t
                    return (
                      e._events[u]
                        ? e._events[u].fn
                          ? (e._events[u] = [e._events[u], s])
                          : e._events[u].push(s)
                        : ((e._events[u] = s), e._eventsCount++),
                      e
                    )
                  }
                  function o(e, t) {
                    0 === --e._eventsCount ? (e._events = new r()) : delete e._events[t]
                  }
                  function s() {
                    ;((this._events = new r()), (this._eventsCount = 0))
                  }
                  ;(Object.create &&
                    ((r.prototype = Object.create(null)), new r().__proto__ || (n = !1)),
                    (s.prototype.eventNames = function () {
                      var e,
                        r,
                        i = []
                      if (0 === this._eventsCount) return i
                      for (r in (e = this._events)) t.call(e, r) && i.push(n ? r.slice(1) : r)
                      return Object.getOwnPropertySymbols
                        ? i.concat(Object.getOwnPropertySymbols(e))
                        : i
                    }),
                    (s.prototype.listeners = function (e) {
                      var t = n ? n + e : e,
                        r = this._events[t]
                      if (!r) return []
                      if (r.fn) return [r.fn]
                      for (var i = 0, a = r.length, o = new Array(a); i < a; i++) o[i] = r[i].fn
                      return o
                    }),
                    (s.prototype.listenerCount = function (e) {
                      var t = n ? n + e : e,
                        r = this._events[t]
                      return r ? (r.fn ? 1 : r.length) : 0
                    }),
                    (s.prototype.emit = function (e, t, r, i, a, o) {
                      var s = n ? n + e : e
                      if (!this._events[s]) return !1
                      var u,
                        l,
                        c = this._events[s],
                        d = arguments.length
                      if (c.fn) {
                        switch ((c.once && this.removeListener(e, c.fn, void 0, !0), d)) {
                          case 1:
                            return (c.fn.call(c.context), !0)
                          case 2:
                            return (c.fn.call(c.context, t), !0)
                          case 3:
                            return (c.fn.call(c.context, t, r), !0)
                          case 4:
                            return (c.fn.call(c.context, t, r, i), !0)
                          case 5:
                            return (c.fn.call(c.context, t, r, i, a), !0)
                          case 6:
                            return (c.fn.call(c.context, t, r, i, a, o), !0)
                        }
                        for (l = 1, u = new Array(d - 1); l < d; l++) u[l - 1] = arguments[l]
                        c.fn.apply(c.context, u)
                      } else {
                        var h,
                          f = c.length
                        for (l = 0; l < f; l++)
                          switch ((c[l].once && this.removeListener(e, c[l].fn, void 0, !0), d)) {
                            case 1:
                              c[l].fn.call(c[l].context)
                              break
                            case 2:
                              c[l].fn.call(c[l].context, t)
                              break
                            case 3:
                              c[l].fn.call(c[l].context, t, r)
                              break
                            case 4:
                              c[l].fn.call(c[l].context, t, r, i)
                              break
                            default:
                              if (!u)
                                for (h = 1, u = new Array(d - 1); h < d; h++)
                                  u[h - 1] = arguments[h]
                              c[l].fn.apply(c[l].context, u)
                          }
                      }
                      return !0
                    }),
                    (s.prototype.on = function (e, t, n) {
                      return a(this, e, t, n, !1)
                    }),
                    (s.prototype.once = function (e, t, n) {
                      return a(this, e, t, n, !0)
                    }),
                    (s.prototype.removeListener = function (e, t, r, i) {
                      var a = n ? n + e : e
                      if (!this._events[a]) return this
                      if (!t) return (o(this, a), this)
                      var s = this._events[a]
                      if (s.fn) s.fn !== t || (i && !s.once) || (r && s.context !== r) || o(this, a)
                      else {
                        for (var u = 0, l = [], c = s.length; u < c; u++)
                          (s[u].fn !== t || (i && !s[u].once) || (r && s[u].context !== r)) &&
                            l.push(s[u])
                        l.length ? (this._events[a] = 1 === l.length ? l[0] : l) : o(this, a)
                      }
                      return this
                    }),
                    (s.prototype.removeAllListeners = function (e) {
                      var t
                      return (
                        e
                          ? ((t = n ? n + e : e), this._events[t] && o(this, t))
                          : ((this._events = new r()), (this._eventsCount = 0)),
                        this
                      )
                    }),
                    (s.prototype.off = s.prototype.removeListener),
                    (s.prototype.addListener = s.prototype.on),
                    (s.prefixed = n),
                    (s.EventEmitter = s),
                    (e.exports = s))
                })(cs)),
              cs.exports),
            hs = us(ds),
            fs = (function (e) {
              return (
                (e.ErrorReceived = 'ErrorReceived'),
                (e.MessageReceived = 'MessageReceived'),
                (e.StartSpeech = 'StartSpeech'),
                (e.EndSpeech = 'EndSpeech'),
                (e.StateChanged = 'StateChanged'),
                e
              )
            })(fs || {}),
            ps = (function (e) {
              return (
                (e.WS_CLOSE = 'WS_CLOSE'),
                (e.WS_ERROR = 'WS_ERROR'),
                (e.WS_MESSAGE = 'WS_MESSAGE'),
                (e.WS_OPEN = 'WS_OPEN'),
                e
              )
            })(ps || {}),
            vs = (function (e) {
              return (
                (e.Player_EndSpeaking = 'Player_EndSpeaking'),
                (e.Player_NoLegacy = 'Player_NoLegacy'),
                (e.Player_StartSpeaking = 'Player_StartSpeaking'),
                (e.Player_WaitNextAudioClip = 'Player_WaitNextAudioClip'),
                e
              )
            })(vs || {}),
            ms = (function (e) {
              return (
                (e.Change_Status = 'Change_Status'),
                (e.Chat_BinsizeError = 'Chat_BinsizeError'),
                e
              )
            })(ms || {}),
            gs = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  M((n = y(this, t)), 'engine', void 0),
                  M(n, '_inited', !1),
                  n._init(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: '_init',
                    value: function (e) {
                      var t = this
                      this._inited ||
                        ((this._inited = !0),
                        (this.engine = new WebSocket(e)),
                        this.engine.addEventListener('error', function (e) {
                          t.emit(ps.WS_ERROR, e)
                        }),
                        this.engine.addEventListener('open', function () {
                          t.emit(ps.WS_OPEN)
                        }),
                        this.engine.addEventListener('message', function (e) {
                          t.emit(ps.WS_MESSAGE, e.data)
                        }),
                        this.engine.addEventListener('close', function () {
                          t.emit(ps.WS_CLOSE)
                        }))
                    },
                  },
                  {
                    key: 'send',
                    value: function (e) {
                      var t
                      null === (t = this.engine) || void 0 === t || t.send(e)
                    },
                  },
                  {
                    key: 'stop',
                    value: function () {
                      var e
                      ;(this.emit(ps.WS_CLOSE),
                        (this._inited = !1),
                        null === (e = this.engine) || void 0 === e || e.close())
                    },
                  },
                ])
              )
            })(hs),
            ys = (function (e) {
              return (
                (e.Idle = 'Idle'),
                (e.Listening = 'Listening'),
                (e.Responding = 'Responding'),
                (e.Thinking = 'Thinking'),
                e
              )
            })(ys || {}),
            xs = (function (e) {
              return ((e.closed = 'closed'), (e.open = 'open'), (e.waiting = 'waiting'), e)
            })(xs || {}),
            _s = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t, [e])).name = 'TimeoutError'), n)
              }
              return (b(t, e), T(t))
            })(m(Error)),
            bs = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).name = 'AbortError'), (n.message = e), n)
              }
              return (b(t, e), T(t))
            })(m(Error)),
            Ss = function (e) {
              return void 0 === globalThis.DOMException ? new bs(e) : new DOMException(e)
            },
            ws = function (e) {
              var t = void 0 === e.reason ? Ss('This operation was aborted.') : e.reason
              return t instanceof Error ? t : Ss(t)
            }
          function As(e, t) {
            var n,
              r,
              i = t.milliseconds,
              a = t.fallback,
              o = t.message,
              s = t.customTimers,
              u = void 0 === s ? { setTimeout: setTimeout, clearTimeout: clearTimeout } : s,
              l = new Promise(function (s, l) {
                if ('number' != typeof i || 1 !== Math.sign(i))
                  throw new TypeError(
                    'Expected `milliseconds` to be a positive number, got `'.concat(i, '`')
                  )
                if (t.signal) {
                  var c = t.signal
                  ;(c.aborted && l(ws(c)),
                    (r = function () {
                      l(ws(c))
                    }),
                    c.addEventListener('abort', r, { once: !0 }))
                }
                if (i !== Number.POSITIVE_INFINITY) {
                  var d = new _s()
                  ;((n = u.setTimeout.call(
                    void 0,
                    function () {
                      if (a)
                        try {
                          s(a())
                        } catch (t) {
                          l(t)
                        }
                      else
                        ('function' == typeof e.cancel && e.cancel(),
                          !1 === o
                            ? s()
                            : o instanceof Error
                              ? l(o)
                              : ((d.message =
                                  null != o
                                    ? o
                                    : 'Promise timed out after '.concat(i, ' milliseconds')),
                                l(d)))
                    },
                    i
                  )),
                    v(
                      h().m(function t() {
                        var n, r
                        return h().w(
                          function (t) {
                            for (;;)
                              switch ((t.p = t.n)) {
                                case 0:
                                  return ((t.p = 0), (n = s), (t.n = 1), e)
                                case 1:
                                  ;(n(t.v), (t.n = 3))
                                  break
                                case 2:
                                  ;((t.p = 2), (r = t.v), l(r))
                                case 3:
                                  return t.a(2)
                              }
                          },
                          t,
                          null,
                          [[0, 2]]
                        )
                      })
                    )())
                } else e.then(s, l)
              }),
              c = l.finally(function () {
                ;(c.clear(), r && t.signal && t.signal.removeEventListener('abort', r))
              })
            return (
              (c.clear = function () {
                ;(u.clearTimeout.call(void 0, n), (n = void 0))
              }),
              c
            )
          }
          var Ts = new WeakMap(),
            Ms = (function () {
              return T(
                function e() {
                  ;(w(this, e), u(this, Ts, []))
                },
                [
                  {
                    key: 'enqueue',
                    value: function (e, t) {
                      var n = { priority: (t = s({ priority: 0 }, t)).priority, id: t.id, run: e }
                      if (0 === this.size || c(Ts, this)[this.size - 1].priority >= t.priority)
                        c(Ts, this).push(n)
                      else {
                        var r = (function (e, t, n) {
                          for (var r = 0, i = e.length; i > 0; ) {
                            var a = Math.trunc(i / 2),
                              o = r + a
                            n(e[o], t) <= 0 ? ((r = ++o), (i -= a + 1)) : (i = a)
                          }
                          return r
                        })(c(Ts, this), n, function (e, t) {
                          return t.priority - e.priority
                        })
                        c(Ts, this).splice(r, 0, n)
                      }
                    },
                  },
                  {
                    key: 'setPriority',
                    value: function (e, t) {
                      var n = c(Ts, this).findIndex(function (t) {
                        return t.id === e
                      })
                      if (-1 === n)
                        throw new ReferenceError(
                          'No promise function with the id "'.concat(e, '" exists in the queue.')
                        )
                      var r = C(c(Ts, this).splice(n, 1), 1)[0]
                      this.enqueue(r.run, { priority: t, id: e })
                    },
                  },
                  {
                    key: 'dequeue',
                    value: function () {
                      var e = c(Ts, this).shift()
                      return null == e ? void 0 : e.run
                    },
                  },
                  {
                    key: 'filter',
                    value: function (e) {
                      return c(Ts, this)
                        .filter(function (t) {
                          return t.priority === e.priority
                        })
                        .map(function (e) {
                          return e.run
                        })
                    },
                  },
                  {
                    key: 'size',
                    get: function () {
                      return c(Ts, this).length
                    },
                  },
                ]
              )
            })(),
            Es = new WeakMap(),
            Cs = new WeakMap(),
            ks = new WeakMap(),
            Rs = new WeakMap(),
            Is = new WeakMap(),
            Ns = new WeakMap(),
            Ps = new WeakMap(),
            Ls = new WeakMap(),
            Ds = new WeakMap(),
            Os = new WeakMap(),
            Fs = new WeakMap(),
            Bs = new WeakMap(),
            Us = new WeakMap(),
            zs = new WeakMap(),
            Vs = new WeakMap(),
            Hs = new WeakSet(),
            Ws = (function (e) {
              function t(e) {
                var n, r, i, o, c
                if (
                  (w(this, t),
                  (function (e, t) {
                    ;(l(e, t), t.add(e))
                  })((n = y(this, t)), Hs),
                  u(n, Es, void 0),
                  u(n, Cs, void 0),
                  u(n, ks, 0),
                  u(n, Rs, void 0),
                  u(n, Is, void 0),
                  u(n, Ns, 0),
                  u(n, Ps, void 0),
                  u(n, Ls, void 0),
                  u(n, Ds, void 0),
                  u(n, Os, void 0),
                  u(n, Fs, 0),
                  u(n, Bs, void 0),
                  u(n, Us, void 0),
                  u(n, zs, void 0),
                  u(n, Vs, 1n),
                  M(n, 'timeout', void 0),
                  !(
                    'number' ==
                      typeof (e = s(
                        {
                          carryoverConcurrencyCount: !1,
                          intervalCap: Number.POSITIVE_INFINITY,
                          interval: 0,
                          concurrency: Number.POSITIVE_INFINITY,
                          autoStart: !0,
                          queueClass: Ms,
                        },
                        e
                      )).intervalCap && e.intervalCap >= 1
                  ))
                )
                  throw new TypeError(
                    'Expected `intervalCap` to be a number from 1 and up, got `'
                      .concat(
                        null !==
                          (r =
                            null === (i = e.intervalCap) || void 0 === i ? void 0 : i.toString()) &&
                          void 0 !== r
                          ? r
                          : '',
                        '` ('
                      )
                      .concat(P(e.intervalCap), ')')
                  )
                if (void 0 === e.interval || !(Number.isFinite(e.interval) && e.interval >= 0))
                  throw new TypeError(
                    'Expected `interval` to be a finite number >= 0, got `'
                      .concat(
                        null !==
                          (o = null === (c = e.interval) || void 0 === c ? void 0 : c.toString()) &&
                          void 0 !== o
                          ? o
                          : '',
                        '` ('
                      )
                      .concat(P(e.interval), ')')
                  )
                return (
                  a(Es, n, e.carryoverConcurrencyCount),
                  a(Cs, n, e.intervalCap === Number.POSITIVE_INFINITY || 0 === e.interval),
                  a(Rs, n, e.intervalCap),
                  a(Is, n, e.interval),
                  a(Ds, n, new e.queueClass()),
                  a(Os, n, e.queueClass),
                  (n.concurrency = e.concurrency),
                  (n.timeout = e.timeout),
                  a(zs, n, !0 === e.throwOnTimeout),
                  a(Us, n, !1 === e.autoStart),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'concurrency',
                    get: function () {
                      return c(Bs, this)
                    },
                    set: function (e) {
                      if (!('number' == typeof e && e >= 1))
                        throw new TypeError(
                          'Expected `concurrency` to be a number from 1 and up, got `'
                            .concat(e, '` (')
                            .concat(P(e), ')')
                        )
                      ;(a(Bs, this, e), d(Hs, this, Js).call(this))
                    },
                  },
                  {
                    key: 'setPriority',
                    value: function (e, t) {
                      c(Ds, this).setPriority(e, t)
                    },
                  },
                  {
                    key: 'add',
                    value:
                      ((f = v(
                        h().m(function e(t) {
                          var n,
                            r,
                            i,
                            o,
                            u,
                            l = this,
                            f = arguments
                          return h().w(
                            function (e) {
                              for (;;)
                                if (0 === e.n)
                                  return (
                                    (null !==
                                      (o = (i = u = f.length > 1 && void 0 !== f[1] ? f[1] : {})
                                        .id) &&
                                      void 0 !== o) ||
                                      (i.id = (a(Vs, this, ((n = c(Vs, this)), (r = n++), n)),
                                      r).toString()),
                                    (u = s(
                                      { timeout: this.timeout, throwOnTimeout: c(zs, this) },
                                      u
                                    )),
                                    e.a(
                                      2,
                                      new Promise(function (e, n) {
                                        ;(c(Ds, l).enqueue(
                                          v(
                                            h().m(function r() {
                                              var i, o, s, f, p, v
                                              return h().w(
                                                function (r) {
                                                  for (;;)
                                                    switch ((r.p = r.n)) {
                                                      case 0:
                                                        return (
                                                          a(Fs, l, ((i = c(Fs, l)), ++i)),
                                                          (r.p = 1),
                                                          null === (s = u.signal) ||
                                                            void 0 === s ||
                                                            s.throwIfAborted(),
                                                          a(ks, l, ((o = c(ks, l)), ++o)),
                                                          (f = t({ signal: u.signal })),
                                                          u.timeout &&
                                                            (f = As(Promise.resolve(f), {
                                                              milliseconds: u.timeout,
                                                            })),
                                                          u.signal &&
                                                            (f = Promise.race([
                                                              f,
                                                              d(Hs, l, $s).call(l, u.signal),
                                                            ])),
                                                          (r.n = 2),
                                                          f
                                                        )
                                                      case 2:
                                                        ;((p = r.v),
                                                          e(p),
                                                          l.emit('completed', p),
                                                          (r.n = 5))
                                                        break
                                                      case 3:
                                                        if (
                                                          ((r.p = 3),
                                                          !((v = r.v) instanceof _s) ||
                                                            u.throwOnTimeout)
                                                        ) {
                                                          r.n = 4
                                                          break
                                                        }
                                                        return (e(), r.a(2))
                                                      case 4:
                                                        ;(n(v), l.emit('error', v))
                                                      case 5:
                                                        return (
                                                          (r.p = 5),
                                                          d(Hs, l, Qs).call(l),
                                                          r.f(5)
                                                        )
                                                      case 6:
                                                        return r.a(2)
                                                    }
                                                },
                                                r,
                                                null,
                                                [[1, 3, 5, 6]]
                                              )
                                            })
                                          ),
                                          u
                                        ),
                                          l.emit('add'),
                                          d(Hs, l, Ys).call(l))
                                      })
                                    )
                                  )
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e) {
                        return f.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'addAll',
                    value:
                      ((o = v(
                        h().m(function e(t, n) {
                          var r = this
                          return h().w(function (e) {
                            for (;;)
                              if (0 === e.n)
                                return e.a(
                                  2,
                                  Promise.all(
                                    t.map(
                                      (function () {
                                        var e = v(
                                          h().m(function e(t) {
                                            return h().w(function (e) {
                                              for (;;) if (0 === e.n) return e.a(2, r.add(t, n))
                                            }, e)
                                          })
                                        )
                                        return function (t) {
                                          return e.apply(this, arguments)
                                        }
                                      })()
                                    )
                                  )
                                )
                          }, e)
                        })
                      )),
                      function (e, t) {
                        return o.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'start',
                    value: function () {
                      return c(Us, this)
                        ? (a(Us, this, !1), d(Hs, this, Js).call(this), this)
                        : this
                    },
                  },
                  {
                    key: 'pause',
                    value: function () {
                      a(Us, this, !0)
                    },
                  },
                  {
                    key: 'clear',
                    value: function () {
                      a(Ds, this, new (c(Os, this))())
                    },
                  },
                  {
                    key: 'onEmpty',
                    value:
                      ((i = v(
                        h().m(function e() {
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (0 !== c(Ds, this).size) {
                                      e.n = 1
                                      break
                                    }
                                    return e.a(2)
                                  case 1:
                                    return ((e.n = 2), d(Hs, this, tu).call(this, 'empty'))
                                  case 2:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function () {
                        return i.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'onSizeLessThan',
                    value:
                      ((r = v(
                        h().m(function e(t) {
                          var n = this
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (!(c(Ds, this).size < t)) {
                                      e.n = 1
                                      break
                                    }
                                    return e.a(2)
                                  case 1:
                                    return (
                                      (e.n = 2),
                                      d(Hs, this, tu).call(this, 'next', function () {
                                        return c(Ds, n).size < t
                                      })
                                    )
                                  case 2:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e) {
                        return r.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'onIdle',
                    value:
                      ((n = v(
                        h().m(function e() {
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (0 !== c(Fs, this) || 0 !== c(Ds, this).size) {
                                      e.n = 1
                                      break
                                    }
                                    return e.a(2)
                                  case 1:
                                    return ((e.n = 2), d(Hs, this, tu).call(this, 'idle'))
                                  case 2:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function () {
                        return n.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'size',
                    get: function () {
                      return c(Ds, this).size
                    },
                  },
                  {
                    key: 'sizeBy',
                    value: function (e) {
                      return c(Ds, this).filter(e).length
                    },
                  },
                  {
                    key: 'pending',
                    get: function () {
                      return c(Fs, this)
                    },
                  },
                  {
                    key: 'isPaused',
                    get: function () {
                      return c(Us, this)
                    },
                  },
                ])
              )
              var n, r, i, o, f
            })(hs)
          function Gs(e) {
            return c(Cs, e) || c(ks, e) < c(Rs, e)
          }
          function js(e) {
            return c(Fs, e) < c(Bs, e)
          }
          function Qs() {
            var e
            ;(a(Fs, this, ((e = c(Fs, this)), e--, e)),
              d(Hs, this, Ys).call(this),
              this.emit('next'))
          }
          function qs() {
            ;(d(Hs, this, Zs).call(this), d(Hs, this, Ks).call(this), a(Ls, this, void 0))
          }
          function Xs(e) {
            var t = Date.now()
            if (void 0 === c(Ps, e)) {
              var n = c(Ns, e) - t
              if (!(n < 0))
                return (
                  void 0 === c(Ls, e) &&
                    a(
                      Ls,
                      e,
                      setTimeout(function () {
                        d(Hs, e, qs).call(e)
                      }, n)
                    ),
                  !0
                )
              a(ks, e, c(Es, e) ? c(Fs, e) : 0)
            }
            return !1
          }
          function Ys() {
            if (0 === c(Ds, this).size)
              return (
                c(Ps, this) && clearInterval(c(Ps, this)),
                a(Ps, this, void 0),
                this.emit('empty'),
                0 === c(Fs, this) && this.emit('idle'),
                !1
              )
            if (!c(Us, this)) {
              var e = !i(Hs, this, Xs)
              if (i(Hs, this, Gs) && i(Hs, this, js)) {
                var t = c(Ds, this).dequeue()
                return !!t && (this.emit('active'), t(), e && d(Hs, this, Ks).call(this), !0)
              }
            }
            return !1
          }
          function Ks() {
            var e = this
            c(Cs, this) ||
              void 0 !== c(Ps, this) ||
              (a(
                Ps,
                this,
                setInterval(
                  function () {
                    d(Hs, e, Zs).call(e)
                  },
                  c(Is, this)
                )
              ),
              a(Ns, this, Date.now() + c(Is, this)))
          }
          function Zs() {
            ;(0 === c(ks, this) &&
              0 === c(Fs, this) &&
              c(Ps, this) &&
              (clearInterval(c(Ps, this)), a(Ps, this, void 0)),
              a(ks, this, c(Es, this) ? c(Fs, this) : 0),
              d(Hs, this, Js).call(this))
          }
          function Js() {
            for (; d(Hs, this, Ys).call(this); );
          }
          function $s(e) {
            return eu.apply(this, arguments)
          }
          function eu() {
            return (eu = v(
              h().m(function e(t) {
                return h().w(function (e) {
                  for (;;)
                    if (0 === e.n)
                      return e.a(
                        2,
                        new Promise(function (e, n) {
                          t.addEventListener(
                            'abort',
                            function () {
                              n(t.reason)
                            },
                            { once: !0 }
                          )
                        })
                      )
                }, e)
              })
            )).apply(this, arguments)
          }
          function tu(e, t) {
            return nu.apply(this, arguments)
          }
          function nu() {
            return (
              (nu = v(
                h().m(function e(t, n) {
                  var r = this
                  return h().w(function (e) {
                    for (;;)
                      if (0 === e.n)
                        return e.a(
                          2,
                          new Promise(function (e) {
                            var i = function () {
                              ;(n && !n()) || (r.off(t, i), e())
                            }
                            r.on(t, i)
                          })
                        )
                  }, e)
                })
              )),
              nu.apply(this, arguments)
            )
          }
          var ru,
            iu = {}
          function au() {
            if (ru) return iu
            ;((ru = 1),
              (iu.byteLength = function (e) {
                var t = a(e),
                  n = t[0],
                  r = t[1]
                return (3 * (n + r)) / 4 - r
              }),
              (iu.toByteArray = function (e) {
                var r,
                  i,
                  o = a(e),
                  s = o[0],
                  u = o[1],
                  l = new n(
                    (function (e, t, n) {
                      return (3 * (t + n)) / 4 - n
                    })(0, s, u)
                  ),
                  c = 0,
                  d = u > 0 ? s - 4 : s
                for (i = 0; i < d; i += 4)
                  ((r =
                    (t[e.charCodeAt(i)] << 18) |
                    (t[e.charCodeAt(i + 1)] << 12) |
                    (t[e.charCodeAt(i + 2)] << 6) |
                    t[e.charCodeAt(i + 3)]),
                    (l[c++] = (r >> 16) & 255),
                    (l[c++] = (r >> 8) & 255),
                    (l[c++] = 255 & r))
                2 === u &&
                  ((r = (t[e.charCodeAt(i)] << 2) | (t[e.charCodeAt(i + 1)] >> 4)),
                  (l[c++] = 255 & r))
                1 === u &&
                  ((r =
                    (t[e.charCodeAt(i)] << 10) |
                    (t[e.charCodeAt(i + 1)] << 4) |
                    (t[e.charCodeAt(i + 2)] >> 2)),
                  (l[c++] = (r >> 8) & 255),
                  (l[c++] = 255 & r))
                return l
              }),
              (iu.fromByteArray = function (t) {
                for (
                  var n, r = t.length, i = r % 3, a = [], o = 16383, u = 0, l = r - i;
                  u < l;
                  u += o
                )
                  a.push(s(t, u, u + o > l ? l : u + o))
                1 === i
                  ? ((n = t[r - 1]), a.push(e[n >> 2] + e[(n << 4) & 63] + '=='))
                  : 2 === i &&
                    ((n = (t[r - 2] << 8) + t[r - 1]),
                    a.push(e[n >> 10] + e[(n >> 4) & 63] + e[(n << 2) & 63] + '='))
                return a.join('')
              }))
            for (
              var e = [],
                t = [],
                n = 'undefined' != typeof Uint8Array ? Uint8Array : Array,
                r = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
                i = 0;
              i < 64;
              ++i
            )
              ((e[i] = r[i]), (t[r.charCodeAt(i)] = i))
            function a(e) {
              var t = e.length
              if (t % 4 > 0) throw new Error('Invalid string. Length must be a multiple of 4')
              var n = e.indexOf('=')
              return (-1 === n && (n = t), [n, n === t ? 0 : 4 - (n % 4)])
            }
            function o(t) {
              return e[(t >> 18) & 63] + e[(t >> 12) & 63] + e[(t >> 6) & 63] + e[63 & t]
            }
            function s(e, t, n) {
              for (var r, i = [], a = t; a < n; a += 3)
                ((r = ((e[a] << 16) & 16711680) + ((e[a + 1] << 8) & 65280) + (255 & e[a + 2])),
                  i.push(o(r)))
              return i.join('')
            }
            return ((t['-'.charCodeAt(0)] = 62), (t['_'.charCodeAt(0)] = 63), iu)
          }
          au()
          var ou,
            su,
            uu = {},
            lu = {}
          function cu() {
            return (
              ou ||
                ((ou = 1),
                (lu.read = function (e, t, n, r, i) {
                  var a,
                    o,
                    s = 8 * i - r - 1,
                    u = (1 << s) - 1,
                    l = u >> 1,
                    c = -7,
                    d = n ? i - 1 : 0,
                    h = n ? -1 : 1,
                    f = e[t + d]
                  for (
                    d += h, a = f & ((1 << -c) - 1), f >>= -c, c += s;
                    c > 0;
                    a = 256 * a + e[t + d], d += h, c -= 8
                  );
                  for (
                    o = a & ((1 << -c) - 1), a >>= -c, c += r;
                    c > 0;
                    o = 256 * o + e[t + d], d += h, c -= 8
                  );
                  if (0 === a) a = 1 - l
                  else {
                    if (a === u) return o ? NaN : (1 / 0) * (f ? -1 : 1)
                    ;((o += Math.pow(2, r)), (a -= l))
                  }
                  return (f ? -1 : 1) * o * Math.pow(2, a - r)
                }),
                (lu.write = function (e, t, n, r, i, a) {
                  var o,
                    s,
                    u,
                    l = 8 * a - i - 1,
                    c = (1 << l) - 1,
                    d = c >> 1,
                    h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                    f = r ? 0 : a - 1,
                    p = r ? 1 : -1,
                    v = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0
                  for (
                    t = Math.abs(t),
                      isNaN(t) || t === 1 / 0
                        ? ((s = isNaN(t) ? 1 : 0), (o = c))
                        : ((o = Math.floor(Math.log(t) / Math.LN2)),
                          t * (u = Math.pow(2, -o)) < 1 && (o--, (u *= 2)),
                          (t += o + d >= 1 ? h / u : h * Math.pow(2, 1 - d)) * u >= 2 &&
                            (o++, (u /= 2)),
                          o + d >= c
                            ? ((s = 0), (o = c))
                            : o + d >= 1
                              ? ((s = (t * u - 1) * Math.pow(2, i)), (o += d))
                              : ((s = t * Math.pow(2, d - 1) * Math.pow(2, i)), (o = 0)));
                    i >= 8;
                    e[n + f] = 255 & s, f += p, s /= 256, i -= 8
                  );
                  for (
                    o = (o << i) | s, l += i;
                    l > 0;
                    e[n + f] = 255 & o, f += p, o /= 256, l -= 8
                  );
                  e[n + f - p] |= 128 * v
                })),
              lu
            )
          }
          /*!
           * The buffer module from node.js, for the browser.
           *
           * @author   Feross Aboukhadijeh <https://feross.org>
           * @license  MIT
           */ function du() {
            return (
              su ||
                ((su = 1),
                (function (e) {
                  var t = au(),
                    n = cu(),
                    r =
                      'function' == typeof Symbol && 'function' == typeof Symbol.for
                        ? Symbol.for('nodejs.util.inspect.custom')
                        : null
                  ;((e.Buffer = o),
                    (e.SlowBuffer = function (e) {
                      ;+e != e && (e = 0)
                      return o.alloc(+e)
                    }),
                    (e.INSPECT_MAX_BYTES = 50))
                  var i = 2147483647
                  function a(e) {
                    if (e > i)
                      throw new RangeError('The value "' + e + '" is invalid for option "size"')
                    var t = new Uint8Array(e)
                    return (Object.setPrototypeOf(t, o.prototype), t)
                  }
                  function o(e, t, n) {
                    if ('number' == typeof e) {
                      if ('string' == typeof t)
                        throw new TypeError(
                          'The "string" argument must be of type string. Received type number'
                        )
                      return l(e)
                    }
                    return s(e, t, n)
                  }
                  function s(e, t, n) {
                    if ('string' == typeof e)
                      return (function (e, t) {
                        ;('string' == typeof t && '' !== t) || (t = 'utf8')
                        if (!o.isEncoding(t)) throw new TypeError('Unknown encoding: ' + t)
                        var n = 0 | f(e, t),
                          r = a(n),
                          i = r.write(e, t)
                        i !== n && (r = r.slice(0, i))
                        return r
                      })(e, t)
                    if (ArrayBuffer.isView(e))
                      return (function (e) {
                        if (J(e, Uint8Array)) {
                          var t = new Uint8Array(e)
                          return d(t.buffer, t.byteOffset, t.byteLength)
                        }
                        return c(e)
                      })(e)
                    if (null == e)
                      throw new TypeError(
                        'The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' +
                          P(e)
                      )
                    if (J(e, ArrayBuffer) || (e && J(e.buffer, ArrayBuffer))) return d(e, t, n)
                    if (
                      'undefined' != typeof SharedArrayBuffer &&
                      (J(e, SharedArrayBuffer) || (e && J(e.buffer, SharedArrayBuffer)))
                    )
                      return d(e, t, n)
                    if ('number' == typeof e)
                      throw new TypeError(
                        'The "value" argument must not be of type number. Received type number'
                      )
                    var r = e.valueOf && e.valueOf()
                    if (null != r && r !== e) return o.from(r, t, n)
                    var i = (function (e) {
                      if (o.isBuffer(e)) {
                        var t = 0 | h(e.length),
                          n = a(t)
                        return (0 === n.length || e.copy(n, 0, 0, t), n)
                      }
                      if (void 0 !== e.length)
                        return 'number' != typeof e.length || $(e.length) ? a(0) : c(e)
                      if ('Buffer' === e.type && Array.isArray(e.data)) return c(e.data)
                    })(e)
                    if (i) return i
                    if (
                      'undefined' != typeof Symbol &&
                      null != Symbol.toPrimitive &&
                      'function' == typeof e[Symbol.toPrimitive]
                    )
                      return o.from(e[Symbol.toPrimitive]('string'), t, n)
                    throw new TypeError(
                      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' +
                        P(e)
                    )
                  }
                  function u(e) {
                    if ('number' != typeof e)
                      throw new TypeError('"size" argument must be of type number')
                    if (e < 0)
                      throw new RangeError('The value "' + e + '" is invalid for option "size"')
                  }
                  function l(e) {
                    return (u(e), a(e < 0 ? 0 : 0 | h(e)))
                  }
                  function c(e) {
                    for (var t = e.length < 0 ? 0 : 0 | h(e.length), n = a(t), r = 0; r < t; r += 1)
                      n[r] = 255 & e[r]
                    return n
                  }
                  function d(e, t, n) {
                    if (t < 0 || e.byteLength < t)
                      throw new RangeError('"offset" is outside of buffer bounds')
                    if (e.byteLength < t + (n || 0))
                      throw new RangeError('"length" is outside of buffer bounds')
                    var r
                    return (
                      (r =
                        void 0 === t && void 0 === n
                          ? new Uint8Array(e)
                          : void 0 === n
                            ? new Uint8Array(e, t)
                            : new Uint8Array(e, t, n)),
                      Object.setPrototypeOf(r, o.prototype),
                      r
                    )
                  }
                  function h(e) {
                    if (e >= i)
                      throw new RangeError(
                        'Attempt to allocate Buffer larger than maximum size: 0x' +
                          i.toString(16) +
                          ' bytes'
                      )
                    return 0 | e
                  }
                  function f(e, t) {
                    if (o.isBuffer(e)) return e.length
                    if (ArrayBuffer.isView(e) || J(e, ArrayBuffer)) return e.byteLength
                    if ('string' != typeof e)
                      throw new TypeError(
                        'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' +
                          P(e)
                      )
                    var n = e.length,
                      r = arguments.length > 2 && !0 === arguments[2]
                    if (!r && 0 === n) return 0
                    for (var i = !1; ; )
                      switch (t) {
                        case 'ascii':
                        case 'latin1':
                        case 'binary':
                          return n
                        case 'utf8':
                        case 'utf-8':
                          return Y(e).length
                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                          return 2 * n
                        case 'hex':
                          return n >>> 1
                        case 'base64':
                          return K(e).length
                        default:
                          if (i) return r ? -1 : Y(e).length
                          ;((t = ('' + t).toLowerCase()), (i = !0))
                      }
                  }
                  function p(e, t, n) {
                    var r = !1
                    if (((void 0 === t || t < 0) && (t = 0), t > this.length)) return ''
                    if (((void 0 === n || n > this.length) && (n = this.length), n <= 0)) return ''
                    if ((n >>>= 0) <= (t >>>= 0)) return ''
                    for (e || (e = 'utf8'); ; )
                      switch (e) {
                        case 'hex':
                          return N(this, t, n)
                        case 'utf8':
                        case 'utf-8':
                          return C(this, t, n)
                        case 'ascii':
                          return R(this, t, n)
                        case 'latin1':
                        case 'binary':
                          return I(this, t, n)
                        case 'base64':
                          return E(this, t, n)
                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                          return L(this, t, n)
                        default:
                          if (r) throw new TypeError('Unknown encoding: ' + e)
                          ;((e = (e + '').toLowerCase()), (r = !0))
                      }
                  }
                  function v(e, t, n) {
                    var r = e[t]
                    ;((e[t] = e[n]), (e[n] = r))
                  }
                  function m(e, t, n, r, i) {
                    if (0 === e.length) return -1
                    if (
                      ('string' == typeof n
                        ? ((r = n), (n = 0))
                        : n > 2147483647
                          ? (n = 2147483647)
                          : n < -2147483648 && (n = -2147483648),
                      $((n = +n)) && (n = i ? 0 : e.length - 1),
                      n < 0 && (n = e.length + n),
                      n >= e.length)
                    ) {
                      if (i) return -1
                      n = e.length - 1
                    } else if (n < 0) {
                      if (!i) return -1
                      n = 0
                    }
                    if (('string' == typeof t && (t = o.from(t, r)), o.isBuffer(t)))
                      return 0 === t.length ? -1 : g(e, t, n, r, i)
                    if ('number' == typeof t)
                      return (
                        (t &= 255),
                        'function' == typeof Uint8Array.prototype.indexOf
                          ? i
                            ? Uint8Array.prototype.indexOf.call(e, t, n)
                            : Uint8Array.prototype.lastIndexOf.call(e, t, n)
                          : g(e, [t], n, r, i)
                      )
                    throw new TypeError('val must be string, number or Buffer')
                  }
                  function g(e, t, n, r, i) {
                    var a,
                      o = 1,
                      s = e.length,
                      u = t.length
                    if (
                      void 0 !== r &&
                      ('ucs2' === (r = String(r).toLowerCase()) ||
                        'ucs-2' === r ||
                        'utf16le' === r ||
                        'utf-16le' === r)
                    ) {
                      if (e.length < 2 || t.length < 2) return -1
                      ;((o = 2), (s /= 2), (u /= 2), (n /= 2))
                    }
                    function l(e, t) {
                      return 1 === o ? e[t] : e.readUInt16BE(t * o)
                    }
                    if (i) {
                      var c = -1
                      for (a = n; a < s; a++)
                        if (l(e, a) === l(t, -1 === c ? 0 : a - c)) {
                          if ((-1 === c && (c = a), a - c + 1 === u)) return c * o
                        } else (-1 !== c && (a -= a - c), (c = -1))
                    } else
                      for (n + u > s && (n = s - u), a = n; a >= 0; a--) {
                        for (var d = !0, h = 0; h < u; h++)
                          if (l(e, a + h) !== l(t, h)) {
                            d = !1
                            break
                          }
                        if (d) return a
                      }
                    return -1
                  }
                  function x(e, t, n, r) {
                    n = Number(n) || 0
                    var i = e.length - n
                    r ? (r = Number(r)) > i && (r = i) : (r = i)
                    var a,
                      o = t.length
                    for (r > o / 2 && (r = o / 2), a = 0; a < r; ++a) {
                      var s = parseInt(t.substr(2 * a, 2), 16)
                      if ($(s)) return a
                      e[n + a] = s
                    }
                    return a
                  }
                  function _(e, t, n, r) {
                    return Z(Y(t, e.length - n), e, n, r)
                  }
                  function S(e, t, n, r) {
                    return Z(
                      (function (e) {
                        for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n))
                        return t
                      })(t),
                      e,
                      n,
                      r
                    )
                  }
                  function A(e, t, n, r) {
                    return Z(K(t), e, n, r)
                  }
                  function M(e, t, n, r) {
                    return Z(
                      (function (e, t) {
                        for (var n, r, i, a = [], o = 0; o < e.length && !((t -= 2) < 0); ++o)
                          ((r = (n = e.charCodeAt(o)) >> 8), (i = n % 256), a.push(i), a.push(r))
                        return a
                      })(t, e.length - n),
                      e,
                      n,
                      r
                    )
                  }
                  function E(e, n, r) {
                    return 0 === n && r === e.length
                      ? t.fromByteArray(e)
                      : t.fromByteArray(e.slice(n, r))
                  }
                  function C(e, t, n) {
                    n = Math.min(e.length, n)
                    for (var r = [], i = t; i < n; ) {
                      var a = e[i],
                        o = null,
                        s = a > 239 ? 4 : a > 223 ? 3 : a > 191 ? 2 : 1
                      if (i + s <= n) {
                        var u = void 0,
                          l = void 0,
                          c = void 0,
                          d = void 0
                        switch (s) {
                          case 1:
                            a < 128 && (o = a)
                            break
                          case 2:
                            128 == (192 & (u = e[i + 1])) &&
                              (d = ((31 & a) << 6) | (63 & u)) > 127 &&
                              (o = d)
                            break
                          case 3:
                            ;((u = e[i + 1]),
                              (l = e[i + 2]),
                              128 == (192 & u) &&
                                128 == (192 & l) &&
                                (d = ((15 & a) << 12) | ((63 & u) << 6) | (63 & l)) > 2047 &&
                                (d < 55296 || d > 57343) &&
                                (o = d))
                            break
                          case 4:
                            ;((u = e[i + 1]),
                              (l = e[i + 2]),
                              (c = e[i + 3]),
                              128 == (192 & u) &&
                                128 == (192 & l) &&
                                128 == (192 & c) &&
                                (d =
                                  ((15 & a) << 18) |
                                  ((63 & u) << 12) |
                                  ((63 & l) << 6) |
                                  (63 & c)) > 65535 &&
                                d < 1114112 &&
                                (o = d))
                        }
                      }
                      ;(null === o
                        ? ((o = 65533), (s = 1))
                        : o > 65535 &&
                          ((o -= 65536),
                          r.push(((o >>> 10) & 1023) | 55296),
                          (o = 56320 | (1023 & o))),
                        r.push(o),
                        (i += s))
                    }
                    return (function (e) {
                      var t = e.length
                      if (t <= k) return String.fromCharCode.apply(String, e)
                      var n = '',
                        r = 0
                      for (; r < t; ) n += String.fromCharCode.apply(String, e.slice(r, (r += k)))
                      return n
                    })(r)
                  }
                  ;((e.kMaxLength = i),
                    (o.TYPED_ARRAY_SUPPORT = (function () {
                      try {
                        var e = new Uint8Array(1),
                          t = {
                            foo: function () {
                              return 42
                            },
                          }
                        return (
                          Object.setPrototypeOf(t, Uint8Array.prototype),
                          Object.setPrototypeOf(e, t),
                          42 === e.foo()
                        )
                      } catch (u$) {
                        return !1
                      }
                    })()),
                    o.TYPED_ARRAY_SUPPORT ||
                      'undefined' == typeof console ||
                      'function' != typeof console.error ||
                      console.error(
                        'This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
                      ),
                    Object.defineProperty(o.prototype, 'parent', {
                      enumerable: !0,
                      get: function () {
                        if (o.isBuffer(this)) return this.buffer
                      },
                    }),
                    Object.defineProperty(o.prototype, 'offset', {
                      enumerable: !0,
                      get: function () {
                        if (o.isBuffer(this)) return this.byteOffset
                      },
                    }),
                    (o.poolSize = 8192),
                    (o.from = function (e, t, n) {
                      return s(e, t, n)
                    }),
                    Object.setPrototypeOf(o.prototype, Uint8Array.prototype),
                    Object.setPrototypeOf(o, Uint8Array),
                    (o.alloc = function (e, t, n) {
                      return (function (e, t, n) {
                        return (
                          u(e),
                          e <= 0
                            ? a(e)
                            : void 0 !== t
                              ? 'string' == typeof n
                                ? a(e).fill(t, n)
                                : a(e).fill(t)
                              : a(e)
                        )
                      })(e, t, n)
                    }),
                    (o.allocUnsafe = function (e) {
                      return l(e)
                    }),
                    (o.allocUnsafeSlow = function (e) {
                      return l(e)
                    }),
                    (o.isBuffer = function (e) {
                      return null != e && !0 === e._isBuffer && e !== o.prototype
                    }),
                    (o.compare = function (e, t) {
                      if (
                        (J(e, Uint8Array) && (e = o.from(e, e.offset, e.byteLength)),
                        J(t, Uint8Array) && (t = o.from(t, t.offset, t.byteLength)),
                        !o.isBuffer(e) || !o.isBuffer(t))
                      )
                        throw new TypeError(
                          'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
                        )
                      if (e === t) return 0
                      for (var n = e.length, r = t.length, i = 0, a = Math.min(n, r); i < a; ++i)
                        if (e[i] !== t[i]) {
                          ;((n = e[i]), (r = t[i]))
                          break
                        }
                      return n < r ? -1 : r < n ? 1 : 0
                    }),
                    (o.isEncoding = function (e) {
                      switch (String(e).toLowerCase()) {
                        case 'hex':
                        case 'utf8':
                        case 'utf-8':
                        case 'ascii':
                        case 'latin1':
                        case 'binary':
                        case 'base64':
                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                          return !0
                        default:
                          return !1
                      }
                    }),
                    (o.concat = function (e, t) {
                      if (!Array.isArray(e))
                        throw new TypeError('"list" argument must be an Array of Buffers')
                      if (0 === e.length) return o.alloc(0)
                      var n
                      if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n) t += e[n].length
                      var r = o.allocUnsafe(t),
                        i = 0
                      for (n = 0; n < e.length; ++n) {
                        var a = e[n]
                        if (J(a, Uint8Array))
                          i + a.length > r.length
                            ? (o.isBuffer(a) || (a = o.from(a)), a.copy(r, i))
                            : Uint8Array.prototype.set.call(r, a, i)
                        else {
                          if (!o.isBuffer(a))
                            throw new TypeError('"list" argument must be an Array of Buffers')
                          a.copy(r, i)
                        }
                        i += a.length
                      }
                      return r
                    }),
                    (o.byteLength = f),
                    (o.prototype._isBuffer = !0),
                    (o.prototype.swap16 = function () {
                      var e = this.length
                      if (e % 2 != 0)
                        throw new RangeError('Buffer size must be a multiple of 16-bits')
                      for (var t = 0; t < e; t += 2) v(this, t, t + 1)
                      return this
                    }),
                    (o.prototype.swap32 = function () {
                      var e = this.length
                      if (e % 4 != 0)
                        throw new RangeError('Buffer size must be a multiple of 32-bits')
                      for (var t = 0; t < e; t += 4) (v(this, t, t + 3), v(this, t + 1, t + 2))
                      return this
                    }),
                    (o.prototype.swap64 = function () {
                      var e = this.length
                      if (e % 8 != 0)
                        throw new RangeError('Buffer size must be a multiple of 64-bits')
                      for (var t = 0; t < e; t += 8)
                        (v(this, t, t + 7),
                          v(this, t + 1, t + 6),
                          v(this, t + 2, t + 5),
                          v(this, t + 3, t + 4))
                      return this
                    }),
                    (o.prototype.toString = function () {
                      var e = this.length
                      return 0 === e
                        ? ''
                        : 0 === arguments.length
                          ? C(this, 0, e)
                          : p.apply(this, arguments)
                    }),
                    (o.prototype.toLocaleString = o.prototype.toString),
                    (o.prototype.equals = function (e) {
                      if (!o.isBuffer(e)) throw new TypeError('Argument must be a Buffer')
                      return this === e || 0 === o.compare(this, e)
                    }),
                    (o.prototype.inspect = function () {
                      var t = '',
                        n = e.INSPECT_MAX_BYTES
                      return (
                        (t = this.toString('hex', 0, n)
                          .replace(/(.{2})/g, '$1 ')
                          .trim()),
                        this.length > n && (t += ' ... '),
                        '<Buffer ' + t + '>'
                      )
                    }),
                    r && (o.prototype[r] = o.prototype.inspect),
                    (o.prototype.compare = function (e, t, n, r, i) {
                      if (
                        (J(e, Uint8Array) && (e = o.from(e, e.offset, e.byteLength)),
                        !o.isBuffer(e))
                      )
                        throw new TypeError(
                          'The "target" argument must be one of type Buffer or Uint8Array. Received type ' +
                            P(e)
                        )
                      if (
                        (void 0 === t && (t = 0),
                        void 0 === n && (n = e ? e.length : 0),
                        void 0 === r && (r = 0),
                        void 0 === i && (i = this.length),
                        t < 0 || n > e.length || r < 0 || i > this.length)
                      )
                        throw new RangeError('out of range index')
                      if (r >= i && t >= n) return 0
                      if (r >= i) return -1
                      if (t >= n) return 1
                      if (this === e) return 0
                      for (
                        var a = (i >>>= 0) - (r >>>= 0),
                          s = (n >>>= 0) - (t >>>= 0),
                          u = Math.min(a, s),
                          l = this.slice(r, i),
                          c = e.slice(t, n),
                          d = 0;
                        d < u;
                        ++d
                      )
                        if (l[d] !== c[d]) {
                          ;((a = l[d]), (s = c[d]))
                          break
                        }
                      return a < s ? -1 : s < a ? 1 : 0
                    }),
                    (o.prototype.includes = function (e, t, n) {
                      return -1 !== this.indexOf(e, t, n)
                    }),
                    (o.prototype.indexOf = function (e, t, n) {
                      return m(this, e, t, n, !0)
                    }),
                    (o.prototype.lastIndexOf = function (e, t, n) {
                      return m(this, e, t, n, !1)
                    }),
                    (o.prototype.write = function (e, t, n, r) {
                      if (void 0 === t) ((r = 'utf8'), (n = this.length), (t = 0))
                      else if (void 0 === n && 'string' == typeof t)
                        ((r = t), (n = this.length), (t = 0))
                      else {
                        if (!isFinite(t))
                          throw new Error(
                            'Buffer.write(string, encoding, offset[, length]) is no longer supported'
                          )
                        ;((t >>>= 0),
                          isFinite(n)
                            ? ((n >>>= 0), void 0 === r && (r = 'utf8'))
                            : ((r = n), (n = void 0)))
                      }
                      var i = this.length - t
                      if (
                        ((void 0 === n || n > i) && (n = i),
                        (e.length > 0 && (n < 0 || t < 0)) || t > this.length)
                      )
                        throw new RangeError('Attempt to write outside buffer bounds')
                      r || (r = 'utf8')
                      for (var a = !1; ; )
                        switch (r) {
                          case 'hex':
                            return x(this, e, t, n)
                          case 'utf8':
                          case 'utf-8':
                            return _(this, e, t, n)
                          case 'ascii':
                          case 'latin1':
                          case 'binary':
                            return S(this, e, t, n)
                          case 'base64':
                            return A(this, e, t, n)
                          case 'ucs2':
                          case 'ucs-2':
                          case 'utf16le':
                          case 'utf-16le':
                            return M(this, e, t, n)
                          default:
                            if (a) throw new TypeError('Unknown encoding: ' + r)
                            ;((r = ('' + r).toLowerCase()), (a = !0))
                        }
                    }),
                    (o.prototype.toJSON = function () {
                      return {
                        type: 'Buffer',
                        data: Array.prototype.slice.call(this._arr || this, 0),
                      }
                    }))
                  var k = 4096
                  function R(e, t, n) {
                    var r = ''
                    n = Math.min(e.length, n)
                    for (var i = t; i < n; ++i) r += String.fromCharCode(127 & e[i])
                    return r
                  }
                  function I(e, t, n) {
                    var r = ''
                    n = Math.min(e.length, n)
                    for (var i = t; i < n; ++i) r += String.fromCharCode(e[i])
                    return r
                  }
                  function N(e, t, n) {
                    var r = e.length
                    ;((!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r))
                    for (var i = '', a = t; a < n; ++a) i += ee[e[a]]
                    return i
                  }
                  function L(e, t, n) {
                    for (var r = e.slice(t, n), i = '', a = 0; a < r.length - 1; a += 2)
                      i += String.fromCharCode(r[a] + 256 * r[a + 1])
                    return i
                  }
                  function D(e, t, n) {
                    if (e % 1 != 0 || e < 0) throw new RangeError('offset is not uint')
                    if (e + t > n) throw new RangeError('Trying to access beyond buffer length')
                  }
                  function O(e, t, n, r, i, a) {
                    if (!o.isBuffer(e))
                      throw new TypeError('"buffer" argument must be a Buffer instance')
                    if (t > i || t < a) throw new RangeError('"value" argument is out of bounds')
                    if (n + r > e.length) throw new RangeError('Index out of range')
                  }
                  function F(e, t, n, r, i) {
                    j(t, r, i, e, n, 7)
                    var a = Number(t & BigInt(4294967295))
                    ;((e[n++] = a),
                      (a >>= 8),
                      (e[n++] = a),
                      (a >>= 8),
                      (e[n++] = a),
                      (a >>= 8),
                      (e[n++] = a))
                    var o = Number((t >> BigInt(32)) & BigInt(4294967295))
                    return (
                      (e[n++] = o),
                      (o >>= 8),
                      (e[n++] = o),
                      (o >>= 8),
                      (e[n++] = o),
                      (o >>= 8),
                      (e[n++] = o),
                      n
                    )
                  }
                  function B(e, t, n, r, i) {
                    j(t, r, i, e, n, 7)
                    var a = Number(t & BigInt(4294967295))
                    ;((e[n + 7] = a),
                      (a >>= 8),
                      (e[n + 6] = a),
                      (a >>= 8),
                      (e[n + 5] = a),
                      (a >>= 8),
                      (e[n + 4] = a))
                    var o = Number((t >> BigInt(32)) & BigInt(4294967295))
                    return (
                      (e[n + 3] = o),
                      (o >>= 8),
                      (e[n + 2] = o),
                      (o >>= 8),
                      (e[n + 1] = o),
                      (o >>= 8),
                      (e[n] = o),
                      n + 8
                    )
                  }
                  function U(e, t, n, r, i, a) {
                    if (n + r > e.length) throw new RangeError('Index out of range')
                    if (n < 0) throw new RangeError('Index out of range')
                  }
                  function z(e, t, r, i, a) {
                    return (
                      (t = +t),
                      (r >>>= 0),
                      a || U(e, 0, r, 4),
                      n.write(e, t, r, i, 23, 4),
                      r + 4
                    )
                  }
                  function V(e, t, r, i, a) {
                    return (
                      (t = +t),
                      (r >>>= 0),
                      a || U(e, 0, r, 8),
                      n.write(e, t, r, i, 52, 8),
                      r + 8
                    )
                  }
                  ;((o.prototype.slice = function (e, t) {
                    var n = this.length
                    ;((e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n),
                      (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n),
                      t < e && (t = e))
                    var r = this.subarray(e, t)
                    return (Object.setPrototypeOf(r, o.prototype), r)
                  }),
                    (o.prototype.readUintLE = o.prototype.readUIntLE =
                      function (e, t, n) {
                        ;((e >>>= 0), (t >>>= 0), n || D(e, t, this.length))
                        for (var r = this[e], i = 1, a = 0; ++a < t && (i *= 256); )
                          r += this[e + a] * i
                        return r
                      }),
                    (o.prototype.readUintBE = o.prototype.readUIntBE =
                      function (e, t, n) {
                        ;((e >>>= 0), (t >>>= 0), n || D(e, t, this.length))
                        for (var r = this[e + --t], i = 1; t > 0 && (i *= 256); )
                          r += this[e + --t] * i
                        return r
                      }),
                    (o.prototype.readUint8 = o.prototype.readUInt8 =
                      function (e, t) {
                        return ((e >>>= 0), t || D(e, 1, this.length), this[e])
                      }),
                    (o.prototype.readUint16LE = o.prototype.readUInt16LE =
                      function (e, t) {
                        return ((e >>>= 0), t || D(e, 2, this.length), this[e] | (this[e + 1] << 8))
                      }),
                    (o.prototype.readUint16BE = o.prototype.readUInt16BE =
                      function (e, t) {
                        return ((e >>>= 0), t || D(e, 2, this.length), (this[e] << 8) | this[e + 1])
                      }),
                    (o.prototype.readUint32LE = o.prototype.readUInt32LE =
                      function (e, t) {
                        return (
                          (e >>>= 0),
                          t || D(e, 4, this.length),
                          (this[e] | (this[e + 1] << 8) | (this[e + 2] << 16)) +
                            16777216 * this[e + 3]
                        )
                      }),
                    (o.prototype.readUint32BE = o.prototype.readUInt32BE =
                      function (e, t) {
                        return (
                          (e >>>= 0),
                          t || D(e, 4, this.length),
                          16777216 * this[e] +
                            ((this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3])
                        )
                      }),
                    (o.prototype.readBigUInt64LE = te(function (e) {
                      Q((e >>>= 0), 'offset')
                      var t = this[e],
                        n = this[e + 7]
                      ;(void 0 !== t && void 0 !== n) || q(e, this.length - 8)
                      var r =
                          t +
                          this[++e] * Math.pow(2, 8) +
                          this[++e] * Math.pow(2, 16) +
                          this[++e] * Math.pow(2, 24),
                        i =
                          this[++e] +
                          this[++e] * Math.pow(2, 8) +
                          this[++e] * Math.pow(2, 16) +
                          n * Math.pow(2, 24)
                      return BigInt(r) + (BigInt(i) << BigInt(32))
                    })),
                    (o.prototype.readBigUInt64BE = te(function (e) {
                      Q((e >>>= 0), 'offset')
                      var t = this[e],
                        n = this[e + 7]
                      ;(void 0 !== t && void 0 !== n) || q(e, this.length - 8)
                      var r =
                          t * Math.pow(2, 24) +
                          this[++e] * Math.pow(2, 16) +
                          this[++e] * Math.pow(2, 8) +
                          this[++e],
                        i =
                          this[++e] * Math.pow(2, 24) +
                          this[++e] * Math.pow(2, 16) +
                          this[++e] * Math.pow(2, 8) +
                          n
                      return (BigInt(r) << BigInt(32)) + BigInt(i)
                    })),
                    (o.prototype.readIntLE = function (e, t, n) {
                      ;((e >>>= 0), (t >>>= 0), n || D(e, t, this.length))
                      for (var r = this[e], i = 1, a = 0; ++a < t && (i *= 256); )
                        r += this[e + a] * i
                      return (r >= (i *= 128) && (r -= Math.pow(2, 8 * t)), r)
                    }),
                    (o.prototype.readIntBE = function (e, t, n) {
                      ;((e >>>= 0), (t >>>= 0), n || D(e, t, this.length))
                      for (var r = t, i = 1, a = this[e + --r]; r > 0 && (i *= 256); )
                        a += this[e + --r] * i
                      return (a >= (i *= 128) && (a -= Math.pow(2, 8 * t)), a)
                    }),
                    (o.prototype.readInt8 = function (e, t) {
                      return (
                        (e >>>= 0),
                        t || D(e, 1, this.length),
                        128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
                      )
                    }),
                    (o.prototype.readInt16LE = function (e, t) {
                      ;((e >>>= 0), t || D(e, 2, this.length))
                      var n = this[e] | (this[e + 1] << 8)
                      return 32768 & n ? 4294901760 | n : n
                    }),
                    (o.prototype.readInt16BE = function (e, t) {
                      ;((e >>>= 0), t || D(e, 2, this.length))
                      var n = this[e + 1] | (this[e] << 8)
                      return 32768 & n ? 4294901760 | n : n
                    }),
                    (o.prototype.readInt32LE = function (e, t) {
                      return (
                        (e >>>= 0),
                        t || D(e, 4, this.length),
                        this[e] | (this[e + 1] << 8) | (this[e + 2] << 16) | (this[e + 3] << 24)
                      )
                    }),
                    (o.prototype.readInt32BE = function (e, t) {
                      return (
                        (e >>>= 0),
                        t || D(e, 4, this.length),
                        (this[e] << 24) | (this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3]
                      )
                    }),
                    (o.prototype.readBigInt64LE = te(function (e) {
                      Q((e >>>= 0), 'offset')
                      var t = this[e],
                        n = this[e + 7]
                      ;(void 0 !== t && void 0 !== n) || q(e, this.length - 8)
                      var r =
                        this[e + 4] +
                        this[e + 5] * Math.pow(2, 8) +
                        this[e + 6] * Math.pow(2, 16) +
                        (n << 24)
                      return (
                        (BigInt(r) << BigInt(32)) +
                        BigInt(
                          t +
                            this[++e] * Math.pow(2, 8) +
                            this[++e] * Math.pow(2, 16) +
                            this[++e] * Math.pow(2, 24)
                        )
                      )
                    })),
                    (o.prototype.readBigInt64BE = te(function (e) {
                      Q((e >>>= 0), 'offset')
                      var t = this[e],
                        n = this[e + 7]
                      ;(void 0 !== t && void 0 !== n) || q(e, this.length - 8)
                      var r =
                        (t << 24) +
                        this[++e] * Math.pow(2, 16) +
                        this[++e] * Math.pow(2, 8) +
                        this[++e]
                      return (
                        (BigInt(r) << BigInt(32)) +
                        BigInt(
                          this[++e] * Math.pow(2, 24) +
                            this[++e] * Math.pow(2, 16) +
                            this[++e] * Math.pow(2, 8) +
                            n
                        )
                      )
                    })),
                    (o.prototype.readFloatLE = function (e, t) {
                      return ((e >>>= 0), t || D(e, 4, this.length), n.read(this, e, !0, 23, 4))
                    }),
                    (o.prototype.readFloatBE = function (e, t) {
                      return ((e >>>= 0), t || D(e, 4, this.length), n.read(this, e, !1, 23, 4))
                    }),
                    (o.prototype.readDoubleLE = function (e, t) {
                      return ((e >>>= 0), t || D(e, 8, this.length), n.read(this, e, !0, 52, 8))
                    }),
                    (o.prototype.readDoubleBE = function (e, t) {
                      return ((e >>>= 0), t || D(e, 8, this.length), n.read(this, e, !1, 52, 8))
                    }),
                    (o.prototype.writeUintLE = o.prototype.writeUIntLE =
                      function (e, t, n, r) {
                        ;((e = +e), (t >>>= 0), (n >>>= 0), r) ||
                          O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0)
                        var i = 1,
                          a = 0
                        for (this[t] = 255 & e; ++a < n && (i *= 256); ) this[t + a] = (e / i) & 255
                        return t + n
                      }),
                    (o.prototype.writeUintBE = o.prototype.writeUIntBE =
                      function (e, t, n, r) {
                        ;((e = +e), (t >>>= 0), (n >>>= 0), r) ||
                          O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0)
                        var i = n - 1,
                          a = 1
                        for (this[t + i] = 255 & e; --i >= 0 && (a *= 256); )
                          this[t + i] = (e / a) & 255
                        return t + n
                      }),
                    (o.prototype.writeUint8 = o.prototype.writeUInt8 =
                      function (e, t, n) {
                        return (
                          (e = +e),
                          (t >>>= 0),
                          n || O(this, e, t, 1, 255, 0),
                          (this[t] = 255 & e),
                          t + 1
                        )
                      }),
                    (o.prototype.writeUint16LE = o.prototype.writeUInt16LE =
                      function (e, t, n) {
                        return (
                          (e = +e),
                          (t >>>= 0),
                          n || O(this, e, t, 2, 65535, 0),
                          (this[t] = 255 & e),
                          (this[t + 1] = e >>> 8),
                          t + 2
                        )
                      }),
                    (o.prototype.writeUint16BE = o.prototype.writeUInt16BE =
                      function (e, t, n) {
                        return (
                          (e = +e),
                          (t >>>= 0),
                          n || O(this, e, t, 2, 65535, 0),
                          (this[t] = e >>> 8),
                          (this[t + 1] = 255 & e),
                          t + 2
                        )
                      }),
                    (o.prototype.writeUint32LE = o.prototype.writeUInt32LE =
                      function (e, t, n) {
                        return (
                          (e = +e),
                          (t >>>= 0),
                          n || O(this, e, t, 4, 4294967295, 0),
                          (this[t + 3] = e >>> 24),
                          (this[t + 2] = e >>> 16),
                          (this[t + 1] = e >>> 8),
                          (this[t] = 255 & e),
                          t + 4
                        )
                      }),
                    (o.prototype.writeUint32BE = o.prototype.writeUInt32BE =
                      function (e, t, n) {
                        return (
                          (e = +e),
                          (t >>>= 0),
                          n || O(this, e, t, 4, 4294967295, 0),
                          (this[t] = e >>> 24),
                          (this[t + 1] = e >>> 16),
                          (this[t + 2] = e >>> 8),
                          (this[t + 3] = 255 & e),
                          t + 4
                        )
                      }),
                    (o.prototype.writeBigUInt64LE = te(function (e) {
                      return F(
                        this,
                        e,
                        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        BigInt(0),
                        BigInt('0xffffffffffffffff')
                      )
                    })),
                    (o.prototype.writeBigUInt64BE = te(function (e) {
                      return B(
                        this,
                        e,
                        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        BigInt(0),
                        BigInt('0xffffffffffffffff')
                      )
                    })),
                    (o.prototype.writeIntLE = function (e, t, n, r) {
                      if (((e = +e), (t >>>= 0), !r)) {
                        var i = Math.pow(2, 8 * n - 1)
                        O(this, e, t, n, i - 1, -i)
                      }
                      var a = 0,
                        o = 1,
                        s = 0
                      for (this[t] = 255 & e; ++a < n && (o *= 256); )
                        (e < 0 && 0 === s && 0 !== this[t + a - 1] && (s = 1),
                          (this[t + a] = (((e / o) | 0) - s) & 255))
                      return t + n
                    }),
                    (o.prototype.writeIntBE = function (e, t, n, r) {
                      if (((e = +e), (t >>>= 0), !r)) {
                        var i = Math.pow(2, 8 * n - 1)
                        O(this, e, t, n, i - 1, -i)
                      }
                      var a = n - 1,
                        o = 1,
                        s = 0
                      for (this[t + a] = 255 & e; --a >= 0 && (o *= 256); )
                        (e < 0 && 0 === s && 0 !== this[t + a + 1] && (s = 1),
                          (this[t + a] = (((e / o) | 0) - s) & 255))
                      return t + n
                    }),
                    (o.prototype.writeInt8 = function (e, t, n) {
                      return (
                        (e = +e),
                        (t >>>= 0),
                        n || O(this, e, t, 1, 127, -128),
                        e < 0 && (e = 255 + e + 1),
                        (this[t] = 255 & e),
                        t + 1
                      )
                    }),
                    (o.prototype.writeInt16LE = function (e, t, n) {
                      return (
                        (e = +e),
                        (t >>>= 0),
                        n || O(this, e, t, 2, 32767, -32768),
                        (this[t] = 255 & e),
                        (this[t + 1] = e >>> 8),
                        t + 2
                      )
                    }),
                    (o.prototype.writeInt16BE = function (e, t, n) {
                      return (
                        (e = +e),
                        (t >>>= 0),
                        n || O(this, e, t, 2, 32767, -32768),
                        (this[t] = e >>> 8),
                        (this[t + 1] = 255 & e),
                        t + 2
                      )
                    }),
                    (o.prototype.writeInt32LE = function (e, t, n) {
                      return (
                        (e = +e),
                        (t >>>= 0),
                        n || O(this, e, t, 4, 2147483647, -2147483648),
                        (this[t] = 255 & e),
                        (this[t + 1] = e >>> 8),
                        (this[t + 2] = e >>> 16),
                        (this[t + 3] = e >>> 24),
                        t + 4
                      )
                    }),
                    (o.prototype.writeInt32BE = function (e, t, n) {
                      return (
                        (e = +e),
                        (t >>>= 0),
                        n || O(this, e, t, 4, 2147483647, -2147483648),
                        e < 0 && (e = 4294967295 + e + 1),
                        (this[t] = e >>> 24),
                        (this[t + 1] = e >>> 16),
                        (this[t + 2] = e >>> 8),
                        (this[t + 3] = 255 & e),
                        t + 4
                      )
                    }),
                    (o.prototype.writeBigInt64LE = te(function (e) {
                      return F(
                        this,
                        e,
                        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        -BigInt('0x8000000000000000'),
                        BigInt('0x7fffffffffffffff')
                      )
                    })),
                    (o.prototype.writeBigInt64BE = te(function (e) {
                      return B(
                        this,
                        e,
                        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        -BigInt('0x8000000000000000'),
                        BigInt('0x7fffffffffffffff')
                      )
                    })),
                    (o.prototype.writeFloatLE = function (e, t, n) {
                      return z(this, e, t, !0, n)
                    }),
                    (o.prototype.writeFloatBE = function (e, t, n) {
                      return z(this, e, t, !1, n)
                    }),
                    (o.prototype.writeDoubleLE = function (e, t, n) {
                      return V(this, e, t, !0, n)
                    }),
                    (o.prototype.writeDoubleBE = function (e, t, n) {
                      return V(this, e, t, !1, n)
                    }),
                    (o.prototype.copy = function (e, t, n, r) {
                      if (!o.isBuffer(e)) throw new TypeError('argument should be a Buffer')
                      if (
                        (n || (n = 0),
                        r || 0 === r || (r = this.length),
                        t >= e.length && (t = e.length),
                        t || (t = 0),
                        r > 0 && r < n && (r = n),
                        r === n)
                      )
                        return 0
                      if (0 === e.length || 0 === this.length) return 0
                      if (t < 0) throw new RangeError('targetStart out of bounds')
                      if (n < 0 || n >= this.length) throw new RangeError('Index out of range')
                      if (r < 0) throw new RangeError('sourceEnd out of bounds')
                      ;(r > this.length && (r = this.length),
                        e.length - t < r - n && (r = e.length - t + n))
                      var i = r - n
                      return (
                        this === e && 'function' == typeof Uint8Array.prototype.copyWithin
                          ? this.copyWithin(t, n, r)
                          : Uint8Array.prototype.set.call(e, this.subarray(n, r), t),
                        i
                      )
                    }),
                    (o.prototype.fill = function (e, t, n, r) {
                      if ('string' == typeof e) {
                        if (
                          ('string' == typeof t
                            ? ((r = t), (t = 0), (n = this.length))
                            : 'string' == typeof n && ((r = n), (n = this.length)),
                          void 0 !== r && 'string' != typeof r)
                        )
                          throw new TypeError('encoding must be a string')
                        if ('string' == typeof r && !o.isEncoding(r))
                          throw new TypeError('Unknown encoding: ' + r)
                        if (1 === e.length) {
                          var i = e.charCodeAt(0)
                          ;(('utf8' === r && i < 128) || 'latin1' === r) && (e = i)
                        }
                      } else
                        'number' == typeof e ? (e &= 255) : 'boolean' == typeof e && (e = Number(e))
                      if (t < 0 || this.length < t || this.length < n)
                        throw new RangeError('Out of range index')
                      if (n <= t) return this
                      var a
                      if (
                        ((t >>>= 0),
                        (n = void 0 === n ? this.length : n >>> 0),
                        e || (e = 0),
                        'number' == typeof e)
                      )
                        for (a = t; a < n; ++a) this[a] = e
                      else {
                        var s = o.isBuffer(e) ? e : o.from(e, r),
                          u = s.length
                        if (0 === u)
                          throw new TypeError(
                            'The value "' + e + '" is invalid for argument "value"'
                          )
                        for (a = 0; a < n - t; ++a) this[a + t] = s[a % u]
                      }
                      return this
                    }))
                  var H = {}
                  function W(e, t, n) {
                    H[e] = (function (n) {
                      function r() {
                        var n
                        return (
                          w(this, r),
                          (n = y(this, r)),
                          Object.defineProperty(n, 'message', {
                            value: t.apply(n, arguments),
                            writable: !0,
                            configurable: !0,
                          }),
                          (n.name = ''.concat(n.name, ' [').concat(e, ']')),
                          n.stack,
                          delete n.name,
                          n
                        )
                      }
                      return (
                        b(r, n),
                        T(r, [
                          {
                            key: 'code',
                            get: function () {
                              return e
                            },
                            set: function (e) {
                              Object.defineProperty(this, 'code', {
                                configurable: !0,
                                enumerable: !0,
                                value: e,
                                writable: !0,
                              })
                            },
                          },
                          {
                            key: 'toString',
                            value: function () {
                              return ''
                                .concat(this.name, ' [')
                                .concat(e, ']: ')
                                .concat(this.message)
                            },
                          },
                        ])
                      )
                    })(n)
                  }
                  function G(e) {
                    for (var t = '', n = e.length, r = '-' === e[0] ? 1 : 0; n >= r + 4; n -= 3)
                      t = '_'.concat(e.slice(n - 3, n)).concat(t)
                    return ''.concat(e.slice(0, n)).concat(t)
                  }
                  function j(e, t, n, r, i, a) {
                    if (e > n || e < t) {
                      var o,
                        s = 'bigint' == typeof t ? 'n' : ''
                      throw (
                        (o =
                          0 === t || t === BigInt(0)
                            ? '>= 0'
                                .concat(s, ' and < 2')
                                .concat(s, ' ** ')
                                .concat(8 * (a + 1))
                                .concat(s)
                            : '>= -(2'
                                .concat(s, ' ** ')
                                .concat(8 * (a + 1) - 1)
                                .concat(s, ') and < 2 ** ') + ''.concat(8 * (a + 1) - 1).concat(s)),
                        new H.ERR_OUT_OF_RANGE('value', o, e)
                      )
                    }
                    !(function (e, t, n) {
                      ;(Q(t, 'offset'),
                        (void 0 !== e[t] && void 0 !== e[t + n]) || q(t, e.length - (n + 1)))
                    })(r, i, a)
                  }
                  function Q(e, t) {
                    if ('number' != typeof e) throw new H.ERR_INVALID_ARG_TYPE(t, 'number', e)
                  }
                  function q(e, t, n) {
                    if (Math.floor(e) !== e)
                      throw (Q(e, n), new H.ERR_OUT_OF_RANGE('offset', 'an integer', e))
                    if (t < 0) throw new H.ERR_BUFFER_OUT_OF_BOUNDS()
                    throw new H.ERR_OUT_OF_RANGE('offset', '>= '.concat(0, ' and <= ', t), e)
                  }
                  ;(W(
                    'ERR_BUFFER_OUT_OF_BOUNDS',
                    function (e) {
                      return e
                        ? ''.concat(e, ' is outside of buffer bounds')
                        : 'Attempt to access memory outside buffer bounds'
                    },
                    RangeError
                  ),
                    W(
                      'ERR_INVALID_ARG_TYPE',
                      function (e, t) {
                        return 'The "'
                          .concat(e, '" argument must be of type number. Received type ')
                          .concat(P(t))
                      },
                      TypeError
                    ),
                    W(
                      'ERR_OUT_OF_RANGE',
                      function (e, t, n) {
                        var r = 'The value of "'.concat(e, '" is out of range.'),
                          i = n
                        return (
                          Number.isInteger(n) && Math.abs(n) > Math.pow(2, 32)
                            ? (i = G(String(n)))
                            : 'bigint' == typeof n &&
                              ((i = String(n)),
                              (n > Math.pow(BigInt(2), BigInt(32)) ||
                                n < -Math.pow(BigInt(2), BigInt(32))) &&
                                (i = G(i)),
                              (i += 'n')),
                          (r += ' It must be '.concat(t, '. Received ').concat(i))
                        )
                      },
                      RangeError
                    ))
                  var X = /[^+/0-9A-Za-z-_]/g
                  function Y(e, t) {
                    var n
                    t = t || 1 / 0
                    for (var r = e.length, i = null, a = [], o = 0; o < r; ++o) {
                      if ((n = e.charCodeAt(o)) > 55295 && n < 57344) {
                        if (!i) {
                          if (n > 56319) {
                            ;(t -= 3) > -1 && a.push(239, 191, 189)
                            continue
                          }
                          if (o + 1 === r) {
                            ;(t -= 3) > -1 && a.push(239, 191, 189)
                            continue
                          }
                          i = n
                          continue
                        }
                        if (n < 56320) {
                          ;((t -= 3) > -1 && a.push(239, 191, 189), (i = n))
                          continue
                        }
                        n = 65536 + (((i - 55296) << 10) | (n - 56320))
                      } else i && (t -= 3) > -1 && a.push(239, 191, 189)
                      if (((i = null), n < 128)) {
                        if ((t -= 1) < 0) break
                        a.push(n)
                      } else if (n < 2048) {
                        if ((t -= 2) < 0) break
                        a.push((n >> 6) | 192, (63 & n) | 128)
                      } else if (n < 65536) {
                        if ((t -= 3) < 0) break
                        a.push((n >> 12) | 224, ((n >> 6) & 63) | 128, (63 & n) | 128)
                      } else {
                        if (!(n < 1114112)) throw new Error('Invalid code point')
                        if ((t -= 4) < 0) break
                        a.push(
                          (n >> 18) | 240,
                          ((n >> 12) & 63) | 128,
                          ((n >> 6) & 63) | 128,
                          (63 & n) | 128
                        )
                      }
                    }
                    return a
                  }
                  function K(e) {
                    return t.toByteArray(
                      (function (e) {
                        if ((e = (e = e.split('=')[0]).trim().replace(X, '')).length < 2) return ''
                        for (; e.length % 4 != 0; ) e += '='
                        return e
                      })(e)
                    )
                  }
                  function Z(e, t, n, r) {
                    var i
                    for (i = 0; i < r && !(i + n >= t.length || i >= e.length); ++i) t[i + n] = e[i]
                    return i
                  }
                  function J(e, t) {
                    return (
                      e instanceof t ||
                      (null != e &&
                        null != e.constructor &&
                        null != e.constructor.name &&
                        e.constructor.name === t.name)
                    )
                  }
                  function $(e) {
                    return e != e
                  }
                  var ee = (function () {
                    for (var e = '0123456789abcdef', t = new Array(256), n = 0; n < 16; ++n)
                      for (var r = 16 * n, i = 0; i < 16; ++i) t[r + i] = e[n] + e[i]
                    return t
                  })()
                  function te(e) {
                    return 'undefined' == typeof BigInt ? ne : e
                  }
                  function ne() {
                    throw new Error('BigInt not supported')
                  }
                })(uu)),
              uu
            )
          }
          var hu,
            fu,
            pu,
            vu,
            mu,
            gu,
            yu,
            xu,
            _u = du()
          function bu() {
            if (gu) return mu
            gu = 1
            var e = (function () {
                if (vu) return pu
                ;((vu = 1), (pu = t))
                var e = null
                try {
                  e = new WebAssembly.Instance(
                    new WebAssembly.Module(
                      new Uint8Array([
                        0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127,
                        127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50,
                        6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105,
                        118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95,
                        117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4,
                        0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32,
                        2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0,
                        32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32,
                        2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0,
                        32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32,
                        2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0,
                        32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32,
                        2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0,
                        32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32,
                        2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0,
                        32, 4, 167, 11,
                      ])
                    ),
                    {}
                  ).exports
                } catch (u$) {}
                function t(e, t, n) {
                  ;((this.low = 0 | e), (this.high = 0 | t), (this.unsigned = !!n))
                }
                function n(e) {
                  return !0 === (e && e.__isLong__)
                }
                ;(t.prototype.__isLong__,
                  Object.defineProperty(t.prototype, '__isLong__', { value: !0 }),
                  (t.isLong = n))
                var r = {},
                  i = {}
                function a(e, t) {
                  var n, a, o
                  return t
                    ? (o = 0 <= (e >>>= 0) && e < 256) && (a = i[e])
                      ? a
                      : ((n = s(e, (0 | e) < 0 ? -1 : 0, !0)), o && (i[e] = n), n)
                    : (o = -128 <= (e |= 0) && e < 128) && (a = r[e])
                      ? a
                      : ((n = s(e, e < 0 ? -1 : 0, !1)), o && (r[e] = n), n)
                }
                function o(e, t) {
                  if (isNaN(e)) return t ? m : v
                  if (t) {
                    if (e < 0) return m
                    if (e >= h) return b
                  } else {
                    if (e <= -f) return S
                    if (e + 1 >= f) return _
                  }
                  return e < 0 ? o(-e, t).neg() : s(e % d | 0, (e / d) | 0, t)
                }
                function s(e, n, r) {
                  return new t(e, n, r)
                }
                ;((t.fromInt = a), (t.fromNumber = o), (t.fromBits = s))
                var u = Math.pow
                function l(e, t, n) {
                  if (0 === e.length) throw Error('empty string')
                  if ('NaN' === e || 'Infinity' === e || '+Infinity' === e || '-Infinity' === e)
                    return v
                  if (
                    ('number' == typeof t ? ((n = t), (t = !1)) : (t = !!t),
                    (n = n || 10) < 2 || 36 < n)
                  )
                    throw RangeError('radix')
                  var r
                  if ((r = e.indexOf('-')) > 0) throw Error('interior hyphen')
                  if (0 === r) return l(e.substring(1), t, n).neg()
                  for (var i = o(u(n, 8)), a = v, s = 0; s < e.length; s += 8) {
                    var c = Math.min(8, e.length - s),
                      d = parseInt(e.substring(s, s + c), n)
                    if (c < 8) {
                      var h = o(u(n, c))
                      a = a.mul(h).add(o(d))
                    } else a = (a = a.mul(i)).add(o(d))
                  }
                  return ((a.unsigned = t), a)
                }
                function c(e, t) {
                  return 'number' == typeof e
                    ? o(e, t)
                    : 'string' == typeof e
                      ? l(e, t)
                      : s(e.low, e.high, 'boolean' == typeof t ? t : e.unsigned)
                }
                ;((t.fromString = l), (t.fromValue = c))
                var d = 4294967296,
                  h = d * d,
                  f = h / 2,
                  p = a(1 << 24),
                  v = a(0)
                t.ZERO = v
                var m = a(0, !0)
                t.UZERO = m
                var g = a(1)
                t.ONE = g
                var y = a(1, !0)
                t.UONE = y
                var x = a(-1)
                t.NEG_ONE = x
                var _ = s(-1, 2147483647, !1)
                t.MAX_VALUE = _
                var b = s(-1, -1, !0)
                t.MAX_UNSIGNED_VALUE = b
                var S = s(0, -2147483648, !1)
                t.MIN_VALUE = S
                var w = t.prototype
                return (
                  (w.toInt = function () {
                    return this.unsigned ? this.low >>> 0 : this.low
                  }),
                  (w.toNumber = function () {
                    return this.unsigned
                      ? (this.high >>> 0) * d + (this.low >>> 0)
                      : this.high * d + (this.low >>> 0)
                  }),
                  (w.toString = function (e) {
                    if ((e = e || 10) < 2 || 36 < e) throw RangeError('radix')
                    if (this.isZero()) return '0'
                    if (this.isNegative()) {
                      if (this.eq(S)) {
                        var t = o(e),
                          n = this.div(t),
                          r = n.mul(t).sub(this)
                        return n.toString(e) + r.toInt().toString(e)
                      }
                      return '-' + this.neg().toString(e)
                    }
                    for (var i = o(u(e, 6), this.unsigned), a = this, s = ''; ; ) {
                      var l = a.div(i),
                        c = (a.sub(l.mul(i)).toInt() >>> 0).toString(e)
                      if ((a = l).isZero()) return c + s
                      for (; c.length < 6; ) c = '0' + c
                      s = '' + c + s
                    }
                  }),
                  (w.getHighBits = function () {
                    return this.high
                  }),
                  (w.getHighBitsUnsigned = function () {
                    return this.high >>> 0
                  }),
                  (w.getLowBits = function () {
                    return this.low
                  }),
                  (w.getLowBitsUnsigned = function () {
                    return this.low >>> 0
                  }),
                  (w.getNumBitsAbs = function () {
                    if (this.isNegative()) return this.eq(S) ? 64 : this.neg().getNumBitsAbs()
                    for (
                      var e = 0 != this.high ? this.high : this.low, t = 31;
                      t > 0 && !(e & (1 << t));
                      t--
                    );
                    return 0 != this.high ? t + 33 : t + 1
                  }),
                  (w.isZero = function () {
                    return 0 === this.high && 0 === this.low
                  }),
                  (w.eqz = w.isZero),
                  (w.isNegative = function () {
                    return !this.unsigned && this.high < 0
                  }),
                  (w.isPositive = function () {
                    return this.unsigned || this.high >= 0
                  }),
                  (w.isOdd = function () {
                    return !(1 & ~this.low)
                  }),
                  (w.isEven = function () {
                    return !(1 & this.low)
                  }),
                  (w.equals = function (e) {
                    return (
                      n(e) || (e = c(e)),
                      (this.unsigned === e.unsigned ||
                        this.high >>> 31 != 1 ||
                        e.high >>> 31 != 1) &&
                        this.high === e.high &&
                        this.low === e.low
                    )
                  }),
                  (w.eq = w.equals),
                  (w.notEquals = function (e) {
                    return !this.eq(e)
                  }),
                  (w.neq = w.notEquals),
                  (w.ne = w.notEquals),
                  (w.lessThan = function (e) {
                    return this.comp(e) < 0
                  }),
                  (w.lt = w.lessThan),
                  (w.lessThanOrEqual = function (e) {
                    return this.comp(e) <= 0
                  }),
                  (w.lte = w.lessThanOrEqual),
                  (w.le = w.lessThanOrEqual),
                  (w.greaterThan = function (e) {
                    return this.comp(e) > 0
                  }),
                  (w.gt = w.greaterThan),
                  (w.greaterThanOrEqual = function (e) {
                    return this.comp(e) >= 0
                  }),
                  (w.gte = w.greaterThanOrEqual),
                  (w.ge = w.greaterThanOrEqual),
                  (w.compare = function (e) {
                    if ((n(e) || (e = c(e)), this.eq(e))) return 0
                    var t = this.isNegative(),
                      r = e.isNegative()
                    return t && !r
                      ? -1
                      : !t && r
                        ? 1
                        : this.unsigned
                          ? e.high >>> 0 > this.high >>> 0 ||
                            (e.high === this.high && e.low >>> 0 > this.low >>> 0)
                            ? -1
                            : 1
                          : this.sub(e).isNegative()
                            ? -1
                            : 1
                  }),
                  (w.comp = w.compare),
                  (w.negate = function () {
                    return !this.unsigned && this.eq(S) ? S : this.not().add(g)
                  }),
                  (w.neg = w.negate),
                  (w.add = function (e) {
                    n(e) || (e = c(e))
                    var t = this.high >>> 16,
                      r = 65535 & this.high,
                      i = this.low >>> 16,
                      a = 65535 & this.low,
                      o = e.high >>> 16,
                      u = 65535 & e.high,
                      l = e.low >>> 16,
                      d = 0,
                      h = 0,
                      f = 0,
                      p = 0
                    return (
                      (f += (p += a + (65535 & e.low)) >>> 16),
                      (h += (f += i + l) >>> 16),
                      (d += (h += r + u) >>> 16),
                      (d += t + o),
                      s(
                        ((f &= 65535) << 16) | (p &= 65535),
                        ((d &= 65535) << 16) | (h &= 65535),
                        this.unsigned
                      )
                    )
                  }),
                  (w.subtract = function (e) {
                    return (n(e) || (e = c(e)), this.add(e.neg()))
                  }),
                  (w.sub = w.subtract),
                  (w.multiply = function (t) {
                    if (this.isZero()) return v
                    if ((n(t) || (t = c(t)), e))
                      return s(
                        e.mul(this.low, this.high, t.low, t.high),
                        e.get_high(),
                        this.unsigned
                      )
                    if (t.isZero()) return v
                    if (this.eq(S)) return t.isOdd() ? S : v
                    if (t.eq(S)) return this.isOdd() ? S : v
                    if (this.isNegative())
                      return t.isNegative() ? this.neg().mul(t.neg()) : this.neg().mul(t).neg()
                    if (t.isNegative()) return this.mul(t.neg()).neg()
                    if (this.lt(p) && t.lt(p))
                      return o(this.toNumber() * t.toNumber(), this.unsigned)
                    var r = this.high >>> 16,
                      i = 65535 & this.high,
                      a = this.low >>> 16,
                      u = 65535 & this.low,
                      l = t.high >>> 16,
                      d = 65535 & t.high,
                      h = t.low >>> 16,
                      f = 65535 & t.low,
                      m = 0,
                      g = 0,
                      y = 0,
                      x = 0
                    return (
                      (y += (x += u * f) >>> 16),
                      (g += (y += a * f) >>> 16),
                      (y &= 65535),
                      (g += (y += u * h) >>> 16),
                      (m += (g += i * f) >>> 16),
                      (g &= 65535),
                      (m += (g += a * h) >>> 16),
                      (g &= 65535),
                      (m += (g += u * d) >>> 16),
                      (m += r * f + i * h + a * d + u * l),
                      s(
                        ((y &= 65535) << 16) | (x &= 65535),
                        ((m &= 65535) << 16) | (g &= 65535),
                        this.unsigned
                      )
                    )
                  }),
                  (w.mul = w.multiply),
                  (w.divide = function (t) {
                    if ((n(t) || (t = c(t)), t.isZero())) throw Error('division by zero')
                    var r, i, a
                    if (e)
                      return this.unsigned ||
                        -2147483648 !== this.high ||
                        -1 !== t.low ||
                        -1 !== t.high
                        ? s(
                            (this.unsigned ? e.div_u : e.div_s)(this.low, this.high, t.low, t.high),
                            e.get_high(),
                            this.unsigned
                          )
                        : this
                    if (this.isZero()) return this.unsigned ? m : v
                    if (this.unsigned) {
                      if ((t.unsigned || (t = t.toUnsigned()), t.gt(this))) return m
                      if (t.gt(this.shru(1))) return y
                      a = m
                    } else {
                      if (this.eq(S))
                        return t.eq(g) || t.eq(x)
                          ? S
                          : t.eq(S)
                            ? g
                            : (r = this.shr(1).div(t).shl(1)).eq(v)
                              ? t.isNegative()
                                ? g
                                : x
                              : ((i = this.sub(t.mul(r))), (a = r.add(i.div(t))))
                      if (t.eq(S)) return this.unsigned ? m : v
                      if (this.isNegative())
                        return t.isNegative() ? this.neg().div(t.neg()) : this.neg().div(t).neg()
                      if (t.isNegative()) return this.div(t.neg()).neg()
                      a = v
                    }
                    for (i = this; i.gte(t); ) {
                      r = Math.max(1, Math.floor(i.toNumber() / t.toNumber()))
                      for (
                        var l = Math.ceil(Math.log(r) / Math.LN2),
                          d = l <= 48 ? 1 : u(2, l - 48),
                          h = o(r),
                          f = h.mul(t);
                        f.isNegative() || f.gt(i);

                      )
                        f = (h = o((r -= d), this.unsigned)).mul(t)
                      ;(h.isZero() && (h = g), (a = a.add(h)), (i = i.sub(f)))
                    }
                    return a
                  }),
                  (w.div = w.divide),
                  (w.modulo = function (t) {
                    return (
                      n(t) || (t = c(t)),
                      e
                        ? s(
                            (this.unsigned ? e.rem_u : e.rem_s)(this.low, this.high, t.low, t.high),
                            e.get_high(),
                            this.unsigned
                          )
                        : this.sub(this.div(t).mul(t))
                    )
                  }),
                  (w.mod = w.modulo),
                  (w.rem = w.modulo),
                  (w.not = function () {
                    return s(~this.low, ~this.high, this.unsigned)
                  }),
                  (w.and = function (e) {
                    return (
                      n(e) || (e = c(e)),
                      s(this.low & e.low, this.high & e.high, this.unsigned)
                    )
                  }),
                  (w.or = function (e) {
                    return (
                      n(e) || (e = c(e)),
                      s(this.low | e.low, this.high | e.high, this.unsigned)
                    )
                  }),
                  (w.xor = function (e) {
                    return (
                      n(e) || (e = c(e)),
                      s(this.low ^ e.low, this.high ^ e.high, this.unsigned)
                    )
                  }),
                  (w.shiftLeft = function (e) {
                    return (
                      n(e) && (e = e.toInt()),
                      0 == (e &= 63)
                        ? this
                        : e < 32
                          ? s(
                              this.low << e,
                              (this.high << e) | (this.low >>> (32 - e)),
                              this.unsigned
                            )
                          : s(0, this.low << (e - 32), this.unsigned)
                    )
                  }),
                  (w.shl = w.shiftLeft),
                  (w.shiftRight = function (e) {
                    return (
                      n(e) && (e = e.toInt()),
                      0 == (e &= 63)
                        ? this
                        : e < 32
                          ? s(
                              (this.low >>> e) | (this.high << (32 - e)),
                              this.high >> e,
                              this.unsigned
                            )
                          : s(this.high >> (e - 32), this.high >= 0 ? 0 : -1, this.unsigned)
                    )
                  }),
                  (w.shr = w.shiftRight),
                  (w.shiftRightUnsigned = function (e) {
                    if ((n(e) && (e = e.toInt()), 0 == (e &= 63))) return this
                    var t = this.high
                    return e < 32
                      ? s((this.low >>> e) | (t << (32 - e)), t >>> e, this.unsigned)
                      : s(32 === e ? t : t >>> (e - 32), 0, this.unsigned)
                  }),
                  (w.shru = w.shiftRightUnsigned),
                  (w.shr_u = w.shiftRightUnsigned),
                  (w.toSigned = function () {
                    return this.unsigned ? s(this.low, this.high, !1) : this
                  }),
                  (w.toUnsigned = function () {
                    return this.unsigned ? this : s(this.low, this.high, !0)
                  }),
                  (w.toBytes = function (e) {
                    return e ? this.toBytesLE() : this.toBytesBE()
                  }),
                  (w.toBytesLE = function () {
                    var e = this.high,
                      t = this.low
                    return [
                      255 & t,
                      (t >>> 8) & 255,
                      (t >>> 16) & 255,
                      t >>> 24,
                      255 & e,
                      (e >>> 8) & 255,
                      (e >>> 16) & 255,
                      e >>> 24,
                    ]
                  }),
                  (w.toBytesBE = function () {
                    var e = this.high,
                      t = this.low
                    return [
                      e >>> 24,
                      (e >>> 16) & 255,
                      (e >>> 8) & 255,
                      255 & e,
                      t >>> 24,
                      (t >>> 16) & 255,
                      (t >>> 8) & 255,
                      255 & t,
                    ]
                  }),
                  (t.fromBytes = function (e, n, r) {
                    return r ? t.fromBytesLE(e, n) : t.fromBytesBE(e, n)
                  }),
                  (t.fromBytesLE = function (e, n) {
                    return new t(
                      e[0] | (e[1] << 8) | (e[2] << 16) | (e[3] << 24),
                      e[4] | (e[5] << 8) | (e[6] << 16) | (e[7] << 24),
                      n
                    )
                  }),
                  (t.fromBytesBE = function (e, n) {
                    return new t(
                      (e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7],
                      (e[0] << 24) | (e[1] << 16) | (e[2] << 8) | e[3],
                      n
                    )
                  }),
                  pu
                )
              })(),
              t = function (t, n, r) {
                ;(t instanceof e ||
                  (t = 'number' == typeof t ? e.fromNumber(t) : e.fromString(t || '')),
                  n.writeInt32LE(t.getLowBits(), r, !0),
                  n.writeInt32LE(t.getHighBits(), r + 4, !0))
              },
              n = function (t, n, r) {
                ;(t instanceof e ||
                  (t = 'number' == typeof t ? e.fromNumber(t) : e.fromString(t || '')),
                  n.writeInt32BE(t.getHighBits(), r, !0),
                  n.writeInt32BE(t.getLowBits(), r + 4, !0))
              }
            return (mu = {
              unpackUInt64LE: function (t, n) {
                return e.fromBits(t.readInt32LE(n), t.readInt32LE(n + 4), !0)
              },
              unpackUInt64BE: function (t, n) {
                return e.fromBits(t.readInt32BE(n + 4), t.readInt32BE(n), !0)
              },
              unpackInt64LE: function (t, n) {
                return e.fromBits(t.readInt32LE(n), t.readInt32LE(n + 4), !1)
              },
              unpackInt64BE: function (t, n) {
                return e.fromBits(t.readInt32BE(n + 4), t.readInt32BE(n), !1)
              },
              packUInt64LE: t,
              packUInt64BE: n,
              packInt64LE: t,
              packInt64BE: n,
            })
          }
          var Su =
              (xu ||
                ((xu = 1),
                (yu = (function () {
                  if (fu) return hu
                  fu = 1
                  var e = function (e, t, n) {
                      var r = e.indexOf(0, t),
                        i = Math.min(t + n, -1 === r ? e.length : r)
                      return e.slice(t, i).toString('utf8')
                    },
                    t = function (e, t, n, r) {
                      var i = t.write(e, n, r, 'utf8')
                      i < r && t.fill(0, n + i, n + r)
                    },
                    n = function (e, t, n) {
                      var r = e[0]
                      return (r >= n && (r = n - 1), t++, e.slice(t, t + r).toString('utf8'))
                    },
                    r = function (e, t, n, r) {
                      var i = Buffer.alloc(e, 'utf8'),
                        a = i.length
                      ;(a >= r && (a = r - 1),
                        a > 255 && (a = 255),
                        (i[n] = a),
                        i.copy(t, n + 1, 0, a),
                        t.fill(0, n + 1 + a, n + r))
                    },
                    i = function (e, t) {
                      return e.readUInt32LE(t, !0)
                    },
                    a = function (e, t) {
                      return e.readUInt32BE(t, !0)
                    },
                    o = function (e, t) {
                      return e.readInt32LE(t, !0)
                    },
                    s = function (e, t) {
                      return e.readInt32BE(t, !0)
                    },
                    u = function (e, t, n) {
                      t.writeUInt32LE(e, n, !0)
                    },
                    l = function (e, t, n) {
                      t.writeUInt32BE(e, n, !0)
                    },
                    c = function (e, t, n) {
                      t.writeInt32LE(e, n, !0)
                    },
                    d = function (e, t, n) {
                      t.writeInt32BE(e, n, !0)
                    }
                  return (
                    (hu = function (h) {
                      var f = h.Buffer,
                        p = void 0 === h.isLittleEndian || !!h.isLittleEndian,
                        v = void 0 === h.is64bit || !!h.is64bit,
                        m = h.unpackUInt64LE,
                        g = h.unpackUInt64BE,
                        y = h.unpackInt64LE,
                        x = h.unpackInt64BE,
                        _ = h.packUInt64LE,
                        b = h.packUInt64BE,
                        S = h.packInt64LE,
                        A = h.packInt64BE,
                        M = {
                          x: [1, 1, null, null],
                          c: [
                            1,
                            1,
                            function (e, t) {
                              return String.fromCharCode(e[t])
                            },
                            function (e, t, n) {
                              t[n] = e.charCodeAt(0)
                            },
                          ],
                          b: [
                            1,
                            1,
                            function (e, t) {
                              return e.readInt8(t)
                            },
                            function (e, t, n) {
                              t.writeInt8(e, n, !0)
                            },
                          ],
                          B: [
                            1,
                            1,
                            function (e, t) {
                              return e[t]
                            },
                            function (e, t, n) {
                              t[n] = e
                            },
                          ],
                          h: [
                            2,
                            2,
                            p
                              ? function (e, t) {
                                  return e.readInt16LE(t)
                                }
                              : function (e, t) {
                                  return e.readInt16BE(t)
                                },
                            p
                              ? function (e, t, n) {
                                  return t.writeInt16LE(e, n, !0)
                                }
                              : function (e, t, n) {
                                  return t.writeInt16BE(e, n, !0)
                                },
                          ],
                          H: [
                            2,
                            2,
                            p
                              ? function (e, t) {
                                  return e.readUInt16LE(t)
                                }
                              : function (e, t) {
                                  return e.readUInt16BE(t)
                                },
                            p
                              ? function (e, t, n) {
                                  return t.writeUInt16LE(e, n, !0)
                                }
                              : function (e, t, n) {
                                  return t.writeUInt16BE(e, n, !0)
                                },
                          ],
                          i: [4, 4, p ? o : s, p ? c : d],
                          I: [4, 4, p ? i : a, p ? u : l],
                          l: [4, 4, p ? o : s, p ? c : d],
                          L: [4, 4, p ? i : a, p ? u : l],
                          f: [
                            4,
                            4,
                            p
                              ? function (e, t) {
                                  return e.readFloatLE(t)
                                }
                              : function (e, t) {
                                  return e.readFloatBE(t)
                                },
                            p
                              ? function (e, t, n) {
                                  return t.writeFloatLE(e, n, !0)
                                }
                              : function (e, t, n) {
                                  return t.writeFloatBE(e, n, !0)
                                },
                          ],
                          d: [
                            8,
                            8,
                            p
                              ? function (e, t) {
                                  return e.readDoubleLE(t)
                                }
                              : function (e, t) {
                                  return e.readDoubleBE(t)
                                },
                            p
                              ? function (e, t, n) {
                                  return t.writeDoubleLE(e, n, !0)
                                }
                              : function (e, t, n) {
                                  return t.writeDoubleBE(e, n, !0)
                                },
                          ],
                          s: [1, 1, e, t],
                          p: [1, 1, n, r],
                          P: [
                            v ? 8 : 4,
                            v ? 8 : 4,
                            p ? (v ? m : i) : v ? g : a,
                            p ? (v ? _ : u) : v ? b : l,
                          ],
                          q: [8, 8, p ? y : x, p ? S : A],
                          Q: [8, 8, p ? m : g, p ? _ : b],
                          '?': [
                            1,
                            1,
                            function (e, t) {
                              return 0 !== e[t]
                            },
                            function (e, t, n) {
                              t[n] = e ? 1 : 0
                            },
                          ],
                        },
                        E = {
                          x: [1, 1, null, null],
                          c: [
                            1,
                            1,
                            function (e, t) {
                              return String.fromCharCode(e[t])
                            },
                            function (e, t, n) {
                              t[n] = e.charCodeAt(0)
                            },
                          ],
                          b: [
                            1,
                            1,
                            function (e, t) {
                              return e.readInt8(t)
                            },
                            function (e, t, n) {
                              t.writeInt8(e, n, !0)
                            },
                          ],
                          B: [
                            1,
                            1,
                            function (e, t) {
                              return e[t]
                            },
                            function (e, t, n) {
                              t[n] = e
                            },
                          ],
                          h: [
                            2,
                            1,
                            function (e, t) {
                              return e.readInt16LE(t)
                            },
                            function (e, t, n) {
                              return t.writeInt16LE(e, n, !0)
                            },
                          ],
                          H: [
                            2,
                            1,
                            function (e, t) {
                              return e.readUInt16LE(t)
                            },
                            function (e, t, n) {
                              return t.writeUInt16LE(e, n, !0)
                            },
                          ],
                          i: [4, 1, o, c],
                          I: [4, 1, i, u],
                          l: [4, 1, o, c],
                          L: [4, 1, i, u],
                          f: [
                            4,
                            1,
                            function (e, t) {
                              return e.readFloatLE(t)
                            },
                            function (e, t, n) {
                              return t.writeFloatLE(e, n, !0)
                            },
                          ],
                          d: [
                            8,
                            1,
                            function (e, t) {
                              return e.readDoubleLE(t)
                            },
                            function (e, t, n) {
                              return t.writeDoubleLE(e, n, !0)
                            },
                          ],
                          s: [1, 1, e, t],
                          p: [1, 1, n, r],
                          P: [v ? 8 : 4, 1, v ? m : i, v ? _ : u],
                          q: [8, 1, y, S],
                          Q: [8, 1, m, _],
                          '?': [
                            1,
                            1,
                            function (e, t) {
                              return 0 !== e[t]
                            },
                            function (e, t, n) {
                              t[n] = e ? 1 : 0
                            },
                          ],
                        },
                        C = {
                          x: [1, 1, null, null],
                          c: [
                            1,
                            1,
                            function (e, t) {
                              return String.fromCharCode(e[t])
                            },
                            function (e, t, n) {
                              t[n] = e.charCodeAt(0)
                            },
                          ],
                          b: [
                            1,
                            1,
                            function (e, t) {
                              return e.readInt8(t)
                            },
                            function (e, t, n) {
                              t.writeInt8(e, n, !0)
                            },
                          ],
                          B: [
                            1,
                            1,
                            function (e, t) {
                              return e[t]
                            },
                            function (e, t, n) {
                              t[n] = e
                            },
                          ],
                          h: [
                            2,
                            1,
                            function (e, t) {
                              return e.readInt16BE(t)
                            },
                            function (e, t, n) {
                              return t.writeInt16BE(e, n, !0)
                            },
                          ],
                          H: [
                            2,
                            1,
                            function (e, t) {
                              return e.readUInt16BE(t)
                            },
                            function (e, t, n) {
                              return t.writeUInt16BE(e, n, !0)
                            },
                          ],
                          i: [4, 1, s, d],
                          I: [4, 1, a, l],
                          l: [4, 1, s, d],
                          L: [4, 1, a, l],
                          f: [
                            4,
                            1,
                            function (e, t) {
                              return e.readFloatBE(t)
                            },
                            function (e, t, n) {
                              return t.writeFloatBE(e, n, !0)
                            },
                          ],
                          d: [
                            8,
                            1,
                            function (e, t) {
                              return e.readDoubleBE(t)
                            },
                            function (e, t, n) {
                              return t.writeDoubleBE(e, n, !0)
                            },
                          ],
                          s: [1, 1, e, t],
                          p: [1, 1, n, r],
                          P: [v ? 8 : 4, 1, v ? g : a, v ? b : l],
                          q: [8, 1, x, A],
                          Q: [8, 1, g, b],
                          '?': [
                            1,
                            1,
                            function (e, t) {
                              return 0 !== e[t]
                            },
                            function (e, t, n) {
                              t[n] = e ? 1 : 0
                            },
                          ],
                        },
                        k = function (e) {
                          var t = e[0],
                            n = !0,
                            r = M
                          switch (t) {
                            case '<':
                              r = E
                              break
                            case '>':
                            case '!':
                              r = C
                              break
                            case '=':
                              r = p ? E : C
                              break
                            default:
                              n = !1
                            case '@':
                              r = M
                          }
                          return { map: r, skipFirst: n }
                        },
                        R = (function () {
                          function e() {
                            w(this, e)
                          }
                          return T(e, null, [
                            {
                              key: 'sizeOf',
                              value: function (e) {
                                var t,
                                  n,
                                  r,
                                  i,
                                  a = 0,
                                  o = null,
                                  s = 0,
                                  u = k(e),
                                  l = u.map
                                for (u.skipFirst && s++, n = e.length; s < n; s++)
                                  (t = e[s]) >= '0' && t <= '9'
                                    ? (o = null === o ? t : o + t)
                                    : (r = l[t]) &&
                                      ((i = r[1]) > 1 && (a = Math.ceil(a / i) * i),
                                      (o = o ? parseInt(o, 10) : 0),
                                      (a +=
                                        's' === t ? o || 0 : 'p' === t ? o || 1 : r[0] * (o || 1)),
                                      (o = null))
                                return a
                              },
                            },
                            {
                              key: 'unpack',
                              value: function (t, n, r) {
                                return e.unpackFrom(t, n, r, 0)
                              },
                            },
                            {
                              key: 'unpackFrom',
                              value: function (e, t, n, r) {
                                var i = [],
                                  a = null,
                                  o = 0,
                                  s = k(e),
                                  u = s.map
                                s.skipFirst && o++
                                for (var l = e.length; o < l; o++) {
                                  var c = e[o]
                                  if (c >= '0' && c <= '9') a = null === a ? c : a + c
                                  else {
                                    var d = u[c]
                                    if (d) {
                                      var h = d[0],
                                        f = d[1]
                                      ;(f > 1 && (r = Math.ceil(r / f) * f),
                                        (a = a ? parseInt(a, 10) : 0))
                                      var p = void 0
                                      's' === c
                                        ? ((p = 1), (h = a))
                                        : 'p' === c
                                          ? ((p = 1), (h = a || 1))
                                          : (p = a || 1)
                                      for (var v = d[2]; p > 0; ) {
                                        if (v) {
                                          if (n && r + h >= t.length)
                                            throw new Error(
                                              "Reached end of buffer, can't unpack anymore data."
                                            )
                                          i.push(v(t, r, a))
                                        }
                                        ;((r += h), p--)
                                      }
                                      a = null
                                    }
                                  }
                                }
                                return i
                              },
                            },
                            {
                              key: 'pack',
                              value: function (t, n, r) {
                                Array.isArray(n) ||
                                  ((n = Array.prototype.slice.call(arguments, 1)), (r = !0))
                                var i = f.alloc(e.sizeOf(t)),
                                  a = 0,
                                  o = null,
                                  s = 0,
                                  u = 0,
                                  l = k(t),
                                  c = l.map
                                l.skipFirst && s++
                                for (var d = t.length; s < d; s++) {
                                  var h = t[s]
                                  if (h >= '0' && h <= '9') o = null === o ? h : o + h
                                  else {
                                    var p = c[h]
                                    if (p) {
                                      var v = p[0],
                                        m = p[1]
                                      ;(m > 1 && (a = Math.ceil(a / m) * m),
                                        (o = o ? parseInt(o, 10) : 0))
                                      var g = void 0
                                      's' === h
                                        ? ((g = 1), (v = o))
                                        : 'p' === h
                                          ? ((g = 1), (v = o || 1))
                                          : (g = o || 1)
                                      for (var y = p[3]; g > 0; ) {
                                        if (y) {
                                          if (r && u >= n.length)
                                            throw new Error(
                                              'Reached end of data, no more elements to pack.'
                                            )
                                          ;(y(n[u], i, a, o), u++)
                                        }
                                        ;((a += v), g--)
                                      }
                                      o = null
                                    }
                                  }
                                }
                                return i
                              },
                            },
                          ])
                        })()
                      return R
                    }),
                    hu
                  )
                })()(
                  Object.assign(
                    {
                      Buffer: du().Buffer,
                      isLittleEndian:
                        void 0 ===
                          ('undefined' == typeof Uint8Array ? 'undefined' : P(Uint8Array)) ||
                        120 === new Uint8Array(new Uint32Array([305419896]).buffer)[0],
                      is64bit:
                        void 0 === ('undefined' == typeof navigator ? 'undefined' : P(navigator)) ||
                        /WOW64|Win64|arm64|ia64|x64;|Mac OS X/i.test(navigator.userAgent),
                    },
                    bu()
                  )
                ))),
              yu),
            wu = us(Su),
            Au = (function () {
              var e = v(
                h().m(function e(t) {
                  var n,
                    r,
                    i,
                    a,
                    o,
                    s,
                    u,
                    l,
                    c = arguments
                  return h().w(function (e) {
                    for (;;)
                      switch (e.n) {
                        case 0:
                          return (
                            (n = c.length > 1 && void 0 !== c[1] ? c[1] : '<II'),
                            (e.n = 1),
                            t.slice(4, 12).arrayBuffer()
                          )
                        case 1:
                          return (
                            (r = e.v),
                            (i = wu.unpack(n, _u.Buffer.from(r))),
                            (a = C(i, 2)),
                            (o = a[0]),
                            (s = a[1]),
                            (e.n = 2),
                            t.slice(12, 12 + o).text()
                          )
                        case 2:
                          return (
                            (u = e.v),
                            (l = JSON.parse(u)),
                            e.a(2, { parsedData: l, jsonSize: o, binSize: s })
                          )
                      }
                  }, e)
                })
              )
              return function (t) {
                return e.apply(this, arguments)
              }
            })(),
            Tu = (function () {
              function e(t, n) {
                ;(w(this, e),
                  M(
                    this,
                    'id',
                    (function () {
                      for (
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 21,
                          t = '',
                          n = crypto.getRandomValues(new Uint8Array((e |= 0)));
                        e--;

                      )
                        t += 'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'[
                          63 & n[e]
                        ]
                      return t
                    })()
                  ),
                  M(this, 'analyserNode', void 0),
                  M(this, 'audioCtx', void 0),
                  M(this, 'autoPlay', !0),
                  M(this, 'bufferSource', void 0),
                  M(this, 'convertValue', 32768),
                  M(this, 'ee', void 0),
                  M(this, 'gainNode', void 0),
                  M(this, 'option', {
                    inputCodec: 'Int16',
                    channels: 1,
                    sampleRate: 8e3,
                    fftSize: 2048,
                    onended: function () {},
                    isMute: !1,
                  }),
                  M(this, 'samplesList', []),
                  M(this, 'startTime', void 0),
                  M(this, 'typedArray', void 0),
                  M(this, '_firstStartRelativeTime', void 0),
                  M(this, '_firstStartAbsoluteTime', void 0),
                  (this.ee = n),
                  this.init(t))
              }
              return T(
                e,
                [
                  {
                    key: 'continue',
                    value:
                      ((r = v(
                        h().m(function e() {
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    return ((e.n = 1), this.audioCtx.resume())
                                  case 1:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function () {
                        return r.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      var e
                      ;((this.samplesList = []),
                        null === (e = this.audioCtx) || void 0 === e || e.close(),
                        (this.audioCtx = void 0))
                    },
                  },
                  {
                    key: 'feed',
                    value: function (e) {
                      var t = e.audio,
                        n = e.end_of_batch
                      if (t) {
                        ;(this._isSupported(t), (t = this._getFormattedValue(t)))
                        var r = new Float32Array(t.length)
                        r.set(t, 0)
                        var i = { data: r, end_of_batch: n }
                        ;(this.samplesList.push(i), this.flush(i, this.samplesList.length - 1))
                      }
                    },
                  },
                  {
                    key: 'flush',
                    value: function (e, t) {
                      var n = this
                      if (e && this.autoPlay && this.audioCtx) {
                        var r = e.data,
                          i = e.end_of_batch
                        ;(this.bufferSource && (this.bufferSource.onended = function () {}),
                          (this.bufferSource = this.audioCtx.createBufferSource()),
                          'function' == typeof this.option.onended &&
                            (this.bufferSource.onended = function () {
                              ;(i ||
                                t !== n.samplesList.length - 1 ||
                                n.ee.emit(vs.Player_WaitNextAudioClip),
                                n.option.onended())
                            }))
                        for (
                          var a = r.length / this.option.channels,
                            o = this.audioCtx.createBuffer(
                              this.option.channels,
                              a,
                              this.option.sampleRate
                            ),
                            s = 0;
                          s < this.option.channels;
                          s++
                        )
                          for (var u = o.getChannelData(s), l = s, c = 50, d = 0; d < a; d++)
                            ((u[d] = r[l]),
                              d < 50 && (u[d] = (u[d] * d) / 50),
                              d >= a - 51 && (u[d] = (u[d] * c--) / 50),
                              (l += this.option.channels))
                        ;(this.startTime < this.audioCtx.currentTime &&
                          (this.startTime = this.audioCtx.currentTime),
                          (this.bufferSource.buffer = o),
                          this.bufferSource.connect(this.gainNode),
                          this.bufferSource.connect(this.analyserNode),
                          this.bufferSource.start(this.startTime),
                          (e.startTime = this.startTime),
                          void 0 === this._firstStartAbsoluteTime &&
                            (this._firstStartAbsoluteTime = Date.now()),
                          void 0 === this._firstStartRelativeTime &&
                            ((this._firstStartRelativeTime = this.startTime),
                            this.ee.emit(vs.Player_StartSpeaking, this)),
                          (this.startTime += o.duration))
                      }
                    },
                  },
                  {
                    key: 'init',
                    value: function (e) {
                      ;((this.option = Object.assign(this.option, e)),
                        (this.convertValue = this._getConvertValue()),
                        (this.typedArray = this._getTypedArray()),
                        this.initAudioContext())
                    },
                  },
                  {
                    key: 'initAudioContext',
                    value: function () {
                      ;((this.audioCtx = new (window.AudioContext || window.webkitAudioContext)()),
                        (this.gainNode = this.audioCtx.createGain()),
                        (this.gainNode.gain.value = this.option.isMute ? 0 : 1),
                        this.gainNode.connect(this.audioCtx.destination),
                        (this.startTime = this.audioCtx.currentTime),
                        (this.analyserNode = this.audioCtx.createAnalyser()),
                        (this.analyserNode.fftSize = this.option.fftSize))
                    },
                  },
                  {
                    key: 'setMute',
                    value: function (e) {
                      this.gainNode.gain.value = e ? 0 : 1
                    },
                  },
                  {
                    key: 'pause',
                    value:
                      ((n = v(
                        h().m(function e() {
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    return ((e.n = 1), this.audioCtx.suspend())
                                  case 1:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function () {
                        return n.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'updateAutoPlay',
                    value:
                      ((t = v(
                        h().m(function e(t) {
                          var n = this
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    this.autoPlay !== t && t
                                      ? ((this.autoPlay = t),
                                        this.samplesList.forEach(function (e, t) {
                                          n.flush(e, t)
                                        }))
                                      : (this.autoPlay = t)
                                  case 1:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e) {
                        return t.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'volume',
                    value: function (e) {
                      this.gainNode.gain.value = e
                    },
                  },
                  {
                    key: '_getFormattedValue',
                    value: function (e) {
                      var t = this.typedArray
                      e = e.constructor === ArrayBuffer ? new t(e) : new t(e.buffer)
                      for (var n = new Float32Array(e.length), r = 0; r < e.length; r++)
                        n[r] = e[r] / this.convertValue
                      return n
                    },
                  },
                  {
                    key: '_isSupported',
                    value: function (t) {
                      if (!e.isTypedArray(t)) throw new Error('ArrayBufferTypedArray')
                      return !0
                    },
                  },
                  {
                    key: '_getConvertValue',
                    value: function () {
                      var e = { Int8: 128, Int16: 32768, Int32: 2147483648, Float32: 1 }
                      if (!e[this.option.inputCodec])
                        throw new Error(
                          'wrong codec.please input one of these codecs:Int8,Int16,Int32,Float32'
                        )
                      return e[this.option.inputCodec]
                    },
                  },
                  {
                    key: '_getTypedArray',
                    value: function () {
                      var e = {
                        Int8: Int8Array,
                        Int16: Int16Array,
                        Int32: Int32Array,
                        Float32: Float32Array,
                      }
                      if (!e[this.option.inputCodec])
                        throw new Error(
                          'wrong codec.please input one of these codecs:Int8,Int16,Int32,Float32'
                        )
                      return e[this.option.inputCodec]
                    },
                  },
                ],
                [
                  {
                    key: 'isTypedArray',
                    value: function (e) {
                      return (
                        (e.byteLength && e.buffer && e.buffer.constructor === ArrayBuffer) ||
                        e.constructor === ArrayBuffer
                      )
                    },
                  },
                ]
              )
              var t, n, r
            })(),
            Mu = { int16: 'Int16', int32: 'Int32', float32: 'Float32' },
            Eu = { int16: Int16Array, int32: Int32Array, float32: Float32Array },
            Cu = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    M(this, 'ee', void 0),
                    M(this, '_motionDataGroupHandlerQueue', new Ws({ concurrency: 1 })),
                    M(this, '_motionDataGroups', []),
                    M(this, '_arkit_face_sample_rate', void 0),
                    M(this, '_arkit_face_channel_names', void 0),
                    M(this, '_tts2face_sample_rate', void 0),
                    M(this, '_tts2face_channel_names', void 0),
                    M(this, '_maxBatchId', void 0),
                    M(this, '_arkitFaceShape', void 0),
                    M(this, '_tts2FaceShape', void 0),
                    (this.ee = t))
                },
                [
                  {
                    key: 'add',
                    value: function (e) {
                      var t = this,
                        n = e.avatar_motion_data
                      this._motionDataGroupHandlerQueue.add(
                        v(
                          h().m(function e() {
                            return h().w(function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    return ((e.n = 1), t._motionDataGroupHandler(n))
                                  case 1:
                                    return e.a(2, e.v)
                                }
                            }, e)
                          })
                        )
                      )
                    },
                  },
                  {
                    key: 'clear',
                    value: function () {
                      ;(this._motionDataGroups.forEach(function (e) {
                        var t
                        null === (t = e.player) || void 0 === t || t.destroy()
                      }),
                        (this._motionDataGroups = []))
                    },
                  },
                  {
                    key: 'setMute',
                    value: function (e) {
                      this._motionDataGroups.forEach(function (t) {
                        var n
                        null === (n = t.player) || void 0 === n || n.setMute(e)
                      })
                    },
                  },
                  {
                    key: 'getArkitFaceFrame',
                    value: function () {
                      return { arkitFace: this._getArkitFaceFrame() }
                    },
                  },
                  {
                    key: 'getLastBatchId',
                    value: function () {
                      var e
                      return (
                        this._motionDataGroups.forEach(function (t) {
                          t.batch_id && (e = t.batch_id)
                        }),
                        e
                      )
                    },
                  },
                  {
                    key: 'getTtt2FaceFrame',
                    value: function () {
                      return { tts2Face: this._getTts2FaceFrame() }
                    },
                  },
                  {
                    key: 'interrupt',
                    value: function () {
                      var e = this
                      ;(this._motionDataGroups.forEach(function (t) {
                        var n
                        ;(t.batch_id && (e._maxBatchId = t.batch_id),
                          null === (n = t.player) || void 0 === n || n.destroy())
                      }),
                        (this._motionDataGroups = []))
                    },
                  },
                  {
                    key: '_getArkitFaceFrame',
                    value: function () {
                      if (!this._motionDataGroups.length) return null
                      var e = this._motionDataGroups.find(function (e) {
                        return e.player
                      })
                      if (!e) return null
                      var t = e.arkitFaceArrayBufferArray,
                        n = e.player
                      if (
                        n &&
                        n._firstStartAbsoluteTime &&
                        t &&
                        t.length > 0 &&
                        this._arkitFaceShape &&
                        this._arkit_face_sample_rate
                      ) {
                        var r,
                          i = Date.now() - n._firstStartAbsoluteTime,
                          a = 0
                        n.samplesList.forEach(function (e, t) {
                          ;(void 0 === r && void 0 !== e.startTime && (r = e.startTime),
                            void 0 !== e.startTime && e.startTime - r <= i / 1e3 && (a = t))
                        })
                        var o = n.samplesList[a],
                          s = i - 1e3 * o.startTime,
                          u = Math.floor((s / 1e3) * this._arkit_face_sample_rate),
                          l = new Float32Array(t[a]),
                          c =
                            null == l
                              ? void 0
                              : l.slice(
                                  u * this._arkitFaceShape,
                                  u * this._arkitFaceShape + this._arkitFaceShape
                                )
                        if (null != c && c.length) {
                          var d = {}
                          return (
                            (this._arkit_face_channel_names || []).forEach(function (e, t) {
                              Object.assign(d, M({}, e, c[t]))
                            }),
                            d
                          )
                        }
                        return null
                      }
                      return null
                    },
                  },
                  {
                    key: '_getTts2FaceFrame',
                    value: function () {
                      if (!this._motionDataGroups.length) return null
                      var e = this._motionDataGroups.find(function (e) {
                        return e.player
                      })
                      if (!e) return null
                      var t = e.tts2faceArrayBufferArray,
                        n = e.player
                      if (
                        n &&
                        n._firstStartAbsoluteTime &&
                        t &&
                        t.length > 0 &&
                        this._tts2FaceShape &&
                        this._tts2face_sample_rate
                      ) {
                        var r,
                          i = Date.now() - n._firstStartAbsoluteTime,
                          a = 0
                        n.samplesList.forEach(function (e, t) {
                          ;(void 0 === r && void 0 !== e.startTime && (r = e.startTime),
                            void 0 !== e.startTime && e.startTime - r <= i / 1e3 && (a = t))
                        })
                        var o = n.samplesList[a],
                          s = i - 1e3 * o.startTime,
                          u = Math.floor((s / 1e3) * this._tts2face_sample_rate),
                          l = new Float32Array(t[a]),
                          c =
                            null == l
                              ? void 0
                              : l.slice(
                                  u * this._tts2FaceShape,
                                  u * this._tts2FaceShape + this._tts2FaceShape
                                )
                        return null != c && c.length ? c : null
                      }
                      return null
                    },
                  },
                  {
                    key: '_motionDataGroupHandler',
                    value:
                      ((r = v(
                        h().m(function e(t) {
                          var n, r, i, a, o, s, u, l, c, d, f, p, v, m, g, y
                          return h().w(
                            function (e) {
                              for (;;)
                                switch ((e.p = e.n)) {
                                  case 0:
                                    if (
                                      ((e.p = 0),
                                      (n = t.first_package),
                                      (r = t.motion_data_slice),
                                      (i = t.segment_num),
                                      (a = t.binary_size),
                                      (o = t.use_binary_frame),
                                      (s = t.is_audio_mute),
                                      !n)
                                    ) {
                                      e.n = 1
                                      break
                                    }
                                    ;((u =
                                      this._motionDataGroups[this._motionDataGroups.length - 1]) &&
                                      u.segment_num !== u.motion_data_slices.length &&
                                      this.ee.emit(fs.ErrorReceived, 'lost data packets'),
                                      this._motionDataGroups.push({
                                        first_package: n,
                                        binary_size: a,
                                        segment_num: i,
                                        use_binary_frame: o,
                                        motion_data_slices: [],
                                        merged_motion_data: new Uint8Array(a),
                                      }),
                                      (e.n = 8))
                                    break
                                  case 1:
                                    if (0 !== this._motionDataGroups.length) {
                                      e.n = 2
                                      break
                                    }
                                    return e.a(2)
                                  case 2:
                                    if (r) {
                                      e.n = 3
                                      break
                                    }
                                    return e.a(2)
                                  case 3:
                                    if (
                                      ((l =
                                        this._motionDataGroups[this._motionDataGroups.length - 1]),
                                      (c =
                                        this._motionDataGroups[this._motionDataGroups.length - 2]),
                                      l.motion_data_slices.push(r),
                                      l.motion_data_slices.length !== l.segment_num)
                                    ) {
                                      e.n = 8
                                      break
                                    }
                                    return ((d = l.motion_data_slices[0]), (e.n = 4), Au(d))
                                  case 4:
                                    if (
                                      ((f = e.v),
                                      (p = f.parsedData),
                                      (v = f.jsonSize),
                                      (m = f.binSize),
                                      (l.jsonSize = v),
                                      (l.binSize = m),
                                      (g = d.slice(12 + l.jsonSize)).size !== l.binSize &&
                                        this.ee.emit(ms.Chat_BinsizeError),
                                      this._connectBatch(p, l, c))
                                    ) {
                                      e.n = 5
                                      break
                                    }
                                    return e.a(2)
                                  case 5:
                                    return ((e.n = 6), this._handleArkitFaceConfig(p, l, c, g))
                                  case 6:
                                    return ((e.n = 7), this._handleAudioConfig(p, l, c, g, s || !1))
                                  case 7:
                                    this._handleEvents(p)
                                  case 8:
                                    e.n = 10
                                    break
                                  case 9:
                                    ;((e.p = 9),
                                      (y = e.v),
                                      console.error('err', y),
                                      this.ee.emit(fs.ErrorReceived, y.message))
                                  case 10:
                                    return e.a(2)
                                }
                            },
                            e,
                            this,
                            [[0, 9]]
                          )
                        })
                      )),
                      function (e) {
                        return r.apply(this, arguments)
                      }),
                  },
                  {
                    key: '_handleAudioConfig',
                    value:
                      ((n = v(
                        h().m(function e(t, n, r, i, a) {
                          var o,
                            s,
                            u,
                            l,
                            c,
                            d,
                            f,
                            p,
                            v,
                            m,
                            g,
                            y,
                            x,
                            _,
                            b,
                            S,
                            w,
                            A = this
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (
                                      ((o = t.data_records),
                                      (s = void 0 === o ? {} : o),
                                      (u = t.end_of_batch),
                                      !(l = s.audio))
                                    ) {
                                      e.n = 2
                                      break
                                    }
                                    return (
                                      (c = l.sample_rate),
                                      (d = l.shape),
                                      (f = l.data_offset),
                                      (p = l.data_type),
                                      (v = Mu[p]),
                                      (m = Eu[p]),
                                      void 0 === n.player &&
                                        (r && r.player && r.batch_id === n.batch_id
                                          ? (n.player = r.player)
                                          : c &&
                                            (n.player = new Tu(
                                              {
                                                inputCodec: v,
                                                channels: 1,
                                                sampleRate: c,
                                                fftSize: 1024,
                                                isMute: a,
                                                onended: function (e) {
                                                  if (e) {
                                                    var t = e.end_of_batch,
                                                      n = e.lastMotionGroup
                                                    if (t) {
                                                      var r = n.batch_id,
                                                        i = n.player
                                                      ;(A.ee.emit(vs.Player_EndSpeaking, i),
                                                        (A._motionDataGroups =
                                                          A._motionDataGroups.filter(function (e) {
                                                            return e.batch_id > r
                                                          })),
                                                        A._motionDataGroups.length &&
                                                        A._motionDataGroups[0].player
                                                          ? A._motionDataGroups[0].player.updateAutoPlay(
                                                              !0
                                                            )
                                                          : A.ee.emit(vs.Player_NoLegacy))
                                                    }
                                                  }
                                                },
                                              },
                                              this.ee
                                            )),
                                        u &&
                                          ((g = n.player.option.onended),
                                          (n.player.option.onended = function () {
                                            g({ end_of_batch: u, lastMotionGroup: n })
                                          }))),
                                      (y = d.reduce(
                                        function (e, t) {
                                          return e * t
                                        },
                                        'Int16' === v ? 2 : 4
                                      )),
                                      (x = f),
                                      (_ = f + y),
                                      (b = i.slice(x, _)),
                                      (e.n = 1),
                                      b.arrayBuffer()
                                    )
                                  case 1:
                                    ;((S = e.v),
                                      (w = this._motionDataGroups.find(function (e) {
                                        return e.player
                                      })),
                                      this._motionDataGroups.length &&
                                        n.player &&
                                        w &&
                                        w.player !== n.player &&
                                        (n.player.autoPlay = !1),
                                      n.player &&
                                        n.player.feed({ audio: new m(S), end_of_batch: u }),
                                      (e.n = 3))
                                    break
                                  case 2:
                                    r &&
                                      r.player &&
                                      n.batch_id === r.batch_id &&
                                      (n.player = r.player)
                                  case 3:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e, t, r, i, a) {
                        return n.apply(this, arguments)
                      }),
                  },
                  {
                    key: '_handleArkitFaceConfig',
                    value:
                      ((t = v(
                        h().m(function e(t, n, r, i) {
                          var a, o, s, u, l, c, d, f, p
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (
                                      ((a = t.data_records),
                                      !(o = (void 0 === a ? {} : a).arkit_face))
                                    ) {
                                      e.n = 3
                                      break
                                    }
                                    if (
                                      ((s = o.channel_names),
                                      (u = o.shape),
                                      (l = o.data_offset),
                                      (c = o.sample_rate),
                                      s &&
                                        !this._arkit_face_channel_names &&
                                        ((this._arkit_face_channel_names = s),
                                        (this._arkit_face_sample_rate = c)),
                                      void 0 !== n.arkitFaceArrayBufferArray)
                                    ) {
                                      e.n = 2
                                      break
                                    }
                                    return (
                                      r && r.arkitFaceArrayBufferArray && r.batch_id === n.batch_id
                                        ? (n.arkitFaceArrayBufferArray =
                                            r.arkitFaceArrayBufferArray)
                                        : (n.arkitFaceArrayBufferArray = []),
                                      (d = u.reduce(function (e, t) {
                                        return e * t
                                      }, 4)),
                                      (this._arkitFaceShape = u[1]),
                                      (f = i.slice(l, l + d)),
                                      (e.n = 1),
                                      f.arrayBuffer()
                                    )
                                  case 1:
                                    ;((p = e.v), n.arkitFaceArrayBufferArray.push(p))
                                  case 2:
                                    e.n = 4
                                    break
                                  case 3:
                                    r &&
                                      r.arkitFaceArrayBufferArray &&
                                      n.batch_id === r.batch_id &&
                                      (n.arkitFaceArrayBufferArray = r.arkitFaceArrayBufferArray)
                                  case 4:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e, n, r, i) {
                        return t.apply(this, arguments)
                      }),
                  },
                  {
                    key: '_handletts2faceConfig',
                    value:
                      ((e = v(
                        h().m(function e(t, n, r, i) {
                          var a, o, s, u, l, c, d, f, p
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (
                                      ((a = t.data_records),
                                      !(o = (void 0 === a ? {} : a).tts2face))
                                    ) {
                                      e.n = 3
                                      break
                                    }
                                    if (
                                      ((s = o.channel_names),
                                      (u = o.shape),
                                      (l = o.data_offset),
                                      (c = o.sample_rate),
                                      s &&
                                        !this._tts2face_channel_names &&
                                        ((this._tts2face_channel_names = s),
                                        (this._tts2face_sample_rate = c)),
                                      void 0 !== n.tts2faceArrayBufferArray)
                                    ) {
                                      e.n = 2
                                      break
                                    }
                                    return (
                                      r && r.tts2faceArrayBufferArray && r.batch_id === n.batch_id
                                        ? (n.tts2faceArrayBufferArray = r.tts2faceArrayBufferArray)
                                        : (n.tts2faceArrayBufferArray = []),
                                      (d = u.reduce(function (e, t) {
                                        return e * t
                                      }, 4)),
                                      (this._tts2FaceShape = u[1]),
                                      (f = i.slice(l, l + d)),
                                      (e.n = 1),
                                      f.arrayBuffer()
                                    )
                                  case 1:
                                    ;((p = e.v), n.tts2faceArrayBufferArray.push(p))
                                  case 2:
                                    e.n = 4
                                    break
                                  case 3:
                                    r &&
                                      r.tts2faceArrayBufferArray &&
                                      n.batch_id === r.batch_id &&
                                      (n.tts2faceArrayBufferArray = r.tts2faceArrayBufferArray)
                                  case 4:
                                    return e.a(2)
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (t, n, r, i) {
                        return e.apply(this, arguments)
                      }),
                  },
                  {
                    key: '_handleEvents',
                    value: function (e) {
                      var t = this,
                        n = e.events
                      n &&
                        n.length &&
                        n.forEach(function (e) {
                          switch (e.event_type) {
                            case 'interrupt_speech':
                              break
                            case 'change_status':
                              t.ee.emit(ms.Change_Status, e)
                          }
                        })
                    },
                  },
                  {
                    key: '_connectBatch',
                    value: function (e, t, n) {
                      var r = !0
                      return (
                        e.batch_id && void 0 === t.batch_id && (t.batch_id = e.batch_id),
                        !t.batch_id && n && n.batch_id && (t.batch_id = n.batch_id),
                        e.batch_name && void 0 === t.batch_name && (t.batch_name = e.batch_name),
                        this._maxBatchId &&
                          t.batch_id &&
                          t.batch_id <= this._maxBatchId &&
                          (this.clear(), (r = !1)),
                        r
                      )
                    },
                  },
                ]
              )
              var e, t, n, r
            })(),
            ku = (function () {
              function e(t, n) {
                var r, i
                ;(w(this, e),
                  (this.promise = new Promise(function (e, t) {
                    ;((r = e), (i = t))
                  })))
                var a = r.bind(this),
                  o = i.bind(this)
                ;(t(
                  function () {
                    a.apply(void 0, arguments)
                  }.bind(this),
                  function (e) {
                    o(e)
                  }.bind(this)
                ),
                  (this.abortHandler = n),
                  (this.id = e.idGen++))
              }
              return T(e, [
                {
                  key: 'then',
                  value: function (t) {
                    var n = this
                    return new e(function (r, i) {
                      n.promise = n.promise
                        .then(function () {
                          var n = t.apply(void 0, arguments)
                          n instanceof Promise || n instanceof e
                            ? n.then(function () {
                                r.apply(void 0, arguments)
                              })
                            : r(n)
                        })
                        .catch(function (e) {
                          i(e)
                        })
                    }, this.abortHandler)
                  },
                },
                {
                  key: 'catch',
                  value: function (t) {
                    var n = this
                    return new e(function (e) {
                      n.promise = n.promise
                        .then(function () {
                          e.apply(void 0, arguments)
                        })
                        .catch(t)
                    }, this.abortHandler)
                  },
                },
                {
                  key: 'abort',
                  value: function (e) {
                    this.abortHandler && this.abortHandler(e)
                  },
                },
              ])
            })()
          M(ku, 'idGen', 0)
          var Ru,
            Iu = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (b(t, e), T(t))
            })(m(Error))
          ;((Ru = new Float32Array(1)), new Int32Array(Ru.buffer))
          var Nu = (function () {
              var e = new Float32Array(1),
                t = new Int32Array(e.buffer)
              return function (n) {
                return ((e[0] = n), t[0])
              }
            })(),
            Pu = function (e, t) {
              return e[t] + (e[t + 1] << 8) + (e[t + 2] << 16) + (e[t + 3] << 24)
            },
            Lu = function (e, t) {
              var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                r = arguments.length > 3 ? arguments[3] : void 0,
                i = new AbortController(),
                a = i.signal,
                o = !1
              return new ku(
                function (i, s) {
                  var u = { signal: a }
                  ;(r && (u.headers = r),
                    fetch(e, u)
                      .then(
                        (function () {
                          var e = v(
                            h().m(function e(r) {
                              var a, u, l, c, d, f, p, v, m, g, y, x
                              return h().w(
                                function (e) {
                                  for (;;)
                                    switch ((e.p = e.n)) {
                                      case 0:
                                        if (r.ok) {
                                          e.n = 2
                                          break
                                        }
                                        return ((e.n = 1), r.text())
                                      case 1:
                                        return (
                                          (a = e.v),
                                          s(
                                            new Error(
                                              'Fetch failed: '
                                                .concat(r.status, ' ')
                                                .concat(r.statusText, ' ')
                                                .concat(a)
                                            )
                                          ),
                                          e.a(2)
                                        )
                                      case 2:
                                        ;((u = r.body.getReader()),
                                          (l = 0),
                                          (c = r.headers.get('Content-Length')),
                                          (d = c ? parseInt(c) : void 0),
                                          (f = []))
                                      case 3:
                                        if (o) {
                                          e.n = 9
                                          break
                                        }
                                        return ((e.p = 4), (e.n = 5), u.read())
                                      case 5:
                                        if (((p = e.v), (v = p.value), !p.done)) {
                                          e.n = 6
                                          break
                                        }
                                        return (
                                          t && t(100, '100%', v, d),
                                          n ? ((m = new Blob(f).arrayBuffer()), i(m)) : i(),
                                          e.a(3, 9)
                                        )
                                      case 6:
                                        ;((l += v.length),
                                          (g = void 0),
                                          (y = void 0),
                                          void 0 !== d &&
                                            (y = ''.concat((g = (l / d) * 100).toFixed(2), '%')),
                                          n && f.push(v),
                                          t && t(g, y, v, d),
                                          (e.n = 8))
                                        break
                                      case 7:
                                        return ((e.p = 7), (x = e.v), s(x), e.a(2))
                                      case 8:
                                        e.n = 3
                                        break
                                      case 9:
                                        return e.a(2)
                                    }
                                },
                                e,
                                null,
                                [[4, 7]]
                              )
                            })
                          )
                          return function (t) {
                            return e.apply(this, arguments)
                          }
                        })()
                      )
                      .catch(function (e) {
                        s(new Iu(e))
                      }))
                },
                function (e) {
                  ;(i.abort(e), (o = !0))
                }
              )
            },
            Du = function (e, t, n) {
              return Math.max(Math.min(e, n), t)
            },
            Ou = function () {
              return performance.now() / 1e3
            },
            Fu = function (e) {
              if (
                (e.geometry && (e.geometry.dispose(), (e.geometry = null)),
                e.material && (e.material.dispose(), (e.material = null)),
                e.children)
              ) {
                var t,
                  n = L(e.children)
                try {
                  for (n.s(); !(t = n.n()).done; ) {
                    var r = t.value
                    Fu(r)
                  }
                } catch (i) {
                  n.e(i)
                } finally {
                  n.f()
                }
              }
            },
            Bu = function (e, t) {
              return new Promise(function (n) {
                window.setTimeout(
                  function () {
                    n(e())
                  },
                  t ? 1 : 50
                )
              })
            },
            Uu = function () {
              switch (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0) {
                case 1:
                  return 9
                case 2:
                  return 24
              }
              return 0
            },
            zu = function () {
              var e,
                t,
                n = new Promise(function (n, r) {
                  ;((e = n), (t = r))
                })
              return { promise: n, resolve: e, reject: t }
            },
            Vu = function (e) {
              var t, n
              e || (e = function () {})
              var r = new ku(function (e, r) {
                ;((t = e), (n = r))
              }, e)
              return { promise: r, resolve: t, reject: n }
            },
            Hu = (function () {
              return T(
                function e(t, n, r) {
                  ;(w(this, e), (this.major = t), (this.minor = n), (this.patch = r))
                },
                [
                  {
                    key: 'toString',
                    value: function () {
                      return ''.concat(this.major, '_').concat(this.minor, '_').concat(this.patch)
                    },
                  },
                ]
              )
            })()
          function Wu() {
            var e = navigator.userAgent
            return e.indexOf('iPhone') > 0 || e.indexOf('iPad') > 0
          }
          function Gu() {
            if (Wu()) {
              var e = navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/)
              return new Hu(
                parseInt(e[1] || 0, 10),
                parseInt(e[2] || 0, 10),
                parseInt(e[3] || 0, 10)
              )
            }
            return null
          }
          var ju = (function () {
            function e() {
              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
              ;(w(this, e),
                (this.sphericalHarmonicsDegree = t),
                (this.sphericalHarmonicsCount = Uu(this.sphericalHarmonicsDegree)),
                (this.componentCount = this.sphericalHarmonicsCount + 14),
                (this.defaultSphericalHarmonics = new Array(this.sphericalHarmonicsCount).fill(0)),
                (this.splats = []),
                (this.splatCount = 0))
            }
            return T(
              e,
              [
                {
                  key: 'addSplat',
                  value: function (e) {
                    ;(this.splats.push(e), this.splatCount++)
                  },
                },
                {
                  key: 'getSplat',
                  value: function (e) {
                    return this.splats[e]
                  },
                },
                {
                  key: 'addDefaultSplat',
                  value: function () {
                    var t = e.createSplat(this.sphericalHarmonicsDegree)
                    return (this.addSplat(t), t)
                  },
                },
                {
                  key: 'addSplatFromComonents',
                  value: function (e, t, n, r, i, a, o, s, u, l, c, d, h, f) {
                    for (
                      var p = [e, t, n, r, i, a, o, s, u, l, c, d, h, f].concat(
                          I(this.defaultSphericalHarmonics)
                        ),
                        v = 0;
                      v < (arguments.length <= 14 ? 0 : arguments.length - 14) &&
                      v < this.sphericalHarmonicsCount;
                      v++
                    )
                      p[v] = v + 14 < 14 || arguments.length <= v + 14 ? void 0 : arguments[v + 14]
                    return (this.addSplat(p), p)
                  },
                },
                {
                  key: 'addSplatFromArray',
                  value: function (t, n) {
                    for (
                      var r = t.splats[n], i = e.createSplat(this.sphericalHarmonicsDegree), a = 0;
                      a < this.componentCount && a < r.length;
                      a++
                    )
                      i[a] = r[a]
                    this.addSplat(i)
                  },
                },
              ],
              [
                {
                  key: 'createSplat',
                  value: function () {
                    for (
                      var e = [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
                        t = Uu(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0),
                        n = 0;
                      n < t;
                      n++
                    )
                      e.push(0)
                    return e
                  },
                },
              ]
            )
          })()
          /**
           * @license
           * Copyright 2010-2025 Three.js Authors
           * SPDX-License-Identifier: MIT
           */
          M(ju, 'OFFSET', {
            X: 0,
            Y: 1,
            Z: 2,
            SCALE0: 3,
            SCALE1: 4,
            SCALE2: 5,
            ROTATION0: 6,
            ROTATION1: 7,
            ROTATION2: 8,
            ROTATION3: 9,
            FDC0: 10,
            FDC1: 11,
            FDC2: 12,
            OPACITY: 13,
            FRC0: 14,
            FRC1: 15,
            FRC2: 16,
            FRC3: 17,
            FRC4: 18,
            FRC5: 19,
            FRC6: 20,
            FRC7: 21,
            FRC8: 22,
            FRC9: 23,
            FRC10: 24,
            FRC11: 25,
            FRC12: 26,
            FRC13: 27,
            FRC14: 28,
            FRC15: 29,
            FRC16: 30,
            FRC17: 31,
            FRC18: 32,
            FRC19: 33,
            FRC20: 34,
            FRC21: 35,
            FRC22: 36,
            FRC23: 37,
          })
          var Qu = '173',
            qu = 0,
            Xu = 1,
            Yu = 2,
            Ku = 0,
            Zu = 1,
            Ju = 2,
            $u = 3,
            el = 100,
            tl = 204,
            nl = 205,
            rl = 'attached',
            il = 301,
            al = 302,
            ol = 306,
            sl = 1e3,
            ul = 1001,
            ll = 1002,
            cl = 1003,
            dl = 1005,
            hl = 1006,
            fl = 1007,
            pl = 1008,
            vl = 1009,
            ml = 1010,
            gl = 1011,
            yl = 1012,
            xl = 1013,
            _l = 1014,
            bl = 1015,
            Sl = 1016,
            wl = 1017,
            Al = 1018,
            Tl = 1020,
            Ml = 35902,
            El = 1023,
            Cl = 1026,
            kl = 1027,
            Rl = 1028,
            Il = 1029,
            Nl = 1030,
            Pl = 1031,
            Ll = 1033,
            Dl = 33776,
            Ol = 33777,
            Fl = 33778,
            Bl = 33779,
            Ul = 35840,
            zl = 35841,
            Vl = 35842,
            Hl = 35843,
            Wl = 36196,
            Gl = 37492,
            jl = 37496,
            Ql = 37808,
            ql = 37809,
            Xl = 37810,
            Yl = 37811,
            Kl = 37812,
            Zl = 37813,
            Jl = 37814,
            $l = 37815,
            ec = 37816,
            tc = 37817,
            nc = 37818,
            rc = 37819,
            ic = 37820,
            ac = 37821,
            oc = 36492,
            sc = 36494,
            uc = 36495,
            lc = 36284,
            cc = 36285,
            dc = 36286,
            hc = 2200,
            fc = 2201,
            pc = 2300,
            vc = 2301,
            mc = 2302,
            gc = 2400,
            yc = 2401,
            xc = 2402,
            _c = 2500,
            bc = '',
            Sc = 'srgb',
            wc = 'srgb-linear',
            Ac = 'linear',
            Tc = 'srgb',
            Mc = 7680,
            Ec = 35044,
            Cc = 35048,
            kc = '300 es',
            Rc = 2e3,
            Ic = 2001,
            Nc = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                [
                  {
                    key: 'addEventListener',
                    value: function (e, t) {
                      void 0 === this._listeners && (this._listeners = {})
                      var n = this._listeners
                      ;(void 0 === n[e] && (n[e] = []), -1 === n[e].indexOf(t) && n[e].push(t))
                    },
                  },
                  {
                    key: 'hasEventListener',
                    value: function (e, t) {
                      var n = this._listeners
                      return void 0 !== n && void 0 !== n[e] && -1 !== n[e].indexOf(t)
                    },
                  },
                  {
                    key: 'removeEventListener',
                    value: function (e, t) {
                      var n = this._listeners
                      if (void 0 !== n) {
                        var r = n[e]
                        if (void 0 !== r) {
                          var i = r.indexOf(t)
                          ;-1 !== i && r.splice(i, 1)
                        }
                      }
                    },
                  },
                  {
                    key: 'dispatchEvent',
                    value: function (e) {
                      var t = this._listeners
                      if (void 0 !== t) {
                        var n = t[e.type]
                        if (void 0 !== n) {
                          e.target = this
                          for (var r = n.slice(0), i = 0, a = r.length; i < a; i++)
                            r[i].call(this, e)
                          e.target = null
                        }
                      }
                    },
                  },
                ]
              )
            })(),
            Pc = [
              '00',
              '01',
              '02',
              '03',
              '04',
              '05',
              '06',
              '07',
              '08',
              '09',
              '0a',
              '0b',
              '0c',
              '0d',
              '0e',
              '0f',
              '10',
              '11',
              '12',
              '13',
              '14',
              '15',
              '16',
              '17',
              '18',
              '19',
              '1a',
              '1b',
              '1c',
              '1d',
              '1e',
              '1f',
              '20',
              '21',
              '22',
              '23',
              '24',
              '25',
              '26',
              '27',
              '28',
              '29',
              '2a',
              '2b',
              '2c',
              '2d',
              '2e',
              '2f',
              '30',
              '31',
              '32',
              '33',
              '34',
              '35',
              '36',
              '37',
              '38',
              '39',
              '3a',
              '3b',
              '3c',
              '3d',
              '3e',
              '3f',
              '40',
              '41',
              '42',
              '43',
              '44',
              '45',
              '46',
              '47',
              '48',
              '49',
              '4a',
              '4b',
              '4c',
              '4d',
              '4e',
              '4f',
              '50',
              '51',
              '52',
              '53',
              '54',
              '55',
              '56',
              '57',
              '58',
              '59',
              '5a',
              '5b',
              '5c',
              '5d',
              '5e',
              '5f',
              '60',
              '61',
              '62',
              '63',
              '64',
              '65',
              '66',
              '67',
              '68',
              '69',
              '6a',
              '6b',
              '6c',
              '6d',
              '6e',
              '6f',
              '70',
              '71',
              '72',
              '73',
              '74',
              '75',
              '76',
              '77',
              '78',
              '79',
              '7a',
              '7b',
              '7c',
              '7d',
              '7e',
              '7f',
              '80',
              '81',
              '82',
              '83',
              '84',
              '85',
              '86',
              '87',
              '88',
              '89',
              '8a',
              '8b',
              '8c',
              '8d',
              '8e',
              '8f',
              '90',
              '91',
              '92',
              '93',
              '94',
              '95',
              '96',
              '97',
              '98',
              '99',
              '9a',
              '9b',
              '9c',
              '9d',
              '9e',
              '9f',
              'a0',
              'a1',
              'a2',
              'a3',
              'a4',
              'a5',
              'a6',
              'a7',
              'a8',
              'a9',
              'aa',
              'ab',
              'ac',
              'ad',
              'ae',
              'af',
              'b0',
              'b1',
              'b2',
              'b3',
              'b4',
              'b5',
              'b6',
              'b7',
              'b8',
              'b9',
              'ba',
              'bb',
              'bc',
              'bd',
              'be',
              'bf',
              'c0',
              'c1',
              'c2',
              'c3',
              'c4',
              'c5',
              'c6',
              'c7',
              'c8',
              'c9',
              'ca',
              'cb',
              'cc',
              'cd',
              'ce',
              'cf',
              'd0',
              'd1',
              'd2',
              'd3',
              'd4',
              'd5',
              'd6',
              'd7',
              'd8',
              'd9',
              'da',
              'db',
              'dc',
              'dd',
              'de',
              'df',
              'e0',
              'e1',
              'e2',
              'e3',
              'e4',
              'e5',
              'e6',
              'e7',
              'e8',
              'e9',
              'ea',
              'eb',
              'ec',
              'ed',
              'ee',
              'ef',
              'f0',
              'f1',
              'f2',
              'f3',
              'f4',
              'f5',
              'f6',
              'f7',
              'f8',
              'f9',
              'fa',
              'fb',
              'fc',
              'fd',
              'fe',
              'ff',
            ],
            Lc = 1234567,
            Dc = Math.PI / 180,
            Oc = 180 / Math.PI
          function Fc() {
            var e = (4294967295 * Math.random()) | 0,
              t = (4294967295 * Math.random()) | 0,
              n = (4294967295 * Math.random()) | 0,
              r = (4294967295 * Math.random()) | 0
            return (
              Pc[255 & e] +
              Pc[(e >> 8) & 255] +
              Pc[(e >> 16) & 255] +
              Pc[(e >> 24) & 255] +
              '-' +
              Pc[255 & t] +
              Pc[(t >> 8) & 255] +
              '-' +
              Pc[((t >> 16) & 15) | 64] +
              Pc[(t >> 24) & 255] +
              '-' +
              Pc[(63 & n) | 128] +
              Pc[(n >> 8) & 255] +
              '-' +
              Pc[(n >> 16) & 255] +
              Pc[(n >> 24) & 255] +
              Pc[255 & r] +
              Pc[(r >> 8) & 255] +
              Pc[(r >> 16) & 255] +
              Pc[(r >> 24) & 255]
            ).toLowerCase()
          }
          function Bc(e, t, n) {
            return Math.max(t, Math.min(n, e))
          }
          function Uc(e, t) {
            return ((e % t) + t) % t
          }
          function zc(e, t, n) {
            return (1 - n) * e + n * t
          }
          function Vc(e, t) {
            switch (t.constructor) {
              case Float32Array:
                return e
              case Uint32Array:
                return e / 4294967295
              case Uint16Array:
                return e / 65535
              case Uint8Array:
                return e / 255
              case Int32Array:
                return Math.max(e / 2147483647, -1)
              case Int16Array:
                return Math.max(e / 32767, -1)
              case Int8Array:
                return Math.max(e / 127, -1)
              default:
                throw new Error('Invalid component type.')
            }
          }
          function Hc(e, t) {
            switch (t.constructor) {
              case Float32Array:
                return e
              case Uint32Array:
                return Math.round(4294967295 * e)
              case Uint16Array:
                return Math.round(65535 * e)
              case Uint8Array:
                return Math.round(255 * e)
              case Int32Array:
                return Math.round(2147483647 * e)
              case Int16Array:
                return Math.round(32767 * e)
              case Int8Array:
                return Math.round(127 * e)
              default:
                throw new Error('Invalid component type.')
            }
          }
          var Wc = {
              DEG2RAD: Dc,
              RAD2DEG: Oc,
              generateUUID: Fc,
              clamp: Bc,
              euclideanModulo: Uc,
              mapLinear: function (e, t, n, r, i) {
                return r + ((e - t) * (i - r)) / (n - t)
              },
              inverseLerp: function (e, t, n) {
                return e !== t ? (n - e) / (t - e) : 0
              },
              lerp: zc,
              damp: function (e, t, n, r) {
                return zc(e, t, 1 - Math.exp(-n * r))
              },
              pingpong: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return t - Math.abs(Uc(e, 2 * t) - t)
              },
              smoothstep: function (e, t, n) {
                return e <= t ? 0 : e >= n ? 1 : (e = (e - t) / (n - t)) * e * (3 - 2 * e)
              },
              smootherstep: function (e, t, n) {
                return e <= t
                  ? 0
                  : e >= n
                    ? 1
                    : (e = (e - t) / (n - t)) * e * e * (e * (6 * e - 15) + 10)
              },
              randInt: function (e, t) {
                return e + Math.floor(Math.random() * (t - e + 1))
              },
              randFloat: function (e, t) {
                return e + Math.random() * (t - e)
              },
              randFloatSpread: function (e) {
                return e * (0.5 - Math.random())
              },
              seededRandom: function (e) {
                void 0 !== e && (Lc = e)
                var t = (Lc += 1831565813)
                return (
                  (t = Math.imul(t ^ (t >>> 15), 1 | t)),
                  (((t ^= t + Math.imul(t ^ (t >>> 7), 61 | t)) ^ (t >>> 14)) >>> 0) / 4294967296
                )
              },
              degToRad: function (e) {
                return e * Dc
              },
              radToDeg: function (e) {
                return e * Oc
              },
              isPowerOfTwo: function (e) {
                return !(e & (e - 1)) && 0 !== e
              },
              ceilPowerOfTwo: function (e) {
                return Math.pow(2, Math.ceil(Math.log(e) / Math.LN2))
              },
              floorPowerOfTwo: function (e) {
                return Math.pow(2, Math.floor(Math.log(e) / Math.LN2))
              },
              setQuaternionFromProperEuler: function (e, t, n, r, i) {
                var a = Math.cos,
                  o = Math.sin,
                  s = a(n / 2),
                  u = o(n / 2),
                  l = a((t + r) / 2),
                  c = o((t + r) / 2),
                  d = a((t - r) / 2),
                  h = o((t - r) / 2),
                  f = a((r - t) / 2),
                  p = o((r - t) / 2)
                switch (i) {
                  case 'XYX':
                    e.set(s * c, u * d, u * h, s * l)
                    break
                  case 'YZY':
                    e.set(u * h, s * c, u * d, s * l)
                    break
                  case 'ZXZ':
                    e.set(u * d, u * h, s * c, s * l)
                    break
                  case 'XZX':
                    e.set(s * c, u * p, u * f, s * l)
                    break
                  case 'YXY':
                    e.set(u * f, s * c, u * p, s * l)
                    break
                  case 'ZYZ':
                    e.set(u * p, u * f, s * c, s * l)
                    break
                  default:
                    console.warn(
                      'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' +
                        i
                    )
                }
              },
              normalize: Hc,
              denormalize: Vc,
            },
            Gc = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  ;(w(this, e), (e.prototype.isVector2 = !0), (this.x = t), (this.y = n))
                },
                [
                  {
                    key: 'width',
                    get: function () {
                      return this.x
                    },
                    set: function (e) {
                      this.x = e
                    },
                  },
                  {
                    key: 'height',
                    get: function () {
                      return this.y
                    },
                    set: function (e) {
                      this.y = e
                    },
                  },
                  {
                    key: 'set',
                    value: function (e, t) {
                      return ((this.x = e), (this.y = t), this)
                    },
                  },
                  {
                    key: 'setScalar',
                    value: function (e) {
                      return ((this.x = e), (this.y = e), this)
                    },
                  },
                  {
                    key: 'setX',
                    value: function (e) {
                      return ((this.x = e), this)
                    },
                  },
                  {
                    key: 'setY',
                    value: function (e) {
                      return ((this.y = e), this)
                    },
                  },
                  {
                    key: 'setComponent',
                    value: function (e, t) {
                      switch (e) {
                        case 0:
                          this.x = t
                          break
                        case 1:
                          this.y = t
                          break
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                      return this
                    },
                  },
                  {
                    key: 'getComponent',
                    value: function (e) {
                      switch (e) {
                        case 0:
                          return this.x
                        case 1:
                          return this.y
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this.x, this.y)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return ((this.x = e.x), (this.y = e.y), this)
                    },
                  },
                  {
                    key: 'add',
                    value: function (e) {
                      return ((this.x += e.x), (this.y += e.y), this)
                    },
                  },
                  {
                    key: 'addScalar',
                    value: function (e) {
                      return ((this.x += e), (this.y += e), this)
                    },
                  },
                  {
                    key: 'addVectors',
                    value: function (e, t) {
                      return ((this.x = e.x + t.x), (this.y = e.y + t.y), this)
                    },
                  },
                  {
                    key: 'addScaledVector',
                    value: function (e, t) {
                      return ((this.x += e.x * t), (this.y += e.y * t), this)
                    },
                  },
                  {
                    key: 'sub',
                    value: function (e) {
                      return ((this.x -= e.x), (this.y -= e.y), this)
                    },
                  },
                  {
                    key: 'subScalar',
                    value: function (e) {
                      return ((this.x -= e), (this.y -= e), this)
                    },
                  },
                  {
                    key: 'subVectors',
                    value: function (e, t) {
                      return ((this.x = e.x - t.x), (this.y = e.y - t.y), this)
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return ((this.x *= e.x), (this.y *= e.y), this)
                    },
                  },
                  {
                    key: 'multiplyScalar',
                    value: function (e) {
                      return ((this.x *= e), (this.y *= e), this)
                    },
                  },
                  {
                    key: 'divide',
                    value: function (e) {
                      return ((this.x /= e.x), (this.y /= e.y), this)
                    },
                  },
                  {
                    key: 'divideScalar',
                    value: function (e) {
                      return this.multiplyScalar(1 / e)
                    },
                  },
                  {
                    key: 'applyMatrix3',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = e.elements
                      return (
                        (this.x = r[0] * t + r[3] * n + r[6]),
                        (this.y = r[1] * t + r[4] * n + r[7]),
                        this
                      )
                    },
                  },
                  {
                    key: 'min',
                    value: function (e) {
                      return (
                        (this.x = Math.min(this.x, e.x)),
                        (this.y = Math.min(this.y, e.y)),
                        this
                      )
                    },
                  },
                  {
                    key: 'max',
                    value: function (e) {
                      return (
                        (this.x = Math.max(this.x, e.x)),
                        (this.y = Math.max(this.y, e.y)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clamp',
                    value: function (e, t) {
                      return (
                        (this.x = Bc(this.x, e.x, t.x)),
                        (this.y = Bc(this.y, e.y, t.y)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clampScalar',
                    value: function (e, t) {
                      return ((this.x = Bc(this.x, e, t)), (this.y = Bc(this.y, e, t)), this)
                    },
                  },
                  {
                    key: 'clampLength',
                    value: function (e, t) {
                      var n = this.length()
                      return this.divideScalar(n || 1).multiplyScalar(Bc(n, e, t))
                    },
                  },
                  {
                    key: 'floor',
                    value: function () {
                      return ((this.x = Math.floor(this.x)), (this.y = Math.floor(this.y)), this)
                    },
                  },
                  {
                    key: 'ceil',
                    value: function () {
                      return ((this.x = Math.ceil(this.x)), (this.y = Math.ceil(this.y)), this)
                    },
                  },
                  {
                    key: 'round',
                    value: function () {
                      return ((this.x = Math.round(this.x)), (this.y = Math.round(this.y)), this)
                    },
                  },
                  {
                    key: 'roundToZero',
                    value: function () {
                      return ((this.x = Math.trunc(this.x)), (this.y = Math.trunc(this.y)), this)
                    },
                  },
                  {
                    key: 'negate',
                    value: function () {
                      return ((this.x = -this.x), (this.y = -this.y), this)
                    },
                  },
                  {
                    key: 'dot',
                    value: function (e) {
                      return this.x * e.x + this.y * e.y
                    },
                  },
                  {
                    key: 'cross',
                    value: function (e) {
                      return this.x * e.y - this.y * e.x
                    },
                  },
                  {
                    key: 'lengthSq',
                    value: function () {
                      return this.x * this.x + this.y * this.y
                    },
                  },
                  {
                    key: 'length',
                    value: function () {
                      return Math.sqrt(this.x * this.x + this.y * this.y)
                    },
                  },
                  {
                    key: 'manhattanLength',
                    value: function () {
                      return Math.abs(this.x) + Math.abs(this.y)
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      return this.divideScalar(this.length() || 1)
                    },
                  },
                  {
                    key: 'angle',
                    value: function () {
                      var e = Math.atan2(-this.y, -this.x) + Math.PI
                      return e
                    },
                  },
                  {
                    key: 'angleTo',
                    value: function (e) {
                      var t = Math.sqrt(this.lengthSq() * e.lengthSq())
                      if (0 === t) return Math.PI / 2
                      var n = this.dot(e) / t
                      return Math.acos(Bc(n, -1, 1))
                    },
                  },
                  {
                    key: 'distanceTo',
                    value: function (e) {
                      return Math.sqrt(this.distanceToSquared(e))
                    },
                  },
                  {
                    key: 'distanceToSquared',
                    value: function (e) {
                      var t = this.x - e.x,
                        n = this.y - e.y
                      return t * t + n * n
                    },
                  },
                  {
                    key: 'manhattanDistanceTo',
                    value: function (e) {
                      return Math.abs(this.x - e.x) + Math.abs(this.y - e.y)
                    },
                  },
                  {
                    key: 'setLength',
                    value: function (e) {
                      return this.normalize().multiplyScalar(e)
                    },
                  },
                  {
                    key: 'lerp',
                    value: function (e, t) {
                      return ((this.x += (e.x - this.x) * t), (this.y += (e.y - this.y) * t), this)
                    },
                  },
                  {
                    key: 'lerpVectors',
                    value: function (e, t, n) {
                      return (
                        (this.x = e.x + (t.x - e.x) * n),
                        (this.y = e.y + (t.y - e.y) * n),
                        this
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.x === this.x && e.y === this.y
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((this.x = e[t]), (this.y = e[t + 1]), this)
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((e[t] = this.x), (e[t + 1] = this.y), e)
                    },
                  },
                  {
                    key: 'fromBufferAttribute',
                    value: function (e, t) {
                      return ((this.x = e.getX(t)), (this.y = e.getY(t)), this)
                    },
                  },
                  {
                    key: 'rotateAround',
                    value: function (e, t) {
                      var n = Math.cos(t),
                        r = Math.sin(t),
                        i = this.x - e.x,
                        a = this.y - e.y
                      return ((this.x = i * n - a * r + e.x), (this.y = i * r + a * n + e.y), this)
                    },
                  },
                  {
                    key: 'random',
                    value: function () {
                      return ((this.x = Math.random()), (this.y = Math.random()), this)
                    },
                  },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this.x)
                              case 1:
                                return ((e.n = 2), this.y)
                              case 2:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ]
              )
            })(),
            jc = (function () {
              return T(
                function e(t, n, r, i, a, o, s, u, l) {
                  ;(w(this, e),
                    (e.prototype.isMatrix3 = !0),
                    (this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                    void 0 !== t && this.set(t, n, r, i, a, o, s, u, l))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t, n, r, i, a, o, s, u) {
                      var l = this.elements
                      return (
                        (l[0] = e),
                        (l[1] = r),
                        (l[2] = o),
                        (l[3] = t),
                        (l[4] = i),
                        (l[5] = s),
                        (l[6] = n),
                        (l[7] = a),
                        (l[8] = u),
                        this
                      )
                    },
                  },
                  {
                    key: 'identity',
                    value: function () {
                      return (this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      var t = this.elements,
                        n = e.elements
                      return (
                        (t[0] = n[0]),
                        (t[1] = n[1]),
                        (t[2] = n[2]),
                        (t[3] = n[3]),
                        (t[4] = n[4]),
                        (t[5] = n[5]),
                        (t[6] = n[6]),
                        (t[7] = n[7]),
                        (t[8] = n[8]),
                        this
                      )
                    },
                  },
                  {
                    key: 'extractBasis',
                    value: function (e, t, n) {
                      return (
                        e.setFromMatrix3Column(this, 0),
                        t.setFromMatrix3Column(this, 1),
                        n.setFromMatrix3Column(this, 2),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromMatrix4',
                    value: function (e) {
                      var t = e.elements
                      return (this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]), this)
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return this.multiplyMatrices(this, e)
                    },
                  },
                  {
                    key: 'premultiply',
                    value: function (e) {
                      return this.multiplyMatrices(e, this)
                    },
                  },
                  {
                    key: 'multiplyMatrices',
                    value: function (e, t) {
                      var n = e.elements,
                        r = t.elements,
                        i = this.elements,
                        a = n[0],
                        o = n[3],
                        s = n[6],
                        u = n[1],
                        l = n[4],
                        c = n[7],
                        d = n[2],
                        h = n[5],
                        f = n[8],
                        p = r[0],
                        v = r[3],
                        m = r[6],
                        g = r[1],
                        y = r[4],
                        x = r[7],
                        _ = r[2],
                        b = r[5],
                        S = r[8]
                      return (
                        (i[0] = a * p + o * g + s * _),
                        (i[3] = a * v + o * y + s * b),
                        (i[6] = a * m + o * x + s * S),
                        (i[1] = u * p + l * g + c * _),
                        (i[4] = u * v + l * y + c * b),
                        (i[7] = u * m + l * x + c * S),
                        (i[2] = d * p + h * g + f * _),
                        (i[5] = d * v + h * y + f * b),
                        (i[8] = d * m + h * x + f * S),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiplyScalar',
                    value: function (e) {
                      var t = this.elements
                      return (
                        (t[0] *= e),
                        (t[3] *= e),
                        (t[6] *= e),
                        (t[1] *= e),
                        (t[4] *= e),
                        (t[7] *= e),
                        (t[2] *= e),
                        (t[5] *= e),
                        (t[8] *= e),
                        this
                      )
                    },
                  },
                  {
                    key: 'determinant',
                    value: function () {
                      var e = this.elements,
                        t = e[0],
                        n = e[1],
                        r = e[2],
                        i = e[3],
                        a = e[4],
                        o = e[5],
                        s = e[6],
                        u = e[7],
                        l = e[8]
                      return t * a * l - t * o * u - n * i * l + n * o * s + r * i * u - r * a * s
                    },
                  },
                  {
                    key: 'invert',
                    value: function () {
                      var e = this.elements,
                        t = e[0],
                        n = e[1],
                        r = e[2],
                        i = e[3],
                        a = e[4],
                        o = e[5],
                        s = e[6],
                        u = e[7],
                        l = e[8],
                        c = l * a - o * u,
                        d = o * s - l * i,
                        h = u * i - a * s,
                        f = t * c + n * d + r * h
                      if (0 === f) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0)
                      var p = 1 / f
                      return (
                        (e[0] = c * p),
                        (e[1] = (r * u - l * n) * p),
                        (e[2] = (o * n - r * a) * p),
                        (e[3] = d * p),
                        (e[4] = (l * t - r * s) * p),
                        (e[5] = (r * i - o * t) * p),
                        (e[6] = h * p),
                        (e[7] = (n * s - u * t) * p),
                        (e[8] = (a * t - n * i) * p),
                        this
                      )
                    },
                  },
                  {
                    key: 'transpose',
                    value: function () {
                      var e,
                        t = this.elements
                      return (
                        (e = t[1]),
                        (t[1] = t[3]),
                        (t[3] = e),
                        (e = t[2]),
                        (t[2] = t[6]),
                        (t[6] = e),
                        (e = t[5]),
                        (t[5] = t[7]),
                        (t[7] = e),
                        this
                      )
                    },
                  },
                  {
                    key: 'getNormalMatrix',
                    value: function (e) {
                      return this.setFromMatrix4(e).invert().transpose()
                    },
                  },
                  {
                    key: 'transposeIntoArray',
                    value: function (e) {
                      var t = this.elements
                      return (
                        (e[0] = t[0]),
                        (e[1] = t[3]),
                        (e[2] = t[6]),
                        (e[3] = t[1]),
                        (e[4] = t[4]),
                        (e[5] = t[7]),
                        (e[6] = t[2]),
                        (e[7] = t[5]),
                        (e[8] = t[8]),
                        this
                      )
                    },
                  },
                  {
                    key: 'setUvTransform',
                    value: function (e, t, n, r, i, a, o) {
                      var s = Math.cos(i),
                        u = Math.sin(i)
                      return (
                        this.set(
                          n * s,
                          n * u,
                          -n * (s * a + u * o) + a + e,
                          -r * u,
                          r * s,
                          -r * (-u * a + s * o) + o + t,
                          0,
                          0,
                          1
                        ),
                        this
                      )
                    },
                  },
                  {
                    key: 'scale',
                    value: function (e, t) {
                      return (this.premultiply(Qc.makeScale(e, t)), this)
                    },
                  },
                  {
                    key: 'rotate',
                    value: function (e) {
                      return (this.premultiply(Qc.makeRotation(-e)), this)
                    },
                  },
                  {
                    key: 'translate',
                    value: function (e, t) {
                      return (this.premultiply(Qc.makeTranslation(e, t)), this)
                    },
                  },
                  {
                    key: 'makeTranslation',
                    value: function (e, t) {
                      return (
                        e.isVector2
                          ? this.set(1, 0, e.x, 0, 1, e.y, 0, 0, 1)
                          : this.set(1, 0, e, 0, 1, t, 0, 0, 1),
                        this
                      )
                    },
                  },
                  {
                    key: 'makeRotation',
                    value: function (e) {
                      var t = Math.cos(e),
                        n = Math.sin(e)
                      return (this.set(t, -n, 0, n, t, 0, 0, 0, 1), this)
                    },
                  },
                  {
                    key: 'makeScale',
                    value: function (e, t) {
                      return (this.set(e, 0, 0, 0, t, 0, 0, 0, 1), this)
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      for (var t = this.elements, n = e.elements, r = 0; r < 9; r++)
                        if (t[r] !== n[r]) return !1
                      return !0
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      for (
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                          n = 0;
                        n < 9;
                        n++
                      )
                        this.elements[n] = e[n + t]
                      return this
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = this.elements
                      return (
                        (e[t] = n[0]),
                        (e[t + 1] = n[1]),
                        (e[t + 2] = n[2]),
                        (e[t + 3] = n[3]),
                        (e[t + 4] = n[4]),
                        (e[t + 5] = n[5]),
                        (e[t + 6] = n[6]),
                        (e[t + 7] = n[7]),
                        (e[t + 8] = n[8]),
                        e
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().fromArray(this.elements)
                    },
                  },
                ]
              )
            })(),
            Qc = new jc()
          function qc(e) {
            for (var t = e.length - 1; t >= 0; --t) if (e[t] >= 65535) return !0
            return !1
          }
          function Xc(e) {
            return document.createElementNS('http://www.w3.org/1999/xhtml', e)
          }
          var Yc = {}
          function Kc(e) {
            e in Yc || ((Yc[e] = !0), console.warn(e))
          }
          function Zc(e, t, n) {
            return new Promise(function (r, i) {
              setTimeout(function a() {
                switch (e.clientWaitSync(t, e.SYNC_FLUSH_COMMANDS_BIT, 0)) {
                  case e.WAIT_FAILED:
                    i()
                    break
                  case e.TIMEOUT_EXPIRED:
                    setTimeout(a, n)
                    break
                  default:
                    r()
                }
              }, n)
            })
          }
          var Jc = new jc().set(
              0.4123908,
              0.3575843,
              0.1804808,
              0.212639,
              0.7151687,
              0.0721923,
              0.0193308,
              0.1191948,
              0.9505322
            ),
            $c = new jc().set(
              3.2409699,
              -1.5373832,
              -0.4986108,
              -0.9692436,
              1.8759675,
              0.0415551,
              0.0556301,
              -0.203977,
              1.0569715
            )
          function ed() {
            var e = {
                enabled: !0,
                workingColorSpace: wc,
                spaces: {},
                convert: function (e, t, n) {
                  return !1 !== this.enabled && t !== n && t && n
                    ? (this.spaces[t].transfer === Tc &&
                        ((e.r = rd(e.r)), (e.g = rd(e.g)), (e.b = rd(e.b))),
                      this.spaces[t].primaries !== this.spaces[n].primaries &&
                        (e.applyMatrix3(this.spaces[t].toXYZ),
                        e.applyMatrix3(this.spaces[n].fromXYZ)),
                      this.spaces[n].transfer === Tc &&
                        ((e.r = id(e.r)), (e.g = id(e.g)), (e.b = id(e.b))),
                      e)
                    : e
                },
                fromWorkingColorSpace: function (e, t) {
                  return this.convert(e, this.workingColorSpace, t)
                },
                toWorkingColorSpace: function (e, t) {
                  return this.convert(e, t, this.workingColorSpace)
                },
                getPrimaries: function (e) {
                  return this.spaces[e].primaries
                },
                getTransfer: function (e) {
                  return e === bc ? Ac : this.spaces[e].transfer
                },
                getLuminanceCoefficients: function (e) {
                  var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : this.workingColorSpace
                  return e.fromArray(this.spaces[t].luminanceCoefficients)
                },
                define: function (e) {
                  Object.assign(this.spaces, e)
                },
                _getMatrix: function (e, t, n) {
                  return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)
                },
                _getDrawingBufferColorSpace: function (e) {
                  return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace
                },
                _getUnpackColorSpace: function () {
                  var e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : this.workingColorSpace
                  return this.spaces[e].workingColorSpaceConfig.unpackColorSpace
                },
              },
              t = [0.64, 0.33, 0.3, 0.6, 0.15, 0.06],
              n = [0.2126, 0.7152, 0.0722],
              r = [0.3127, 0.329]
            return (
              e.define(
                M(
                  M({}, wc, {
                    primaries: t,
                    whitePoint: r,
                    transfer: Ac,
                    toXYZ: Jc,
                    fromXYZ: $c,
                    luminanceCoefficients: n,
                    workingColorSpaceConfig: { unpackColorSpace: Sc },
                    outputColorSpaceConfig: { drawingBufferColorSpace: Sc },
                  }),
                  Sc,
                  {
                    primaries: t,
                    whitePoint: r,
                    transfer: Tc,
                    toXYZ: Jc,
                    fromXYZ: $c,
                    luminanceCoefficients: n,
                    outputColorSpaceConfig: { drawingBufferColorSpace: Sc },
                  }
                )
              ),
              e
            )
          }
          var td,
            nd = ed()
          function rd(e) {
            return e < 0.04045 ? 0.0773993808 * e : Math.pow(0.9478672986 * e + 0.0521327014, 2.4)
          }
          function id(e) {
            return e < 0.0031308 ? 12.92 * e : 1.055 * Math.pow(e, 0.41666) - 0.055
          }
          var ad = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'getDataURL',
                    value: function (e) {
                      if (/^data:/i.test(e.src)) return e.src
                      if ('undefined' == typeof HTMLCanvasElement) return e.src
                      var t
                      if (e instanceof HTMLCanvasElement) t = e
                      else {
                        ;(void 0 === td && (td = Xc('canvas')),
                          (td.width = e.width),
                          (td.height = e.height))
                        var n = td.getContext('2d')
                        ;(e instanceof ImageData
                          ? n.putImageData(e, 0, 0)
                          : n.drawImage(e, 0, 0, e.width, e.height),
                          (t = td))
                      }
                      return t.toDataURL('image/png')
                    },
                  },
                  {
                    key: 'sRGBToLinear',
                    value: function (e) {
                      if (
                        ('undefined' != typeof HTMLImageElement && e instanceof HTMLImageElement) ||
                        ('undefined' != typeof HTMLCanvasElement &&
                          e instanceof HTMLCanvasElement) ||
                        ('undefined' != typeof ImageBitmap && e instanceof ImageBitmap)
                      ) {
                        var t = Xc('canvas')
                        ;((t.width = e.width), (t.height = e.height))
                        var n = t.getContext('2d')
                        n.drawImage(e, 0, 0, e.width, e.height)
                        for (
                          var r = n.getImageData(0, 0, e.width, e.height), i = r.data, a = 0;
                          a < i.length;
                          a++
                        )
                          i[a] = 255 * rd(i[a] / 255)
                        return (n.putImageData(r, 0, 0), t)
                      }
                      if (e.data) {
                        for (var o = e.data.slice(0), s = 0; s < o.length; s++)
                          o instanceof Uint8Array || o instanceof Uint8ClampedArray
                            ? (o[s] = Math.floor(255 * rd(o[s] / 255)))
                            : (o[s] = rd(o[s]))
                        return { data: o, width: e.width, height: e.height }
                      }
                      return (
                        console.warn(
                          'THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.'
                        ),
                        e
                      )
                    },
                  },
                ]
              )
            })(),
            od = 0,
            sd = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                  ;(w(this, e),
                    (this.isSource = !0),
                    Object.defineProperty(this, 'id', { value: od++ }),
                    (this.uuid = Fc()),
                    (this.data = t),
                    (this.dataReady = !0),
                    (this.version = 0))
                },
                [
                  {
                    key: 'needsUpdate',
                    set: function (e) {
                      !0 === e && this.version++
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var t = void 0 === e || 'string' == typeof e
                      if (!t && void 0 !== e.images[this.uuid]) return e.images[this.uuid]
                      var n = { uuid: this.uuid, url: '' },
                        r = this.data
                      if (null !== r) {
                        var i
                        if (Array.isArray(r)) {
                          i = []
                          for (var a = 0, o = r.length; a < o; a++)
                            r[a].isDataTexture ? i.push(ud(r[a].image)) : i.push(ud(r[a]))
                        } else i = ud(r)
                        n.url = i
                      }
                      return (t || (e.images[this.uuid] = n), n)
                    },
                  },
                ]
              )
            })()
          function ud(e) {
            return ('undefined' != typeof HTMLImageElement && e instanceof HTMLImageElement) ||
              ('undefined' != typeof HTMLCanvasElement && e instanceof HTMLCanvasElement) ||
              ('undefined' != typeof ImageBitmap && e instanceof ImageBitmap)
              ? ad.getDataURL(e)
              : e.data
                ? {
                    data: Array.from(e.data),
                    width: e.width,
                    height: e.height,
                    type: e.data.constructor.name,
                  }
                : (console.warn('THREE.Texture: Unable to serialize Texture.'), {})
          }
          var ld = 0,
            cd = (function (e) {
              function t() {
                var e,
                  n =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : t.DEFAULT_IMAGE,
                  r =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : t.DEFAULT_MAPPING,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ul,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : ul,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : hl,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : pl,
                  u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : El,
                  l = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : vl,
                  c =
                    arguments.length > 8 && void 0 !== arguments[8]
                      ? arguments[8]
                      : t.DEFAULT_ANISOTROPY,
                  d = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : bc
                return (
                  w(this, t),
                  ((e = y(this, t)).isTexture = !0),
                  Object.defineProperty(e, 'id', { value: ld++ }),
                  (e.uuid = Fc()),
                  (e.name = ''),
                  (e.source = new sd(n)),
                  (e.mipmaps = []),
                  (e.mapping = r),
                  (e.channel = 0),
                  (e.wrapS = i),
                  (e.wrapT = a),
                  (e.magFilter = o),
                  (e.minFilter = s),
                  (e.anisotropy = c),
                  (e.format = u),
                  (e.internalFormat = null),
                  (e.type = l),
                  (e.offset = new Gc(0, 0)),
                  (e.repeat = new Gc(1, 1)),
                  (e.center = new Gc(0, 0)),
                  (e.rotation = 0),
                  (e.matrixAutoUpdate = !0),
                  (e.matrix = new jc()),
                  (e.generateMipmaps = !0),
                  (e.premultiplyAlpha = !1),
                  (e.flipY = !0),
                  (e.unpackAlignment = 4),
                  (e.colorSpace = d),
                  (e.userData = {}),
                  (e.version = 0),
                  (e.onUpdate = null),
                  (e.renderTarget = null),
                  (e.isRenderTargetTexture = !1),
                  (e.pmremVersion = 0),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'image',
                    get: function () {
                      return this.source.data
                    },
                    set: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                      this.source.data = e
                    },
                  },
                  {
                    key: 'updateMatrix',
                    value: function () {
                      this.matrix.setUvTransform(
                        this.offset.x,
                        this.offset.y,
                        this.repeat.x,
                        this.repeat.y,
                        this.rotation,
                        this.center.x,
                        this.center.y
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.name = e.name),
                        (this.source = e.source),
                        (this.mipmaps = e.mipmaps.slice(0)),
                        (this.mapping = e.mapping),
                        (this.channel = e.channel),
                        (this.wrapS = e.wrapS),
                        (this.wrapT = e.wrapT),
                        (this.magFilter = e.magFilter),
                        (this.minFilter = e.minFilter),
                        (this.anisotropy = e.anisotropy),
                        (this.format = e.format),
                        (this.internalFormat = e.internalFormat),
                        (this.type = e.type),
                        this.offset.copy(e.offset),
                        this.repeat.copy(e.repeat),
                        this.center.copy(e.center),
                        (this.rotation = e.rotation),
                        (this.matrixAutoUpdate = e.matrixAutoUpdate),
                        this.matrix.copy(e.matrix),
                        (this.generateMipmaps = e.generateMipmaps),
                        (this.premultiplyAlpha = e.premultiplyAlpha),
                        (this.flipY = e.flipY),
                        (this.unpackAlignment = e.unpackAlignment),
                        (this.colorSpace = e.colorSpace),
                        (this.renderTarget = e.renderTarget),
                        (this.isRenderTargetTexture = e.isRenderTargetTexture),
                        (this.userData = JSON.parse(JSON.stringify(e.userData))),
                        (this.needsUpdate = !0),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var t = void 0 === e || 'string' == typeof e
                      if (!t && void 0 !== e.textures[this.uuid]) return e.textures[this.uuid]
                      var n = {
                        metadata: { version: 4.6, type: 'Texture', generator: 'Texture.toJSON' },
                        uuid: this.uuid,
                        name: this.name,
                        image: this.source.toJSON(e).uuid,
                        mapping: this.mapping,
                        channel: this.channel,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        center: [this.center.x, this.center.y],
                        rotation: this.rotation,
                        wrap: [this.wrapS, this.wrapT],
                        format: this.format,
                        internalFormat: this.internalFormat,
                        type: this.type,
                        colorSpace: this.colorSpace,
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY,
                        generateMipmaps: this.generateMipmaps,
                        premultiplyAlpha: this.premultiplyAlpha,
                        unpackAlignment: this.unpackAlignment,
                      }
                      return (
                        Object.keys(this.userData).length > 0 && (n.userData = this.userData),
                        t || (e.textures[this.uuid] = n),
                        n
                      )
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.dispatchEvent({ type: 'dispose' })
                    },
                  },
                  {
                    key: 'transformUv',
                    value: function (e) {
                      if (300 !== this.mapping) return e
                      if ((e.applyMatrix3(this.matrix), e.x < 0 || e.x > 1))
                        switch (this.wrapS) {
                          case sl:
                            e.x = e.x - Math.floor(e.x)
                            break
                          case ul:
                            e.x = e.x < 0 ? 0 : 1
                            break
                          case ll:
                            1 === Math.abs(Math.floor(e.x) % 2)
                              ? (e.x = Math.ceil(e.x) - e.x)
                              : (e.x = e.x - Math.floor(e.x))
                        }
                      if (e.y < 0 || e.y > 1)
                        switch (this.wrapT) {
                          case sl:
                            e.y = e.y - Math.floor(e.y)
                            break
                          case ul:
                            e.y = e.y < 0 ? 0 : 1
                            break
                          case ll:
                            1 === Math.abs(Math.floor(e.y) % 2)
                              ? (e.y = Math.ceil(e.y) - e.y)
                              : (e.y = e.y - Math.floor(e.y))
                        }
                      return (this.flipY && (e.y = 1 - e.y), e)
                    },
                  },
                  {
                    key: 'needsUpdate',
                    set: function (e) {
                      !0 === e && (this.version++, (this.source.needsUpdate = !0))
                    },
                  },
                  {
                    key: 'needsPMREMUpdate',
                    set: function (e) {
                      !0 === e && this.pmremVersion++
                    },
                  },
                ])
              )
            })(Nc)
          ;((cd.DEFAULT_IMAGE = null), (cd.DEFAULT_MAPPING = 300), (cd.DEFAULT_ANISOTROPY = 1))
          var dd = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                  ;(w(this, e),
                    (e.prototype.isVector4 = !0),
                    (this.x = t),
                    (this.y = n),
                    (this.z = r),
                    (this.w = i))
                },
                [
                  {
                    key: 'width',
                    get: function () {
                      return this.z
                    },
                    set: function (e) {
                      this.z = e
                    },
                  },
                  {
                    key: 'height',
                    get: function () {
                      return this.w
                    },
                    set: function (e) {
                      this.w = e
                    },
                  },
                  {
                    key: 'set',
                    value: function (e, t, n, r) {
                      return ((this.x = e), (this.y = t), (this.z = n), (this.w = r), this)
                    },
                  },
                  {
                    key: 'setScalar',
                    value: function (e) {
                      return ((this.x = e), (this.y = e), (this.z = e), (this.w = e), this)
                    },
                  },
                  {
                    key: 'setX',
                    value: function (e) {
                      return ((this.x = e), this)
                    },
                  },
                  {
                    key: 'setY',
                    value: function (e) {
                      return ((this.y = e), this)
                    },
                  },
                  {
                    key: 'setZ',
                    value: function (e) {
                      return ((this.z = e), this)
                    },
                  },
                  {
                    key: 'setW',
                    value: function (e) {
                      return ((this.w = e), this)
                    },
                  },
                  {
                    key: 'setComponent',
                    value: function (e, t) {
                      switch (e) {
                        case 0:
                          this.x = t
                          break
                        case 1:
                          this.y = t
                          break
                        case 2:
                          this.z = t
                          break
                        case 3:
                          this.w = t
                          break
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                      return this
                    },
                  },
                  {
                    key: 'getComponent',
                    value: function (e) {
                      switch (e) {
                        case 0:
                          return this.x
                        case 1:
                          return this.y
                        case 2:
                          return this.z
                        case 3:
                          return this.w
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this.x, this.y, this.z, this.w)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.x = e.x),
                        (this.y = e.y),
                        (this.z = e.z),
                        (this.w = void 0 !== e.w ? e.w : 1),
                        this
                      )
                    },
                  },
                  {
                    key: 'add',
                    value: function (e) {
                      return (
                        (this.x += e.x),
                        (this.y += e.y),
                        (this.z += e.z),
                        (this.w += e.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'addScalar',
                    value: function (e) {
                      return ((this.x += e), (this.y += e), (this.z += e), (this.w += e), this)
                    },
                  },
                  {
                    key: 'addVectors',
                    value: function (e, t) {
                      return (
                        (this.x = e.x + t.x),
                        (this.y = e.y + t.y),
                        (this.z = e.z + t.z),
                        (this.w = e.w + t.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'addScaledVector',
                    value: function (e, t) {
                      return (
                        (this.x += e.x * t),
                        (this.y += e.y * t),
                        (this.z += e.z * t),
                        (this.w += e.w * t),
                        this
                      )
                    },
                  },
                  {
                    key: 'sub',
                    value: function (e) {
                      return (
                        (this.x -= e.x),
                        (this.y -= e.y),
                        (this.z -= e.z),
                        (this.w -= e.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'subScalar',
                    value: function (e) {
                      return ((this.x -= e), (this.y -= e), (this.z -= e), (this.w -= e), this)
                    },
                  },
                  {
                    key: 'subVectors',
                    value: function (e, t) {
                      return (
                        (this.x = e.x - t.x),
                        (this.y = e.y - t.y),
                        (this.z = e.z - t.z),
                        (this.w = e.w - t.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return (
                        (this.x *= e.x),
                        (this.y *= e.y),
                        (this.z *= e.z),
                        (this.w *= e.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiplyScalar',
                    value: function (e) {
                      return ((this.x *= e), (this.y *= e), (this.z *= e), (this.w *= e), this)
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = this.z,
                        i = this.w,
                        a = e.elements
                      return (
                        (this.x = a[0] * t + a[4] * n + a[8] * r + a[12] * i),
                        (this.y = a[1] * t + a[5] * n + a[9] * r + a[13] * i),
                        (this.z = a[2] * t + a[6] * n + a[10] * r + a[14] * i),
                        (this.w = a[3] * t + a[7] * n + a[11] * r + a[15] * i),
                        this
                      )
                    },
                  },
                  {
                    key: 'divide',
                    value: function (e) {
                      return (
                        (this.x /= e.x),
                        (this.y /= e.y),
                        (this.z /= e.z),
                        (this.w /= e.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'divideScalar',
                    value: function (e) {
                      return this.multiplyScalar(1 / e)
                    },
                  },
                  {
                    key: 'setAxisAngleFromQuaternion',
                    value: function (e) {
                      this.w = 2 * Math.acos(e.w)
                      var t = Math.sqrt(1 - e.w * e.w)
                      return (
                        t < 1e-4
                          ? ((this.x = 1), (this.y = 0), (this.z = 0))
                          : ((this.x = e.x / t), (this.y = e.y / t), (this.z = e.z / t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setAxisAngleFromRotationMatrix',
                    value: function (e) {
                      var t,
                        n,
                        r,
                        i,
                        a = 0.01,
                        o = 0.1,
                        s = e.elements,
                        u = s[0],
                        l = s[4],
                        c = s[8],
                        d = s[1],
                        h = s[5],
                        f = s[9],
                        p = s[2],
                        v = s[6],
                        m = s[10]
                      if (Math.abs(l - d) < a && Math.abs(c - p) < a && Math.abs(f - v) < a) {
                        if (
                          Math.abs(l + d) < o &&
                          Math.abs(c + p) < o &&
                          Math.abs(f + v) < o &&
                          Math.abs(u + h + m - 3) < o
                        )
                          return (this.set(1, 0, 0, 0), this)
                        t = Math.PI
                        var g = (u + 1) / 2,
                          y = (h + 1) / 2,
                          x = (m + 1) / 2,
                          _ = (l + d) / 4,
                          b = (c + p) / 4,
                          S = (f + v) / 4
                        return (
                          g > y && g > x
                            ? g < a
                              ? ((n = 0), (r = 0.707106781), (i = 0.707106781))
                              : ((r = _ / (n = Math.sqrt(g))), (i = b / n))
                            : y > x
                              ? y < a
                                ? ((n = 0.707106781), (r = 0), (i = 0.707106781))
                                : ((n = _ / (r = Math.sqrt(y))), (i = S / r))
                              : x < a
                                ? ((n = 0.707106781), (r = 0.707106781), (i = 0))
                                : ((n = b / (i = Math.sqrt(x))), (r = S / i)),
                          this.set(n, r, i, t),
                          this
                        )
                      }
                      var w = Math.sqrt((v - f) * (v - f) + (c - p) * (c - p) + (d - l) * (d - l))
                      return (
                        Math.abs(w) < 0.001 && (w = 1),
                        (this.x = (v - f) / w),
                        (this.y = (c - p) / w),
                        (this.z = (d - l) / w),
                        (this.w = Math.acos((u + h + m - 1) / 2)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromMatrixPosition',
                    value: function (e) {
                      var t = e.elements
                      return (
                        (this.x = t[12]),
                        (this.y = t[13]),
                        (this.z = t[14]),
                        (this.w = t[15]),
                        this
                      )
                    },
                  },
                  {
                    key: 'min',
                    value: function (e) {
                      return (
                        (this.x = Math.min(this.x, e.x)),
                        (this.y = Math.min(this.y, e.y)),
                        (this.z = Math.min(this.z, e.z)),
                        (this.w = Math.min(this.w, e.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'max',
                    value: function (e) {
                      return (
                        (this.x = Math.max(this.x, e.x)),
                        (this.y = Math.max(this.y, e.y)),
                        (this.z = Math.max(this.z, e.z)),
                        (this.w = Math.max(this.w, e.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clamp',
                    value: function (e, t) {
                      return (
                        (this.x = Bc(this.x, e.x, t.x)),
                        (this.y = Bc(this.y, e.y, t.y)),
                        (this.z = Bc(this.z, e.z, t.z)),
                        (this.w = Bc(this.w, e.w, t.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clampScalar',
                    value: function (e, t) {
                      return (
                        (this.x = Bc(this.x, e, t)),
                        (this.y = Bc(this.y, e, t)),
                        (this.z = Bc(this.z, e, t)),
                        (this.w = Bc(this.w, e, t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clampLength',
                    value: function (e, t) {
                      var n = this.length()
                      return this.divideScalar(n || 1).multiplyScalar(Bc(n, e, t))
                    },
                  },
                  {
                    key: 'floor',
                    value: function () {
                      return (
                        (this.x = Math.floor(this.x)),
                        (this.y = Math.floor(this.y)),
                        (this.z = Math.floor(this.z)),
                        (this.w = Math.floor(this.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'ceil',
                    value: function () {
                      return (
                        (this.x = Math.ceil(this.x)),
                        (this.y = Math.ceil(this.y)),
                        (this.z = Math.ceil(this.z)),
                        (this.w = Math.ceil(this.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'round',
                    value: function () {
                      return (
                        (this.x = Math.round(this.x)),
                        (this.y = Math.round(this.y)),
                        (this.z = Math.round(this.z)),
                        (this.w = Math.round(this.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'roundToZero',
                    value: function () {
                      return (
                        (this.x = Math.trunc(this.x)),
                        (this.y = Math.trunc(this.y)),
                        (this.z = Math.trunc(this.z)),
                        (this.w = Math.trunc(this.w)),
                        this
                      )
                    },
                  },
                  {
                    key: 'negate',
                    value: function () {
                      return (
                        (this.x = -this.x),
                        (this.y = -this.y),
                        (this.z = -this.z),
                        (this.w = -this.w),
                        this
                      )
                    },
                  },
                  {
                    key: 'dot',
                    value: function (e) {
                      return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
                    },
                  },
                  {
                    key: 'lengthSq',
                    value: function () {
                      return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                    },
                  },
                  {
                    key: 'length',
                    value: function () {
                      return Math.sqrt(
                        this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                      )
                    },
                  },
                  {
                    key: 'manhattanLength',
                    value: function () {
                      return (
                        Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                      )
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      return this.divideScalar(this.length() || 1)
                    },
                  },
                  {
                    key: 'setLength',
                    value: function (e) {
                      return this.normalize().multiplyScalar(e)
                    },
                  },
                  {
                    key: 'lerp',
                    value: function (e, t) {
                      return (
                        (this.x += (e.x - this.x) * t),
                        (this.y += (e.y - this.y) * t),
                        (this.z += (e.z - this.z) * t),
                        (this.w += (e.w - this.w) * t),
                        this
                      )
                    },
                  },
                  {
                    key: 'lerpVectors',
                    value: function (e, t, n) {
                      return (
                        (this.x = e.x + (t.x - e.x) * n),
                        (this.y = e.y + (t.y - e.y) * n),
                        (this.z = e.z + (t.z - e.z) * n),
                        (this.w = e.w + (t.w - e.w) * n),
                        this
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (
                        (this.x = e[t]),
                        (this.y = e[t + 1]),
                        (this.z = e[t + 2]),
                        (this.w = e[t + 3]),
                        this
                      )
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (
                        (e[t] = this.x),
                        (e[t + 1] = this.y),
                        (e[t + 2] = this.z),
                        (e[t + 3] = this.w),
                        e
                      )
                    },
                  },
                  {
                    key: 'fromBufferAttribute',
                    value: function (e, t) {
                      return (
                        (this.x = e.getX(t)),
                        (this.y = e.getY(t)),
                        (this.z = e.getZ(t)),
                        (this.w = e.getW(t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'random',
                    value: function () {
                      return (
                        (this.x = Math.random()),
                        (this.y = Math.random()),
                        (this.z = Math.random()),
                        (this.w = Math.random()),
                        this
                      )
                    },
                  },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this.x)
                              case 1:
                                return ((e.n = 2), this.y)
                              case 2:
                                return ((e.n = 3), this.z)
                              case 3:
                                return ((e.n = 4), this.w)
                              case 4:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ]
              )
            })(),
            hd = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                ;(w(this, t),
                  ((e = y(this, t)).isRenderTarget = !0),
                  (e.width = n),
                  (e.height = r),
                  (e.depth = 1),
                  (e.scissor = new dd(0, 0, n, r)),
                  (e.scissorTest = !1),
                  (e.viewport = new dd(0, 0, n, r)))
                var a = { width: n, height: r, depth: 1 }
                i = Object.assign(
                  {
                    generateMipmaps: !1,
                    internalFormat: null,
                    minFilter: hl,
                    depthBuffer: !0,
                    stencilBuffer: !1,
                    resolveDepthBuffer: !0,
                    resolveStencilBuffer: !0,
                    depthTexture: null,
                    samples: 0,
                    count: 1,
                  },
                  i
                )
                var o = new cd(
                  a,
                  i.mapping,
                  i.wrapS,
                  i.wrapT,
                  i.magFilter,
                  i.minFilter,
                  i.format,
                  i.type,
                  i.anisotropy,
                  i.colorSpace
                )
                ;((o.flipY = !1),
                  (o.generateMipmaps = i.generateMipmaps),
                  (o.internalFormat = i.internalFormat),
                  (e.textures = []))
                for (var s = i.count, u = 0; u < s; u++)
                  ((e.textures[u] = o.clone()),
                    (e.textures[u].isRenderTargetTexture = !0),
                    (e.textures[u].renderTarget = e))
                return (
                  (e.depthBuffer = i.depthBuffer),
                  (e.stencilBuffer = i.stencilBuffer),
                  (e.resolveDepthBuffer = i.resolveDepthBuffer),
                  (e.resolveStencilBuffer = i.resolveStencilBuffer),
                  (e._depthTexture = null),
                  (e.depthTexture = i.depthTexture),
                  (e.samples = i.samples),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'texture',
                    get: function () {
                      return this.textures[0]
                    },
                    set: function (e) {
                      this.textures[0] = e
                    },
                  },
                  {
                    key: 'depthTexture',
                    get: function () {
                      return this._depthTexture
                    },
                    set: function (e) {
                      ;(null !== this._depthTexture && (this._depthTexture.renderTarget = null),
                        null !== e && (e.renderTarget = this),
                        (this._depthTexture = e))
                    },
                  },
                  {
                    key: 'setSize',
                    value: function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
                      if (this.width !== e || this.height !== t || this.depth !== n) {
                        ;((this.width = e), (this.height = t), (this.depth = n))
                        for (var r = 0, i = this.textures.length; r < i; r++)
                          ((this.textures[r].image.width = e),
                            (this.textures[r].image.height = t),
                            (this.textures[r].image.depth = n))
                        this.dispose()
                      }
                      ;(this.viewport.set(0, 0, e, t), this.scissor.set(0, 0, e, t))
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      ;((this.width = e.width),
                        (this.height = e.height),
                        (this.depth = e.depth),
                        this.scissor.copy(e.scissor),
                        (this.scissorTest = e.scissorTest),
                        this.viewport.copy(e.viewport),
                        (this.textures.length = 0))
                      for (var t = 0, n = e.textures.length; t < n; t++)
                        ((this.textures[t] = e.textures[t].clone()),
                          (this.textures[t].isRenderTargetTexture = !0),
                          (this.textures[t].renderTarget = this))
                      var r = Object.assign({}, e.texture.image)
                      return (
                        (this.texture.source = new sd(r)),
                        (this.depthBuffer = e.depthBuffer),
                        (this.stencilBuffer = e.stencilBuffer),
                        (this.resolveDepthBuffer = e.resolveDepthBuffer),
                        (this.resolveStencilBuffer = e.resolveStencilBuffer),
                        null !== e.depthTexture && (this.depthTexture = e.depthTexture.clone()),
                        (this.samples = e.samples),
                        this
                      )
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.dispatchEvent({ type: 'dispose' })
                    },
                  },
                ])
              )
            })(Nc),
            fd = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                return (w(this, t), ((e = y(this, t, [n, r, i])).isWebGLRenderTarget = !0), e)
              }
              return (b(t, e), T(t))
            })(hd),
            pd = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                return (
                  w(this, t),
                  ((e = y(this, t, [null])).isDataArrayTexture = !0),
                  (e.image = { data: n, width: r, height: i, depth: a }),
                  (e.magFilter = cl),
                  (e.minFilter = cl),
                  (e.wrapR = ul),
                  (e.generateMipmaps = !1),
                  (e.flipY = !1),
                  (e.unpackAlignment = 1),
                  (e.layerUpdates = new Set()),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'addLayerUpdate',
                    value: function (e) {
                      this.layerUpdates.add(e)
                    },
                  },
                  {
                    key: 'clearLayerUpdates',
                    value: function () {
                      this.layerUpdates.clear()
                    },
                  },
                ])
              )
            })(cd),
            vd = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                return (
                  w(this, t),
                  ((e = y(this, t, [null])).isData3DTexture = !0),
                  (e.image = { data: n, width: r, height: i, depth: a }),
                  (e.magFilter = cl),
                  (e.minFilter = cl),
                  (e.wrapR = ul),
                  (e.generateMipmaps = !1),
                  (e.flipY = !1),
                  (e.unpackAlignment = 1),
                  e
                )
              }
              return (b(t, e), T(t))
            })(cd),
            md = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                  ;(w(this, e),
                    (this.isQuaternion = !0),
                    (this._x = t),
                    (this._y = n),
                    (this._z = r),
                    (this._w = i))
                },
                [
                  {
                    key: 'x',
                    get: function () {
                      return this._x
                    },
                    set: function (e) {
                      ;((this._x = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'y',
                    get: function () {
                      return this._y
                    },
                    set: function (e) {
                      ;((this._y = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'z',
                    get: function () {
                      return this._z
                    },
                    set: function (e) {
                      ;((this._z = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'w',
                    get: function () {
                      return this._w
                    },
                    set: function (e) {
                      ;((this._w = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'set',
                    value: function (e, t, n, r) {
                      return (
                        (this._x = e),
                        (this._y = t),
                        (this._z = n),
                        (this._w = r),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this._x, this._y, this._z, this._w)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this._x = e.x),
                        (this._y = e.y),
                        (this._z = e.z),
                        (this._w = e.w),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromEuler',
                    value: function (e) {
                      var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        n = e._x,
                        r = e._y,
                        i = e._z,
                        a = e._order,
                        o = Math.cos,
                        s = Math.sin,
                        u = o(n / 2),
                        l = o(r / 2),
                        c = o(i / 2),
                        d = s(n / 2),
                        h = s(r / 2),
                        f = s(i / 2)
                      switch (a) {
                        case 'XYZ':
                          ;((this._x = d * l * c + u * h * f),
                            (this._y = u * h * c - d * l * f),
                            (this._z = u * l * f + d * h * c),
                            (this._w = u * l * c - d * h * f))
                          break
                        case 'YXZ':
                          ;((this._x = d * l * c + u * h * f),
                            (this._y = u * h * c - d * l * f),
                            (this._z = u * l * f - d * h * c),
                            (this._w = u * l * c + d * h * f))
                          break
                        case 'ZXY':
                          ;((this._x = d * l * c - u * h * f),
                            (this._y = u * h * c + d * l * f),
                            (this._z = u * l * f + d * h * c),
                            (this._w = u * l * c - d * h * f))
                          break
                        case 'ZYX':
                          ;((this._x = d * l * c - u * h * f),
                            (this._y = u * h * c + d * l * f),
                            (this._z = u * l * f - d * h * c),
                            (this._w = u * l * c + d * h * f))
                          break
                        case 'YZX':
                          ;((this._x = d * l * c + u * h * f),
                            (this._y = u * h * c + d * l * f),
                            (this._z = u * l * f - d * h * c),
                            (this._w = u * l * c - d * h * f))
                          break
                        case 'XZY':
                          ;((this._x = d * l * c - u * h * f),
                            (this._y = u * h * c - d * l * f),
                            (this._z = u * l * f + d * h * c),
                            (this._w = u * l * c + d * h * f))
                          break
                        default:
                          console.warn(
                            'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + a
                          )
                      }
                      return (!0 === t && this._onChangeCallback(), this)
                    },
                  },
                  {
                    key: 'setFromAxisAngle',
                    value: function (e, t) {
                      var n = t / 2,
                        r = Math.sin(n)
                      return (
                        (this._x = e.x * r),
                        (this._y = e.y * r),
                        (this._z = e.z * r),
                        (this._w = Math.cos(n)),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromRotationMatrix',
                    value: function (e) {
                      var t = e.elements,
                        n = t[0],
                        r = t[4],
                        i = t[8],
                        a = t[1],
                        o = t[5],
                        s = t[9],
                        u = t[2],
                        l = t[6],
                        c = t[10],
                        d = n + o + c
                      if (d > 0) {
                        var h = 0.5 / Math.sqrt(d + 1)
                        ;((this._w = 0.25 / h),
                          (this._x = (l - s) * h),
                          (this._y = (i - u) * h),
                          (this._z = (a - r) * h))
                      } else if (n > o && n > c) {
                        var f = 2 * Math.sqrt(1 + n - o - c)
                        ;((this._w = (l - s) / f),
                          (this._x = 0.25 * f),
                          (this._y = (r + a) / f),
                          (this._z = (i + u) / f))
                      } else if (o > c) {
                        var p = 2 * Math.sqrt(1 + o - n - c)
                        ;((this._w = (i - u) / p),
                          (this._x = (r + a) / p),
                          (this._y = 0.25 * p),
                          (this._z = (s + l) / p))
                      } else {
                        var v = 2 * Math.sqrt(1 + c - n - o)
                        ;((this._w = (a - r) / v),
                          (this._x = (i + u) / v),
                          (this._y = (s + l) / v),
                          (this._z = 0.25 * v))
                      }
                      return (this._onChangeCallback(), this)
                    },
                  },
                  {
                    key: 'setFromUnitVectors',
                    value: function (e, t) {
                      var n = e.dot(t) + 1
                      return (
                        n < Number.EPSILON
                          ? ((n = 0),
                            Math.abs(e.x) > Math.abs(e.z)
                              ? ((this._x = -e.y), (this._y = e.x), (this._z = 0), (this._w = n))
                              : ((this._x = 0), (this._y = -e.z), (this._z = e.y), (this._w = n)))
                          : ((this._x = e.y * t.z - e.z * t.y),
                            (this._y = e.z * t.x - e.x * t.z),
                            (this._z = e.x * t.y - e.y * t.x),
                            (this._w = n)),
                        this.normalize()
                      )
                    },
                  },
                  {
                    key: 'angleTo',
                    value: function (e) {
                      return 2 * Math.acos(Math.abs(Bc(this.dot(e), -1, 1)))
                    },
                  },
                  {
                    key: 'rotateTowards',
                    value: function (e, t) {
                      var n = this.angleTo(e)
                      if (0 === n) return this
                      var r = Math.min(1, t / n)
                      return (this.slerp(e, r), this)
                    },
                  },
                  {
                    key: 'identity',
                    value: function () {
                      return this.set(0, 0, 0, 1)
                    },
                  },
                  {
                    key: 'invert',
                    value: function () {
                      return this.conjugate()
                    },
                  },
                  {
                    key: 'conjugate',
                    value: function () {
                      return (
                        (this._x *= -1),
                        (this._y *= -1),
                        (this._z *= -1),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'dot',
                    value: function (e) {
                      return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w
                    },
                  },
                  {
                    key: 'lengthSq',
                    value: function () {
                      return (
                        this._x * this._x +
                        this._y * this._y +
                        this._z * this._z +
                        this._w * this._w
                      )
                    },
                  },
                  {
                    key: 'length',
                    value: function () {
                      return Math.sqrt(
                        this._x * this._x +
                          this._y * this._y +
                          this._z * this._z +
                          this._w * this._w
                      )
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      var e = this.length()
                      return (
                        0 === e
                          ? ((this._x = 0), (this._y = 0), (this._z = 0), (this._w = 1))
                          : ((e = 1 / e),
                            (this._x = this._x * e),
                            (this._y = this._y * e),
                            (this._z = this._z * e),
                            (this._w = this._w * e)),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return this.multiplyQuaternions(this, e)
                    },
                  },
                  {
                    key: 'premultiply',
                    value: function (e) {
                      return this.multiplyQuaternions(e, this)
                    },
                  },
                  {
                    key: 'multiplyQuaternions',
                    value: function (e, t) {
                      var n = e._x,
                        r = e._y,
                        i = e._z,
                        a = e._w,
                        o = t._x,
                        s = t._y,
                        u = t._z,
                        l = t._w
                      return (
                        (this._x = n * l + a * o + r * u - i * s),
                        (this._y = r * l + a * s + i * o - n * u),
                        (this._z = i * l + a * u + n * s - r * o),
                        (this._w = a * l - n * o - r * s - i * u),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'slerp',
                    value: function (e, t) {
                      if (0 === t) return this
                      if (1 === t) return this.copy(e)
                      var n = this._x,
                        r = this._y,
                        i = this._z,
                        a = this._w,
                        o = a * e._w + n * e._x + r * e._y + i * e._z
                      if (
                        (o < 0
                          ? ((this._w = -e._w),
                            (this._x = -e._x),
                            (this._y = -e._y),
                            (this._z = -e._z),
                            (o = -o))
                          : this.copy(e),
                        o >= 1)
                      )
                        return ((this._w = a), (this._x = n), (this._y = r), (this._z = i), this)
                      var s = 1 - o * o
                      if (s <= Number.EPSILON) {
                        var u = 1 - t
                        return (
                          (this._w = u * a + t * this._w),
                          (this._x = u * n + t * this._x),
                          (this._y = u * r + t * this._y),
                          (this._z = u * i + t * this._z),
                          this.normalize(),
                          this
                        )
                      }
                      var l = Math.sqrt(s),
                        c = Math.atan2(l, o),
                        d = Math.sin((1 - t) * c) / l,
                        h = Math.sin(t * c) / l
                      return (
                        (this._w = a * d + this._w * h),
                        (this._x = n * d + this._x * h),
                        (this._y = r * d + this._y * h),
                        (this._z = i * d + this._z * h),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'slerpQuaternions',
                    value: function (e, t, n) {
                      return this.copy(e).slerp(t, n)
                    },
                  },
                  {
                    key: 'random',
                    value: function () {
                      var e = 2 * Math.PI * Math.random(),
                        t = 2 * Math.PI * Math.random(),
                        n = Math.random(),
                        r = Math.sqrt(1 - n),
                        i = Math.sqrt(n)
                      return this.set(
                        r * Math.sin(e),
                        r * Math.cos(e),
                        i * Math.sin(t),
                        i * Math.cos(t)
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return (
                        e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w
                      )
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (
                        (this._x = e[t]),
                        (this._y = e[t + 1]),
                        (this._z = e[t + 2]),
                        (this._w = e[t + 3]),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (
                        (e[t] = this._x),
                        (e[t + 1] = this._y),
                        (e[t + 2] = this._z),
                        (e[t + 3] = this._w),
                        e
                      )
                    },
                  },
                  {
                    key: 'fromBufferAttribute',
                    value: function (e, t) {
                      return (
                        (this._x = e.getX(t)),
                        (this._y = e.getY(t)),
                        (this._z = e.getZ(t)),
                        (this._w = e.getW(t)),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      return this.toArray()
                    },
                  },
                  {
                    key: '_onChange',
                    value: function (e) {
                      return ((this._onChangeCallback = e), this)
                    },
                  },
                  { key: '_onChangeCallback', value: function () {} },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this._x)
                              case 1:
                                return ((e.n = 2), this._y)
                              case 2:
                                return ((e.n = 3), this._z)
                              case 3:
                                return ((e.n = 4), this._w)
                              case 4:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ],
                [
                  {
                    key: 'slerpFlat',
                    value: function (e, t, n, r, i, a, o) {
                      var s = n[r + 0],
                        u = n[r + 1],
                        l = n[r + 2],
                        c = n[r + 3],
                        d = i[a + 0],
                        h = i[a + 1],
                        f = i[a + 2],
                        p = i[a + 3]
                      if (0 === o)
                        return ((e[t + 0] = s), (e[t + 1] = u), (e[t + 2] = l), void (e[t + 3] = c))
                      if (1 === o)
                        return ((e[t + 0] = d), (e[t + 1] = h), (e[t + 2] = f), void (e[t + 3] = p))
                      if (c !== p || s !== d || u !== h || l !== f) {
                        var v = 1 - o,
                          m = s * d + u * h + l * f + c * p,
                          g = m >= 0 ? 1 : -1,
                          y = 1 - m * m
                        if (y > Number.EPSILON) {
                          var x = Math.sqrt(y),
                            _ = Math.atan2(x, m * g)
                          ;((v = Math.sin(v * _) / x), (o = Math.sin(o * _) / x))
                        }
                        var b = o * g
                        if (
                          ((s = s * v + d * b),
                          (u = u * v + h * b),
                          (l = l * v + f * b),
                          (c = c * v + p * b),
                          v === 1 - o)
                        ) {
                          var S = 1 / Math.sqrt(s * s + u * u + l * l + c * c)
                          ;((s *= S), (u *= S), (l *= S), (c *= S))
                        }
                      }
                      ;((e[t] = s), (e[t + 1] = u), (e[t + 2] = l), (e[t + 3] = c))
                    },
                  },
                  {
                    key: 'multiplyQuaternionsFlat',
                    value: function (e, t, n, r, i, a) {
                      var o = n[r],
                        s = n[r + 1],
                        u = n[r + 2],
                        l = n[r + 3],
                        c = i[a],
                        d = i[a + 1],
                        h = i[a + 2],
                        f = i[a + 3]
                      return (
                        (e[t] = o * f + l * c + s * h - u * d),
                        (e[t + 1] = s * f + l * d + u * c - o * h),
                        (e[t + 2] = u * f + l * h + o * d - s * c),
                        (e[t + 3] = l * f - o * c - s * d - u * h),
                        e
                      )
                    },
                  },
                ]
              )
            })(),
            gd = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                  ;(w(this, e),
                    (e.prototype.isVector3 = !0),
                    (this.x = t),
                    (this.y = n),
                    (this.z = r))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t, n) {
                      return (
                        void 0 === n && (n = this.z),
                        (this.x = e),
                        (this.y = t),
                        (this.z = n),
                        this
                      )
                    },
                  },
                  {
                    key: 'setScalar',
                    value: function (e) {
                      return ((this.x = e), (this.y = e), (this.z = e), this)
                    },
                  },
                  {
                    key: 'setX',
                    value: function (e) {
                      return ((this.x = e), this)
                    },
                  },
                  {
                    key: 'setY',
                    value: function (e) {
                      return ((this.y = e), this)
                    },
                  },
                  {
                    key: 'setZ',
                    value: function (e) {
                      return ((this.z = e), this)
                    },
                  },
                  {
                    key: 'setComponent',
                    value: function (e, t) {
                      switch (e) {
                        case 0:
                          this.x = t
                          break
                        case 1:
                          this.y = t
                          break
                        case 2:
                          this.z = t
                          break
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                      return this
                    },
                  },
                  {
                    key: 'getComponent',
                    value: function (e) {
                      switch (e) {
                        case 0:
                          return this.x
                        case 1:
                          return this.y
                        case 2:
                          return this.z
                        default:
                          throw new Error('index is out of range: ' + e)
                      }
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this.x, this.y, this.z)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return ((this.x = e.x), (this.y = e.y), (this.z = e.z), this)
                    },
                  },
                  {
                    key: 'add',
                    value: function (e) {
                      return ((this.x += e.x), (this.y += e.y), (this.z += e.z), this)
                    },
                  },
                  {
                    key: 'addScalar',
                    value: function (e) {
                      return ((this.x += e), (this.y += e), (this.z += e), this)
                    },
                  },
                  {
                    key: 'addVectors',
                    value: function (e, t) {
                      return (
                        (this.x = e.x + t.x),
                        (this.y = e.y + t.y),
                        (this.z = e.z + t.z),
                        this
                      )
                    },
                  },
                  {
                    key: 'addScaledVector',
                    value: function (e, t) {
                      return ((this.x += e.x * t), (this.y += e.y * t), (this.z += e.z * t), this)
                    },
                  },
                  {
                    key: 'sub',
                    value: function (e) {
                      return ((this.x -= e.x), (this.y -= e.y), (this.z -= e.z), this)
                    },
                  },
                  {
                    key: 'subScalar',
                    value: function (e) {
                      return ((this.x -= e), (this.y -= e), (this.z -= e), this)
                    },
                  },
                  {
                    key: 'subVectors',
                    value: function (e, t) {
                      return (
                        (this.x = e.x - t.x),
                        (this.y = e.y - t.y),
                        (this.z = e.z - t.z),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return ((this.x *= e.x), (this.y *= e.y), (this.z *= e.z), this)
                    },
                  },
                  {
                    key: 'multiplyScalar',
                    value: function (e) {
                      return ((this.x *= e), (this.y *= e), (this.z *= e), this)
                    },
                  },
                  {
                    key: 'multiplyVectors',
                    value: function (e, t) {
                      return (
                        (this.x = e.x * t.x),
                        (this.y = e.y * t.y),
                        (this.z = e.z * t.z),
                        this
                      )
                    },
                  },
                  {
                    key: 'applyEuler',
                    value: function (e) {
                      return this.applyQuaternion(xd.setFromEuler(e))
                    },
                  },
                  {
                    key: 'applyAxisAngle',
                    value: function (e, t) {
                      return this.applyQuaternion(xd.setFromAxisAngle(e, t))
                    },
                  },
                  {
                    key: 'applyMatrix3',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = this.z,
                        i = e.elements
                      return (
                        (this.x = i[0] * t + i[3] * n + i[6] * r),
                        (this.y = i[1] * t + i[4] * n + i[7] * r),
                        (this.z = i[2] * t + i[5] * n + i[8] * r),
                        this
                      )
                    },
                  },
                  {
                    key: 'applyNormalMatrix',
                    value: function (e) {
                      return this.applyMatrix3(e).normalize()
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = this.z,
                        i = e.elements,
                        a = 1 / (i[3] * t + i[7] * n + i[11] * r + i[15])
                      return (
                        (this.x = (i[0] * t + i[4] * n + i[8] * r + i[12]) * a),
                        (this.y = (i[1] * t + i[5] * n + i[9] * r + i[13]) * a),
                        (this.z = (i[2] * t + i[6] * n + i[10] * r + i[14]) * a),
                        this
                      )
                    },
                  },
                  {
                    key: 'applyQuaternion',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = this.z,
                        i = e.x,
                        a = e.y,
                        o = e.z,
                        s = e.w,
                        u = 2 * (a * r - o * n),
                        l = 2 * (o * t - i * r),
                        c = 2 * (i * n - a * t)
                      return (
                        (this.x = t + s * u + a * c - o * l),
                        (this.y = n + s * l + o * u - i * c),
                        (this.z = r + s * c + i * l - a * u),
                        this
                      )
                    },
                  },
                  {
                    key: 'project',
                    value: function (e) {
                      return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(
                        e.projectionMatrix
                      )
                    },
                  },
                  {
                    key: 'unproject',
                    value: function (e) {
                      return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(
                        e.matrixWorld
                      )
                    },
                  },
                  {
                    key: 'transformDirection',
                    value: function (e) {
                      var t = this.x,
                        n = this.y,
                        r = this.z,
                        i = e.elements
                      return (
                        (this.x = i[0] * t + i[4] * n + i[8] * r),
                        (this.y = i[1] * t + i[5] * n + i[9] * r),
                        (this.z = i[2] * t + i[6] * n + i[10] * r),
                        this.normalize()
                      )
                    },
                  },
                  {
                    key: 'divide',
                    value: function (e) {
                      return ((this.x /= e.x), (this.y /= e.y), (this.z /= e.z), this)
                    },
                  },
                  {
                    key: 'divideScalar',
                    value: function (e) {
                      return this.multiplyScalar(1 / e)
                    },
                  },
                  {
                    key: 'min',
                    value: function (e) {
                      return (
                        (this.x = Math.min(this.x, e.x)),
                        (this.y = Math.min(this.y, e.y)),
                        (this.z = Math.min(this.z, e.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'max',
                    value: function (e) {
                      return (
                        (this.x = Math.max(this.x, e.x)),
                        (this.y = Math.max(this.y, e.y)),
                        (this.z = Math.max(this.z, e.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clamp',
                    value: function (e, t) {
                      return (
                        (this.x = Bc(this.x, e.x, t.x)),
                        (this.y = Bc(this.y, e.y, t.y)),
                        (this.z = Bc(this.z, e.z, t.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clampScalar',
                    value: function (e, t) {
                      return (
                        (this.x = Bc(this.x, e, t)),
                        (this.y = Bc(this.y, e, t)),
                        (this.z = Bc(this.z, e, t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clampLength',
                    value: function (e, t) {
                      var n = this.length()
                      return this.divideScalar(n || 1).multiplyScalar(Bc(n, e, t))
                    },
                  },
                  {
                    key: 'floor',
                    value: function () {
                      return (
                        (this.x = Math.floor(this.x)),
                        (this.y = Math.floor(this.y)),
                        (this.z = Math.floor(this.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'ceil',
                    value: function () {
                      return (
                        (this.x = Math.ceil(this.x)),
                        (this.y = Math.ceil(this.y)),
                        (this.z = Math.ceil(this.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'round',
                    value: function () {
                      return (
                        (this.x = Math.round(this.x)),
                        (this.y = Math.round(this.y)),
                        (this.z = Math.round(this.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'roundToZero',
                    value: function () {
                      return (
                        (this.x = Math.trunc(this.x)),
                        (this.y = Math.trunc(this.y)),
                        (this.z = Math.trunc(this.z)),
                        this
                      )
                    },
                  },
                  {
                    key: 'negate',
                    value: function () {
                      return ((this.x = -this.x), (this.y = -this.y), (this.z = -this.z), this)
                    },
                  },
                  {
                    key: 'dot',
                    value: function (e) {
                      return this.x * e.x + this.y * e.y + this.z * e.z
                    },
                  },
                  {
                    key: 'lengthSq',
                    value: function () {
                      return this.x * this.x + this.y * this.y + this.z * this.z
                    },
                  },
                  {
                    key: 'length',
                    value: function () {
                      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                    },
                  },
                  {
                    key: 'manhattanLength',
                    value: function () {
                      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      return this.divideScalar(this.length() || 1)
                    },
                  },
                  {
                    key: 'setLength',
                    value: function (e) {
                      return this.normalize().multiplyScalar(e)
                    },
                  },
                  {
                    key: 'lerp',
                    value: function (e, t) {
                      return (
                        (this.x += (e.x - this.x) * t),
                        (this.y += (e.y - this.y) * t),
                        (this.z += (e.z - this.z) * t),
                        this
                      )
                    },
                  },
                  {
                    key: 'lerpVectors',
                    value: function (e, t, n) {
                      return (
                        (this.x = e.x + (t.x - e.x) * n),
                        (this.y = e.y + (t.y - e.y) * n),
                        (this.z = e.z + (t.z - e.z) * n),
                        this
                      )
                    },
                  },
                  {
                    key: 'cross',
                    value: function (e) {
                      return this.crossVectors(this, e)
                    },
                  },
                  {
                    key: 'crossVectors',
                    value: function (e, t) {
                      var n = e.x,
                        r = e.y,
                        i = e.z,
                        a = t.x,
                        o = t.y,
                        s = t.z
                      return (
                        (this.x = r * s - i * o),
                        (this.y = i * a - n * s),
                        (this.z = n * o - r * a),
                        this
                      )
                    },
                  },
                  {
                    key: 'projectOnVector',
                    value: function (e) {
                      var t = e.lengthSq()
                      if (0 === t) return this.set(0, 0, 0)
                      var n = e.dot(this) / t
                      return this.copy(e).multiplyScalar(n)
                    },
                  },
                  {
                    key: 'projectOnPlane',
                    value: function (e) {
                      return (yd.copy(this).projectOnVector(e), this.sub(yd))
                    },
                  },
                  {
                    key: 'reflect',
                    value: function (e) {
                      return this.sub(yd.copy(e).multiplyScalar(2 * this.dot(e)))
                    },
                  },
                  {
                    key: 'angleTo',
                    value: function (e) {
                      var t = Math.sqrt(this.lengthSq() * e.lengthSq())
                      if (0 === t) return Math.PI / 2
                      var n = this.dot(e) / t
                      return Math.acos(Bc(n, -1, 1))
                    },
                  },
                  {
                    key: 'distanceTo',
                    value: function (e) {
                      return Math.sqrt(this.distanceToSquared(e))
                    },
                  },
                  {
                    key: 'distanceToSquared',
                    value: function (e) {
                      var t = this.x - e.x,
                        n = this.y - e.y,
                        r = this.z - e.z
                      return t * t + n * n + r * r
                    },
                  },
                  {
                    key: 'manhattanDistanceTo',
                    value: function (e) {
                      return (
                        Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z)
                      )
                    },
                  },
                  {
                    key: 'setFromSpherical',
                    value: function (e) {
                      return this.setFromSphericalCoords(e.radius, e.phi, e.theta)
                    },
                  },
                  {
                    key: 'setFromSphericalCoords',
                    value: function (e, t, n) {
                      var r = Math.sin(t) * e
                      return (
                        (this.x = r * Math.sin(n)),
                        (this.y = Math.cos(t) * e),
                        (this.z = r * Math.cos(n)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromCylindrical',
                    value: function (e) {
                      return this.setFromCylindricalCoords(e.radius, e.theta, e.y)
                    },
                  },
                  {
                    key: 'setFromCylindricalCoords',
                    value: function (e, t, n) {
                      return (
                        (this.x = e * Math.sin(t)),
                        (this.y = n),
                        (this.z = e * Math.cos(t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromMatrixPosition',
                    value: function (e) {
                      var t = e.elements
                      return ((this.x = t[12]), (this.y = t[13]), (this.z = t[14]), this)
                    },
                  },
                  {
                    key: 'setFromMatrixScale',
                    value: function (e) {
                      var t = this.setFromMatrixColumn(e, 0).length(),
                        n = this.setFromMatrixColumn(e, 1).length(),
                        r = this.setFromMatrixColumn(e, 2).length()
                      return ((this.x = t), (this.y = n), (this.z = r), this)
                    },
                  },
                  {
                    key: 'setFromMatrixColumn',
                    value: function (e, t) {
                      return this.fromArray(e.elements, 4 * t)
                    },
                  },
                  {
                    key: 'setFromMatrix3Column',
                    value: function (e, t) {
                      return this.fromArray(e.elements, 3 * t)
                    },
                  },
                  {
                    key: 'setFromEuler',
                    value: function (e) {
                      return ((this.x = e._x), (this.y = e._y), (this.z = e._z), this)
                    },
                  },
                  {
                    key: 'setFromColor',
                    value: function (e) {
                      return ((this.x = e.r), (this.y = e.g), (this.z = e.b), this)
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.x === this.x && e.y === this.y && e.z === this.z
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((this.x = e[t]), (this.y = e[t + 1]), (this.z = e[t + 2]), this)
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((e[t] = this.x), (e[t + 1] = this.y), (e[t + 2] = this.z), e)
                    },
                  },
                  {
                    key: 'fromBufferAttribute',
                    value: function (e, t) {
                      return (
                        (this.x = e.getX(t)),
                        (this.y = e.getY(t)),
                        (this.z = e.getZ(t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'random',
                    value: function () {
                      return (
                        (this.x = Math.random()),
                        (this.y = Math.random()),
                        (this.z = Math.random()),
                        this
                      )
                    },
                  },
                  {
                    key: 'randomDirection',
                    value: function () {
                      var e = Math.random() * Math.PI * 2,
                        t = 2 * Math.random() - 1,
                        n = Math.sqrt(1 - t * t)
                      return (
                        (this.x = n * Math.cos(e)),
                        (this.y = t),
                        (this.z = n * Math.sin(e)),
                        this
                      )
                    },
                  },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this.x)
                              case 1:
                                return ((e.n = 2), this.y)
                              case 2:
                                return ((e.n = 3), this.z)
                              case 3:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ]
              )
            })(),
            yd = new gd(),
            xd = new md(),
            _d = (function () {
              return T(
                function e() {
                  var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : new gd(1 / 0, 1 / 0, 1 / 0),
                    n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : new gd(-1 / 0, -1 / 0, -1 / 0)
                  ;(w(this, e), (this.isBox3 = !0), (this.min = t), (this.max = n))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t) {
                      return (this.min.copy(e), this.max.copy(t), this)
                    },
                  },
                  {
                    key: 'setFromArray',
                    value: function (e) {
                      this.makeEmpty()
                      for (var t = 0, n = e.length; t < n; t += 3)
                        this.expandByPoint(Sd.fromArray(e, t))
                      return this
                    },
                  },
                  {
                    key: 'setFromBufferAttribute',
                    value: function (e) {
                      this.makeEmpty()
                      for (var t = 0, n = e.count; t < n; t++)
                        this.expandByPoint(Sd.fromBufferAttribute(e, t))
                      return this
                    },
                  },
                  {
                    key: 'setFromPoints',
                    value: function (e) {
                      this.makeEmpty()
                      for (var t = 0, n = e.length; t < n; t++) this.expandByPoint(e[t])
                      return this
                    },
                  },
                  {
                    key: 'setFromCenterAndSize',
                    value: function (e, t) {
                      var n = Sd.copy(t).multiplyScalar(0.5)
                      return (this.min.copy(e).sub(n), this.max.copy(e).add(n), this)
                    },
                  },
                  {
                    key: 'setFromObject',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      return (this.makeEmpty(), this.expandByObject(e, t))
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (this.min.copy(e.min), this.max.copy(e.max), this)
                    },
                  },
                  {
                    key: 'makeEmpty',
                    value: function () {
                      return (
                        (this.min.x = this.min.y = this.min.z = 1 / 0),
                        (this.max.x = this.max.y = this.max.z = -1 / 0),
                        this
                      )
                    },
                  },
                  {
                    key: 'isEmpty',
                    value: function () {
                      return (
                        this.max.x < this.min.x ||
                        this.max.y < this.min.y ||
                        this.max.z < this.min.z
                      )
                    },
                  },
                  {
                    key: 'getCenter',
                    value: function (e) {
                      return this.isEmpty()
                        ? e.set(0, 0, 0)
                        : e.addVectors(this.min, this.max).multiplyScalar(0.5)
                    },
                  },
                  {
                    key: 'getSize',
                    value: function (e) {
                      return this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min)
                    },
                  },
                  {
                    key: 'expandByPoint',
                    value: function (e) {
                      return (this.min.min(e), this.max.max(e), this)
                    },
                  },
                  {
                    key: 'expandByVector',
                    value: function (e) {
                      return (this.min.sub(e), this.max.add(e), this)
                    },
                  },
                  {
                    key: 'expandByScalar',
                    value: function (e) {
                      return (this.min.addScalar(-e), this.max.addScalar(e), this)
                    },
                  },
                  {
                    key: 'expandByObject',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      e.updateWorldMatrix(!1, !1)
                      var n = e.geometry
                      if (void 0 !== n) {
                        var r = n.getAttribute('position')
                        if (!0 === t && void 0 !== r && !0 !== e.isInstancedMesh)
                          for (var i = 0, a = r.count; i < a; i++)
                            (!0 === e.isMesh
                              ? e.getVertexPosition(i, Sd)
                              : Sd.fromBufferAttribute(r, i),
                              Sd.applyMatrix4(e.matrixWorld),
                              this.expandByPoint(Sd))
                        else
                          (void 0 !== e.boundingBox
                            ? (null === e.boundingBox && e.computeBoundingBox(),
                              wd.copy(e.boundingBox))
                            : (null === n.boundingBox && n.computeBoundingBox(),
                              wd.copy(n.boundingBox)),
                            wd.applyMatrix4(e.matrixWorld),
                            this.union(wd))
                      }
                      for (var o = e.children, s = 0, u = o.length; s < u; s++)
                        this.expandByObject(o[s], t)
                      return this
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (e) {
                      return (
                        e.x >= this.min.x &&
                        e.x <= this.max.x &&
                        e.y >= this.min.y &&
                        e.y <= this.max.y &&
                        e.z >= this.min.z &&
                        e.z <= this.max.z
                      )
                    },
                  },
                  {
                    key: 'containsBox',
                    value: function (e) {
                      return (
                        this.min.x <= e.min.x &&
                        e.max.x <= this.max.x &&
                        this.min.y <= e.min.y &&
                        e.max.y <= this.max.y &&
                        this.min.z <= e.min.z &&
                        e.max.z <= this.max.z
                      )
                    },
                  },
                  {
                    key: 'getParameter',
                    value: function (e, t) {
                      return t.set(
                        (e.x - this.min.x) / (this.max.x - this.min.x),
                        (e.y - this.min.y) / (this.max.y - this.min.y),
                        (e.z - this.min.z) / (this.max.z - this.min.z)
                      )
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      return (
                        e.max.x >= this.min.x &&
                        e.min.x <= this.max.x &&
                        e.max.y >= this.min.y &&
                        e.min.y <= this.max.y &&
                        e.max.z >= this.min.z &&
                        e.min.z <= this.max.z
                      )
                    },
                  },
                  {
                    key: 'intersectsSphere',
                    value: function (e) {
                      return (
                        this.clampPoint(e.center, Sd),
                        Sd.distanceToSquared(e.center) <= e.radius * e.radius
                      )
                    },
                  },
                  {
                    key: 'intersectsPlane',
                    value: function (e) {
                      var t, n
                      return (
                        e.normal.x > 0
                          ? ((t = e.normal.x * this.min.x), (n = e.normal.x * this.max.x))
                          : ((t = e.normal.x * this.max.x), (n = e.normal.x * this.min.x)),
                        e.normal.y > 0
                          ? ((t += e.normal.y * this.min.y), (n += e.normal.y * this.max.y))
                          : ((t += e.normal.y * this.max.y), (n += e.normal.y * this.min.y)),
                        e.normal.z > 0
                          ? ((t += e.normal.z * this.min.z), (n += e.normal.z * this.max.z))
                          : ((t += e.normal.z * this.max.z), (n += e.normal.z * this.min.z)),
                        t <= -e.constant && n >= -e.constant
                      )
                    },
                  },
                  {
                    key: 'intersectsTriangle',
                    value: function (e) {
                      if (this.isEmpty()) return !1
                      ;(this.getCenter(Rd),
                        Id.subVectors(this.max, Rd),
                        Ad.subVectors(e.a, Rd),
                        Td.subVectors(e.b, Rd),
                        Md.subVectors(e.c, Rd),
                        Ed.subVectors(Td, Ad),
                        Cd.subVectors(Md, Td),
                        kd.subVectors(Ad, Md))
                      var t = [
                        0,
                        -Ed.z,
                        Ed.y,
                        0,
                        -Cd.z,
                        Cd.y,
                        0,
                        -kd.z,
                        kd.y,
                        Ed.z,
                        0,
                        -Ed.x,
                        Cd.z,
                        0,
                        -Cd.x,
                        kd.z,
                        0,
                        -kd.x,
                        -Ed.y,
                        Ed.x,
                        0,
                        -Cd.y,
                        Cd.x,
                        0,
                        -kd.y,
                        kd.x,
                        0,
                      ]
                      return (
                        !!Ld(t, Ad, Td, Md, Id) &&
                        !!Ld((t = [1, 0, 0, 0, 1, 0, 0, 0, 1]), Ad, Td, Md, Id) &&
                        (Nd.crossVectors(Ed, Cd), Ld((t = [Nd.x, Nd.y, Nd.z]), Ad, Td, Md, Id))
                      )
                    },
                  },
                  {
                    key: 'clampPoint',
                    value: function (e, t) {
                      return t.copy(e).clamp(this.min, this.max)
                    },
                  },
                  {
                    key: 'distanceToPoint',
                    value: function (e) {
                      return this.clampPoint(e, Sd).distanceTo(e)
                    },
                  },
                  {
                    key: 'getBoundingSphere',
                    value: function (e) {
                      return (
                        this.isEmpty()
                          ? e.makeEmpty()
                          : (this.getCenter(e.center),
                            (e.radius = 0.5 * this.getSize(Sd).length())),
                        e
                      )
                    },
                  },
                  {
                    key: 'intersect',
                    value: function (e) {
                      return (
                        this.min.max(e.min),
                        this.max.min(e.max),
                        this.isEmpty() && this.makeEmpty(),
                        this
                      )
                    },
                  },
                  {
                    key: 'union',
                    value: function (e) {
                      return (this.min.min(e.min), this.max.max(e.max), this)
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      return (
                        this.isEmpty() ||
                          (bd[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e),
                          bd[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e),
                          bd[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e),
                          bd[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e),
                          bd[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e),
                          bd[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e),
                          bd[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e),
                          bd[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e),
                          this.setFromPoints(bd)),
                        this
                      )
                    },
                  },
                  {
                    key: 'translate',
                    value: function (e) {
                      return (this.min.add(e), this.max.add(e), this)
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.min.equals(this.min) && e.max.equals(this.max)
                    },
                  },
                ]
              )
            })(),
            bd = [new gd(), new gd(), new gd(), new gd(), new gd(), new gd(), new gd(), new gd()],
            Sd = new gd(),
            wd = new _d(),
            Ad = new gd(),
            Td = new gd(),
            Md = new gd(),
            Ed = new gd(),
            Cd = new gd(),
            kd = new gd(),
            Rd = new gd(),
            Id = new gd(),
            Nd = new gd(),
            Pd = new gd()
          function Ld(e, t, n, r, i) {
            for (var a = 0, o = e.length - 3; a <= o; a += 3) {
              Pd.fromArray(e, a)
              var s = i.x * Math.abs(Pd.x) + i.y * Math.abs(Pd.y) + i.z * Math.abs(Pd.z),
                u = t.dot(Pd),
                l = n.dot(Pd),
                c = r.dot(Pd)
              if (Math.max(-Math.max(u, l, c), Math.min(u, l, c)) > s) return !1
            }
            return !0
          }
          var Dd = new _d(),
            Od = new gd(),
            Fd = new gd(),
            Bd = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new gd(),
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1
                  ;(w(this, e), (this.isSphere = !0), (this.center = t), (this.radius = n))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t) {
                      return (this.center.copy(e), (this.radius = t), this)
                    },
                  },
                  {
                    key: 'setFromPoints',
                    value: function (e, t) {
                      var n = this.center
                      void 0 !== t ? n.copy(t) : Dd.setFromPoints(e).getCenter(n)
                      for (var r = 0, i = 0, a = e.length; i < a; i++)
                        r = Math.max(r, n.distanceToSquared(e[i]))
                      return ((this.radius = Math.sqrt(r)), this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (this.center.copy(e.center), (this.radius = e.radius), this)
                    },
                  },
                  {
                    key: 'isEmpty',
                    value: function () {
                      return this.radius < 0
                    },
                  },
                  {
                    key: 'makeEmpty',
                    value: function () {
                      return (this.center.set(0, 0, 0), (this.radius = -1), this)
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (e) {
                      return e.distanceToSquared(this.center) <= this.radius * this.radius
                    },
                  },
                  {
                    key: 'distanceToPoint',
                    value: function (e) {
                      return e.distanceTo(this.center) - this.radius
                    },
                  },
                  {
                    key: 'intersectsSphere',
                    value: function (e) {
                      var t = this.radius + e.radius
                      return e.center.distanceToSquared(this.center) <= t * t
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      return e.intersectsSphere(this)
                    },
                  },
                  {
                    key: 'intersectsPlane',
                    value: function (e) {
                      return Math.abs(e.distanceToPoint(this.center)) <= this.radius
                    },
                  },
                  {
                    key: 'clampPoint',
                    value: function (e, t) {
                      var n = this.center.distanceToSquared(e)
                      return (
                        t.copy(e),
                        n > this.radius * this.radius &&
                          (t.sub(this.center).normalize(),
                          t.multiplyScalar(this.radius).add(this.center)),
                        t
                      )
                    },
                  },
                  {
                    key: 'getBoundingBox',
                    value: function (e) {
                      return this.isEmpty()
                        ? (e.makeEmpty(), e)
                        : (e.set(this.center, this.center), e.expandByScalar(this.radius), e)
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      return (
                        this.center.applyMatrix4(e),
                        (this.radius = this.radius * e.getMaxScaleOnAxis()),
                        this
                      )
                    },
                  },
                  {
                    key: 'translate',
                    value: function (e) {
                      return (this.center.add(e), this)
                    },
                  },
                  {
                    key: 'expandByPoint',
                    value: function (e) {
                      if (this.isEmpty()) return (this.center.copy(e), (this.radius = 0), this)
                      Od.subVectors(e, this.center)
                      var t = Od.lengthSq()
                      if (t > this.radius * this.radius) {
                        var n = Math.sqrt(t),
                          r = 0.5 * (n - this.radius)
                        ;(this.center.addScaledVector(Od, r / n), (this.radius += r))
                      }
                      return this
                    },
                  },
                  {
                    key: 'union',
                    value: function (e) {
                      return e.isEmpty()
                        ? this
                        : this.isEmpty()
                          ? (this.copy(e), this)
                          : (!0 === this.center.equals(e.center)
                              ? (this.radius = Math.max(this.radius, e.radius))
                              : (Fd.subVectors(e.center, this.center).setLength(e.radius),
                                this.expandByPoint(Od.copy(e.center).add(Fd)),
                                this.expandByPoint(Od.copy(e.center).sub(Fd))),
                            this)
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.center.equals(this.center) && e.radius === this.radius
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ]
              )
            })(),
            Ud = new gd(),
            zd = new gd(),
            Vd = new gd(),
            Hd = new gd(),
            Wd = new gd(),
            Gd = new gd(),
            jd = new gd(),
            Qd = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new gd(),
                    n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : new gd(0, 0, -1)
                  ;(w(this, e), (this.origin = t), (this.direction = n))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t) {
                      return (this.origin.copy(e), this.direction.copy(t), this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (this.origin.copy(e.origin), this.direction.copy(e.direction), this)
                    },
                  },
                  {
                    key: 'at',
                    value: function (e, t) {
                      return t.copy(this.origin).addScaledVector(this.direction, e)
                    },
                  },
                  {
                    key: 'lookAt',
                    value: function (e) {
                      return (this.direction.copy(e).sub(this.origin).normalize(), this)
                    },
                  },
                  {
                    key: 'recast',
                    value: function (e) {
                      return (this.origin.copy(this.at(e, Ud)), this)
                    },
                  },
                  {
                    key: 'closestPointToPoint',
                    value: function (e, t) {
                      t.subVectors(e, this.origin)
                      var n = t.dot(this.direction)
                      return n < 0
                        ? t.copy(this.origin)
                        : t.copy(this.origin).addScaledVector(this.direction, n)
                    },
                  },
                  {
                    key: 'distanceToPoint',
                    value: function (e) {
                      return Math.sqrt(this.distanceSqToPoint(e))
                    },
                  },
                  {
                    key: 'distanceSqToPoint',
                    value: function (e) {
                      var t = Ud.subVectors(e, this.origin).dot(this.direction)
                      return t < 0
                        ? this.origin.distanceToSquared(e)
                        : (Ud.copy(this.origin).addScaledVector(this.direction, t),
                          Ud.distanceToSquared(e))
                    },
                  },
                  {
                    key: 'distanceSqToSegment',
                    value: function (e, t, n, r) {
                      ;(zd.copy(e).add(t).multiplyScalar(0.5),
                        Vd.copy(t).sub(e).normalize(),
                        Hd.copy(this.origin).sub(zd))
                      var i,
                        a,
                        o,
                        s,
                        u = 0.5 * e.distanceTo(t),
                        l = -this.direction.dot(Vd),
                        c = Hd.dot(this.direction),
                        d = -Hd.dot(Vd),
                        h = Hd.lengthSq(),
                        f = Math.abs(1 - l * l)
                      if (f > 0)
                        if (((a = l * c - d), (s = u * f), (i = l * d - c) >= 0))
                          if (a >= -s)
                            if (a <= s) {
                              var p = 1 / f
                              o =
                                (i *= p) * (i + l * (a *= p) + 2 * c) + a * (l * i + a + 2 * d) + h
                            } else
                              ((a = u),
                                (o = -(i = Math.max(0, -(l * a + c))) * i + a * (a + 2 * d) + h))
                          else
                            ((a = -u),
                              (o = -(i = Math.max(0, -(l * a + c))) * i + a * (a + 2 * d) + h))
                        else
                          a <= -s
                            ? (o =
                                -(i = Math.max(0, -(-l * u + c))) * i +
                                (a = i > 0 ? -u : Math.min(Math.max(-u, -d), u)) * (a + 2 * d) +
                                h)
                            : a <= s
                              ? ((i = 0),
                                (o = (a = Math.min(Math.max(-u, -d), u)) * (a + 2 * d) + h))
                              : (o =
                                  -(i = Math.max(0, -(l * u + c))) * i +
                                  (a = i > 0 ? u : Math.min(Math.max(-u, -d), u)) * (a + 2 * d) +
                                  h)
                      else
                        ((a = l > 0 ? -u : u),
                          (o = -(i = Math.max(0, -(l * a + c))) * i + a * (a + 2 * d) + h))
                      return (
                        n && n.copy(this.origin).addScaledVector(this.direction, i),
                        r && r.copy(zd).addScaledVector(Vd, a),
                        o
                      )
                    },
                  },
                  {
                    key: 'intersectSphere',
                    value: function (e, t) {
                      Ud.subVectors(e.center, this.origin)
                      var n = Ud.dot(this.direction),
                        r = Ud.dot(Ud) - n * n,
                        i = e.radius * e.radius
                      if (r > i) return null
                      var a = Math.sqrt(i - r),
                        o = n - a,
                        s = n + a
                      return s < 0 ? null : o < 0 ? this.at(s, t) : this.at(o, t)
                    },
                  },
                  {
                    key: 'intersectsSphere',
                    value: function (e) {
                      return this.distanceSqToPoint(e.center) <= e.radius * e.radius
                    },
                  },
                  {
                    key: 'distanceToPlane',
                    value: function (e) {
                      var t = e.normal.dot(this.direction)
                      if (0 === t) return 0 === e.distanceToPoint(this.origin) ? 0 : null
                      var n = -(this.origin.dot(e.normal) + e.constant) / t
                      return n >= 0 ? n : null
                    },
                  },
                  {
                    key: 'intersectPlane',
                    value: function (e, t) {
                      var n = this.distanceToPlane(e)
                      return null === n ? null : this.at(n, t)
                    },
                  },
                  {
                    key: 'intersectsPlane',
                    value: function (e) {
                      var t = e.distanceToPoint(this.origin)
                      return 0 === t || e.normal.dot(this.direction) * t < 0
                    },
                  },
                  {
                    key: 'intersectBox',
                    value: function (e, t) {
                      var n,
                        r,
                        i,
                        a,
                        o,
                        s,
                        u = 1 / this.direction.x,
                        l = 1 / this.direction.y,
                        c = 1 / this.direction.z,
                        d = this.origin
                      return (
                        u >= 0
                          ? ((n = (e.min.x - d.x) * u), (r = (e.max.x - d.x) * u))
                          : ((n = (e.max.x - d.x) * u), (r = (e.min.x - d.x) * u)),
                        l >= 0
                          ? ((i = (e.min.y - d.y) * l), (a = (e.max.y - d.y) * l))
                          : ((i = (e.max.y - d.y) * l), (a = (e.min.y - d.y) * l)),
                        n > a || i > r
                          ? null
                          : ((i > n || isNaN(n)) && (n = i),
                            (a < r || isNaN(r)) && (r = a),
                            c >= 0
                              ? ((o = (e.min.z - d.z) * c), (s = (e.max.z - d.z) * c))
                              : ((o = (e.max.z - d.z) * c), (s = (e.min.z - d.z) * c)),
                            n > s || o > r
                              ? null
                              : ((o > n || n != n) && (n = o),
                                (s < r || r != r) && (r = s),
                                r < 0 ? null : this.at(n >= 0 ? n : r, t)))
                      )
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      return null !== this.intersectBox(e, Ud)
                    },
                  },
                  {
                    key: 'intersectTriangle',
                    value: function (e, t, n, r, i) {
                      ;(Wd.subVectors(t, e), Gd.subVectors(n, e), jd.crossVectors(Wd, Gd))
                      var a,
                        o = this.direction.dot(jd)
                      if (o > 0) {
                        if (r) return null
                        a = 1
                      } else {
                        if (!(o < 0)) return null
                        ;((a = -1), (o = -o))
                      }
                      Hd.subVectors(this.origin, e)
                      var s = a * this.direction.dot(Gd.crossVectors(Hd, Gd))
                      if (s < 0) return null
                      var u = a * this.direction.dot(Wd.cross(Hd))
                      if (u < 0) return null
                      if (s + u > o) return null
                      var l = -a * Hd.dot(jd)
                      return l < 0 ? null : this.at(l / o, i)
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      return (
                        this.origin.applyMatrix4(e),
                        this.direction.transformDirection(e),
                        this
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.origin.equals(this.origin) && e.direction.equals(this.direction)
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ]
              )
            })(),
            qd = (function () {
              function e(t, n, r, i, a, o, s, u, l, c, d, h, f, p, v, m) {
                ;(w(this, e),
                  (e.prototype.isMatrix4 = !0),
                  (this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
                  void 0 !== t && this.set(t, n, r, i, a, o, s, u, l, c, d, h, f, p, v, m))
              }
              return T(e, [
                {
                  key: 'set',
                  value: function (e, t, n, r, i, a, o, s, u, l, c, d, h, f, p, v) {
                    var m = this.elements
                    return (
                      (m[0] = e),
                      (m[4] = t),
                      (m[8] = n),
                      (m[12] = r),
                      (m[1] = i),
                      (m[5] = a),
                      (m[9] = o),
                      (m[13] = s),
                      (m[2] = u),
                      (m[6] = l),
                      (m[10] = c),
                      (m[14] = d),
                      (m[3] = h),
                      (m[7] = f),
                      (m[11] = p),
                      (m[15] = v),
                      this
                    )
                  },
                },
                {
                  key: 'identity',
                  value: function () {
                    return (this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'clone',
                  value: function () {
                    return new e().fromArray(this.elements)
                  },
                },
                {
                  key: 'copy',
                  value: function (e) {
                    var t = this.elements,
                      n = e.elements
                    return (
                      (t[0] = n[0]),
                      (t[1] = n[1]),
                      (t[2] = n[2]),
                      (t[3] = n[3]),
                      (t[4] = n[4]),
                      (t[5] = n[5]),
                      (t[6] = n[6]),
                      (t[7] = n[7]),
                      (t[8] = n[8]),
                      (t[9] = n[9]),
                      (t[10] = n[10]),
                      (t[11] = n[11]),
                      (t[12] = n[12]),
                      (t[13] = n[13]),
                      (t[14] = n[14]),
                      (t[15] = n[15]),
                      this
                    )
                  },
                },
                {
                  key: 'copyPosition',
                  value: function (e) {
                    var t = this.elements,
                      n = e.elements
                    return ((t[12] = n[12]), (t[13] = n[13]), (t[14] = n[14]), this)
                  },
                },
                {
                  key: 'setFromMatrix3',
                  value: function (e) {
                    var t = e.elements
                    return (
                      this.set(
                        t[0],
                        t[3],
                        t[6],
                        0,
                        t[1],
                        t[4],
                        t[7],
                        0,
                        t[2],
                        t[5],
                        t[8],
                        0,
                        0,
                        0,
                        0,
                        1
                      ),
                      this
                    )
                  },
                },
                {
                  key: 'extractBasis',
                  value: function (e, t, n) {
                    return (
                      e.setFromMatrixColumn(this, 0),
                      t.setFromMatrixColumn(this, 1),
                      n.setFromMatrixColumn(this, 2),
                      this
                    )
                  },
                },
                {
                  key: 'makeBasis',
                  value: function (e, t, n) {
                    return (
                      this.set(e.x, t.x, n.x, 0, e.y, t.y, n.y, 0, e.z, t.z, n.z, 0, 0, 0, 0, 1),
                      this
                    )
                  },
                },
                {
                  key: 'extractRotation',
                  value: function (e) {
                    var t = this.elements,
                      n = e.elements,
                      r = 1 / Xd.setFromMatrixColumn(e, 0).length(),
                      i = 1 / Xd.setFromMatrixColumn(e, 1).length(),
                      a = 1 / Xd.setFromMatrixColumn(e, 2).length()
                    return (
                      (t[0] = n[0] * r),
                      (t[1] = n[1] * r),
                      (t[2] = n[2] * r),
                      (t[3] = 0),
                      (t[4] = n[4] * i),
                      (t[5] = n[5] * i),
                      (t[6] = n[6] * i),
                      (t[7] = 0),
                      (t[8] = n[8] * a),
                      (t[9] = n[9] * a),
                      (t[10] = n[10] * a),
                      (t[11] = 0),
                      (t[12] = 0),
                      (t[13] = 0),
                      (t[14] = 0),
                      (t[15] = 1),
                      this
                    )
                  },
                },
                {
                  key: 'makeRotationFromEuler',
                  value: function (e) {
                    var t = this.elements,
                      n = e.x,
                      r = e.y,
                      i = e.z,
                      a = Math.cos(n),
                      o = Math.sin(n),
                      s = Math.cos(r),
                      u = Math.sin(r),
                      l = Math.cos(i),
                      c = Math.sin(i)
                    if ('XYZ' === e.order) {
                      var d = a * l,
                        h = a * c,
                        f = o * l,
                        p = o * c
                      ;((t[0] = s * l),
                        (t[4] = -s * c),
                        (t[8] = u),
                        (t[1] = h + f * u),
                        (t[5] = d - p * u),
                        (t[9] = -o * s),
                        (t[2] = p - d * u),
                        (t[6] = f + h * u),
                        (t[10] = a * s))
                    } else if ('YXZ' === e.order) {
                      var v = s * l,
                        m = s * c,
                        g = u * l,
                        y = u * c
                      ;((t[0] = v + y * o),
                        (t[4] = g * o - m),
                        (t[8] = a * u),
                        (t[1] = a * c),
                        (t[5] = a * l),
                        (t[9] = -o),
                        (t[2] = m * o - g),
                        (t[6] = y + v * o),
                        (t[10] = a * s))
                    } else if ('ZXY' === e.order) {
                      var x = s * l,
                        _ = s * c,
                        b = u * l,
                        S = u * c
                      ;((t[0] = x - S * o),
                        (t[4] = -a * c),
                        (t[8] = b + _ * o),
                        (t[1] = _ + b * o),
                        (t[5] = a * l),
                        (t[9] = S - x * o),
                        (t[2] = -a * u),
                        (t[6] = o),
                        (t[10] = a * s))
                    } else if ('ZYX' === e.order) {
                      var w = a * l,
                        A = a * c,
                        T = o * l,
                        M = o * c
                      ;((t[0] = s * l),
                        (t[4] = T * u - A),
                        (t[8] = w * u + M),
                        (t[1] = s * c),
                        (t[5] = M * u + w),
                        (t[9] = A * u - T),
                        (t[2] = -u),
                        (t[6] = o * s),
                        (t[10] = a * s))
                    } else if ('YZX' === e.order) {
                      var E = a * s,
                        C = a * u,
                        k = o * s,
                        R = o * u
                      ;((t[0] = s * l),
                        (t[4] = R - E * c),
                        (t[8] = k * c + C),
                        (t[1] = c),
                        (t[5] = a * l),
                        (t[9] = -o * l),
                        (t[2] = -u * l),
                        (t[6] = C * c + k),
                        (t[10] = E - R * c))
                    } else if ('XZY' === e.order) {
                      var I = a * s,
                        N = a * u,
                        P = o * s,
                        L = o * u
                      ;((t[0] = s * l),
                        (t[4] = -c),
                        (t[8] = u * l),
                        (t[1] = I * c + L),
                        (t[5] = a * l),
                        (t[9] = N * c - P),
                        (t[2] = P * c - N),
                        (t[6] = o * l),
                        (t[10] = L * c + I))
                    }
                    return (
                      (t[3] = 0),
                      (t[7] = 0),
                      (t[11] = 0),
                      (t[12] = 0),
                      (t[13] = 0),
                      (t[14] = 0),
                      (t[15] = 1),
                      this
                    )
                  },
                },
                {
                  key: 'makeRotationFromQuaternion',
                  value: function (e) {
                    return this.compose(Kd, e, Zd)
                  },
                },
                {
                  key: 'lookAt',
                  value: function (e, t, n) {
                    var r = this.elements
                    return (
                      eh.subVectors(e, t),
                      0 === eh.lengthSq() && (eh.z = 1),
                      eh.normalize(),
                      Jd.crossVectors(n, eh),
                      0 === Jd.lengthSq() &&
                        (1 === Math.abs(n.z) ? (eh.x += 1e-4) : (eh.z += 1e-4),
                        eh.normalize(),
                        Jd.crossVectors(n, eh)),
                      Jd.normalize(),
                      $d.crossVectors(eh, Jd),
                      (r[0] = Jd.x),
                      (r[4] = $d.x),
                      (r[8] = eh.x),
                      (r[1] = Jd.y),
                      (r[5] = $d.y),
                      (r[9] = eh.y),
                      (r[2] = Jd.z),
                      (r[6] = $d.z),
                      (r[10] = eh.z),
                      this
                    )
                  },
                },
                {
                  key: 'multiply',
                  value: function (e) {
                    return this.multiplyMatrices(this, e)
                  },
                },
                {
                  key: 'premultiply',
                  value: function (e) {
                    return this.multiplyMatrices(e, this)
                  },
                },
                {
                  key: 'multiplyMatrices',
                  value: function (e, t) {
                    var n = e.elements,
                      r = t.elements,
                      i = this.elements,
                      a = n[0],
                      o = n[4],
                      s = n[8],
                      u = n[12],
                      l = n[1],
                      c = n[5],
                      d = n[9],
                      h = n[13],
                      f = n[2],
                      p = n[6],
                      v = n[10],
                      m = n[14],
                      g = n[3],
                      y = n[7],
                      x = n[11],
                      _ = n[15],
                      b = r[0],
                      S = r[4],
                      w = r[8],
                      A = r[12],
                      T = r[1],
                      M = r[5],
                      E = r[9],
                      C = r[13],
                      k = r[2],
                      R = r[6],
                      I = r[10],
                      N = r[14],
                      P = r[3],
                      L = r[7],
                      D = r[11],
                      O = r[15]
                    return (
                      (i[0] = a * b + o * T + s * k + u * P),
                      (i[4] = a * S + o * M + s * R + u * L),
                      (i[8] = a * w + o * E + s * I + u * D),
                      (i[12] = a * A + o * C + s * N + u * O),
                      (i[1] = l * b + c * T + d * k + h * P),
                      (i[5] = l * S + c * M + d * R + h * L),
                      (i[9] = l * w + c * E + d * I + h * D),
                      (i[13] = l * A + c * C + d * N + h * O),
                      (i[2] = f * b + p * T + v * k + m * P),
                      (i[6] = f * S + p * M + v * R + m * L),
                      (i[10] = f * w + p * E + v * I + m * D),
                      (i[14] = f * A + p * C + v * N + m * O),
                      (i[3] = g * b + y * T + x * k + _ * P),
                      (i[7] = g * S + y * M + x * R + _ * L),
                      (i[11] = g * w + y * E + x * I + _ * D),
                      (i[15] = g * A + y * C + x * N + _ * O),
                      this
                    )
                  },
                },
                {
                  key: 'multiplyScalar',
                  value: function (e) {
                    var t = this.elements
                    return (
                      (t[0] *= e),
                      (t[4] *= e),
                      (t[8] *= e),
                      (t[12] *= e),
                      (t[1] *= e),
                      (t[5] *= e),
                      (t[9] *= e),
                      (t[13] *= e),
                      (t[2] *= e),
                      (t[6] *= e),
                      (t[10] *= e),
                      (t[14] *= e),
                      (t[3] *= e),
                      (t[7] *= e),
                      (t[11] *= e),
                      (t[15] *= e),
                      this
                    )
                  },
                },
                {
                  key: 'determinant',
                  value: function () {
                    var e = this.elements,
                      t = e[0],
                      n = e[4],
                      r = e[8],
                      i = e[12],
                      a = e[1],
                      o = e[5],
                      s = e[9],
                      u = e[13],
                      l = e[2],
                      c = e[6],
                      d = e[10],
                      h = e[14]
                    return (
                      e[3] *
                        (+i * s * c - r * u * c - i * o * d + n * u * d + r * o * h - n * s * h) +
                      e[7] *
                        (+t * s * h - t * u * d + i * a * d - r * a * h + r * u * l - i * s * l) +
                      e[11] *
                        (+t * u * c - t * o * h - i * a * c + n * a * h + i * o * l - n * u * l) +
                      e[15] *
                        (-r * o * l - t * s * c + t * o * d + r * a * c - n * a * d + n * s * l)
                    )
                  },
                },
                {
                  key: 'transpose',
                  value: function () {
                    var e,
                      t = this.elements
                    return (
                      (e = t[1]),
                      (t[1] = t[4]),
                      (t[4] = e),
                      (e = t[2]),
                      (t[2] = t[8]),
                      (t[8] = e),
                      (e = t[6]),
                      (t[6] = t[9]),
                      (t[9] = e),
                      (e = t[3]),
                      (t[3] = t[12]),
                      (t[12] = e),
                      (e = t[7]),
                      (t[7] = t[13]),
                      (t[13] = e),
                      (e = t[11]),
                      (t[11] = t[14]),
                      (t[14] = e),
                      this
                    )
                  },
                },
                {
                  key: 'setPosition',
                  value: function (e, t, n) {
                    var r = this.elements
                    return (
                      e.isVector3
                        ? ((r[12] = e.x), (r[13] = e.y), (r[14] = e.z))
                        : ((r[12] = e), (r[13] = t), (r[14] = n)),
                      this
                    )
                  },
                },
                {
                  key: 'invert',
                  value: function () {
                    var e = this.elements,
                      t = e[0],
                      n = e[1],
                      r = e[2],
                      i = e[3],
                      a = e[4],
                      o = e[5],
                      s = e[6],
                      u = e[7],
                      l = e[8],
                      c = e[9],
                      d = e[10],
                      h = e[11],
                      f = e[12],
                      p = e[13],
                      v = e[14],
                      m = e[15],
                      g = c * v * u - p * d * u + p * s * h - o * v * h - c * s * m + o * d * m,
                      y = f * d * u - l * v * u - f * s * h + a * v * h + l * s * m - a * d * m,
                      x = l * p * u - f * c * u + f * o * h - a * p * h - l * o * m + a * c * m,
                      _ = f * c * s - l * p * s - f * o * d + a * p * d + l * o * v - a * c * v,
                      b = t * g + n * y + r * x + i * _
                    if (0 === b) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
                    var S = 1 / b
                    return (
                      (e[0] = g * S),
                      (e[1] =
                        (p * d * i - c * v * i - p * r * h + n * v * h + c * r * m - n * d * m) *
                        S),
                      (e[2] =
                        (o * v * i - p * s * i + p * r * u - n * v * u - o * r * m + n * s * m) *
                        S),
                      (e[3] =
                        (c * s * i - o * d * i - c * r * u + n * d * u + o * r * h - n * s * h) *
                        S),
                      (e[4] = y * S),
                      (e[5] =
                        (l * v * i - f * d * i + f * r * h - t * v * h - l * r * m + t * d * m) *
                        S),
                      (e[6] =
                        (f * s * i - a * v * i - f * r * u + t * v * u + a * r * m - t * s * m) *
                        S),
                      (e[7] =
                        (a * d * i - l * s * i + l * r * u - t * d * u - a * r * h + t * s * h) *
                        S),
                      (e[8] = x * S),
                      (e[9] =
                        (f * c * i - l * p * i - f * n * h + t * p * h + l * n * m - t * c * m) *
                        S),
                      (e[10] =
                        (a * p * i - f * o * i + f * n * u - t * p * u - a * n * m + t * o * m) *
                        S),
                      (e[11] =
                        (l * o * i - a * c * i - l * n * u + t * c * u + a * n * h - t * o * h) *
                        S),
                      (e[12] = _ * S),
                      (e[13] =
                        (l * p * r - f * c * r + f * n * d - t * p * d - l * n * v + t * c * v) *
                        S),
                      (e[14] =
                        (f * o * r - a * p * r - f * n * s + t * p * s + a * n * v - t * o * v) *
                        S),
                      (e[15] =
                        (a * c * r - l * o * r + l * n * s - t * c * s - a * n * d + t * o * d) *
                        S),
                      this
                    )
                  },
                },
                {
                  key: 'scale',
                  value: function (e) {
                    var t = this.elements,
                      n = e.x,
                      r = e.y,
                      i = e.z
                    return (
                      (t[0] *= n),
                      (t[4] *= r),
                      (t[8] *= i),
                      (t[1] *= n),
                      (t[5] *= r),
                      (t[9] *= i),
                      (t[2] *= n),
                      (t[6] *= r),
                      (t[10] *= i),
                      (t[3] *= n),
                      (t[7] *= r),
                      (t[11] *= i),
                      this
                    )
                  },
                },
                {
                  key: 'getMaxScaleOnAxis',
                  value: function () {
                    var e = this.elements,
                      t = e[0] * e[0] + e[1] * e[1] + e[2] * e[2],
                      n = e[4] * e[4] + e[5] * e[5] + e[6] * e[6],
                      r = e[8] * e[8] + e[9] * e[9] + e[10] * e[10]
                    return Math.sqrt(Math.max(t, n, r))
                  },
                },
                {
                  key: 'makeTranslation',
                  value: function (e, t, n) {
                    return (
                      e.isVector3
                        ? this.set(1, 0, 0, e.x, 0, 1, 0, e.y, 0, 0, 1, e.z, 0, 0, 0, 1)
                        : this.set(1, 0, 0, e, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1),
                      this
                    )
                  },
                },
                {
                  key: 'makeRotationX',
                  value: function (e) {
                    var t = Math.cos(e),
                      n = Math.sin(e)
                    return (this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'makeRotationY',
                  value: function (e) {
                    var t = Math.cos(e),
                      n = Math.sin(e)
                    return (this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'makeRotationZ',
                  value: function (e) {
                    var t = Math.cos(e),
                      n = Math.sin(e)
                    return (this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'makeRotationAxis',
                  value: function (e, t) {
                    var n = Math.cos(t),
                      r = Math.sin(t),
                      i = 1 - n,
                      a = e.x,
                      o = e.y,
                      s = e.z,
                      u = i * a,
                      l = i * o
                    return (
                      this.set(
                        u * a + n,
                        u * o - r * s,
                        u * s + r * o,
                        0,
                        u * o + r * s,
                        l * o + n,
                        l * s - r * a,
                        0,
                        u * s - r * o,
                        l * s + r * a,
                        i * s * s + n,
                        0,
                        0,
                        0,
                        0,
                        1
                      ),
                      this
                    )
                  },
                },
                {
                  key: 'makeScale',
                  value: function (e, t, n) {
                    return (this.set(e, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'makeShear',
                  value: function (e, t, n, r, i, a) {
                    return (this.set(1, n, i, 0, e, 1, a, 0, t, r, 1, 0, 0, 0, 0, 1), this)
                  },
                },
                {
                  key: 'compose',
                  value: function (e, t, n) {
                    var r = this.elements,
                      i = t._x,
                      a = t._y,
                      o = t._z,
                      s = t._w,
                      u = i + i,
                      l = a + a,
                      c = o + o,
                      d = i * u,
                      h = i * l,
                      f = i * c,
                      p = a * l,
                      v = a * c,
                      m = o * c,
                      g = s * u,
                      y = s * l,
                      x = s * c,
                      _ = n.x,
                      b = n.y,
                      S = n.z
                    return (
                      (r[0] = (1 - (p + m)) * _),
                      (r[1] = (h + x) * _),
                      (r[2] = (f - y) * _),
                      (r[3] = 0),
                      (r[4] = (h - x) * b),
                      (r[5] = (1 - (d + m)) * b),
                      (r[6] = (v + g) * b),
                      (r[7] = 0),
                      (r[8] = (f + y) * S),
                      (r[9] = (v - g) * S),
                      (r[10] = (1 - (d + p)) * S),
                      (r[11] = 0),
                      (r[12] = e.x),
                      (r[13] = e.y),
                      (r[14] = e.z),
                      (r[15] = 1),
                      this
                    )
                  },
                },
                {
                  key: 'decompose',
                  value: function (e, t, n) {
                    var r = this.elements,
                      i = Xd.set(r[0], r[1], r[2]).length(),
                      a = Xd.set(r[4], r[5], r[6]).length(),
                      o = Xd.set(r[8], r[9], r[10]).length()
                    ;(this.determinant() < 0 && (i = -i),
                      (e.x = r[12]),
                      (e.y = r[13]),
                      (e.z = r[14]),
                      Yd.copy(this))
                    var s = 1 / i,
                      u = 1 / a,
                      l = 1 / o
                    return (
                      (Yd.elements[0] *= s),
                      (Yd.elements[1] *= s),
                      (Yd.elements[2] *= s),
                      (Yd.elements[4] *= u),
                      (Yd.elements[5] *= u),
                      (Yd.elements[6] *= u),
                      (Yd.elements[8] *= l),
                      (Yd.elements[9] *= l),
                      (Yd.elements[10] *= l),
                      t.setFromRotationMatrix(Yd),
                      (n.x = i),
                      (n.y = a),
                      (n.z = o),
                      this
                    )
                  },
                },
                {
                  key: 'makePerspective',
                  value: function (e, t, n, r, i, a) {
                    var o,
                      s,
                      u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : Rc,
                      l = this.elements,
                      c = (2 * i) / (t - e),
                      d = (2 * i) / (n - r),
                      h = (t + e) / (t - e),
                      f = (n + r) / (n - r)
                    if (u === Rc) ((o = -(a + i) / (a - i)), (s = (-2 * a * i) / (a - i)))
                    else {
                      if (u !== Ic)
                        throw new Error(
                          'THREE.Matrix4.makePerspective(): Invalid coordinate system: ' + u
                        )
                      ;((o = -a / (a - i)), (s = (-a * i) / (a - i)))
                    }
                    return (
                      (l[0] = c),
                      (l[4] = 0),
                      (l[8] = h),
                      (l[12] = 0),
                      (l[1] = 0),
                      (l[5] = d),
                      (l[9] = f),
                      (l[13] = 0),
                      (l[2] = 0),
                      (l[6] = 0),
                      (l[10] = o),
                      (l[14] = s),
                      (l[3] = 0),
                      (l[7] = 0),
                      (l[11] = -1),
                      (l[15] = 0),
                      this
                    )
                  },
                },
                {
                  key: 'makeOrthographic',
                  value: function (e, t, n, r, i, a) {
                    var o,
                      s,
                      u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : Rc,
                      l = this.elements,
                      c = 1 / (t - e),
                      d = 1 / (n - r),
                      h = 1 / (a - i),
                      f = (t + e) * c,
                      p = (n + r) * d
                    if (u === Rc) ((o = (a + i) * h), (s = -2 * h))
                    else {
                      if (u !== Ic)
                        throw new Error(
                          'THREE.Matrix4.makeOrthographic(): Invalid coordinate system: ' + u
                        )
                      ;((o = i * h), (s = -1 * h))
                    }
                    return (
                      (l[0] = 2 * c),
                      (l[4] = 0),
                      (l[8] = 0),
                      (l[12] = -f),
                      (l[1] = 0),
                      (l[5] = 2 * d),
                      (l[9] = 0),
                      (l[13] = -p),
                      (l[2] = 0),
                      (l[6] = 0),
                      (l[10] = s),
                      (l[14] = -o),
                      (l[3] = 0),
                      (l[7] = 0),
                      (l[11] = 0),
                      (l[15] = 1),
                      this
                    )
                  },
                },
                {
                  key: 'equals',
                  value: function (e) {
                    for (var t = this.elements, n = e.elements, r = 0; r < 16; r++)
                      if (t[r] !== n[r]) return !1
                    return !0
                  },
                },
                {
                  key: 'fromArray',
                  value: function (e) {
                    for (
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = 0;
                      n < 16;
                      n++
                    )
                      this.elements[n] = e[n + t]
                    return this
                  },
                },
                {
                  key: 'toArray',
                  value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                      t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                      n = this.elements
                    return (
                      (e[t] = n[0]),
                      (e[t + 1] = n[1]),
                      (e[t + 2] = n[2]),
                      (e[t + 3] = n[3]),
                      (e[t + 4] = n[4]),
                      (e[t + 5] = n[5]),
                      (e[t + 6] = n[6]),
                      (e[t + 7] = n[7]),
                      (e[t + 8] = n[8]),
                      (e[t + 9] = n[9]),
                      (e[t + 10] = n[10]),
                      (e[t + 11] = n[11]),
                      (e[t + 12] = n[12]),
                      (e[t + 13] = n[13]),
                      (e[t + 14] = n[14]),
                      (e[t + 15] = n[15]),
                      e
                    )
                  },
                },
              ])
            })(),
            Xd = new gd(),
            Yd = new qd(),
            Kd = new gd(0, 0, 0),
            Zd = new gd(1, 1, 1),
            Jd = new gd(),
            $d = new gd(),
            eh = new gd(),
            th = new qd(),
            nh = new md(),
            rh = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : e.DEFAULT_ORDER
                  ;(w(this, e),
                    (this.isEuler = !0),
                    (this._x = t),
                    (this._y = n),
                    (this._z = r),
                    (this._order = i))
                },
                [
                  {
                    key: 'x',
                    get: function () {
                      return this._x
                    },
                    set: function (e) {
                      ;((this._x = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'y',
                    get: function () {
                      return this._y
                    },
                    set: function (e) {
                      ;((this._y = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'z',
                    get: function () {
                      return this._z
                    },
                    set: function (e) {
                      ;((this._z = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'order',
                    get: function () {
                      return this._order
                    },
                    set: function (e) {
                      ;((this._order = e), this._onChangeCallback())
                    },
                  },
                  {
                    key: 'set',
                    value: function (e, t, n) {
                      var r =
                        arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : this._order
                      return (
                        (this._x = e),
                        (this._y = t),
                        (this._z = n),
                        (this._order = r),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this._x, this._y, this._z, this._order)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this._x = e._x),
                        (this._y = e._y),
                        (this._z = e._z),
                        (this._order = e._order),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromRotationMatrix',
                    value: function (e) {
                      var t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : this._order,
                        n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                        r = e.elements,
                        i = r[0],
                        a = r[4],
                        o = r[8],
                        s = r[1],
                        u = r[5],
                        l = r[9],
                        c = r[2],
                        d = r[6],
                        h = r[10]
                      switch (t) {
                        case 'XYZ':
                          ;((this._y = Math.asin(Bc(o, -1, 1))),
                            Math.abs(o) < 0.9999999
                              ? ((this._x = Math.atan2(-l, h)), (this._z = Math.atan2(-a, i)))
                              : ((this._x = Math.atan2(d, u)), (this._z = 0)))
                          break
                        case 'YXZ':
                          ;((this._x = Math.asin(-Bc(l, -1, 1))),
                            Math.abs(l) < 0.9999999
                              ? ((this._y = Math.atan2(o, h)), (this._z = Math.atan2(s, u)))
                              : ((this._y = Math.atan2(-c, i)), (this._z = 0)))
                          break
                        case 'ZXY':
                          ;((this._x = Math.asin(Bc(d, -1, 1))),
                            Math.abs(d) < 0.9999999
                              ? ((this._y = Math.atan2(-c, h)), (this._z = Math.atan2(-a, u)))
                              : ((this._y = 0), (this._z = Math.atan2(s, i))))
                          break
                        case 'ZYX':
                          ;((this._y = Math.asin(-Bc(c, -1, 1))),
                            Math.abs(c) < 0.9999999
                              ? ((this._x = Math.atan2(d, h)), (this._z = Math.atan2(s, i)))
                              : ((this._x = 0), (this._z = Math.atan2(-a, u))))
                          break
                        case 'YZX':
                          ;((this._z = Math.asin(Bc(s, -1, 1))),
                            Math.abs(s) < 0.9999999
                              ? ((this._x = Math.atan2(-l, u)), (this._y = Math.atan2(-c, i)))
                              : ((this._x = 0), (this._y = Math.atan2(o, h))))
                          break
                        case 'XZY':
                          ;((this._z = Math.asin(-Bc(a, -1, 1))),
                            Math.abs(a) < 0.9999999
                              ? ((this._x = Math.atan2(d, u)), (this._y = Math.atan2(o, i)))
                              : ((this._x = Math.atan2(-l, h)), (this._y = 0)))
                          break
                        default:
                          console.warn(
                            'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' +
                              t
                          )
                      }
                      return ((this._order = t), !0 === n && this._onChangeCallback(), this)
                    },
                  },
                  {
                    key: 'setFromQuaternion',
                    value: function (e, t, n) {
                      return (
                        th.makeRotationFromQuaternion(e),
                        this.setFromRotationMatrix(th, t, n)
                      )
                    },
                  },
                  {
                    key: 'setFromVector3',
                    value: function (e) {
                      var t =
                        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._order
                      return this.set(e.x, e.y, e.z, t)
                    },
                  },
                  {
                    key: 'reorder',
                    value: function (e) {
                      return (nh.setFromEuler(this), this.setFromQuaternion(nh, e))
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return (
                        e._x === this._x &&
                        e._y === this._y &&
                        e._z === this._z &&
                        e._order === this._order
                      )
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      return (
                        (this._x = e[0]),
                        (this._y = e[1]),
                        (this._z = e[2]),
                        void 0 !== e[3] && (this._order = e[3]),
                        this._onChangeCallback(),
                        this
                      )
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (
                        (e[t] = this._x),
                        (e[t + 1] = this._y),
                        (e[t + 2] = this._z),
                        (e[t + 3] = this._order),
                        e
                      )
                    },
                  },
                  {
                    key: '_onChange',
                    value: function (e) {
                      return ((this._onChangeCallback = e), this)
                    },
                  },
                  { key: '_onChangeCallback', value: function () {} },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this._x)
                              case 1:
                                return ((e.n = 2), this._y)
                              case 2:
                                return ((e.n = 3), this._z)
                              case 3:
                                return ((e.n = 4), this._order)
                              case 4:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ]
              )
            })()
          rh.DEFAULT_ORDER = 'XYZ'
          var ih = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this.mask = 1))
                },
                [
                  {
                    key: 'set',
                    value: function (e) {
                      this.mask = (1 << e) >>> 0
                    },
                  },
                  {
                    key: 'enable',
                    value: function (e) {
                      this.mask |= 1 << e
                    },
                  },
                  {
                    key: 'enableAll',
                    value: function () {
                      this.mask = -1
                    },
                  },
                  {
                    key: 'toggle',
                    value: function (e) {
                      this.mask ^= 1 << e
                    },
                  },
                  {
                    key: 'disable',
                    value: function (e) {
                      this.mask &= ~(1 << e)
                    },
                  },
                  {
                    key: 'disableAll',
                    value: function () {
                      this.mask = 0
                    },
                  },
                  {
                    key: 'test',
                    value: function (e) {
                      return 0 !== (this.mask & e.mask)
                    },
                  },
                  {
                    key: 'isEnabled',
                    value: function (e) {
                      return !!(this.mask & (1 << e))
                    },
                  },
                ]
              )
            })(),
            ah = 0,
            oh = new gd(),
            sh = new md(),
            uh = new qd(),
            lh = new gd(),
            ch = new gd(),
            dh = new gd(),
            hh = new md(),
            fh = new gd(1, 0, 0),
            ph = new gd(0, 1, 0),
            vh = new gd(0, 0, 1),
            mh = { type: 'added' },
            gh = { type: 'removed' },
            yh = { type: 'childadded', child: null },
            xh = { type: 'childremoved', child: null },
            _h = (function (e) {
              function t() {
                var e
                ;(w(this, t),
                  ((e = y(this, t)).isObject3D = !0),
                  Object.defineProperty(e, 'id', { value: ah++ }),
                  (e.uuid = Fc()),
                  (e.name = ''),
                  (e.type = 'Object3D'),
                  (e.parent = null),
                  (e.children = []),
                  (e.up = t.DEFAULT_UP.clone()))
                var n = new gd(),
                  r = new rh(),
                  i = new md(),
                  a = new gd(1, 1, 1)
                return (
                  r._onChange(function () {
                    i.setFromEuler(r, !1)
                  }),
                  i._onChange(function () {
                    r.setFromQuaternion(i, void 0, !1)
                  }),
                  Object.defineProperties(e, {
                    position: { configurable: !0, enumerable: !0, value: n },
                    rotation: { configurable: !0, enumerable: !0, value: r },
                    quaternion: { configurable: !0, enumerable: !0, value: i },
                    scale: { configurable: !0, enumerable: !0, value: a },
                    modelViewMatrix: { value: new qd() },
                    normalMatrix: { value: new jc() },
                  }),
                  (e.matrix = new qd()),
                  (e.matrixWorld = new qd()),
                  (e.matrixAutoUpdate = t.DEFAULT_MATRIX_AUTO_UPDATE),
                  (e.matrixWorldAutoUpdate = t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE),
                  (e.matrixWorldNeedsUpdate = !1),
                  (e.layers = new ih()),
                  (e.visible = !0),
                  (e.castShadow = !1),
                  (e.receiveShadow = !1),
                  (e.frustumCulled = !0),
                  (e.renderOrder = 0),
                  (e.animations = []),
                  (e.userData = {}),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  { key: 'onBeforeShadow', value: function () {} },
                  { key: 'onAfterShadow', value: function () {} },
                  { key: 'onBeforeRender', value: function () {} },
                  { key: 'onAfterRender', value: function () {} },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      ;(this.matrixAutoUpdate && this.updateMatrix(),
                        this.matrix.premultiply(e),
                        this.matrix.decompose(this.position, this.quaternion, this.scale))
                    },
                  },
                  {
                    key: 'applyQuaternion',
                    value: function (e) {
                      return (this.quaternion.premultiply(e), this)
                    },
                  },
                  {
                    key: 'setRotationFromAxisAngle',
                    value: function (e, t) {
                      this.quaternion.setFromAxisAngle(e, t)
                    },
                  },
                  {
                    key: 'setRotationFromEuler',
                    value: function (e) {
                      this.quaternion.setFromEuler(e, !0)
                    },
                  },
                  {
                    key: 'setRotationFromMatrix',
                    value: function (e) {
                      this.quaternion.setFromRotationMatrix(e)
                    },
                  },
                  {
                    key: 'setRotationFromQuaternion',
                    value: function (e) {
                      this.quaternion.copy(e)
                    },
                  },
                  {
                    key: 'rotateOnAxis',
                    value: function (e, t) {
                      return (sh.setFromAxisAngle(e, t), this.quaternion.multiply(sh), this)
                    },
                  },
                  {
                    key: 'rotateOnWorldAxis',
                    value: function (e, t) {
                      return (sh.setFromAxisAngle(e, t), this.quaternion.premultiply(sh), this)
                    },
                  },
                  {
                    key: 'rotateX',
                    value: function (e) {
                      return this.rotateOnAxis(fh, e)
                    },
                  },
                  {
                    key: 'rotateY',
                    value: function (e) {
                      return this.rotateOnAxis(ph, e)
                    },
                  },
                  {
                    key: 'rotateZ',
                    value: function (e) {
                      return this.rotateOnAxis(vh, e)
                    },
                  },
                  {
                    key: 'translateOnAxis',
                    value: function (e, t) {
                      return (
                        oh.copy(e).applyQuaternion(this.quaternion),
                        this.position.add(oh.multiplyScalar(t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'translateX',
                    value: function (e) {
                      return this.translateOnAxis(fh, e)
                    },
                  },
                  {
                    key: 'translateY',
                    value: function (e) {
                      return this.translateOnAxis(ph, e)
                    },
                  },
                  {
                    key: 'translateZ',
                    value: function (e) {
                      return this.translateOnAxis(vh, e)
                    },
                  },
                  {
                    key: 'localToWorld',
                    value: function (e) {
                      return (this.updateWorldMatrix(!0, !1), e.applyMatrix4(this.matrixWorld))
                    },
                  },
                  {
                    key: 'worldToLocal',
                    value: function (e) {
                      return (
                        this.updateWorldMatrix(!0, !1),
                        e.applyMatrix4(uh.copy(this.matrixWorld).invert())
                      )
                    },
                  },
                  {
                    key: 'lookAt',
                    value: function (e, t, n) {
                      e.isVector3 ? lh.copy(e) : lh.set(e, t, n)
                      var r = this.parent
                      ;(this.updateWorldMatrix(!0, !1),
                        ch.setFromMatrixPosition(this.matrixWorld),
                        this.isCamera || this.isLight
                          ? uh.lookAt(ch, lh, this.up)
                          : uh.lookAt(lh, ch, this.up),
                        this.quaternion.setFromRotationMatrix(uh),
                        r &&
                          (uh.extractRotation(r.matrixWorld),
                          sh.setFromRotationMatrix(uh),
                          this.quaternion.premultiply(sh.invert())))
                    },
                  },
                  {
                    key: 'add',
                    value: function (e) {
                      if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.add(arguments[t])
                        return this
                      }
                      return e === this
                        ? (console.error(
                            "THREE.Object3D.add: object can't be added as a child of itself.",
                            e
                          ),
                          this)
                        : (e && e.isObject3D
                            ? (e.removeFromParent(),
                              (e.parent = this),
                              this.children.push(e),
                              e.dispatchEvent(mh),
                              (yh.child = e),
                              this.dispatchEvent(yh),
                              (yh.child = null))
                            : console.error(
                                'THREE.Object3D.add: object not an instance of THREE.Object3D.',
                                e
                              ),
                          this)
                    },
                  },
                  {
                    key: 'remove',
                    value: function (e) {
                      if (arguments.length > 1) {
                        for (var t = 0; t < arguments.length; t++) this.remove(arguments[t])
                        return this
                      }
                      var n = this.children.indexOf(e)
                      return (
                        -1 !== n &&
                          ((e.parent = null),
                          this.children.splice(n, 1),
                          e.dispatchEvent(gh),
                          (xh.child = e),
                          this.dispatchEvent(xh),
                          (xh.child = null)),
                        this
                      )
                    },
                  },
                  {
                    key: 'removeFromParent',
                    value: function () {
                      var e = this.parent
                      return (null !== e && e.remove(this), this)
                    },
                  },
                  {
                    key: 'clear',
                    value: function () {
                      return this.remove.apply(this, I(this.children))
                    },
                  },
                  {
                    key: 'attach',
                    value: function (e) {
                      return (
                        this.updateWorldMatrix(!0, !1),
                        uh.copy(this.matrixWorld).invert(),
                        null !== e.parent &&
                          (e.parent.updateWorldMatrix(!0, !1), uh.multiply(e.parent.matrixWorld)),
                        e.applyMatrix4(uh),
                        e.removeFromParent(),
                        (e.parent = this),
                        this.children.push(e),
                        e.updateWorldMatrix(!1, !0),
                        e.dispatchEvent(mh),
                        (yh.child = e),
                        this.dispatchEvent(yh),
                        (yh.child = null),
                        this
                      )
                    },
                  },
                  {
                    key: 'getObjectById',
                    value: function (e) {
                      return this.getObjectByProperty('id', e)
                    },
                  },
                  {
                    key: 'getObjectByName',
                    value: function (e) {
                      return this.getObjectByProperty('name', e)
                    },
                  },
                  {
                    key: 'getObjectByProperty',
                    value: function (e, t) {
                      if (this[e] === t) return this
                      for (var n = 0, r = this.children.length; n < r; n++) {
                        var i = this.children[n].getObjectByProperty(e, t)
                        if (void 0 !== i) return i
                      }
                    },
                  },
                  {
                    key: 'getObjectsByProperty',
                    value: function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
                      this[e] === t && n.push(this)
                      for (var r = this.children, i = 0, a = r.length; i < a; i++)
                        r[i].getObjectsByProperty(e, t, n)
                      return n
                    },
                  },
                  {
                    key: 'getWorldPosition',
                    value: function (e) {
                      return (
                        this.updateWorldMatrix(!0, !1),
                        e.setFromMatrixPosition(this.matrixWorld)
                      )
                    },
                  },
                  {
                    key: 'getWorldQuaternion',
                    value: function (e) {
                      return (
                        this.updateWorldMatrix(!0, !1),
                        this.matrixWorld.decompose(ch, e, dh),
                        e
                      )
                    },
                  },
                  {
                    key: 'getWorldScale',
                    value: function (e) {
                      return (
                        this.updateWorldMatrix(!0, !1),
                        this.matrixWorld.decompose(ch, hh, e),
                        e
                      )
                    },
                  },
                  {
                    key: 'getWorldDirection',
                    value: function (e) {
                      this.updateWorldMatrix(!0, !1)
                      var t = this.matrixWorld.elements
                      return e.set(t[8], t[9], t[10]).normalize()
                    },
                  },
                  { key: 'raycast', value: function () {} },
                  {
                    key: 'traverse',
                    value: function (e) {
                      e(this)
                      for (var t = this.children, n = 0, r = t.length; n < r; n++) t[n].traverse(e)
                    },
                  },
                  {
                    key: 'traverseVisible',
                    value: function (e) {
                      if (!1 !== this.visible) {
                        e(this)
                        for (var t = this.children, n = 0, r = t.length; n < r; n++)
                          t[n].traverseVisible(e)
                      }
                    },
                  },
                  {
                    key: 'traverseAncestors',
                    value: function (e) {
                      var t = this.parent
                      null !== t && (e(t), t.traverseAncestors(e))
                    },
                  },
                  {
                    key: 'updateMatrix',
                    value: function () {
                      ;(this.matrix.compose(this.position, this.quaternion, this.scale),
                        (this.matrixWorldNeedsUpdate = !0))
                    },
                  },
                  {
                    key: 'updateMatrixWorld',
                    value: function (e) {
                      ;(this.matrixAutoUpdate && this.updateMatrix(),
                        (this.matrixWorldNeedsUpdate || e) &&
                          (!0 === this.matrixWorldAutoUpdate &&
                            (null === this.parent
                              ? this.matrixWorld.copy(this.matrix)
                              : this.matrixWorld.multiplyMatrices(
                                  this.parent.matrixWorld,
                                  this.matrix
                                )),
                          (this.matrixWorldNeedsUpdate = !1),
                          (e = !0)))
                      for (var t = this.children, n = 0, r = t.length; n < r; n++) {
                        t[n].updateMatrixWorld(e)
                      }
                    },
                  },
                  {
                    key: 'updateWorldMatrix',
                    value: function (e, t) {
                      var n = this.parent
                      if (
                        (!0 === e && null !== n && n.updateWorldMatrix(!0, !1),
                        this.matrixAutoUpdate && this.updateMatrix(),
                        !0 === this.matrixWorldAutoUpdate &&
                          (null === this.parent
                            ? this.matrixWorld.copy(this.matrix)
                            : this.matrixWorld.multiplyMatrices(
                                this.parent.matrixWorld,
                                this.matrix
                              )),
                        !0 === t)
                      )
                        for (var r = this.children, i = 0, a = r.length; i < a; i++) {
                          r[i].updateWorldMatrix(!1, !0)
                        }
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var t = void 0 === e || 'string' == typeof e,
                        n = {}
                      t &&
                        ((e = {
                          geometries: {},
                          materials: {},
                          textures: {},
                          images: {},
                          shapes: {},
                          skeletons: {},
                          animations: {},
                          nodes: {},
                        }),
                        (n.metadata = {
                          version: 4.6,
                          type: 'Object',
                          generator: 'Object3D.toJSON',
                        }))
                      var r = {}
                      function i(t, n) {
                        return (void 0 === t[n.uuid] && (t[n.uuid] = n.toJSON(e)), n.uuid)
                      }
                      if (
                        ((r.uuid = this.uuid),
                        (r.type = this.type),
                        '' !== this.name && (r.name = this.name),
                        !0 === this.castShadow && (r.castShadow = !0),
                        !0 === this.receiveShadow && (r.receiveShadow = !0),
                        !1 === this.visible && (r.visible = !1),
                        !1 === this.frustumCulled && (r.frustumCulled = !1),
                        0 !== this.renderOrder && (r.renderOrder = this.renderOrder),
                        Object.keys(this.userData).length > 0 && (r.userData = this.userData),
                        (r.layers = this.layers.mask),
                        (r.matrix = this.matrix.toArray()),
                        (r.up = this.up.toArray()),
                        !1 === this.matrixAutoUpdate && (r.matrixAutoUpdate = !1),
                        this.isInstancedMesh &&
                          ((r.type = 'InstancedMesh'),
                          (r.count = this.count),
                          (r.instanceMatrix = this.instanceMatrix.toJSON()),
                          null !== this.instanceColor &&
                            (r.instanceColor = this.instanceColor.toJSON())),
                        this.isBatchedMesh &&
                          ((r.type = 'BatchedMesh'),
                          (r.perObjectFrustumCulled = this.perObjectFrustumCulled),
                          (r.sortObjects = this.sortObjects),
                          (r.drawRanges = this._drawRanges),
                          (r.reservedRanges = this._reservedRanges),
                          (r.visibility = this._visibility),
                          (r.active = this._active),
                          (r.bounds = this._bounds.map(function (e) {
                            return {
                              boxInitialized: e.boxInitialized,
                              boxMin: e.box.min.toArray(),
                              boxMax: e.box.max.toArray(),
                              sphereInitialized: e.sphereInitialized,
                              sphereRadius: e.sphere.radius,
                              sphereCenter: e.sphere.center.toArray(),
                            }
                          })),
                          (r.maxInstanceCount = this._maxInstanceCount),
                          (r.maxVertexCount = this._maxVertexCount),
                          (r.maxIndexCount = this._maxIndexCount),
                          (r.geometryInitialized = this._geometryInitialized),
                          (r.geometryCount = this._geometryCount),
                          (r.matricesTexture = this._matricesTexture.toJSON(e)),
                          null !== this._colorsTexture &&
                            (r.colorsTexture = this._colorsTexture.toJSON(e)),
                          null !== this.boundingSphere &&
                            (r.boundingSphere = {
                              center: r.boundingSphere.center.toArray(),
                              radius: r.boundingSphere.radius,
                            }),
                          null !== this.boundingBox &&
                            (r.boundingBox = {
                              min: r.boundingBox.min.toArray(),
                              max: r.boundingBox.max.toArray(),
                            })),
                        this.isScene)
                      )
                        (this.background &&
                          (this.background.isColor
                            ? (r.background = this.background.toJSON())
                            : this.background.isTexture &&
                              (r.background = this.background.toJSON(e).uuid)),
                          this.environment &&
                            this.environment.isTexture &&
                            !0 !== this.environment.isRenderTargetTexture &&
                            (r.environment = this.environment.toJSON(e).uuid))
                      else if (this.isMesh || this.isLine || this.isPoints) {
                        r.geometry = i(e.geometries, this.geometry)
                        var a = this.geometry.parameters
                        if (void 0 !== a && void 0 !== a.shapes) {
                          var o = a.shapes
                          if (Array.isArray(o))
                            for (var s = 0, u = o.length; s < u; s++) {
                              var l = o[s]
                              i(e.shapes, l)
                            }
                          else i(e.shapes, o)
                        }
                      }
                      if (
                        (this.isSkinnedMesh &&
                          ((r.bindMode = this.bindMode),
                          (r.bindMatrix = this.bindMatrix.toArray()),
                          void 0 !== this.skeleton &&
                            (i(e.skeletons, this.skeleton), (r.skeleton = this.skeleton.uuid))),
                        void 0 !== this.material)
                      )
                        if (Array.isArray(this.material)) {
                          for (var c = [], d = 0, h = this.material.length; d < h; d++)
                            c.push(i(e.materials, this.material[d]))
                          r.material = c
                        } else r.material = i(e.materials, this.material)
                      if (this.children.length > 0) {
                        r.children = []
                        for (var f = 0; f < this.children.length; f++)
                          r.children.push(this.children[f].toJSON(e).object)
                      }
                      if (this.animations.length > 0) {
                        r.animations = []
                        for (var p = 0; p < this.animations.length; p++) {
                          var v = this.animations[p]
                          r.animations.push(i(e.animations, v))
                        }
                      }
                      if (t) {
                        var m = A(e.geometries),
                          g = A(e.materials),
                          y = A(e.textures),
                          x = A(e.images),
                          _ = A(e.shapes),
                          b = A(e.skeletons),
                          S = A(e.animations),
                          w = A(e.nodes)
                        ;(m.length > 0 && (n.geometries = m),
                          g.length > 0 && (n.materials = g),
                          y.length > 0 && (n.textures = y),
                          x.length > 0 && (n.images = x),
                          _.length > 0 && (n.shapes = _),
                          b.length > 0 && (n.skeletons = b),
                          S.length > 0 && (n.animations = S),
                          w.length > 0 && (n.nodes = w))
                      }
                      return ((n.object = r), n)
                      function A(e) {
                        var t = []
                        for (var n in e) {
                          var r = e[n]
                          ;(delete r.metadata, t.push(r))
                        }
                        return t
                      }
                    },
                  },
                  {
                    key: 'clone',
                    value: function (e) {
                      return new this.constructor().copy(this, e)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      if (
                        ((this.name = e.name),
                        this.up.copy(e.up),
                        this.position.copy(e.position),
                        (this.rotation.order = e.rotation.order),
                        this.quaternion.copy(e.quaternion),
                        this.scale.copy(e.scale),
                        this.matrix.copy(e.matrix),
                        this.matrixWorld.copy(e.matrixWorld),
                        (this.matrixAutoUpdate = e.matrixAutoUpdate),
                        (this.matrixWorldAutoUpdate = e.matrixWorldAutoUpdate),
                        (this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate),
                        (this.layers.mask = e.layers.mask),
                        (this.visible = e.visible),
                        (this.castShadow = e.castShadow),
                        (this.receiveShadow = e.receiveShadow),
                        (this.frustumCulled = e.frustumCulled),
                        (this.renderOrder = e.renderOrder),
                        (this.animations = e.animations.slice()),
                        (this.userData = JSON.parse(JSON.stringify(e.userData))),
                        !0 === t)
                      )
                        for (var n = 0; n < e.children.length; n++) {
                          var r = e.children[n]
                          this.add(r.clone())
                        }
                      return this
                    },
                  },
                ])
              )
            })(Nc)
          ;((_h.DEFAULT_UP = new gd(0, 1, 0)),
            (_h.DEFAULT_MATRIX_AUTO_UPDATE = !0),
            (_h.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = !0))
          var bh = new gd(),
            Sh = new gd(),
            wh = new gd(),
            Ah = new gd(),
            Th = new gd(),
            Mh = new gd(),
            Eh = new gd(),
            Ch = new gd(),
            kh = new gd(),
            Rh = new gd(),
            Ih = new dd(),
            Nh = new dd(),
            Ph = new dd(),
            Lh = (function () {
              function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new gd(),
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new gd(),
                  r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new gd()
                ;(w(this, e), (this.a = t), (this.b = n), (this.c = r))
              }
              return T(
                e,
                [
                  {
                    key: 'set',
                    value: function (e, t, n) {
                      return (this.a.copy(e), this.b.copy(t), this.c.copy(n), this)
                    },
                  },
                  {
                    key: 'setFromPointsAndIndices',
                    value: function (e, t, n, r) {
                      return (this.a.copy(e[t]), this.b.copy(e[n]), this.c.copy(e[r]), this)
                    },
                  },
                  {
                    key: 'setFromAttributeAndIndices',
                    value: function (e, t, n, r) {
                      return (
                        this.a.fromBufferAttribute(e, t),
                        this.b.fromBufferAttribute(e, n),
                        this.c.fromBufferAttribute(e, r),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this)
                    },
                  },
                  {
                    key: 'getArea',
                    value: function () {
                      return (
                        bh.subVectors(this.c, this.b),
                        Sh.subVectors(this.a, this.b),
                        0.5 * bh.cross(Sh).length()
                      )
                    },
                  },
                  {
                    key: 'getMidpoint',
                    value: function (e) {
                      return e
                        .addVectors(this.a, this.b)
                        .add(this.c)
                        .multiplyScalar(1 / 3)
                    },
                  },
                  {
                    key: 'getNormal',
                    value: function (t) {
                      return e.getNormal(this.a, this.b, this.c, t)
                    },
                  },
                  {
                    key: 'getPlane',
                    value: function (e) {
                      return e.setFromCoplanarPoints(this.a, this.b, this.c)
                    },
                  },
                  {
                    key: 'getBarycoord',
                    value: function (t, n) {
                      return e.getBarycoord(t, this.a, this.b, this.c, n)
                    },
                  },
                  {
                    key: 'getInterpolation',
                    value: function (t, n, r, i, a) {
                      return e.getInterpolation(t, this.a, this.b, this.c, n, r, i, a)
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (t) {
                      return e.containsPoint(t, this.a, this.b, this.c)
                    },
                  },
                  {
                    key: 'isFrontFacing',
                    value: function (t) {
                      return e.isFrontFacing(this.a, this.b, this.c, t)
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      return e.intersectsTriangle(this)
                    },
                  },
                  {
                    key: 'closestPointToPoint',
                    value: function (e, t) {
                      var n,
                        r,
                        i = this.a,
                        a = this.b,
                        o = this.c
                      ;(Th.subVectors(a, i), Mh.subVectors(o, i), Ch.subVectors(e, i))
                      var s = Th.dot(Ch),
                        u = Mh.dot(Ch)
                      if (s <= 0 && u <= 0) return t.copy(i)
                      kh.subVectors(e, a)
                      var l = Th.dot(kh),
                        c = Mh.dot(kh)
                      if (l >= 0 && c <= l) return t.copy(a)
                      var d = s * c - l * u
                      if (d <= 0 && s >= 0 && l <= 0)
                        return ((n = s / (s - l)), t.copy(i).addScaledVector(Th, n))
                      Rh.subVectors(e, o)
                      var h = Th.dot(Rh),
                        f = Mh.dot(Rh)
                      if (f >= 0 && h <= f) return t.copy(o)
                      var p = h * u - s * f
                      if (p <= 0 && u >= 0 && f <= 0)
                        return ((r = u / (u - f)), t.copy(i).addScaledVector(Mh, r))
                      var v = l * f - h * c
                      if (v <= 0 && c - l >= 0 && h - f >= 0)
                        return (
                          Eh.subVectors(o, a),
                          (r = (c - l) / (c - l + (h - f))),
                          t.copy(a).addScaledVector(Eh, r)
                        )
                      var m = 1 / (v + p + d)
                      return (
                        (n = p * m),
                        (r = d * m),
                        t.copy(i).addScaledVector(Th, n).addScaledVector(Mh, r)
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c)
                    },
                  },
                ],
                [
                  {
                    key: 'getNormal',
                    value: function (e, t, n, r) {
                      ;(r.subVectors(n, t), bh.subVectors(e, t), r.cross(bh))
                      var i = r.lengthSq()
                      return i > 0 ? r.multiplyScalar(1 / Math.sqrt(i)) : r.set(0, 0, 0)
                    },
                  },
                  {
                    key: 'getBarycoord',
                    value: function (e, t, n, r, i) {
                      ;(bh.subVectors(r, t), Sh.subVectors(n, t), wh.subVectors(e, t))
                      var a = bh.dot(bh),
                        o = bh.dot(Sh),
                        s = bh.dot(wh),
                        u = Sh.dot(Sh),
                        l = Sh.dot(wh),
                        c = a * u - o * o
                      if (0 === c) return (i.set(0, 0, 0), null)
                      var d = 1 / c,
                        h = (u * s - o * l) * d,
                        f = (a * l - o * s) * d
                      return i.set(1 - h - f, f, h)
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (e, t, n, r) {
                      return (
                        null !== this.getBarycoord(e, t, n, r, Ah) &&
                        Ah.x >= 0 &&
                        Ah.y >= 0 &&
                        Ah.x + Ah.y <= 1
                      )
                    },
                  },
                  {
                    key: 'getInterpolation',
                    value: function (e, t, n, r, i, a, o, s) {
                      return null === this.getBarycoord(e, t, n, r, Ah)
                        ? ((s.x = 0), (s.y = 0), 'z' in s && (s.z = 0), 'w' in s && (s.w = 0), null)
                        : (s.setScalar(0),
                          s.addScaledVector(i, Ah.x),
                          s.addScaledVector(a, Ah.y),
                          s.addScaledVector(o, Ah.z),
                          s)
                    },
                  },
                  {
                    key: 'getInterpolatedAttribute',
                    value: function (e, t, n, r, i, a) {
                      return (
                        Ih.setScalar(0),
                        Nh.setScalar(0),
                        Ph.setScalar(0),
                        Ih.fromBufferAttribute(e, t),
                        Nh.fromBufferAttribute(e, n),
                        Ph.fromBufferAttribute(e, r),
                        a.setScalar(0),
                        a.addScaledVector(Ih, i.x),
                        a.addScaledVector(Nh, i.y),
                        a.addScaledVector(Ph, i.z),
                        a
                      )
                    },
                  },
                  {
                    key: 'isFrontFacing',
                    value: function (e, t, n, r) {
                      return (bh.subVectors(n, t), Sh.subVectors(e, t), bh.cross(Sh).dot(r) < 0)
                    },
                  },
                ]
              )
            })(),
            Dh = {
              aliceblue: 15792383,
              antiquewhite: 16444375,
              aqua: 65535,
              aquamarine: 8388564,
              azure: 15794175,
              beige: 16119260,
              bisque: 16770244,
              black: 0,
              blanchedalmond: 16772045,
              blue: 255,
              blueviolet: 9055202,
              brown: 10824234,
              burlywood: 14596231,
              cadetblue: 6266528,
              chartreuse: 8388352,
              chocolate: 13789470,
              coral: 16744272,
              cornflowerblue: 6591981,
              cornsilk: 16775388,
              crimson: 14423100,
              cyan: 65535,
              darkblue: 139,
              darkcyan: 35723,
              darkgoldenrod: 12092939,
              darkgray: 11119017,
              darkgreen: 25600,
              darkgrey: 11119017,
              darkkhaki: 12433259,
              darkmagenta: 9109643,
              darkolivegreen: 5597999,
              darkorange: 16747520,
              darkorchid: 10040012,
              darkred: 9109504,
              darksalmon: 15308410,
              darkseagreen: 9419919,
              darkslateblue: 4734347,
              darkslategray: 3100495,
              darkslategrey: 3100495,
              darkturquoise: 52945,
              darkviolet: 9699539,
              deeppink: 16716947,
              deepskyblue: 49151,
              dimgray: 6908265,
              dimgrey: 6908265,
              dodgerblue: 2003199,
              firebrick: 11674146,
              floralwhite: 16775920,
              forestgreen: 2263842,
              fuchsia: 16711935,
              gainsboro: 14474460,
              ghostwhite: 16316671,
              gold: 16766720,
              goldenrod: 14329120,
              gray: 8421504,
              green: 32768,
              greenyellow: 11403055,
              grey: 8421504,
              honeydew: 15794160,
              hotpink: 16738740,
              indianred: 13458524,
              indigo: 4915330,
              ivory: 16777200,
              khaki: 15787660,
              lavender: 15132410,
              lavenderblush: 16773365,
              lawngreen: 8190976,
              lemonchiffon: 16775885,
              lightblue: 11393254,
              lightcoral: 15761536,
              lightcyan: 14745599,
              lightgoldenrodyellow: 16448210,
              lightgray: 13882323,
              lightgreen: 9498256,
              lightgrey: 13882323,
              lightpink: 16758465,
              lightsalmon: 16752762,
              lightseagreen: 2142890,
              lightskyblue: 8900346,
              lightslategray: 7833753,
              lightslategrey: 7833753,
              lightsteelblue: 11584734,
              lightyellow: 16777184,
              lime: 65280,
              limegreen: 3329330,
              linen: 16445670,
              magenta: 16711935,
              maroon: 8388608,
              mediumaquamarine: 6737322,
              mediumblue: 205,
              mediumorchid: 12211667,
              mediumpurple: 9662683,
              mediumseagreen: 3978097,
              mediumslateblue: 8087790,
              mediumspringgreen: 64154,
              mediumturquoise: 4772300,
              mediumvioletred: 13047173,
              midnightblue: 1644912,
              mintcream: 16121850,
              mistyrose: 16770273,
              moccasin: 16770229,
              navajowhite: 16768685,
              navy: 128,
              oldlace: 16643558,
              olive: 8421376,
              olivedrab: 7048739,
              orange: 16753920,
              orangered: 16729344,
              orchid: 14315734,
              palegoldenrod: 15657130,
              palegreen: 10025880,
              paleturquoise: 11529966,
              palevioletred: 14381203,
              papayawhip: 16773077,
              peachpuff: 16767673,
              peru: 13468991,
              pink: 16761035,
              plum: 14524637,
              powderblue: 11591910,
              purple: 8388736,
              rebeccapurple: 6697881,
              red: 16711680,
              rosybrown: 12357519,
              royalblue: 4286945,
              saddlebrown: 9127187,
              salmon: 16416882,
              sandybrown: 16032864,
              seagreen: 3050327,
              seashell: 16774638,
              sienna: 10506797,
              silver: 12632256,
              skyblue: 8900331,
              slateblue: 6970061,
              slategray: 7372944,
              slategrey: 7372944,
              snow: 16775930,
              springgreen: 65407,
              steelblue: 4620980,
              tan: 13808780,
              teal: 32896,
              thistle: 14204888,
              tomato: 16737095,
              turquoise: 4251856,
              violet: 15631086,
              wheat: 16113331,
              white: 16777215,
              whitesmoke: 16119285,
              yellow: 16776960,
              yellowgreen: 10145074,
            },
            Oh = { h: 0, s: 0, l: 0 },
            Fh = { h: 0, s: 0, l: 0 }
          function Bh(e, t, n) {
            return (
              n < 0 && (n += 1),
              n > 1 && (n -= 1),
              n < 1 / 6
                ? e + 6 * (t - e) * n
                : n < 0.5
                  ? t
                  : n < 2 / 3
                    ? e + 6 * (t - e) * (2 / 3 - n)
                    : e
            )
          }
          var Uh = (function () {
              return T(
                function e(t, n, r) {
                  return (
                    w(this, e),
                    (this.isColor = !0),
                    (this.r = 1),
                    (this.g = 1),
                    (this.b = 1),
                    this.set(t, n, r)
                  )
                },
                [
                  {
                    key: 'set',
                    value: function (e, t, n) {
                      if (void 0 === t && void 0 === n) {
                        var r = e
                        r && r.isColor
                          ? this.copy(r)
                          : 'number' == typeof r
                            ? this.setHex(r)
                            : 'string' == typeof r && this.setStyle(r)
                      } else this.setRGB(e, t, n)
                      return this
                    },
                  },
                  {
                    key: 'setScalar',
                    value: function (e) {
                      return ((this.r = e), (this.g = e), (this.b = e), this)
                    },
                  },
                  {
                    key: 'setHex',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Sc
                      return (
                        (e = Math.floor(e)),
                        (this.r = ((e >> 16) & 255) / 255),
                        (this.g = ((e >> 8) & 255) / 255),
                        (this.b = (255 & e) / 255),
                        nd.toWorkingColorSpace(this, t),
                        this
                      )
                    },
                  },
                  {
                    key: 'setRGB',
                    value: function (e, t, n) {
                      var r =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : nd.workingColorSpace
                      return (
                        (this.r = e),
                        (this.g = t),
                        (this.b = n),
                        nd.toWorkingColorSpace(this, r),
                        this
                      )
                    },
                  },
                  {
                    key: 'setHSL',
                    value: function (e, t, n) {
                      var r =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : nd.workingColorSpace
                      if (((e = Uc(e, 1)), (t = Bc(t, 0, 1)), (n = Bc(n, 0, 1)), 0 === t))
                        this.r = this.g = this.b = n
                      else {
                        var i = n <= 0.5 ? n * (1 + t) : n + t - n * t,
                          a = 2 * n - i
                        ;((this.r = Bh(a, i, e + 1 / 3)),
                          (this.g = Bh(a, i, e)),
                          (this.b = Bh(a, i, e - 1 / 3)))
                      }
                      return (nd.toWorkingColorSpace(this, r), this)
                    },
                  },
                  {
                    key: 'setStyle',
                    value: function (e) {
                      var t,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Sc
                      function r(t) {
                        void 0 !== t &&
                          parseFloat(t) < 1 &&
                          console.warn('THREE.Color: Alpha component of ' + e + ' will be ignored.')
                      }
                      if ((t = /^(\w+)\(([^\)]*)\)/.exec(e))) {
                        var i,
                          a = t[1],
                          o = t[2]
                        switch (a) {
                          case 'rgb':
                          case 'rgba':
                            if (
                              (i =
                                /^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(
                                  o
                                ))
                            )
                              return (
                                r(i[4]),
                                this.setRGB(
                                  Math.min(255, parseInt(i[1], 10)) / 255,
                                  Math.min(255, parseInt(i[2], 10)) / 255,
                                  Math.min(255, parseInt(i[3], 10)) / 255,
                                  n
                                )
                              )
                            if (
                              (i =
                                /^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(
                                  o
                                ))
                            )
                              return (
                                r(i[4]),
                                this.setRGB(
                                  Math.min(100, parseInt(i[1], 10)) / 100,
                                  Math.min(100, parseInt(i[2], 10)) / 100,
                                  Math.min(100, parseInt(i[3], 10)) / 100,
                                  n
                                )
                              )
                            break
                          case 'hsl':
                          case 'hsla':
                            if (
                              (i =
                                /^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(
                                  o
                                ))
                            )
                              return (
                                r(i[4]),
                                this.setHSL(
                                  parseFloat(i[1]) / 360,
                                  parseFloat(i[2]) / 100,
                                  parseFloat(i[3]) / 100,
                                  n
                                )
                              )
                            break
                          default:
                            console.warn('THREE.Color: Unknown color model ' + e)
                        }
                      } else if ((t = /^\#([A-Fa-f\d]+)$/.exec(e))) {
                        var s = t[1],
                          u = s.length
                        if (3 === u)
                          return this.setRGB(
                            parseInt(s.charAt(0), 16) / 15,
                            parseInt(s.charAt(1), 16) / 15,
                            parseInt(s.charAt(2), 16) / 15,
                            n
                          )
                        if (6 === u) return this.setHex(parseInt(s, 16), n)
                        console.warn('THREE.Color: Invalid hex color ' + e)
                      } else if (e && e.length > 0) return this.setColorName(e, n)
                      return this
                    },
                  },
                  {
                    key: 'setColorName',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Sc,
                        n = Dh[e.toLowerCase()]
                      return (
                        void 0 !== n
                          ? this.setHex(n, t)
                          : console.warn('THREE.Color: Unknown color ' + e),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this.r, this.g, this.b)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return ((this.r = e.r), (this.g = e.g), (this.b = e.b), this)
                    },
                  },
                  {
                    key: 'copySRGBToLinear',
                    value: function (e) {
                      return ((this.r = rd(e.r)), (this.g = rd(e.g)), (this.b = rd(e.b)), this)
                    },
                  },
                  {
                    key: 'copyLinearToSRGB',
                    value: function (e) {
                      return ((this.r = id(e.r)), (this.g = id(e.g)), (this.b = id(e.b)), this)
                    },
                  },
                  {
                    key: 'convertSRGBToLinear',
                    value: function () {
                      return (this.copySRGBToLinear(this), this)
                    },
                  },
                  {
                    key: 'convertLinearToSRGB',
                    value: function () {
                      return (this.copyLinearToSRGB(this), this)
                    },
                  },
                  {
                    key: 'getHex',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Sc
                      return (
                        nd.fromWorkingColorSpace(zh.copy(this), e),
                        65536 * Math.round(Bc(255 * zh.r, 0, 255)) +
                          256 * Math.round(Bc(255 * zh.g, 0, 255)) +
                          Math.round(Bc(255 * zh.b, 0, 255))
                      )
                    },
                  },
                  {
                    key: 'getHexString',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Sc
                      return ('000000' + this.getHex(e).toString(16)).slice(-6)
                    },
                  },
                  {
                    key: 'getHSL',
                    value: function (e) {
                      var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : nd.workingColorSpace
                      nd.fromWorkingColorSpace(zh.copy(this), t)
                      var n,
                        r,
                        i = zh.r,
                        a = zh.g,
                        o = zh.b,
                        s = Math.max(i, a, o),
                        u = Math.min(i, a, o),
                        l = (u + s) / 2
                      if (u === s) ((n = 0), (r = 0))
                      else {
                        var c = s - u
                        switch (((r = l <= 0.5 ? c / (s + u) : c / (2 - s - u)), s)) {
                          case i:
                            n = (a - o) / c + (a < o ? 6 : 0)
                            break
                          case a:
                            n = (o - i) / c + 2
                            break
                          case o:
                            n = (i - a) / c + 4
                        }
                        n /= 6
                      }
                      return ((e.h = n), (e.s = r), (e.l = l), e)
                    },
                  },
                  {
                    key: 'getRGB',
                    value: function (e) {
                      var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : nd.workingColorSpace
                      return (
                        nd.fromWorkingColorSpace(zh.copy(this), t),
                        (e.r = zh.r),
                        (e.g = zh.g),
                        (e.b = zh.b),
                        e
                      )
                    },
                  },
                  {
                    key: 'getStyle',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Sc
                      nd.fromWorkingColorSpace(zh.copy(this), e)
                      var t = zh.r,
                        n = zh.g,
                        r = zh.b
                      return e !== Sc
                        ? 'color('
                            .concat(e, ' ')
                            .concat(t.toFixed(3), ' ')
                            .concat(n.toFixed(3), ' ')
                            .concat(r.toFixed(3), ')')
                        : 'rgb('
                            .concat(Math.round(255 * t), ',')
                            .concat(Math.round(255 * n), ',')
                            .concat(Math.round(255 * r), ')')
                    },
                  },
                  {
                    key: 'offsetHSL',
                    value: function (e, t, n) {
                      return (this.getHSL(Oh), this.setHSL(Oh.h + e, Oh.s + t, Oh.l + n))
                    },
                  },
                  {
                    key: 'add',
                    value: function (e) {
                      return ((this.r += e.r), (this.g += e.g), (this.b += e.b), this)
                    },
                  },
                  {
                    key: 'addColors',
                    value: function (e, t) {
                      return (
                        (this.r = e.r + t.r),
                        (this.g = e.g + t.g),
                        (this.b = e.b + t.b),
                        this
                      )
                    },
                  },
                  {
                    key: 'addScalar',
                    value: function (e) {
                      return ((this.r += e), (this.g += e), (this.b += e), this)
                    },
                  },
                  {
                    key: 'sub',
                    value: function (e) {
                      return (
                        (this.r = Math.max(0, this.r - e.r)),
                        (this.g = Math.max(0, this.g - e.g)),
                        (this.b = Math.max(0, this.b - e.b)),
                        this
                      )
                    },
                  },
                  {
                    key: 'multiply',
                    value: function (e) {
                      return ((this.r *= e.r), (this.g *= e.g), (this.b *= e.b), this)
                    },
                  },
                  {
                    key: 'multiplyScalar',
                    value: function (e) {
                      return ((this.r *= e), (this.g *= e), (this.b *= e), this)
                    },
                  },
                  {
                    key: 'lerp',
                    value: function (e, t) {
                      return (
                        (this.r += (e.r - this.r) * t),
                        (this.g += (e.g - this.g) * t),
                        (this.b += (e.b - this.b) * t),
                        this
                      )
                    },
                  },
                  {
                    key: 'lerpColors',
                    value: function (e, t, n) {
                      return (
                        (this.r = e.r + (t.r - e.r) * n),
                        (this.g = e.g + (t.g - e.g) * n),
                        (this.b = e.b + (t.b - e.b) * n),
                        this
                      )
                    },
                  },
                  {
                    key: 'lerpHSL',
                    value: function (e, t) {
                      ;(this.getHSL(Oh), e.getHSL(Fh))
                      var n = zc(Oh.h, Fh.h, t),
                        r = zc(Oh.s, Fh.s, t),
                        i = zc(Oh.l, Fh.l, t)
                      return (this.setHSL(n, r, i), this)
                    },
                  },
                  {
                    key: 'setFromVector3',
                    value: function (e) {
                      return ((this.r = e.x), (this.g = e.y), (this.b = e.z), this)
                    },
                  },
                  {
                    key: 'applyMatrix3',
                    value: function (e) {
                      var t = this.r,
                        n = this.g,
                        r = this.b,
                        i = e.elements
                      return (
                        (this.r = i[0] * t + i[3] * n + i[6] * r),
                        (this.g = i[1] * t + i[4] * n + i[7] * r),
                        (this.b = i[2] * t + i[5] * n + i[8] * r),
                        this
                      )
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.r === this.r && e.g === this.g && e.b === this.b
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((this.r = e[t]), (this.g = e[t + 1]), (this.b = e[t + 2]), this)
                    },
                  },
                  {
                    key: 'toArray',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return ((e[t] = this.r), (e[t + 1] = this.g), (e[t + 2] = this.b), e)
                    },
                  },
                  {
                    key: 'fromBufferAttribute',
                    value: function (e, t) {
                      return (
                        (this.r = e.getX(t)),
                        (this.g = e.getY(t)),
                        (this.b = e.getZ(t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      return this.getHex()
                    },
                  },
                  {
                    key: Symbol.iterator,
                    value: h().m(function e() {
                      return h().w(
                        function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((e.n = 1), this.r)
                              case 1:
                                return ((e.n = 2), this.g)
                              case 2:
                                return ((e.n = 3), this.b)
                              case 3:
                                return e.a(2)
                            }
                        },
                        e,
                        this
                      )
                    }),
                  },
                ]
              )
            })(),
            zh = new Uh()
          Uh.NAMES = Dh
          var Vh = 0,
            Hh = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isMaterial = !0),
                  Object.defineProperty(e, 'id', { value: Vh++ }),
                  (e.uuid = Fc()),
                  (e.name = ''),
                  (e.type = 'Material'),
                  (e.blending = 1),
                  (e.side = 0),
                  (e.vertexColors = !1),
                  (e.opacity = 1),
                  (e.transparent = !1),
                  (e.alphaHash = !1),
                  (e.blendSrc = tl),
                  (e.blendDst = nl),
                  (e.blendEquation = el),
                  (e.blendSrcAlpha = null),
                  (e.blendDstAlpha = null),
                  (e.blendEquationAlpha = null),
                  (e.blendColor = new Uh(0, 0, 0)),
                  (e.blendAlpha = 0),
                  (e.depthFunc = 3),
                  (e.depthTest = !0),
                  (e.depthWrite = !0),
                  (e.stencilWriteMask = 255),
                  (e.stencilFunc = 519),
                  (e.stencilRef = 0),
                  (e.stencilFuncMask = 255),
                  (e.stencilFail = Mc),
                  (e.stencilZFail = Mc),
                  (e.stencilZPass = Mc),
                  (e.stencilWrite = !1),
                  (e.clippingPlanes = null),
                  (e.clipIntersection = !1),
                  (e.clipShadows = !1),
                  (e.shadowSide = null),
                  (e.colorWrite = !0),
                  (e.precision = null),
                  (e.polygonOffset = !1),
                  (e.polygonOffsetFactor = 0),
                  (e.polygonOffsetUnits = 0),
                  (e.dithering = !1),
                  (e.alphaToCoverage = !1),
                  (e.premultipliedAlpha = !1),
                  (e.forceSinglePass = !1),
                  (e.visible = !0),
                  (e.toneMapped = !0),
                  (e.userData = {}),
                  (e.version = 0),
                  (e._alphaTest = 0),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'alphaTest',
                    get: function () {
                      return this._alphaTest
                    },
                    set: function (e) {
                      ;(this._alphaTest > 0 != e > 0 && this.version++, (this._alphaTest = e))
                    },
                  },
                  { key: 'onBeforeRender', value: function () {} },
                  { key: 'onBeforeCompile', value: function () {} },
                  {
                    key: 'customProgramCacheKey',
                    value: function () {
                      return this.onBeforeCompile.toString()
                    },
                  },
                  {
                    key: 'setValues',
                    value: function (e) {
                      if (void 0 !== e)
                        for (var t in e) {
                          var n = e[t]
                          if (void 0 !== n) {
                            var r = this[t]
                            void 0 !== r
                              ? r && r.isColor
                                ? r.set(n)
                                : r && r.isVector3 && n && n.isVector3
                                  ? r.copy(n)
                                  : (this[t] = n)
                              : console.warn(
                                  "THREE.Material: '"
                                    .concat(t, "' is not a property of THREE.")
                                    .concat(this.type, '.')
                                )
                          } else
                            console.warn(
                              "THREE.Material: parameter '".concat(t, "' has value of undefined.")
                            )
                        }
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var t = void 0 === e || 'string' == typeof e
                      t && (e = { textures: {}, images: {} })
                      var n = {
                        metadata: { version: 4.6, type: 'Material', generator: 'Material.toJSON' },
                      }
                      function r(e) {
                        var t = []
                        for (var n in e) {
                          var r = e[n]
                          ;(delete r.metadata, t.push(r))
                        }
                        return t
                      }
                      if (
                        ((n.uuid = this.uuid),
                        (n.type = this.type),
                        '' !== this.name && (n.name = this.name),
                        this.color && this.color.isColor && (n.color = this.color.getHex()),
                        void 0 !== this.roughness && (n.roughness = this.roughness),
                        void 0 !== this.metalness && (n.metalness = this.metalness),
                        void 0 !== this.sheen && (n.sheen = this.sheen),
                        this.sheenColor &&
                          this.sheenColor.isColor &&
                          (n.sheenColor = this.sheenColor.getHex()),
                        void 0 !== this.sheenRoughness && (n.sheenRoughness = this.sheenRoughness),
                        this.emissive &&
                          this.emissive.isColor &&
                          (n.emissive = this.emissive.getHex()),
                        void 0 !== this.emissiveIntensity &&
                          1 !== this.emissiveIntensity &&
                          (n.emissiveIntensity = this.emissiveIntensity),
                        this.specular &&
                          this.specular.isColor &&
                          (n.specular = this.specular.getHex()),
                        void 0 !== this.specularIntensity &&
                          (n.specularIntensity = this.specularIntensity),
                        this.specularColor &&
                          this.specularColor.isColor &&
                          (n.specularColor = this.specularColor.getHex()),
                        void 0 !== this.shininess && (n.shininess = this.shininess),
                        void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat),
                        void 0 !== this.clearcoatRoughness &&
                          (n.clearcoatRoughness = this.clearcoatRoughness),
                        this.clearcoatMap &&
                          this.clearcoatMap.isTexture &&
                          (n.clearcoatMap = this.clearcoatMap.toJSON(e).uuid),
                        this.clearcoatRoughnessMap &&
                          this.clearcoatRoughnessMap.isTexture &&
                          (n.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(e).uuid),
                        this.clearcoatNormalMap &&
                          this.clearcoatNormalMap.isTexture &&
                          ((n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(e).uuid),
                          (n.clearcoatNormalScale = this.clearcoatNormalScale.toArray())),
                        void 0 !== this.dispersion && (n.dispersion = this.dispersion),
                        void 0 !== this.iridescence && (n.iridescence = this.iridescence),
                        void 0 !== this.iridescenceIOR && (n.iridescenceIOR = this.iridescenceIOR),
                        void 0 !== this.iridescenceThicknessRange &&
                          (n.iridescenceThicknessRange = this.iridescenceThicknessRange),
                        this.iridescenceMap &&
                          this.iridescenceMap.isTexture &&
                          (n.iridescenceMap = this.iridescenceMap.toJSON(e).uuid),
                        this.iridescenceThicknessMap &&
                          this.iridescenceThicknessMap.isTexture &&
                          (n.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(e).uuid),
                        void 0 !== this.anisotropy && (n.anisotropy = this.anisotropy),
                        void 0 !== this.anisotropyRotation &&
                          (n.anisotropyRotation = this.anisotropyRotation),
                        this.anisotropyMap &&
                          this.anisotropyMap.isTexture &&
                          (n.anisotropyMap = this.anisotropyMap.toJSON(e).uuid),
                        this.map && this.map.isTexture && (n.map = this.map.toJSON(e).uuid),
                        this.matcap &&
                          this.matcap.isTexture &&
                          (n.matcap = this.matcap.toJSON(e).uuid),
                        this.alphaMap &&
                          this.alphaMap.isTexture &&
                          (n.alphaMap = this.alphaMap.toJSON(e).uuid),
                        this.lightMap &&
                          this.lightMap.isTexture &&
                          ((n.lightMap = this.lightMap.toJSON(e).uuid),
                          (n.lightMapIntensity = this.lightMapIntensity)),
                        this.aoMap &&
                          this.aoMap.isTexture &&
                          ((n.aoMap = this.aoMap.toJSON(e).uuid),
                          (n.aoMapIntensity = this.aoMapIntensity)),
                        this.bumpMap &&
                          this.bumpMap.isTexture &&
                          ((n.bumpMap = this.bumpMap.toJSON(e).uuid),
                          (n.bumpScale = this.bumpScale)),
                        this.normalMap &&
                          this.normalMap.isTexture &&
                          ((n.normalMap = this.normalMap.toJSON(e).uuid),
                          (n.normalMapType = this.normalMapType),
                          (n.normalScale = this.normalScale.toArray())),
                        this.displacementMap &&
                          this.displacementMap.isTexture &&
                          ((n.displacementMap = this.displacementMap.toJSON(e).uuid),
                          (n.displacementScale = this.displacementScale),
                          (n.displacementBias = this.displacementBias)),
                        this.roughnessMap &&
                          this.roughnessMap.isTexture &&
                          (n.roughnessMap = this.roughnessMap.toJSON(e).uuid),
                        this.metalnessMap &&
                          this.metalnessMap.isTexture &&
                          (n.metalnessMap = this.metalnessMap.toJSON(e).uuid),
                        this.emissiveMap &&
                          this.emissiveMap.isTexture &&
                          (n.emissiveMap = this.emissiveMap.toJSON(e).uuid),
                        this.specularMap &&
                          this.specularMap.isTexture &&
                          (n.specularMap = this.specularMap.toJSON(e).uuid),
                        this.specularIntensityMap &&
                          this.specularIntensityMap.isTexture &&
                          (n.specularIntensityMap = this.specularIntensityMap.toJSON(e).uuid),
                        this.specularColorMap &&
                          this.specularColorMap.isTexture &&
                          (n.specularColorMap = this.specularColorMap.toJSON(e).uuid),
                        this.envMap &&
                          this.envMap.isTexture &&
                          ((n.envMap = this.envMap.toJSON(e).uuid),
                          void 0 !== this.combine && (n.combine = this.combine)),
                        void 0 !== this.envMapRotation &&
                          (n.envMapRotation = this.envMapRotation.toArray()),
                        void 0 !== this.envMapIntensity &&
                          (n.envMapIntensity = this.envMapIntensity),
                        void 0 !== this.reflectivity && (n.reflectivity = this.reflectivity),
                        void 0 !== this.refractionRatio &&
                          (n.refractionRatio = this.refractionRatio),
                        this.gradientMap &&
                          this.gradientMap.isTexture &&
                          (n.gradientMap = this.gradientMap.toJSON(e).uuid),
                        void 0 !== this.transmission && (n.transmission = this.transmission),
                        this.transmissionMap &&
                          this.transmissionMap.isTexture &&
                          (n.transmissionMap = this.transmissionMap.toJSON(e).uuid),
                        void 0 !== this.thickness && (n.thickness = this.thickness),
                        this.thicknessMap &&
                          this.thicknessMap.isTexture &&
                          (n.thicknessMap = this.thicknessMap.toJSON(e).uuid),
                        void 0 !== this.attenuationDistance &&
                          this.attenuationDistance !== 1 / 0 &&
                          (n.attenuationDistance = this.attenuationDistance),
                        void 0 !== this.attenuationColor &&
                          (n.attenuationColor = this.attenuationColor.getHex()),
                        void 0 !== this.size && (n.size = this.size),
                        null !== this.shadowSide && (n.shadowSide = this.shadowSide),
                        void 0 !== this.sizeAttenuation &&
                          (n.sizeAttenuation = this.sizeAttenuation),
                        1 !== this.blending && (n.blending = this.blending),
                        0 !== this.side && (n.side = this.side),
                        !0 === this.vertexColors && (n.vertexColors = !0),
                        this.opacity < 1 && (n.opacity = this.opacity),
                        !0 === this.transparent && (n.transparent = !0),
                        this.blendSrc !== tl && (n.blendSrc = this.blendSrc),
                        this.blendDst !== nl && (n.blendDst = this.blendDst),
                        this.blendEquation !== el && (n.blendEquation = this.blendEquation),
                        null !== this.blendSrcAlpha && (n.blendSrcAlpha = this.blendSrcAlpha),
                        null !== this.blendDstAlpha && (n.blendDstAlpha = this.blendDstAlpha),
                        null !== this.blendEquationAlpha &&
                          (n.blendEquationAlpha = this.blendEquationAlpha),
                        this.blendColor &&
                          this.blendColor.isColor &&
                          (n.blendColor = this.blendColor.getHex()),
                        0 !== this.blendAlpha && (n.blendAlpha = this.blendAlpha),
                        3 !== this.depthFunc && (n.depthFunc = this.depthFunc),
                        !1 === this.depthTest && (n.depthTest = this.depthTest),
                        !1 === this.depthWrite && (n.depthWrite = this.depthWrite),
                        !1 === this.colorWrite && (n.colorWrite = this.colorWrite),
                        255 !== this.stencilWriteMask &&
                          (n.stencilWriteMask = this.stencilWriteMask),
                        519 !== this.stencilFunc && (n.stencilFunc = this.stencilFunc),
                        0 !== this.stencilRef && (n.stencilRef = this.stencilRef),
                        255 !== this.stencilFuncMask && (n.stencilFuncMask = this.stencilFuncMask),
                        this.stencilFail !== Mc && (n.stencilFail = this.stencilFail),
                        this.stencilZFail !== Mc && (n.stencilZFail = this.stencilZFail),
                        this.stencilZPass !== Mc && (n.stencilZPass = this.stencilZPass),
                        !0 === this.stencilWrite && (n.stencilWrite = this.stencilWrite),
                        void 0 !== this.rotation &&
                          0 !== this.rotation &&
                          (n.rotation = this.rotation),
                        !0 === this.polygonOffset && (n.polygonOffset = !0),
                        0 !== this.polygonOffsetFactor &&
                          (n.polygonOffsetFactor = this.polygonOffsetFactor),
                        0 !== this.polygonOffsetUnits &&
                          (n.polygonOffsetUnits = this.polygonOffsetUnits),
                        void 0 !== this.linewidth &&
                          1 !== this.linewidth &&
                          (n.linewidth = this.linewidth),
                        void 0 !== this.dashSize && (n.dashSize = this.dashSize),
                        void 0 !== this.gapSize && (n.gapSize = this.gapSize),
                        void 0 !== this.scale && (n.scale = this.scale),
                        !0 === this.dithering && (n.dithering = !0),
                        this.alphaTest > 0 && (n.alphaTest = this.alphaTest),
                        !0 === this.alphaHash && (n.alphaHash = !0),
                        !0 === this.alphaToCoverage && (n.alphaToCoverage = !0),
                        !0 === this.premultipliedAlpha && (n.premultipliedAlpha = !0),
                        !0 === this.forceSinglePass && (n.forceSinglePass = !0),
                        !0 === this.wireframe && (n.wireframe = !0),
                        this.wireframeLinewidth > 1 &&
                          (n.wireframeLinewidth = this.wireframeLinewidth),
                        'round' !== this.wireframeLinecap &&
                          (n.wireframeLinecap = this.wireframeLinecap),
                        'round' !== this.wireframeLinejoin &&
                          (n.wireframeLinejoin = this.wireframeLinejoin),
                        !0 === this.flatShading && (n.flatShading = !0),
                        !1 === this.visible && (n.visible = !1),
                        !1 === this.toneMapped && (n.toneMapped = !1),
                        !1 === this.fog && (n.fog = !1),
                        Object.keys(this.userData).length > 0 && (n.userData = this.userData),
                        t)
                      ) {
                        var i = r(e.textures),
                          a = r(e.images)
                        ;(i.length > 0 && (n.textures = i), a.length > 0 && (n.images = a))
                      }
                      return n
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      ;((this.name = e.name),
                        (this.blending = e.blending),
                        (this.side = e.side),
                        (this.vertexColors = e.vertexColors),
                        (this.opacity = e.opacity),
                        (this.transparent = e.transparent),
                        (this.blendSrc = e.blendSrc),
                        (this.blendDst = e.blendDst),
                        (this.blendEquation = e.blendEquation),
                        (this.blendSrcAlpha = e.blendSrcAlpha),
                        (this.blendDstAlpha = e.blendDstAlpha),
                        (this.blendEquationAlpha = e.blendEquationAlpha),
                        this.blendColor.copy(e.blendColor),
                        (this.blendAlpha = e.blendAlpha),
                        (this.depthFunc = e.depthFunc),
                        (this.depthTest = e.depthTest),
                        (this.depthWrite = e.depthWrite),
                        (this.stencilWriteMask = e.stencilWriteMask),
                        (this.stencilFunc = e.stencilFunc),
                        (this.stencilRef = e.stencilRef),
                        (this.stencilFuncMask = e.stencilFuncMask),
                        (this.stencilFail = e.stencilFail),
                        (this.stencilZFail = e.stencilZFail),
                        (this.stencilZPass = e.stencilZPass),
                        (this.stencilWrite = e.stencilWrite))
                      var t = e.clippingPlanes,
                        n = null
                      if (null !== t) {
                        var r = t.length
                        n = new Array(r)
                        for (var i = 0; i !== r; ++i) n[i] = t[i].clone()
                      }
                      return (
                        (this.clippingPlanes = n),
                        (this.clipIntersection = e.clipIntersection),
                        (this.clipShadows = e.clipShadows),
                        (this.shadowSide = e.shadowSide),
                        (this.colorWrite = e.colorWrite),
                        (this.precision = e.precision),
                        (this.polygonOffset = e.polygonOffset),
                        (this.polygonOffsetFactor = e.polygonOffsetFactor),
                        (this.polygonOffsetUnits = e.polygonOffsetUnits),
                        (this.dithering = e.dithering),
                        (this.alphaTest = e.alphaTest),
                        (this.alphaHash = e.alphaHash),
                        (this.alphaToCoverage = e.alphaToCoverage),
                        (this.premultipliedAlpha = e.premultipliedAlpha),
                        (this.forceSinglePass = e.forceSinglePass),
                        (this.visible = e.visible),
                        (this.toneMapped = e.toneMapped),
                        (this.userData = JSON.parse(JSON.stringify(e.userData))),
                        this
                      )
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.dispatchEvent({ type: 'dispose' })
                    },
                  },
                  {
                    key: 'needsUpdate',
                    set: function (e) {
                      !0 === e && this.version++
                    },
                  },
                  {
                    key: 'onBuild',
                    value: function () {
                      console.warn('Material: onBuild() has been removed.')
                    },
                  },
                ])
              )
            })(Nc),
            Wh = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isMeshBasicMaterial = !0),
                  (n.type = 'MeshBasicMaterial'),
                  (n.color = new Uh(16777215)),
                  (n.map = null),
                  (n.lightMap = null),
                  (n.lightMapIntensity = 1),
                  (n.aoMap = null),
                  (n.aoMapIntensity = 1),
                  (n.specularMap = null),
                  (n.alphaMap = null),
                  (n.envMap = null),
                  (n.envMapRotation = new rh()),
                  (n.combine = 0),
                  (n.reflectivity = 1),
                  (n.refractionRatio = 0.98),
                  (n.wireframe = !1),
                  (n.wireframeLinewidth = 1),
                  (n.wireframeLinecap = 'round'),
                  (n.wireframeLinejoin = 'round'),
                  (n.fog = !0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        this.color.copy(e.color),
                        (this.map = e.map),
                        (this.lightMap = e.lightMap),
                        (this.lightMapIntensity = e.lightMapIntensity),
                        (this.aoMap = e.aoMap),
                        (this.aoMapIntensity = e.aoMapIntensity),
                        (this.specularMap = e.specularMap),
                        (this.alphaMap = e.alphaMap),
                        (this.envMap = e.envMap),
                        this.envMapRotation.copy(e.envMapRotation),
                        (this.combine = e.combine),
                        (this.reflectivity = e.reflectivity),
                        (this.refractionRatio = e.refractionRatio),
                        (this.wireframe = e.wireframe),
                        (this.wireframeLinewidth = e.wireframeLinewidth),
                        (this.wireframeLinecap = e.wireframeLinecap),
                        (this.wireframeLinejoin = e.wireframeLinejoin),
                        (this.fog = e.fog),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh),
            Gh = jh()
          function jh() {
            for (
              var e = new ArrayBuffer(4),
                t = new Float32Array(e),
                n = new Uint32Array(e),
                r = new Uint32Array(512),
                i = new Uint32Array(512),
                a = 0;
              a < 256;
              ++a
            ) {
              var o = a - 127
              o < -27
                ? ((r[a] = 0), (r[256 | a] = 32768), (i[a] = 24), (i[256 | a] = 24))
                : o < -14
                  ? ((r[a] = 1024 >> (-o - 14)),
                    (r[256 | a] = (1024 >> (-o - 14)) | 32768),
                    (i[a] = -o - 1),
                    (i[256 | a] = -o - 1))
                  : o <= 15
                    ? ((r[a] = (o + 15) << 10),
                      (r[256 | a] = ((o + 15) << 10) | 32768),
                      (i[a] = 13),
                      (i[256 | a] = 13))
                    : o < 128
                      ? ((r[a] = 31744), (r[256 | a] = 64512), (i[a] = 24), (i[256 | a] = 24))
                      : ((r[a] = 31744), (r[256 | a] = 64512), (i[a] = 13), (i[256 | a] = 13))
            }
            for (
              var s = new Uint32Array(2048),
                u = new Uint32Array(64),
                l = new Uint32Array(64),
                c = 1;
              c < 1024;
              ++c
            ) {
              for (var d = c << 13, h = 0; !(8388608 & d); ) ((d <<= 1), (h -= 8388608))
              ;((d &= -8388609), (h += 947912704), (s[c] = d | h))
            }
            for (var f = 1024; f < 2048; ++f) s[f] = 939524096 + ((f - 1024) << 13)
            for (var p = 1; p < 31; ++p) u[p] = p << 23
            ;((u[31] = 1199570944), (u[32] = 2147483648))
            for (var v = 33; v < 63; ++v) u[v] = 2147483648 + ((v - 32) << 23)
            u[63] = 3347054592
            for (var m = 1; m < 64; ++m) 32 !== m && (l[m] = 1024)
            return {
              floatView: t,
              uint32View: n,
              baseTable: r,
              shiftTable: i,
              mantissaTable: s,
              exponentTable: u,
              offsetTable: l,
            }
          }
          var Qh = {
              toHalfFloat: function (e) {
                ;(Math.abs(e) > 65504 &&
                  console.warn('THREE.DataUtils.toHalfFloat(): Value out of range.'),
                  (e = Bc(e, -65504, 65504)),
                  (Gh.floatView[0] = e))
                var t = Gh.uint32View[0],
                  n = (t >> 23) & 511
                return Gh.baseTable[n] + ((8388607 & t) >> Gh.shiftTable[n])
              },
              fromHalfFloat: function (e) {
                var t = e >> 10
                return (
                  (Gh.uint32View[0] =
                    Gh.mantissaTable[Gh.offsetTable[t] + (1023 & e)] + Gh.exponentTable[t]),
                  Gh.floatView[0]
                )
              },
            },
            qh = new gd(),
            Xh = new Gc(),
            Yh = 0,
            Kh = (function () {
              return T(
                function e(t, n) {
                  var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  if ((w(this, e), Array.isArray(t)))
                    throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.')
                  ;((this.isBufferAttribute = !0),
                    Object.defineProperty(this, 'id', { value: Yh++ }),
                    (this.name = ''),
                    (this.array = t),
                    (this.itemSize = n),
                    (this.count = void 0 !== t ? t.length / n : 0),
                    (this.normalized = r),
                    (this.usage = Ec),
                    (this.updateRanges = []),
                    (this.gpuType = bl),
                    (this.version = 0))
                },
                [
                  { key: 'onUploadCallback', value: function () {} },
                  {
                    key: 'needsUpdate',
                    set: function (e) {
                      !0 === e && this.version++
                    },
                  },
                  {
                    key: 'setUsage',
                    value: function (e) {
                      return ((this.usage = e), this)
                    },
                  },
                  {
                    key: 'addUpdateRange',
                    value: function (e, t) {
                      this.updateRanges.push({ start: e, count: t })
                    },
                  },
                  {
                    key: 'clearUpdateRanges',
                    value: function () {
                      this.updateRanges.length = 0
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.name = e.name),
                        (this.array = new e.array.constructor(e.array)),
                        (this.itemSize = e.itemSize),
                        (this.count = e.count),
                        (this.normalized = e.normalized),
                        (this.usage = e.usage),
                        (this.gpuType = e.gpuType),
                        this
                      )
                    },
                  },
                  {
                    key: 'copyAt',
                    value: function (e, t, n) {
                      ;((e *= this.itemSize), (n *= t.itemSize))
                      for (var r = 0, i = this.itemSize; r < i; r++)
                        this.array[e + r] = t.array[n + r]
                      return this
                    },
                  },
                  {
                    key: 'copyArray',
                    value: function (e) {
                      return (this.array.set(e), this)
                    },
                  },
                  {
                    key: 'applyMatrix3',
                    value: function (e) {
                      if (2 === this.itemSize)
                        for (var t = 0, n = this.count; t < n; t++)
                          (Xh.fromBufferAttribute(this, t),
                            Xh.applyMatrix3(e),
                            this.setXY(t, Xh.x, Xh.y))
                      else if (3 === this.itemSize)
                        for (var r = 0, i = this.count; r < i; r++)
                          (qh.fromBufferAttribute(this, r),
                            qh.applyMatrix3(e),
                            this.setXYZ(r, qh.x, qh.y, qh.z))
                      return this
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      for (var t = 0, n = this.count; t < n; t++)
                        (qh.fromBufferAttribute(this, t),
                          qh.applyMatrix4(e),
                          this.setXYZ(t, qh.x, qh.y, qh.z))
                      return this
                    },
                  },
                  {
                    key: 'applyNormalMatrix',
                    value: function (e) {
                      for (var t = 0, n = this.count; t < n; t++)
                        (qh.fromBufferAttribute(this, t),
                          qh.applyNormalMatrix(e),
                          this.setXYZ(t, qh.x, qh.y, qh.z))
                      return this
                    },
                  },
                  {
                    key: 'transformDirection',
                    value: function (e) {
                      for (var t = 0, n = this.count; t < n; t++)
                        (qh.fromBufferAttribute(this, t),
                          qh.transformDirection(e),
                          this.setXYZ(t, qh.x, qh.y, qh.z))
                      return this
                    },
                  },
                  {
                    key: 'set',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (this.array.set(e, t), this)
                    },
                  },
                  {
                    key: 'getComponent',
                    value: function (e, t) {
                      var n = this.array[e * this.itemSize + t]
                      return (this.normalized && (n = Vc(n, this.array)), n)
                    },
                  },
                  {
                    key: 'setComponent',
                    value: function (e, t, n) {
                      return (
                        this.normalized && (n = Hc(n, this.array)),
                        (this.array[e * this.itemSize + t] = n),
                        this
                      )
                    },
                  },
                  {
                    key: 'getX',
                    value: function (e) {
                      var t = this.array[e * this.itemSize]
                      return (this.normalized && (t = Vc(t, this.array)), t)
                    },
                  },
                  {
                    key: 'setX',
                    value: function (e, t) {
                      return (
                        this.normalized && (t = Hc(t, this.array)),
                        (this.array[e * this.itemSize] = t),
                        this
                      )
                    },
                  },
                  {
                    key: 'getY',
                    value: function (e) {
                      var t = this.array[e * this.itemSize + 1]
                      return (this.normalized && (t = Vc(t, this.array)), t)
                    },
                  },
                  {
                    key: 'setY',
                    value: function (e, t) {
                      return (
                        this.normalized && (t = Hc(t, this.array)),
                        (this.array[e * this.itemSize + 1] = t),
                        this
                      )
                    },
                  },
                  {
                    key: 'getZ',
                    value: function (e) {
                      var t = this.array[e * this.itemSize + 2]
                      return (this.normalized && (t = Vc(t, this.array)), t)
                    },
                  },
                  {
                    key: 'setZ',
                    value: function (e, t) {
                      return (
                        this.normalized && (t = Hc(t, this.array)),
                        (this.array[e * this.itemSize + 2] = t),
                        this
                      )
                    },
                  },
                  {
                    key: 'getW',
                    value: function (e) {
                      var t = this.array[e * this.itemSize + 3]
                      return (this.normalized && (t = Vc(t, this.array)), t)
                    },
                  },
                  {
                    key: 'setW',
                    value: function (e, t) {
                      return (
                        this.normalized && (t = Hc(t, this.array)),
                        (this.array[e * this.itemSize + 3] = t),
                        this
                      )
                    },
                  },
                  {
                    key: 'setXY',
                    value: function (e, t, n) {
                      return (
                        (e *= this.itemSize),
                        this.normalized && ((t = Hc(t, this.array)), (n = Hc(n, this.array))),
                        (this.array[e + 0] = t),
                        (this.array[e + 1] = n),
                        this
                      )
                    },
                  },
                  {
                    key: 'setXYZ',
                    value: function (e, t, n, r) {
                      return (
                        (e *= this.itemSize),
                        this.normalized &&
                          ((t = Hc(t, this.array)),
                          (n = Hc(n, this.array)),
                          (r = Hc(r, this.array))),
                        (this.array[e + 0] = t),
                        (this.array[e + 1] = n),
                        (this.array[e + 2] = r),
                        this
                      )
                    },
                  },
                  {
                    key: 'setXYZW',
                    value: function (e, t, n, r, i) {
                      return (
                        (e *= this.itemSize),
                        this.normalized &&
                          ((t = Hc(t, this.array)),
                          (n = Hc(n, this.array)),
                          (r = Hc(r, this.array)),
                          (i = Hc(i, this.array))),
                        (this.array[e + 0] = t),
                        (this.array[e + 1] = n),
                        (this.array[e + 2] = r),
                        (this.array[e + 3] = i),
                        this
                      )
                    },
                  },
                  {
                    key: 'onUpload',
                    value: function (e) {
                      return ((this.onUploadCallback = e), this)
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor(this.array, this.itemSize).copy(this)
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      var e = {
                        itemSize: this.itemSize,
                        type: this.array.constructor.name,
                        array: Array.from(this.array),
                        normalized: this.normalized,
                      }
                      return (
                        '' !== this.name && (e.name = this.name),
                        this.usage !== Ec && (e.usage = this.usage),
                        e
                      )
                    },
                  },
                ]
              )
            })(),
            Zh = (function (e) {
              function t(e, n, r) {
                return (w(this, t), y(this, t, [new Uint16Array(e), n, r]))
              }
              return (b(t, e), T(t))
            })(Kh),
            Jh = (function (e) {
              function t(e, n, r) {
                return (w(this, t), y(this, t, [new Uint32Array(e), n, r]))
              }
              return (b(t, e), T(t))
            })(Kh),
            $h = (function (e) {
              function t(e, n, r) {
                return (w(this, t), y(this, t, [new Float32Array(e), n, r]))
              }
              return (b(t, e), T(t))
            })(Kh),
            ef = 0,
            tf = new qd(),
            nf = new _h(),
            rf = new gd(),
            af = new _d(),
            of = new _d(),
            sf = new gd(),
            uf = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isBufferGeometry = !0),
                  Object.defineProperty(e, 'id', { value: ef++ }),
                  (e.uuid = Fc()),
                  (e.name = ''),
                  (e.type = 'BufferGeometry'),
                  (e.index = null),
                  (e.indirect = null),
                  (e.attributes = {}),
                  (e.morphAttributes = {}),
                  (e.morphTargetsRelative = !1),
                  (e.groups = []),
                  (e.boundingBox = null),
                  (e.boundingSphere = null),
                  (e.drawRange = { start: 0, count: 1 / 0 }),
                  (e.userData = {}),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'getIndex',
                    value: function () {
                      return this.index
                    },
                  },
                  {
                    key: 'setIndex',
                    value: function (e) {
                      return (
                        Array.isArray(e)
                          ? (this.index = new (qc(e) ? Jh : Zh)(e, 1))
                          : (this.index = e),
                        this
                      )
                    },
                  },
                  {
                    key: 'setIndirect',
                    value: function (e) {
                      return ((this.indirect = e), this)
                    },
                  },
                  {
                    key: 'getIndirect',
                    value: function () {
                      return this.indirect
                    },
                  },
                  {
                    key: 'getAttribute',
                    value: function (e) {
                      return this.attributes[e]
                    },
                  },
                  {
                    key: 'setAttribute',
                    value: function (e, t) {
                      return ((this.attributes[e] = t), this)
                    },
                  },
                  {
                    key: 'deleteAttribute',
                    value: function (e) {
                      return (delete this.attributes[e], this)
                    },
                  },
                  {
                    key: 'hasAttribute',
                    value: function (e) {
                      return void 0 !== this.attributes[e]
                    },
                  },
                  {
                    key: 'addGroup',
                    value: function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      this.groups.push({ start: e, count: t, materialIndex: n })
                    },
                  },
                  {
                    key: 'clearGroups',
                    value: function () {
                      this.groups = []
                    },
                  },
                  {
                    key: 'setDrawRange',
                    value: function (e, t) {
                      ;((this.drawRange.start = e), (this.drawRange.count = t))
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e) {
                      var t = this.attributes.position
                      void 0 !== t && (t.applyMatrix4(e), (t.needsUpdate = !0))
                      var n = this.attributes.normal
                      if (void 0 !== n) {
                        var r = new jc().getNormalMatrix(e)
                        ;(n.applyNormalMatrix(r), (n.needsUpdate = !0))
                      }
                      var i = this.attributes.tangent
                      return (
                        void 0 !== i && (i.transformDirection(e), (i.needsUpdate = !0)),
                        null !== this.boundingBox && this.computeBoundingBox(),
                        null !== this.boundingSphere && this.computeBoundingSphere(),
                        this
                      )
                    },
                  },
                  {
                    key: 'applyQuaternion',
                    value: function (e) {
                      return (tf.makeRotationFromQuaternion(e), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'rotateX',
                    value: function (e) {
                      return (tf.makeRotationX(e), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'rotateY',
                    value: function (e) {
                      return (tf.makeRotationY(e), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'rotateZ',
                    value: function (e) {
                      return (tf.makeRotationZ(e), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'translate',
                    value: function (e, t, n) {
                      return (tf.makeTranslation(e, t, n), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'scale',
                    value: function (e, t, n) {
                      return (tf.makeScale(e, t, n), this.applyMatrix4(tf), this)
                    },
                  },
                  {
                    key: 'lookAt',
                    value: function (e) {
                      return (nf.lookAt(e), nf.updateMatrix(), this.applyMatrix4(nf.matrix), this)
                    },
                  },
                  {
                    key: 'center',
                    value: function () {
                      return (
                        this.computeBoundingBox(),
                        this.boundingBox.getCenter(rf).negate(),
                        this.translate(rf.x, rf.y, rf.z),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFromPoints',
                    value: function (e) {
                      var t = this.getAttribute('position')
                      if (void 0 === t) {
                        for (var n = [], r = 0, i = e.length; r < i; r++) {
                          var a = e[r]
                          n.push(a.x, a.y, a.z || 0)
                        }
                        this.setAttribute('position', new $h(n, 3))
                      } else {
                        for (var o = Math.min(e.length, t.count), s = 0; s < o; s++) {
                          var u = e[s]
                          t.setXYZ(s, u.x, u.y, u.z || 0)
                        }
                        ;(e.length > t.count &&
                          console.warn(
                            'THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry.'
                          ),
                          (t.needsUpdate = !0))
                      }
                      return this
                    },
                  },
                  {
                    key: 'computeBoundingBox',
                    value: function () {
                      null === this.boundingBox && (this.boundingBox = new _d())
                      var e = this.attributes.position,
                        t = this.morphAttributes.position
                      if (e && e.isGLBufferAttribute)
                        return (
                          console.error(
                            'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.',
                            this
                          ),
                          void this.boundingBox.set(
                            new gd(-1 / 0, -1 / 0, -1 / 0),
                            new gd(1 / 0, 1 / 0, 1 / 0)
                          )
                        )
                      if (void 0 !== e) {
                        if ((this.boundingBox.setFromBufferAttribute(e), t))
                          for (var n = 0, r = t.length; n < r; n++) {
                            var i = t[n]
                            ;(af.setFromBufferAttribute(i),
                              this.morphTargetsRelative
                                ? (sf.addVectors(this.boundingBox.min, af.min),
                                  this.boundingBox.expandByPoint(sf),
                                  sf.addVectors(this.boundingBox.max, af.max),
                                  this.boundingBox.expandByPoint(sf))
                                : (this.boundingBox.expandByPoint(af.min),
                                  this.boundingBox.expandByPoint(af.max)))
                          }
                      } else this.boundingBox.makeEmpty()
                      ;(isNaN(this.boundingBox.min.x) ||
                        isNaN(this.boundingBox.min.y) ||
                        isNaN(this.boundingBox.min.z)) &&
                        console.error(
                          'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',
                          this
                        )
                    },
                  },
                  {
                    key: 'computeBoundingSphere',
                    value: function () {
                      null === this.boundingSphere && (this.boundingSphere = new Bd())
                      var e = this.attributes.position,
                        t = this.morphAttributes.position
                      if (e && e.isGLBufferAttribute)
                        return (
                          console.error(
                            'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.',
                            this
                          ),
                          void this.boundingSphere.set(new gd(), 1 / 0)
                        )
                      if (e) {
                        var n = this.boundingSphere.center
                        if ((af.setFromBufferAttribute(e), t))
                          for (var r = 0, i = t.length; r < i; r++) {
                            var a = t[r]
                            ;(of.setFromBufferAttribute(a),
                              this.morphTargetsRelative
                                ? (sf.addVectors(af.min, of.min),
                                  af.expandByPoint(sf),
                                  sf.addVectors(af.max, of.max),
                                  af.expandByPoint(sf))
                                : (af.expandByPoint(of.min), af.expandByPoint(of.max)))
                          }
                        af.getCenter(n)
                        for (var o = 0, s = 0, u = e.count; s < u; s++)
                          (sf.fromBufferAttribute(e, s), (o = Math.max(o, n.distanceToSquared(sf))))
                        if (t)
                          for (var l = 0, c = t.length; l < c; l++)
                            for (
                              var d = t[l], h = this.morphTargetsRelative, f = 0, p = d.count;
                              f < p;
                              f++
                            )
                              (sf.fromBufferAttribute(d, f),
                                h && (rf.fromBufferAttribute(e, f), sf.add(rf)),
                                (o = Math.max(o, n.distanceToSquared(sf))))
                        ;((this.boundingSphere.radius = Math.sqrt(o)),
                          isNaN(this.boundingSphere.radius) &&
                            console.error(
                              'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',
                              this
                            ))
                      }
                    },
                  },
                  {
                    key: 'computeTangents',
                    value: function () {
                      var e = this.index,
                        t = this.attributes
                      if (
                        null !== e &&
                        void 0 !== t.position &&
                        void 0 !== t.normal &&
                        void 0 !== t.uv
                      ) {
                        var n = t.position,
                          r = t.normal,
                          i = t.uv
                        !1 === this.hasAttribute('tangent') &&
                          this.setAttribute('tangent', new Kh(new Float32Array(4 * n.count), 4))
                        for (
                          var a = this.getAttribute('tangent'), o = [], s = [], u = 0;
                          u < n.count;
                          u++
                        )
                          ((o[u] = new gd()), (s[u] = new gd()))
                        var l = new gd(),
                          c = new gd(),
                          d = new gd(),
                          h = new Gc(),
                          f = new Gc(),
                          p = new Gc(),
                          v = new gd(),
                          m = new gd(),
                          g = this.groups
                        0 === g.length && (g = [{ start: 0, count: e.count }])
                        for (var y = 0, x = g.length; y < x; ++y)
                          for (var _ = g[y], b = _.start, S = b, w = b + _.count; S < w; S += 3)
                            L(e.getX(S + 0), e.getX(S + 1), e.getX(S + 2))
                        for (
                          var A = new gd(),
                            T = new gd(),
                            M = new gd(),
                            E = new gd(),
                            C = 0,
                            k = g.length;
                          C < k;
                          ++C
                        )
                          for (var R = g[C], I = R.start, N = I, P = I + R.count; N < P; N += 3)
                            (D(e.getX(N + 0)), D(e.getX(N + 1)), D(e.getX(N + 2)))
                      } else
                        console.error(
                          'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)'
                        )
                      function L(e, t, r) {
                        ;(l.fromBufferAttribute(n, e),
                          c.fromBufferAttribute(n, t),
                          d.fromBufferAttribute(n, r),
                          h.fromBufferAttribute(i, e),
                          f.fromBufferAttribute(i, t),
                          p.fromBufferAttribute(i, r),
                          c.sub(l),
                          d.sub(l),
                          f.sub(h),
                          p.sub(h))
                        var a = 1 / (f.x * p.y - p.x * f.y)
                        isFinite(a) &&
                          (v.copy(c).multiplyScalar(p.y).addScaledVector(d, -f.y).multiplyScalar(a),
                          m.copy(d).multiplyScalar(f.x).addScaledVector(c, -p.x).multiplyScalar(a),
                          o[e].add(v),
                          o[t].add(v),
                          o[r].add(v),
                          s[e].add(m),
                          s[t].add(m),
                          s[r].add(m))
                      }
                      function D(e) {
                        ;(M.fromBufferAttribute(r, e), E.copy(M))
                        var t = o[e]
                        ;(A.copy(t),
                          A.sub(M.multiplyScalar(M.dot(t))).normalize(),
                          T.crossVectors(E, t))
                        var n = T.dot(s[e]) < 0 ? -1 : 1
                        a.setXYZW(e, A.x, A.y, A.z, n)
                      }
                    },
                  },
                  {
                    key: 'computeVertexNormals',
                    value: function () {
                      var e = this.index,
                        t = this.getAttribute('position')
                      if (void 0 !== t) {
                        var n = this.getAttribute('normal')
                        if (void 0 === n)
                          ((n = new Kh(new Float32Array(3 * t.count), 3)),
                            this.setAttribute('normal', n))
                        else for (var r = 0, i = n.count; r < i; r++) n.setXYZ(r, 0, 0, 0)
                        var a = new gd(),
                          o = new gd(),
                          s = new gd(),
                          u = new gd(),
                          l = new gd(),
                          c = new gd(),
                          d = new gd(),
                          h = new gd()
                        if (e)
                          for (var f = 0, p = e.count; f < p; f += 3) {
                            var v = e.getX(f + 0),
                              m = e.getX(f + 1),
                              g = e.getX(f + 2)
                            ;(a.fromBufferAttribute(t, v),
                              o.fromBufferAttribute(t, m),
                              s.fromBufferAttribute(t, g),
                              d.subVectors(s, o),
                              h.subVectors(a, o),
                              d.cross(h),
                              u.fromBufferAttribute(n, v),
                              l.fromBufferAttribute(n, m),
                              c.fromBufferAttribute(n, g),
                              u.add(d),
                              l.add(d),
                              c.add(d),
                              n.setXYZ(v, u.x, u.y, u.z),
                              n.setXYZ(m, l.x, l.y, l.z),
                              n.setXYZ(g, c.x, c.y, c.z))
                          }
                        else
                          for (var y = 0, x = t.count; y < x; y += 3)
                            (a.fromBufferAttribute(t, y + 0),
                              o.fromBufferAttribute(t, y + 1),
                              s.fromBufferAttribute(t, y + 2),
                              d.subVectors(s, o),
                              h.subVectors(a, o),
                              d.cross(h),
                              n.setXYZ(y + 0, d.x, d.y, d.z),
                              n.setXYZ(y + 1, d.x, d.y, d.z),
                              n.setXYZ(y + 2, d.x, d.y, d.z))
                        ;(this.normalizeNormals(), (n.needsUpdate = !0))
                      }
                    },
                  },
                  {
                    key: 'normalizeNormals',
                    value: function () {
                      for (var e = this.attributes.normal, t = 0, n = e.count; t < n; t++)
                        (sf.fromBufferAttribute(e, t),
                          sf.normalize(),
                          e.setXYZ(t, sf.x, sf.y, sf.z))
                    },
                  },
                  {
                    key: 'toNonIndexed',
                    value: function () {
                      function e(e, t) {
                        for (
                          var n = e.array,
                            r = e.itemSize,
                            i = e.normalized,
                            a = new n.constructor(t.length * r),
                            o = 0,
                            s = 0,
                            u = 0,
                            l = t.length;
                          u < l;
                          u++
                        ) {
                          o = e.isInterleavedBufferAttribute
                            ? t[u] * e.data.stride + e.offset
                            : t[u] * r
                          for (var c = 0; c < r; c++) a[s++] = n[o++]
                        }
                        return new Kh(a, r, i)
                      }
                      if (null === this.index)
                        return (
                          console.warn(
                            'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.'
                          ),
                          this
                        )
                      var n = new t(),
                        r = this.index.array,
                        i = this.attributes
                      for (var a in i) {
                        var o = e(i[a], r)
                        n.setAttribute(a, o)
                      }
                      var s = this.morphAttributes
                      for (var u in s) {
                        for (var l = [], c = s[u], d = 0, h = c.length; d < h; d++) {
                          var f = e(c[d], r)
                          l.push(f)
                        }
                        n.morphAttributes[u] = l
                      }
                      n.morphTargetsRelative = this.morphTargetsRelative
                      for (var p = this.groups, v = 0, m = p.length; v < m; v++) {
                        var g = p[v]
                        n.addGroup(g.start, g.count, g.materialIndex)
                      }
                      return n
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      var e = {
                        metadata: {
                          version: 4.6,
                          type: 'BufferGeometry',
                          generator: 'BufferGeometry.toJSON',
                        },
                      }
                      if (
                        ((e.uuid = this.uuid),
                        (e.type = this.type),
                        '' !== this.name && (e.name = this.name),
                        Object.keys(this.userData).length > 0 && (e.userData = this.userData),
                        void 0 !== this.parameters)
                      ) {
                        var t = this.parameters
                        for (var n in t) void 0 !== t[n] && (e[n] = t[n])
                        return e
                      }
                      e.data = { attributes: {} }
                      var r = this.index
                      null !== r &&
                        (e.data.index = {
                          type: r.array.constructor.name,
                          array: Array.prototype.slice.call(r.array),
                        })
                      var i = this.attributes
                      for (var a in i) {
                        var o = i[a]
                        e.data.attributes[a] = o.toJSON(e.data)
                      }
                      var s = {},
                        u = !1
                      for (var l in this.morphAttributes) {
                        for (
                          var c = this.morphAttributes[l], d = [], h = 0, f = c.length;
                          h < f;
                          h++
                        ) {
                          var p = c[h]
                          d.push(p.toJSON(e.data))
                        }
                        d.length > 0 && ((s[l] = d), (u = !0))
                      }
                      u &&
                        ((e.data.morphAttributes = s),
                        (e.data.morphTargetsRelative = this.morphTargetsRelative))
                      var v = this.groups
                      v.length > 0 && (e.data.groups = JSON.parse(JSON.stringify(v)))
                      var m = this.boundingSphere
                      return (
                        null !== m &&
                          (e.data.boundingSphere = {
                            center: m.center.toArray(),
                            radius: m.radius,
                          }),
                        e
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      ;((this.index = null),
                        (this.attributes = {}),
                        (this.morphAttributes = {}),
                        (this.groups = []),
                        (this.boundingBox = null),
                        (this.boundingSphere = null))
                      var t = {}
                      this.name = e.name
                      var n = e.index
                      null !== n && this.setIndex(n.clone(t))
                      var r = e.attributes
                      for (var i in r) {
                        var a = r[i]
                        this.setAttribute(i, a.clone(t))
                      }
                      var o = e.morphAttributes
                      for (var s in o) {
                        for (var u = [], l = o[s], c = 0, d = l.length; c < d; c++)
                          u.push(l[c].clone(t))
                        this.morphAttributes[s] = u
                      }
                      this.morphTargetsRelative = e.morphTargetsRelative
                      for (var h = e.groups, f = 0, p = h.length; f < p; f++) {
                        var v = h[f]
                        this.addGroup(v.start, v.count, v.materialIndex)
                      }
                      var m = e.boundingBox
                      null !== m && (this.boundingBox = m.clone())
                      var g = e.boundingSphere
                      return (
                        null !== g && (this.boundingSphere = g.clone()),
                        (this.drawRange.start = e.drawRange.start),
                        (this.drawRange.count = e.drawRange.count),
                        (this.userData = e.userData),
                        this
                      )
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.dispatchEvent({ type: 'dispose' })
                    },
                  },
                ])
              )
            })(Nc),
            lf = new qd(),
            cf = new Qd(),
            df = new Bd(),
            hf = new gd(),
            ff = new gd(),
            pf = new gd(),
            vf = new gd(),
            mf = new gd(),
            gf = new gd(),
            yf = new gd(),
            xf = new gd(),
            _f = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new uf(),
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new Wh()
                return (
                  w(this, t),
                  ((e = y(this, t)).isMesh = !0),
                  (e.type = 'Mesh'),
                  (e.geometry = n),
                  (e.material = r),
                  e.updateMorphTargets(),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        void 0 !== e.morphTargetInfluences &&
                          (this.morphTargetInfluences = e.morphTargetInfluences.slice()),
                        void 0 !== e.morphTargetDictionary &&
                          (this.morphTargetDictionary = Object.assign({}, e.morphTargetDictionary)),
                        (this.material = Array.isArray(e.material)
                          ? e.material.slice()
                          : e.material),
                        (this.geometry = e.geometry),
                        this
                      )
                    },
                  },
                  {
                    key: 'updateMorphTargets',
                    value: function () {
                      var e = this.geometry.morphAttributes,
                        t = Object.keys(e)
                      if (t.length > 0) {
                        var n = e[t[0]]
                        if (void 0 !== n) {
                          ;((this.morphTargetInfluences = []), (this.morphTargetDictionary = {}))
                          for (var r = 0, i = n.length; r < i; r++) {
                            var a = n[r].name || String(r)
                            ;(this.morphTargetInfluences.push(0),
                              (this.morphTargetDictionary[a] = r))
                          }
                        }
                      }
                    },
                  },
                  {
                    key: 'getVertexPosition',
                    value: function (e, t) {
                      var n = this.geometry,
                        r = n.attributes.position,
                        i = n.morphAttributes.position,
                        a = n.morphTargetsRelative
                      t.fromBufferAttribute(r, e)
                      var o = this.morphTargetInfluences
                      if (i && o) {
                        gf.set(0, 0, 0)
                        for (var s = 0, u = i.length; s < u; s++) {
                          var l = o[s],
                            c = i[s]
                          0 !== l &&
                            (mf.fromBufferAttribute(c, e),
                            a ? gf.addScaledVector(mf, l) : gf.addScaledVector(mf.sub(t), l))
                        }
                        t.add(gf)
                      }
                      return t
                    },
                  },
                  {
                    key: 'raycast',
                    value: function (e, t) {
                      var n = this.geometry,
                        r = this.material,
                        i = this.matrixWorld
                      if (void 0 !== r) {
                        if (
                          (null === n.boundingSphere && n.computeBoundingSphere(),
                          df.copy(n.boundingSphere),
                          df.applyMatrix4(i),
                          cf.copy(e.ray).recast(e.near),
                          !1 === df.containsPoint(cf.origin))
                        ) {
                          if (null === cf.intersectSphere(df, hf)) return
                          if (cf.origin.distanceToSquared(hf) > Math.pow(e.far - e.near, 2)) return
                        }
                        ;(lf.copy(i).invert(),
                          cf.copy(e.ray).applyMatrix4(lf),
                          (null !== n.boundingBox && !1 === cf.intersectsBox(n.boundingBox)) ||
                            this._computeIntersections(e, t, cf))
                      }
                    },
                  },
                  {
                    key: '_computeIntersections',
                    value: function (e, t, n) {
                      var r,
                        i = this.geometry,
                        a = this.material,
                        o = i.index,
                        s = i.attributes.position,
                        u = i.attributes.uv,
                        l = i.attributes.uv1,
                        c = i.attributes.normal,
                        d = i.groups,
                        h = i.drawRange
                      if (null !== o)
                        if (Array.isArray(a))
                          for (var f = 0, p = d.length; f < p; f++)
                            for (
                              var v = d[f],
                                m = a[v.materialIndex],
                                g = Math.max(v.start, h.start),
                                y = Math.min(
                                  o.count,
                                  Math.min(v.start + v.count, h.start + h.count)
                                );
                              g < y;
                              g += 3
                            ) {
                              ;(r = bf(
                                this,
                                m,
                                e,
                                n,
                                u,
                                l,
                                c,
                                o.getX(g),
                                o.getX(g + 1),
                                o.getX(g + 2)
                              )) &&
                                ((r.faceIndex = Math.floor(g / 3)),
                                (r.face.materialIndex = v.materialIndex),
                                t.push(r))
                            }
                        else
                          for (
                            var x = Math.max(0, h.start), _ = Math.min(o.count, h.start + h.count);
                            x < _;
                            x += 3
                          ) {
                            ;(r = bf(
                              this,
                              a,
                              e,
                              n,
                              u,
                              l,
                              c,
                              o.getX(x),
                              o.getX(x + 1),
                              o.getX(x + 2)
                            )) && ((r.faceIndex = Math.floor(x / 3)), t.push(r))
                          }
                      else if (void 0 !== s)
                        if (Array.isArray(a))
                          for (var b = 0, S = d.length; b < S; b++)
                            for (
                              var w = d[b],
                                A = a[w.materialIndex],
                                T = Math.max(w.start, h.start),
                                M = Math.min(
                                  s.count,
                                  Math.min(w.start + w.count, h.start + h.count)
                                );
                              T < M;
                              T += 3
                            ) {
                              ;(r = bf(this, A, e, n, u, l, c, T, T + 1, T + 2)) &&
                                ((r.faceIndex = Math.floor(T / 3)),
                                (r.face.materialIndex = w.materialIndex),
                                t.push(r))
                            }
                        else
                          for (
                            var E = Math.max(0, h.start), C = Math.min(s.count, h.start + h.count);
                            E < C;
                            E += 3
                          ) {
                            ;(r = bf(this, a, e, n, u, l, c, E, E + 1, E + 2)) &&
                              ((r.faceIndex = Math.floor(E / 3)), t.push(r))
                          }
                    },
                  },
                ])
              )
            })(_h)
          function bf(e, t, n, r, i, a, o, s, u, l) {
            ;(e.getVertexPosition(s, ff), e.getVertexPosition(u, pf), e.getVertexPosition(l, vf))
            var c = (function (e, t, n, r, i, a, o, s) {
              if (
                null ===
                (1 === t.side
                  ? r.intersectTriangle(o, a, i, !0, s)
                  : r.intersectTriangle(i, a, o, 0 === t.side, s))
              )
                return null
              ;(xf.copy(s), xf.applyMatrix4(e.matrixWorld))
              var u = n.ray.origin.distanceTo(xf)
              return u < n.near || u > n.far ? null : { distance: u, point: xf.clone(), object: e }
            })(e, t, n, r, ff, pf, vf, yf)
            if (c) {
              var d = new gd()
              ;(Lh.getBarycoord(yf, ff, pf, vf, d),
                i && (c.uv = Lh.getInterpolatedAttribute(i, s, u, l, d, new Gc())),
                a && (c.uv1 = Lh.getInterpolatedAttribute(a, s, u, l, d, new Gc())),
                o &&
                  ((c.normal = Lh.getInterpolatedAttribute(o, s, u, l, d, new gd())),
                  c.normal.dot(r.direction) > 0 && c.normal.multiplyScalar(-1)))
              var h = { a: s, b: u, c: l, normal: new gd(), materialIndex: 0 }
              ;(Lh.getNormal(ff, pf, vf, h.normal), (c.face = h), (c.barycoord = d))
            }
            return c
          }
          var Sf = (function (e) {
            function t() {
              var e,
                n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1
              ;(w(this, t),
                ((e = y(this, t)).type = 'BoxGeometry'),
                (e.parameters = {
                  width: n,
                  height: r,
                  depth: i,
                  widthSegments: a,
                  heightSegments: o,
                  depthSegments: s,
                }))
              var u = e
              ;((a = Math.floor(a)), (o = Math.floor(o)), (s = Math.floor(s)))
              var l = [],
                c = [],
                d = [],
                h = [],
                f = 0,
                p = 0
              function v(e, t, n, r, i, a, o, s, v, m, g) {
                for (
                  var y = a / v,
                    x = o / m,
                    _ = a / 2,
                    b = o / 2,
                    S = s / 2,
                    w = v + 1,
                    A = m + 1,
                    T = 0,
                    M = 0,
                    E = new gd(),
                    C = 0;
                  C < A;
                  C++
                )
                  for (var k = C * x - b, R = 0; R < w; R++) {
                    var I = R * y - _
                    ;((E[e] = I * r),
                      (E[t] = k * i),
                      (E[n] = S),
                      c.push(E.x, E.y, E.z),
                      (E[e] = 0),
                      (E[t] = 0),
                      (E[n] = s > 0 ? 1 : -1),
                      d.push(E.x, E.y, E.z),
                      h.push(R / v),
                      h.push(1 - C / m),
                      (T += 1))
                  }
                for (var N = 0; N < m; N++)
                  for (var P = 0; P < v; P++) {
                    var L = f + P + w * N,
                      D = f + P + w * (N + 1),
                      O = f + (P + 1) + w * (N + 1),
                      F = f + (P + 1) + w * N
                    ;(l.push(L, D, F), l.push(D, O, F), (M += 6))
                  }
                ;(u.addGroup(p, M, g), (p += M), (f += T))
              }
              return (
                v('z', 'y', 'x', -1, -1, i, r, n, s, o, 0),
                v('z', 'y', 'x', 1, -1, i, r, -n, s, o, 1),
                v('x', 'z', 'y', 1, 1, n, i, r, a, s, 2),
                v('x', 'z', 'y', 1, -1, n, i, -r, a, s, 3),
                v('x', 'y', 'z', 1, -1, n, r, i, a, o, 4),
                v('x', 'y', 'z', -1, -1, n, r, -i, a, o, 5),
                e.setIndex(l),
                e.setAttribute('position', new $h(c, 3)),
                e.setAttribute('normal', new $h(d, 3)),
                e.setAttribute('uv', new $h(h, 2)),
                e
              )
            }
            return (
              b(t, e),
              T(
                t,
                [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.parameters = Object.assign({}, e.parameters)),
                        this
                      )
                    },
                  },
                ],
                [
                  {
                    key: 'fromJSON',
                    value: function (e) {
                      return new t(
                        e.width,
                        e.height,
                        e.depth,
                        e.widthSegments,
                        e.heightSegments,
                        e.depthSegments
                      )
                    },
                  },
                ]
              )
            )
          })(uf)
          function wf(e) {
            var t = {}
            for (var n in e)
              for (var r in ((t[n] = {}), e[n])) {
                var i = e[n][r]
                i &&
                (i.isColor ||
                  i.isMatrix3 ||
                  i.isMatrix4 ||
                  i.isVector2 ||
                  i.isVector3 ||
                  i.isVector4 ||
                  i.isTexture ||
                  i.isQuaternion)
                  ? i.isRenderTargetTexture
                    ? (console.warn(
                        'UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().'
                      ),
                      (t[n][r] = null))
                    : (t[n][r] = i.clone())
                  : Array.isArray(i)
                    ? (t[n][r] = i.slice())
                    : (t[n][r] = i)
              }
            return t
          }
          function Af(e) {
            for (var t = {}, n = 0; n < e.length; n++) {
              var r = wf(e[n])
              for (var i in r) t[i] = r[i]
            }
            return t
          }
          function Tf(e) {
            var t = e.getRenderTarget()
            return null === t
              ? e.outputColorSpace
              : !0 === t.isXRRenderTarget
                ? t.texture.colorSpace
                : nd.workingColorSpace
          }
          var Mf = { clone: wf, merge: Af },
            Ef = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isShaderMaterial = !0),
                  (n.type = 'ShaderMaterial'),
                  (n.defines = {}),
                  (n.uniforms = {}),
                  (n.uniformsGroups = []),
                  (n.vertexShader =
                    'void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}'),
                  (n.fragmentShader =
                    'void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}'),
                  (n.linewidth = 1),
                  (n.wireframe = !1),
                  (n.wireframeLinewidth = 1),
                  (n.fog = !1),
                  (n.lights = !1),
                  (n.clipping = !1),
                  (n.forceSinglePass = !0),
                  (n.extensions = { clipCullDistance: !1, multiDraw: !1 }),
                  (n.defaultAttributeValues = { color: [1, 1, 1], uv: [0, 0], uv1: [0, 0] }),
                  (n.index0AttributeName = void 0),
                  (n.uniformsNeedUpdate = !1),
                  (n.glslVersion = null),
                  void 0 !== e && n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.fragmentShader = e.fragmentShader),
                        (this.vertexShader = e.vertexShader),
                        (this.uniforms = wf(e.uniforms)),
                        (this.uniformsGroups = (function (e) {
                          for (var t = [], n = 0; n < e.length; n++) t.push(e[n].clone())
                          return t
                        })(e.uniformsGroups)),
                        (this.defines = Object.assign({}, e.defines)),
                        (this.wireframe = e.wireframe),
                        (this.wireframeLinewidth = e.wireframeLinewidth),
                        (this.fog = e.fog),
                        (this.lights = e.lights),
                        (this.clipping = e.clipping),
                        (this.extensions = Object.assign({}, e.extensions)),
                        (this.glslVersion = e.glslVersion),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      for (var i in ((r.glslVersion = this.glslVersion),
                      (r.uniforms = {}),
                      this.uniforms)) {
                        var a = this.uniforms[i].value
                        a && a.isTexture
                          ? (r.uniforms[i] = { type: 't', value: a.toJSON(e).uuid })
                          : a && a.isColor
                            ? (r.uniforms[i] = { type: 'c', value: a.getHex() })
                            : a && a.isVector2
                              ? (r.uniforms[i] = { type: 'v2', value: a.toArray() })
                              : a && a.isVector3
                                ? (r.uniforms[i] = { type: 'v3', value: a.toArray() })
                                : a && a.isVector4
                                  ? (r.uniforms[i] = { type: 'v4', value: a.toArray() })
                                  : a && a.isMatrix3
                                    ? (r.uniforms[i] = { type: 'm3', value: a.toArray() })
                                    : a && a.isMatrix4
                                      ? (r.uniforms[i] = { type: 'm4', value: a.toArray() })
                                      : (r.uniforms[i] = { value: a })
                      }
                      ;(Object.keys(this.defines).length > 0 && (r.defines = this.defines),
                        (r.vertexShader = this.vertexShader),
                        (r.fragmentShader = this.fragmentShader),
                        (r.lights = this.lights),
                        (r.clipping = this.clipping))
                      var o = {}
                      for (var s in this.extensions) !0 === this.extensions[s] && (o[s] = !0)
                      return (Object.keys(o).length > 0 && (r.extensions = o), r)
                    },
                  },
                ])
              )
            })(Hh),
            Cf = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isCamera = !0),
                  (e.type = 'Camera'),
                  (e.matrixWorldInverse = new qd()),
                  (e.projectionMatrix = new qd()),
                  (e.projectionMatrixInverse = new qd()),
                  (e.coordinateSystem = Rc),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        this.matrixWorldInverse.copy(e.matrixWorldInverse),
                        this.projectionMatrix.copy(e.projectionMatrix),
                        this.projectionMatrixInverse.copy(e.projectionMatrixInverse),
                        (this.coordinateSystem = e.coordinateSystem),
                        this
                      )
                    },
                  },
                  {
                    key: 'getWorldDirection',
                    value: function (e) {
                      return n(t, 'getWorldDirection', this, 3)([e]).negate()
                    },
                  },
                  {
                    key: 'updateMatrixWorld',
                    value: function (e) {
                      ;(n(t, 'updateMatrixWorld', this, 3)([e]),
                        this.matrixWorldInverse.copy(this.matrixWorld).invert())
                    },
                  },
                  {
                    key: 'updateWorldMatrix',
                    value: function (e, r) {
                      ;(n(t, 'updateWorldMatrix', this, 3)([e, r]),
                        this.matrixWorldInverse.copy(this.matrixWorld).invert())
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ])
              )
            })(_h),
            kf = new gd(),
            Rf = new Gc(),
            If = new Gc(),
            Nf = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 50,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0.1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2e3
                return (
                  w(this, t),
                  ((e = y(this, t)).isPerspectiveCamera = !0),
                  (e.type = 'PerspectiveCamera'),
                  (e.fov = n),
                  (e.zoom = 1),
                  (e.near = i),
                  (e.far = a),
                  (e.focus = 10),
                  (e.aspect = r),
                  (e.view = null),
                  (e.filmGauge = 35),
                  (e.filmOffset = 0),
                  e.updateProjectionMatrix(),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.fov = e.fov),
                        (this.zoom = e.zoom),
                        (this.near = e.near),
                        (this.far = e.far),
                        (this.focus = e.focus),
                        (this.aspect = e.aspect),
                        (this.view = null === e.view ? null : Object.assign({}, e.view)),
                        (this.filmGauge = e.filmGauge),
                        (this.filmOffset = e.filmOffset),
                        this
                      )
                    },
                  },
                  {
                    key: 'setFocalLength',
                    value: function (e) {
                      var t = (0.5 * this.getFilmHeight()) / e
                      ;((this.fov = 2 * Oc * Math.atan(t)), this.updateProjectionMatrix())
                    },
                  },
                  {
                    key: 'getFocalLength',
                    value: function () {
                      var e = Math.tan(0.5 * Dc * this.fov)
                      return (0.5 * this.getFilmHeight()) / e
                    },
                  },
                  {
                    key: 'getEffectiveFOV',
                    value: function () {
                      return 2 * Oc * Math.atan(Math.tan(0.5 * Dc * this.fov) / this.zoom)
                    },
                  },
                  {
                    key: 'getFilmWidth',
                    value: function () {
                      return this.filmGauge * Math.min(this.aspect, 1)
                    },
                  },
                  {
                    key: 'getFilmHeight',
                    value: function () {
                      return this.filmGauge / Math.max(this.aspect, 1)
                    },
                  },
                  {
                    key: 'getViewBounds',
                    value: function (e, t, n) {
                      ;(kf.set(-1, -1, 0.5).applyMatrix4(this.projectionMatrixInverse),
                        t.set(kf.x, kf.y).multiplyScalar(-e / kf.z),
                        kf.set(1, 1, 0.5).applyMatrix4(this.projectionMatrixInverse),
                        n.set(kf.x, kf.y).multiplyScalar(-e / kf.z))
                    },
                  },
                  {
                    key: 'getViewSize',
                    value: function (e, t) {
                      return (this.getViewBounds(e, Rf, If), t.subVectors(If, Rf))
                    },
                  },
                  {
                    key: 'setViewOffset',
                    value: function (e, t, n, r, i, a) {
                      ;((this.aspect = e / t),
                        null === this.view &&
                          (this.view = {
                            enabled: !0,
                            fullWidth: 1,
                            fullHeight: 1,
                            offsetX: 0,
                            offsetY: 0,
                            width: 1,
                            height: 1,
                          }),
                        (this.view.enabled = !0),
                        (this.view.fullWidth = e),
                        (this.view.fullHeight = t),
                        (this.view.offsetX = n),
                        (this.view.offsetY = r),
                        (this.view.width = i),
                        (this.view.height = a),
                        this.updateProjectionMatrix())
                    },
                  },
                  {
                    key: 'clearViewOffset',
                    value: function () {
                      ;(null !== this.view && (this.view.enabled = !1),
                        this.updateProjectionMatrix())
                    },
                  },
                  {
                    key: 'updateProjectionMatrix',
                    value: function () {
                      var e = this.near,
                        t = (e * Math.tan(0.5 * Dc * this.fov)) / this.zoom,
                        n = 2 * t,
                        r = this.aspect * n,
                        i = -0.5 * r,
                        a = this.view
                      if (null !== this.view && this.view.enabled) {
                        var o = a.fullWidth,
                          s = a.fullHeight
                        ;((i += (a.offsetX * r) / o),
                          (t -= (a.offsetY * n) / s),
                          (r *= a.width / o),
                          (n *= a.height / s))
                      }
                      var u = this.filmOffset
                      ;(0 !== u && (i += (e * u) / this.getFilmWidth()),
                        this.projectionMatrix.makePerspective(
                          i,
                          i + r,
                          t,
                          t - n,
                          e,
                          this.far,
                          this.coordinateSystem
                        ),
                        this.projectionMatrixInverse.copy(this.projectionMatrix).invert())
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        (r.object.fov = this.fov),
                        (r.object.zoom = this.zoom),
                        (r.object.near = this.near),
                        (r.object.far = this.far),
                        (r.object.focus = this.focus),
                        (r.object.aspect = this.aspect),
                        null !== this.view && (r.object.view = Object.assign({}, this.view)),
                        (r.object.filmGauge = this.filmGauge),
                        (r.object.filmOffset = this.filmOffset),
                        r
                      )
                    },
                  },
                ])
              )
            })(Cf),
            Pf = -90,
            Lf = (function (e) {
              function t(e, n, r) {
                var i
                ;(w(this, t),
                  ((i = y(this, t)).type = 'CubeCamera'),
                  (i.renderTarget = r),
                  (i.coordinateSystem = null),
                  (i.activeMipmapLevel = 0))
                var a = new Nf(Pf, 1, e, n)
                ;((a.layers = i.layers), i.add(a))
                var o = new Nf(Pf, 1, e, n)
                ;((o.layers = i.layers), i.add(o))
                var s = new Nf(Pf, 1, e, n)
                ;((s.layers = i.layers), i.add(s))
                var u = new Nf(Pf, 1, e, n)
                ;((u.layers = i.layers), i.add(u))
                var l = new Nf(Pf, 1, e, n)
                ;((l.layers = i.layers), i.add(l))
                var c = new Nf(Pf, 1, e, n)
                return ((c.layers = i.layers), i.add(c), i)
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'updateCoordinateSystem',
                    value: function () {
                      var e,
                        t = this.coordinateSystem,
                        n = this.children.concat(),
                        r = C(n, 6),
                        i = r[0],
                        a = r[1],
                        o = r[2],
                        s = r[3],
                        u = r[4],
                        l = r[5],
                        c = L(n)
                      try {
                        for (c.s(); !(e = c.n()).done; ) {
                          var d = e.value
                          this.remove(d)
                        }
                      } catch (v) {
                        c.e(v)
                      } finally {
                        c.f()
                      }
                      if (t === Rc)
                        (i.up.set(0, 1, 0),
                          i.lookAt(1, 0, 0),
                          a.up.set(0, 1, 0),
                          a.lookAt(-1, 0, 0),
                          o.up.set(0, 0, -1),
                          o.lookAt(0, 1, 0),
                          s.up.set(0, 0, 1),
                          s.lookAt(0, -1, 0),
                          u.up.set(0, 1, 0),
                          u.lookAt(0, 0, 1),
                          l.up.set(0, 1, 0),
                          l.lookAt(0, 0, -1))
                      else {
                        if (t !== Ic)
                          throw new Error(
                            'THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: ' +
                              t
                          )
                        ;(i.up.set(0, -1, 0),
                          i.lookAt(-1, 0, 0),
                          a.up.set(0, -1, 0),
                          a.lookAt(1, 0, 0),
                          o.up.set(0, 0, 1),
                          o.lookAt(0, 1, 0),
                          s.up.set(0, 0, -1),
                          s.lookAt(0, -1, 0),
                          u.up.set(0, -1, 0),
                          u.lookAt(0, 0, 1),
                          l.up.set(0, -1, 0),
                          l.lookAt(0, 0, -1))
                      }
                      var h,
                        f = L(n)
                      try {
                        for (f.s(); !(h = f.n()).done; ) {
                          var p = h.value
                          ;(this.add(p), p.updateMatrixWorld())
                        }
                      } catch (v) {
                        f.e(v)
                      } finally {
                        f.f()
                      }
                    },
                  },
                  {
                    key: 'update',
                    value: function (e, t) {
                      null === this.parent && this.updateMatrixWorld()
                      var n = this.renderTarget,
                        r = this.activeMipmapLevel
                      this.coordinateSystem !== e.coordinateSystem &&
                        ((this.coordinateSystem = e.coordinateSystem),
                        this.updateCoordinateSystem())
                      var i = C(this.children, 6),
                        a = i[0],
                        o = i[1],
                        s = i[2],
                        u = i[3],
                        l = i[4],
                        c = i[5],
                        d = e.getRenderTarget(),
                        h = e.getActiveCubeFace(),
                        f = e.getActiveMipmapLevel(),
                        p = e.xr.enabled
                      e.xr.enabled = !1
                      var v = n.texture.generateMipmaps
                      ;((n.texture.generateMipmaps = !1),
                        e.setRenderTarget(n, 0, r),
                        e.render(t, a),
                        e.setRenderTarget(n, 1, r),
                        e.render(t, o),
                        e.setRenderTarget(n, 2, r),
                        e.render(t, s),
                        e.setRenderTarget(n, 3, r),
                        e.render(t, u),
                        e.setRenderTarget(n, 4, r),
                        e.render(t, l),
                        (n.texture.generateMipmaps = v),
                        e.setRenderTarget(n, 5, r),
                        e.render(t, c),
                        e.setRenderTarget(d, h, f),
                        (e.xr.enabled = p),
                        (n.texture.needsPMREMUpdate = !0))
                    },
                  },
                ])
              )
            })(_h),
            Df = (function (e) {
              function t(e, n, r, i, a, o, s, u, l, c) {
                var d
                return (
                  w(this, t),
                  ((d = y(this, t, [
                    (e = void 0 !== e ? e : []),
                    (n = void 0 !== n ? n : il),
                    r,
                    i,
                    a,
                    o,
                    s,
                    u,
                    l,
                    c,
                  ])).isCubeTexture = !0),
                  (d.flipY = !1),
                  d
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'images',
                    get: function () {
                      return this.image
                    },
                    set: function (e) {
                      this.image = e
                    },
                  },
                ])
              )
            })(cd),
            Of = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                ;(w(this, t), ((e = y(this, t, [n, n, r])).isWebGLCubeRenderTarget = !0))
                var i = { width: n, height: n, depth: 1 },
                  a = [i, i, i, i, i, i]
                return (
                  (e.texture = new Df(
                    a,
                    r.mapping,
                    r.wrapS,
                    r.wrapT,
                    r.magFilter,
                    r.minFilter,
                    r.format,
                    r.type,
                    r.anisotropy,
                    r.colorSpace
                  )),
                  (e.texture.isRenderTargetTexture = !0),
                  (e.texture.generateMipmaps = void 0 !== r.generateMipmaps && r.generateMipmaps),
                  (e.texture.minFilter = void 0 !== r.minFilter ? r.minFilter : hl),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'fromEquirectangularTexture',
                    value: function (e, t) {
                      ;((this.texture.type = t.type),
                        (this.texture.colorSpace = t.colorSpace),
                        (this.texture.generateMipmaps = t.generateMipmaps),
                        (this.texture.minFilter = t.minFilter),
                        (this.texture.magFilter = t.magFilter))
                      var n = { tEquirect: { value: null } },
                        r =
                          '\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t',
                        i =
                          '\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t',
                        a = new Sf(5, 5, 5),
                        o = new Ef({
                          name: 'CubemapFromEquirect',
                          uniforms: wf(n),
                          vertexShader: r,
                          fragmentShader: i,
                          side: 1,
                          blending: 0,
                        })
                      o.uniforms.tEquirect.value = t
                      var s = new _f(a, o),
                        u = t.minFilter
                      return (
                        t.minFilter === pl && (t.minFilter = hl),
                        new Lf(1, 10, this).update(e, s),
                        (t.minFilter = u),
                        s.geometry.dispose(),
                        s.material.dispose(),
                        this
                      )
                    },
                  },
                  {
                    key: 'clear',
                    value: function (e, t, n, r) {
                      for (var i = e.getRenderTarget(), a = 0; a < 6; a++)
                        (e.setRenderTarget(this, a), e.clear(t, n, r))
                      e.setRenderTarget(i)
                    },
                  },
                ])
              )
            })(fd),
            Ff = (function (e) {
              function t() {
                var e
                return (w(this, t), ((e = y(this, t)).isGroup = !0), (e.type = 'Group'), e)
              }
              return (b(t, e), T(t))
            })(_h),
            Bf = { type: 'move' },
            Uf = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this._targetRay = null), (this._grip = null), (this._hand = null))
                },
                [
                  {
                    key: 'getHandSpace',
                    value: function () {
                      return (
                        null === this._hand &&
                          ((this._hand = new Ff()),
                          (this._hand.matrixAutoUpdate = !1),
                          (this._hand.visible = !1),
                          (this._hand.joints = {}),
                          (this._hand.inputState = { pinching: !1 })),
                        this._hand
                      )
                    },
                  },
                  {
                    key: 'getTargetRaySpace',
                    value: function () {
                      return (
                        null === this._targetRay &&
                          ((this._targetRay = new Ff()),
                          (this._targetRay.matrixAutoUpdate = !1),
                          (this._targetRay.visible = !1),
                          (this._targetRay.hasLinearVelocity = !1),
                          (this._targetRay.linearVelocity = new gd()),
                          (this._targetRay.hasAngularVelocity = !1),
                          (this._targetRay.angularVelocity = new gd())),
                        this._targetRay
                      )
                    },
                  },
                  {
                    key: 'getGripSpace',
                    value: function () {
                      return (
                        null === this._grip &&
                          ((this._grip = new Ff()),
                          (this._grip.matrixAutoUpdate = !1),
                          (this._grip.visible = !1),
                          (this._grip.hasLinearVelocity = !1),
                          (this._grip.linearVelocity = new gd()),
                          (this._grip.hasAngularVelocity = !1),
                          (this._grip.angularVelocity = new gd())),
                        this._grip
                      )
                    },
                  },
                  {
                    key: 'dispatchEvent',
                    value: function (e) {
                      return (
                        null !== this._targetRay && this._targetRay.dispatchEvent(e),
                        null !== this._grip && this._grip.dispatchEvent(e),
                        null !== this._hand && this._hand.dispatchEvent(e),
                        this
                      )
                    },
                  },
                  {
                    key: 'connect',
                    value: function (e) {
                      if (e && e.hand) {
                        var t = this._hand
                        if (t) {
                          var n,
                            r = L(e.hand.values())
                          try {
                            for (r.s(); !(n = r.n()).done; ) {
                              var i = n.value
                              this._getHandJoint(t, i)
                            }
                          } catch (a) {
                            r.e(a)
                          } finally {
                            r.f()
                          }
                        }
                      }
                      return (this.dispatchEvent({ type: 'connected', data: e }), this)
                    },
                  },
                  {
                    key: 'disconnect',
                    value: function (e) {
                      return (
                        this.dispatchEvent({ type: 'disconnected', data: e }),
                        null !== this._targetRay && (this._targetRay.visible = !1),
                        null !== this._grip && (this._grip.visible = !1),
                        null !== this._hand && (this._hand.visible = !1),
                        this
                      )
                    },
                  },
                  {
                    key: 'update',
                    value: function (e, t, n) {
                      var r = null,
                        i = null,
                        a = null,
                        o = this._targetRay,
                        s = this._grip,
                        u = this._hand
                      if (e && 'visible-blurred' !== t.session.visibilityState) {
                        if (u && e.hand) {
                          a = !0
                          var l,
                            c = L(e.hand.values())
                          try {
                            for (c.s(); !(l = c.n()).done; ) {
                              var d = l.value,
                                h = t.getJointPose(d, n),
                                f = this._getHandJoint(u, d)
                              ;(null !== h &&
                                (f.matrix.fromArray(h.transform.matrix),
                                f.matrix.decompose(f.position, f.rotation, f.scale),
                                (f.matrixWorldNeedsUpdate = !0),
                                (f.jointRadius = h.radius)),
                                (f.visible = null !== h))
                            }
                          } catch (g) {
                            c.e(g)
                          } finally {
                            c.f()
                          }
                          var p = u.joints['index-finger-tip'],
                            v = u.joints['thumb-tip'],
                            m = p.position.distanceTo(v.position)
                          u.inputState.pinching && m > 0.025
                            ? ((u.inputState.pinching = !1),
                              this.dispatchEvent({
                                type: 'pinchend',
                                handedness: e.handedness,
                                target: this,
                              }))
                            : !u.inputState.pinching &&
                              m <= 0.015 &&
                              ((u.inputState.pinching = !0),
                              this.dispatchEvent({
                                type: 'pinchstart',
                                handedness: e.handedness,
                                target: this,
                              }))
                        } else
                          null !== s &&
                            e.gripSpace &&
                            null !== (i = t.getPose(e.gripSpace, n)) &&
                            (s.matrix.fromArray(i.transform.matrix),
                            s.matrix.decompose(s.position, s.rotation, s.scale),
                            (s.matrixWorldNeedsUpdate = !0),
                            i.linearVelocity
                              ? ((s.hasLinearVelocity = !0),
                                s.linearVelocity.copy(i.linearVelocity))
                              : (s.hasLinearVelocity = !1),
                            i.angularVelocity
                              ? ((s.hasAngularVelocity = !0),
                                s.angularVelocity.copy(i.angularVelocity))
                              : (s.hasAngularVelocity = !1))
                        null !== o &&
                          (null === (r = t.getPose(e.targetRaySpace, n)) && null !== i && (r = i),
                          null !== r &&
                            (o.matrix.fromArray(r.transform.matrix),
                            o.matrix.decompose(o.position, o.rotation, o.scale),
                            (o.matrixWorldNeedsUpdate = !0),
                            r.linearVelocity
                              ? ((o.hasLinearVelocity = !0),
                                o.linearVelocity.copy(r.linearVelocity))
                              : (o.hasLinearVelocity = !1),
                            r.angularVelocity
                              ? ((o.hasAngularVelocity = !0),
                                o.angularVelocity.copy(r.angularVelocity))
                              : (o.hasAngularVelocity = !1),
                            this.dispatchEvent(Bf)))
                      }
                      return (
                        null !== o && (o.visible = null !== r),
                        null !== s && (s.visible = null !== i),
                        null !== u && (u.visible = null !== a),
                        this
                      )
                    },
                  },
                  {
                    key: '_getHandJoint',
                    value: function (e, t) {
                      if (void 0 === e.joints[t.jointName]) {
                        var n = new Ff()
                        ;((n.matrixAutoUpdate = !1),
                          (n.visible = !1),
                          (e.joints[t.jointName] = n),
                          e.add(n))
                      }
                      return e.joints[t.jointName]
                    },
                  },
                ]
              )
            })(),
            zf = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isScene = !0),
                  (e.type = 'Scene'),
                  (e.background = null),
                  (e.environment = null),
                  (e.fog = null),
                  (e.backgroundBlurriness = 0),
                  (e.backgroundIntensity = 1),
                  (e.backgroundRotation = new rh()),
                  (e.environmentIntensity = 1),
                  (e.environmentRotation = new rh()),
                  (e.overrideMaterial = null),
                  'undefined' != typeof __THREE_DEVTOOLS__ &&
                    __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', { detail: e })),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        null !== e.background && (this.background = e.background.clone()),
                        null !== e.environment && (this.environment = e.environment.clone()),
                        null !== e.fog && (this.fog = e.fog.clone()),
                        (this.backgroundBlurriness = e.backgroundBlurriness),
                        (this.backgroundIntensity = e.backgroundIntensity),
                        this.backgroundRotation.copy(e.backgroundRotation),
                        (this.environmentIntensity = e.environmentIntensity),
                        this.environmentRotation.copy(e.environmentRotation),
                        null !== e.overrideMaterial &&
                          (this.overrideMaterial = e.overrideMaterial.clone()),
                        (this.matrixAutoUpdate = e.matrixAutoUpdate),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        null !== this.fog && (r.object.fog = this.fog.toJSON()),
                        this.backgroundBlurriness > 0 &&
                          (r.object.backgroundBlurriness = this.backgroundBlurriness),
                        1 !== this.backgroundIntensity &&
                          (r.object.backgroundIntensity = this.backgroundIntensity),
                        (r.object.backgroundRotation = this.backgroundRotation.toArray()),
                        1 !== this.environmentIntensity &&
                          (r.object.environmentIntensity = this.environmentIntensity),
                        (r.object.environmentRotation = this.environmentRotation.toArray()),
                        r
                      )
                    },
                  },
                ])
              )
            })(_h),
            Vf = (function () {
              return T(
                function e(t, n) {
                  ;(w(this, e),
                    (this.isInterleavedBuffer = !0),
                    (this.array = t),
                    (this.stride = n),
                    (this.count = void 0 !== t ? t.length / n : 0),
                    (this.usage = Ec),
                    (this.updateRanges = []),
                    (this.version = 0),
                    (this.uuid = Fc()))
                },
                [
                  { key: 'onUploadCallback', value: function () {} },
                  {
                    key: 'needsUpdate',
                    set: function (e) {
                      !0 === e && this.version++
                    },
                  },
                  {
                    key: 'setUsage',
                    value: function (e) {
                      return ((this.usage = e), this)
                    },
                  },
                  {
                    key: 'addUpdateRange',
                    value: function (e, t) {
                      this.updateRanges.push({ start: e, count: t })
                    },
                  },
                  {
                    key: 'clearUpdateRanges',
                    value: function () {
                      this.updateRanges.length = 0
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.array = new e.array.constructor(e.array)),
                        (this.count = e.count),
                        (this.stride = e.stride),
                        (this.usage = e.usage),
                        this
                      )
                    },
                  },
                  {
                    key: 'copyAt',
                    value: function (e, t, n) {
                      ;((e *= this.stride), (n *= t.stride))
                      for (var r = 0, i = this.stride; r < i; r++)
                        this.array[e + r] = t.array[n + r]
                      return this
                    },
                  },
                  {
                    key: 'set',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      return (this.array.set(e, t), this)
                    },
                  },
                  {
                    key: 'clone',
                    value: function (e) {
                      ;(void 0 === e.arrayBuffers && (e.arrayBuffers = {}),
                        void 0 === this.array.buffer._uuid && (this.array.buffer._uuid = Fc()),
                        void 0 === e.arrayBuffers[this.array.buffer._uuid] &&
                          (e.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer))
                      var t = new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),
                        n = new this.constructor(t, this.stride)
                      return (n.setUsage(this.usage), n)
                    },
                  },
                  {
                    key: 'onUpload',
                    value: function (e) {
                      return ((this.onUploadCallback = e), this)
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      return (
                        void 0 === e.arrayBuffers && (e.arrayBuffers = {}),
                        void 0 === this.array.buffer._uuid && (this.array.buffer._uuid = Fc()),
                        void 0 === e.arrayBuffers[this.array.buffer._uuid] &&
                          (e.arrayBuffers[this.array.buffer._uuid] = Array.from(
                            new Uint32Array(this.array.buffer)
                          )),
                        {
                          uuid: this.uuid,
                          buffer: this.array.buffer._uuid,
                          type: this.array.constructor.name,
                          stride: this.stride,
                        }
                      )
                    },
                  },
                ]
              )
            })(),
            Hf = new gd(),
            Wf = (function () {
              function e(t, n, r) {
                var i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                ;(w(this, e),
                  (this.isInterleavedBufferAttribute = !0),
                  (this.name = ''),
                  (this.data = t),
                  (this.itemSize = n),
                  (this.offset = r),
                  (this.normalized = i))
              }
              return T(e, [
                {
                  key: 'count',
                  get: function () {
                    return this.data.count
                  },
                },
                {
                  key: 'array',
                  get: function () {
                    return this.data.array
                  },
                },
                {
                  key: 'needsUpdate',
                  set: function (e) {
                    this.data.needsUpdate = e
                  },
                },
                {
                  key: 'applyMatrix4',
                  value: function (e) {
                    for (var t = 0, n = this.data.count; t < n; t++)
                      (Hf.fromBufferAttribute(this, t),
                        Hf.applyMatrix4(e),
                        this.setXYZ(t, Hf.x, Hf.y, Hf.z))
                    return this
                  },
                },
                {
                  key: 'applyNormalMatrix',
                  value: function (e) {
                    for (var t = 0, n = this.count; t < n; t++)
                      (Hf.fromBufferAttribute(this, t),
                        Hf.applyNormalMatrix(e),
                        this.setXYZ(t, Hf.x, Hf.y, Hf.z))
                    return this
                  },
                },
                {
                  key: 'transformDirection',
                  value: function (e) {
                    for (var t = 0, n = this.count; t < n; t++)
                      (Hf.fromBufferAttribute(this, t),
                        Hf.transformDirection(e),
                        this.setXYZ(t, Hf.x, Hf.y, Hf.z))
                    return this
                  },
                },
                {
                  key: 'getComponent',
                  value: function (e, t) {
                    var n = this.array[e * this.data.stride + this.offset + t]
                    return (this.normalized && (n = Vc(n, this.array)), n)
                  },
                },
                {
                  key: 'setComponent',
                  value: function (e, t, n) {
                    return (
                      this.normalized && (n = Hc(n, this.array)),
                      (this.data.array[e * this.data.stride + this.offset + t] = n),
                      this
                    )
                  },
                },
                {
                  key: 'setX',
                  value: function (e, t) {
                    return (
                      this.normalized && (t = Hc(t, this.array)),
                      (this.data.array[e * this.data.stride + this.offset] = t),
                      this
                    )
                  },
                },
                {
                  key: 'setY',
                  value: function (e, t) {
                    return (
                      this.normalized && (t = Hc(t, this.array)),
                      (this.data.array[e * this.data.stride + this.offset + 1] = t),
                      this
                    )
                  },
                },
                {
                  key: 'setZ',
                  value: function (e, t) {
                    return (
                      this.normalized && (t = Hc(t, this.array)),
                      (this.data.array[e * this.data.stride + this.offset + 2] = t),
                      this
                    )
                  },
                },
                {
                  key: 'setW',
                  value: function (e, t) {
                    return (
                      this.normalized && (t = Hc(t, this.array)),
                      (this.data.array[e * this.data.stride + this.offset + 3] = t),
                      this
                    )
                  },
                },
                {
                  key: 'getX',
                  value: function (e) {
                    var t = this.data.array[e * this.data.stride + this.offset]
                    return (this.normalized && (t = Vc(t, this.array)), t)
                  },
                },
                {
                  key: 'getY',
                  value: function (e) {
                    var t = this.data.array[e * this.data.stride + this.offset + 1]
                    return (this.normalized && (t = Vc(t, this.array)), t)
                  },
                },
                {
                  key: 'getZ',
                  value: function (e) {
                    var t = this.data.array[e * this.data.stride + this.offset + 2]
                    return (this.normalized && (t = Vc(t, this.array)), t)
                  },
                },
                {
                  key: 'getW',
                  value: function (e) {
                    var t = this.data.array[e * this.data.stride + this.offset + 3]
                    return (this.normalized && (t = Vc(t, this.array)), t)
                  },
                },
                {
                  key: 'setXY',
                  value: function (e, t, n) {
                    return (
                      (e = e * this.data.stride + this.offset),
                      this.normalized && ((t = Hc(t, this.array)), (n = Hc(n, this.array))),
                      (this.data.array[e + 0] = t),
                      (this.data.array[e + 1] = n),
                      this
                    )
                  },
                },
                {
                  key: 'setXYZ',
                  value: function (e, t, n, r) {
                    return (
                      (e = e * this.data.stride + this.offset),
                      this.normalized &&
                        ((t = Hc(t, this.array)), (n = Hc(n, this.array)), (r = Hc(r, this.array))),
                      (this.data.array[e + 0] = t),
                      (this.data.array[e + 1] = n),
                      (this.data.array[e + 2] = r),
                      this
                    )
                  },
                },
                {
                  key: 'setXYZW',
                  value: function (e, t, n, r, i) {
                    return (
                      (e = e * this.data.stride + this.offset),
                      this.normalized &&
                        ((t = Hc(t, this.array)),
                        (n = Hc(n, this.array)),
                        (r = Hc(r, this.array)),
                        (i = Hc(i, this.array))),
                      (this.data.array[e + 0] = t),
                      (this.data.array[e + 1] = n),
                      (this.data.array[e + 2] = r),
                      (this.data.array[e + 3] = i),
                      this
                    )
                  },
                },
                {
                  key: 'clone',
                  value: function (t) {
                    if (void 0 === t) {
                      console.log(
                        'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.'
                      )
                      for (var n = [], r = 0; r < this.count; r++)
                        for (
                          var i = r * this.data.stride + this.offset, a = 0;
                          a < this.itemSize;
                          a++
                        )
                          n.push(this.data.array[i + a])
                      return new Kh(new this.array.constructor(n), this.itemSize, this.normalized)
                    }
                    return (
                      void 0 === t.interleavedBuffers && (t.interleavedBuffers = {}),
                      void 0 === t.interleavedBuffers[this.data.uuid] &&
                        (t.interleavedBuffers[this.data.uuid] = this.data.clone(t)),
                      new e(
                        t.interleavedBuffers[this.data.uuid],
                        this.itemSize,
                        this.offset,
                        this.normalized
                      )
                    )
                  },
                },
                {
                  key: 'toJSON',
                  value: function (e) {
                    if (void 0 === e) {
                      console.log(
                        'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.'
                      )
                      for (var t = [], n = 0; n < this.count; n++)
                        for (
                          var r = n * this.data.stride + this.offset, i = 0;
                          i < this.itemSize;
                          i++
                        )
                          t.push(this.data.array[r + i])
                      return {
                        itemSize: this.itemSize,
                        type: this.array.constructor.name,
                        array: t,
                        normalized: this.normalized,
                      }
                    }
                    return (
                      void 0 === e.interleavedBuffers && (e.interleavedBuffers = {}),
                      void 0 === e.interleavedBuffers[this.data.uuid] &&
                        (e.interleavedBuffers[this.data.uuid] = this.data.toJSON(e)),
                      {
                        isInterleavedBufferAttribute: !0,
                        itemSize: this.itemSize,
                        data: this.data.uuid,
                        offset: this.offset,
                        normalized: this.normalized,
                      }
                    )
                  },
                },
              ])
            })(),
            Gf = new gd(),
            jf = new dd(),
            Qf = new dd(),
            qf = new gd(),
            Xf = new qd(),
            Yf = new gd(),
            Kf = new Bd(),
            Zf = new qd(),
            Jf = new Qd(),
            $f = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isSkinnedMesh = !0),
                  (r.type = 'SkinnedMesh'),
                  (r.bindMode = rl),
                  (r.bindMatrix = new qd()),
                  (r.bindMatrixInverse = new qd()),
                  (r.boundingBox = null),
                  (r.boundingSphere = null),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'computeBoundingBox',
                    value: function () {
                      var e = this.geometry
                      ;(null === this.boundingBox && (this.boundingBox = new _d()),
                        this.boundingBox.makeEmpty())
                      for (var t = e.getAttribute('position'), n = 0; n < t.count; n++)
                        (this.getVertexPosition(n, Yf), this.boundingBox.expandByPoint(Yf))
                    },
                  },
                  {
                    key: 'computeBoundingSphere',
                    value: function () {
                      var e = this.geometry
                      ;(null === this.boundingSphere && (this.boundingSphere = new Bd()),
                        this.boundingSphere.makeEmpty())
                      for (var t = e.getAttribute('position'), n = 0; n < t.count; n++)
                        (this.getVertexPosition(n, Yf), this.boundingSphere.expandByPoint(Yf))
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.bindMode = e.bindMode),
                        this.bindMatrix.copy(e.bindMatrix),
                        this.bindMatrixInverse.copy(e.bindMatrixInverse),
                        (this.skeleton = e.skeleton),
                        null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
                        null !== e.boundingSphere &&
                          (this.boundingSphere = e.boundingSphere.clone()),
                        this
                      )
                    },
                  },
                  {
                    key: 'raycast',
                    value: function (e, t) {
                      var n = this.material,
                        r = this.matrixWorld
                      void 0 !== n &&
                        (null === this.boundingSphere && this.computeBoundingSphere(),
                        Kf.copy(this.boundingSphere),
                        Kf.applyMatrix4(r),
                        !1 !== e.ray.intersectsSphere(Kf) &&
                          (Zf.copy(r).invert(),
                          Jf.copy(e.ray).applyMatrix4(Zf),
                          (null !== this.boundingBox &&
                            !1 === Jf.intersectsBox(this.boundingBox)) ||
                            this._computeIntersections(e, t, Jf)))
                    },
                  },
                  {
                    key: 'getVertexPosition',
                    value: function (e, r) {
                      return (
                        n(t, 'getVertexPosition', this, 3)([e, r]),
                        this.applyBoneTransform(e, r),
                        r
                      )
                    },
                  },
                  {
                    key: 'bind',
                    value: function (e, t) {
                      ;((this.skeleton = e),
                        void 0 === t &&
                          (this.updateMatrixWorld(!0),
                          this.skeleton.calculateInverses(),
                          (t = this.matrixWorld)),
                        this.bindMatrix.copy(t),
                        this.bindMatrixInverse.copy(t).invert())
                    },
                  },
                  {
                    key: 'pose',
                    value: function () {
                      this.skeleton.pose()
                    },
                  },
                  {
                    key: 'normalizeSkinWeights',
                    value: function () {
                      for (
                        var e = new dd(),
                          t = this.geometry.attributes.skinWeight,
                          n = 0,
                          r = t.count;
                        n < r;
                        n++
                      ) {
                        e.fromBufferAttribute(t, n)
                        var i = 1 / e.manhattanLength()
                        ;(i !== 1 / 0 ? e.multiplyScalar(i) : e.set(1, 0, 0, 0),
                          t.setXYZW(n, e.x, e.y, e.z, e.w))
                      }
                    },
                  },
                  {
                    key: 'updateMatrixWorld',
                    value: function (e) {
                      ;(n(t, 'updateMatrixWorld', this, 3)([e]),
                        this.bindMode === rl
                          ? this.bindMatrixInverse.copy(this.matrixWorld).invert()
                          : 'detached' === this.bindMode
                            ? this.bindMatrixInverse.copy(this.bindMatrix).invert()
                            : console.warn(
                                'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode
                              ))
                    },
                  },
                  {
                    key: 'applyBoneTransform',
                    value: function (e, t) {
                      var n = this.skeleton,
                        r = this.geometry
                      ;(jf.fromBufferAttribute(r.attributes.skinIndex, e),
                        Qf.fromBufferAttribute(r.attributes.skinWeight, e),
                        Gf.copy(t).applyMatrix4(this.bindMatrix),
                        t.set(0, 0, 0))
                      for (var i = 0; i < 4; i++) {
                        var a = Qf.getComponent(i)
                        if (0 !== a) {
                          var o = jf.getComponent(i)
                          ;(Xf.multiplyMatrices(n.bones[o].matrixWorld, n.boneInverses[o]),
                            t.addScaledVector(qf.copy(Gf).applyMatrix4(Xf), a))
                        }
                      }
                      return t.applyMatrix4(this.bindMatrixInverse)
                    },
                  },
                ])
              )
            })(_f),
            ep = (function (e) {
              function t() {
                var e
                return (w(this, t), ((e = y(this, t)).isBone = !0), (e.type = 'Bone'), e)
              }
              return (b(t, e), T(t))
            })(_h),
            tp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 ? arguments[3] : void 0,
                  o = arguments.length > 4 ? arguments[4] : void 0,
                  s = arguments.length > 5 ? arguments[5] : void 0,
                  u = arguments.length > 6 ? arguments[6] : void 0,
                  l = arguments.length > 7 ? arguments[7] : void 0,
                  c = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : cl,
                  d = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : cl,
                  h = arguments.length > 10 ? arguments[10] : void 0,
                  f = arguments.length > 11 ? arguments[11] : void 0
                return (
                  w(this, t),
                  ((e = y(this, t, [null, s, u, l, c, d, a, o, h, f])).isDataTexture = !0),
                  (e.image = { data: n, width: r, height: i }),
                  (e.generateMipmaps = !1),
                  (e.flipY = !1),
                  (e.unpackAlignment = 1),
                  e
                )
              }
              return (b(t, e), T(t))
            })(cd),
            np = new qd(),
            rp = new qd(),
            ip = (function () {
              function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                ;(w(this, e),
                  (this.uuid = Fc()),
                  (this.bones = t.slice(0)),
                  (this.boneInverses = n),
                  (this.boneMatrices = null),
                  (this.boneTexture = null),
                  this.init())
              }
              return T(e, [
                {
                  key: 'init',
                  value: function () {
                    var e = this.bones,
                      t = this.boneInverses
                    if (((this.boneMatrices = new Float32Array(16 * e.length)), 0 === t.length))
                      this.calculateInverses()
                    else if (e.length !== t.length) {
                      ;(console.warn(
                        'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.'
                      ),
                        (this.boneInverses = []))
                      for (var n = 0, r = this.bones.length; n < r; n++)
                        this.boneInverses.push(new qd())
                    }
                  },
                },
                {
                  key: 'calculateInverses',
                  value: function () {
                    this.boneInverses.length = 0
                    for (var e = 0, t = this.bones.length; e < t; e++) {
                      var n = new qd()
                      ;(this.bones[e] && n.copy(this.bones[e].matrixWorld).invert(),
                        this.boneInverses.push(n))
                    }
                  },
                },
                {
                  key: 'pose',
                  value: function () {
                    for (var e = 0, t = this.bones.length; e < t; e++) {
                      var n = this.bones[e]
                      n && n.matrixWorld.copy(this.boneInverses[e]).invert()
                    }
                    for (var r = 0, i = this.bones.length; r < i; r++) {
                      var a = this.bones[r]
                      a &&
                        (a.parent && a.parent.isBone
                          ? (a.matrix.copy(a.parent.matrixWorld).invert(),
                            a.matrix.multiply(a.matrixWorld))
                          : a.matrix.copy(a.matrixWorld),
                        a.matrix.decompose(a.position, a.quaternion, a.scale))
                    }
                  },
                },
                {
                  key: 'update',
                  value: function () {
                    for (
                      var e = this.bones,
                        t = this.boneInverses,
                        n = this.boneMatrices,
                        r = this.boneTexture,
                        i = 0,
                        a = e.length;
                      i < a;
                      i++
                    ) {
                      var o = e[i] ? e[i].matrixWorld : rp
                      ;(np.multiplyMatrices(o, t[i]), np.toArray(n, 16 * i))
                    }
                    null !== r && (r.needsUpdate = !0)
                  },
                },
                {
                  key: 'clone',
                  value: function () {
                    return new e(this.bones, this.boneInverses)
                  },
                },
                {
                  key: 'computeBoneTexture',
                  value: function () {
                    var e = Math.sqrt(4 * this.bones.length)
                    ;((e = 4 * Math.ceil(e / 4)), (e = Math.max(e, 4)))
                    var t = new Float32Array(e * e * 4)
                    t.set(this.boneMatrices)
                    var n = new tp(t, e, e, El, bl)
                    return (
                      (n.needsUpdate = !0),
                      (this.boneMatrices = t),
                      (this.boneTexture = n),
                      this
                    )
                  },
                },
                {
                  key: 'getBoneByName',
                  value: function (e) {
                    for (var t = 0, n = this.bones.length; t < n; t++) {
                      var r = this.bones[t]
                      if (r.name === e) return r
                    }
                  },
                },
                {
                  key: 'dispose',
                  value: function () {
                    null !== this.boneTexture &&
                      (this.boneTexture.dispose(), (this.boneTexture = null))
                  },
                },
                {
                  key: 'fromJSON',
                  value: function (e, t) {
                    this.uuid = e.uuid
                    for (var n = 0, r = e.bones.length; n < r; n++) {
                      var i = e.bones[n],
                        a = t[i]
                      ;(void 0 === a &&
                        (console.warn('THREE.Skeleton: No bone found with UUID:', i),
                        (a = new ep())),
                        this.bones.push(a),
                        this.boneInverses.push(new qd().fromArray(e.boneInverses[n])))
                    }
                    return (this.init(), this)
                  },
                },
                {
                  key: 'toJSON',
                  value: function () {
                    var e = {
                      metadata: { version: 4.6, type: 'Skeleton', generator: 'Skeleton.toJSON' },
                      bones: [],
                      boneInverses: [],
                    }
                    e.uuid = this.uuid
                    for (
                      var t = this.bones, n = this.boneInverses, r = 0, i = t.length;
                      r < i;
                      r++
                    ) {
                      var a = t[r]
                      e.bones.push(a.uuid)
                      var o = n[r]
                      e.boneInverses.push(o.toArray())
                    }
                    return e
                  },
                },
              ])
            })(),
            ap = (function (e) {
              function t(e, n, r) {
                var i,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                return (
                  w(this, t),
                  ((i = y(this, t, [e, n, r])).isInstancedBufferAttribute = !0),
                  (i.meshPerAttribute = a),
                  i
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.meshPerAttribute = e.meshPerAttribute),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      var e = n(t, 'toJSON', this, 3)([])
                      return (
                        (e.meshPerAttribute = this.meshPerAttribute),
                        (e.isInstancedBufferAttribute = !0),
                        e
                      )
                    },
                  },
                ])
              )
            })(Kh),
            op = new qd(),
            sp = new qd(),
            up = [],
            lp = new _d(),
            cp = new qd(),
            dp = new _f(),
            hp = new Bd(),
            fp = (function (e) {
              function t(e, n, r) {
                var i
                ;(w(this, t),
                  ((i = y(this, t, [e, n])).isInstancedMesh = !0),
                  (i.instanceMatrix = new ap(new Float32Array(16 * r), 16)),
                  (i.instanceColor = null),
                  (i.morphTexture = null),
                  (i.count = r),
                  (i.boundingBox = null),
                  (i.boundingSphere = null))
                for (var a = 0; a < r; a++) i.setMatrixAt(a, cp)
                return i
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'computeBoundingBox',
                    value: function () {
                      var e = this.geometry,
                        t = this.count
                      ;(null === this.boundingBox && (this.boundingBox = new _d()),
                        null === e.boundingBox && e.computeBoundingBox(),
                        this.boundingBox.makeEmpty())
                      for (var n = 0; n < t; n++)
                        (this.getMatrixAt(n, op),
                          lp.copy(e.boundingBox).applyMatrix4(op),
                          this.boundingBox.union(lp))
                    },
                  },
                  {
                    key: 'computeBoundingSphere',
                    value: function () {
                      var e = this.geometry,
                        t = this.count
                      ;(null === this.boundingSphere && (this.boundingSphere = new Bd()),
                        null === e.boundingSphere && e.computeBoundingSphere(),
                        this.boundingSphere.makeEmpty())
                      for (var n = 0; n < t; n++)
                        (this.getMatrixAt(n, op),
                          hp.copy(e.boundingSphere).applyMatrix4(op),
                          this.boundingSphere.union(hp))
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        this.instanceMatrix.copy(e.instanceMatrix),
                        null !== e.morphTexture && (this.morphTexture = e.morphTexture.clone()),
                        null !== e.instanceColor && (this.instanceColor = e.instanceColor.clone()),
                        (this.count = e.count),
                        null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()),
                        null !== e.boundingSphere &&
                          (this.boundingSphere = e.boundingSphere.clone()),
                        this
                      )
                    },
                  },
                  {
                    key: 'getColorAt',
                    value: function (e, t) {
                      t.fromArray(this.instanceColor.array, 3 * e)
                    },
                  },
                  {
                    key: 'getMatrixAt',
                    value: function (e, t) {
                      t.fromArray(this.instanceMatrix.array, 16 * e)
                    },
                  },
                  {
                    key: 'getMorphAt',
                    value: function (e, t) {
                      for (
                        var n = t.morphTargetInfluences,
                          r = this.morphTexture.source.data.data,
                          i = e * (n.length + 1) + 1,
                          a = 0;
                        a < n.length;
                        a++
                      )
                        n[a] = r[i + a]
                    },
                  },
                  {
                    key: 'raycast',
                    value: function (e, t) {
                      var n = this.matrixWorld,
                        r = this.count
                      if (
                        ((dp.geometry = this.geometry),
                        (dp.material = this.material),
                        void 0 !== dp.material &&
                          (null === this.boundingSphere && this.computeBoundingSphere(),
                          hp.copy(this.boundingSphere),
                          hp.applyMatrix4(n),
                          !1 !== e.ray.intersectsSphere(hp)))
                      )
                        for (var i = 0; i < r; i++) {
                          ;(this.getMatrixAt(i, op),
                            sp.multiplyMatrices(n, op),
                            (dp.matrixWorld = sp),
                            dp.raycast(e, up))
                          for (var a = 0, o = up.length; a < o; a++) {
                            var s = up[a]
                            ;((s.instanceId = i), (s.object = this), t.push(s))
                          }
                          up.length = 0
                        }
                    },
                  },
                  {
                    key: 'setColorAt',
                    value: function (e, t) {
                      ;(null === this.instanceColor &&
                        (this.instanceColor = new ap(
                          new Float32Array(3 * this.instanceMatrix.count).fill(1),
                          3
                        )),
                        t.toArray(this.instanceColor.array, 3 * e))
                    },
                  },
                  {
                    key: 'setMatrixAt',
                    value: function (e, t) {
                      t.toArray(this.instanceMatrix.array, 16 * e)
                    },
                  },
                  {
                    key: 'setMorphAt',
                    value: function (e, t) {
                      var n = t.morphTargetInfluences,
                        r = n.length + 1
                      null === this.morphTexture &&
                        (this.morphTexture = new tp(
                          new Float32Array(r * this.count),
                          r,
                          this.count,
                          Rl,
                          bl
                        ))
                      for (
                        var i = this.morphTexture.source.data.data, a = 0, o = 0;
                        o < n.length;
                        o++
                      )
                        a += n[o]
                      var s = this.geometry.morphTargetsRelative ? 1 : 1 - a,
                        u = r * e
                      ;((i[u] = s), i.set(n, u + 1))
                    },
                  },
                  { key: 'updateMorphTargets', value: function () {} },
                  {
                    key: 'dispose',
                    value: function () {
                      return (
                        this.dispatchEvent({ type: 'dispose' }),
                        null !== this.morphTexture &&
                          (this.morphTexture.dispose(), (this.morphTexture = null)),
                        this
                      )
                    },
                  },
                ])
              )
            })(_f),
            pp = new gd(),
            vp = new gd(),
            mp = new jc(),
            gp = (function () {
              return T(
                function e() {
                  var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : new gd(1, 0, 0),
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  ;(w(this, e), (this.isPlane = !0), (this.normal = t), (this.constant = n))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t) {
                      return (this.normal.copy(e), (this.constant = t), this)
                    },
                  },
                  {
                    key: 'setComponents',
                    value: function (e, t, n, r) {
                      return (this.normal.set(e, t, n), (this.constant = r), this)
                    },
                  },
                  {
                    key: 'setFromNormalAndCoplanarPoint',
                    value: function (e, t) {
                      return (this.normal.copy(e), (this.constant = -t.dot(this.normal)), this)
                    },
                  },
                  {
                    key: 'setFromCoplanarPoints',
                    value: function (e, t, n) {
                      var r = pp.subVectors(n, t).cross(vp.subVectors(e, t)).normalize()
                      return (this.setFromNormalAndCoplanarPoint(r, e), this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (this.normal.copy(e.normal), (this.constant = e.constant), this)
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      var e = 1 / this.normal.length()
                      return (this.normal.multiplyScalar(e), (this.constant *= e), this)
                    },
                  },
                  {
                    key: 'negate',
                    value: function () {
                      return ((this.constant *= -1), this.normal.negate(), this)
                    },
                  },
                  {
                    key: 'distanceToPoint',
                    value: function (e) {
                      return this.normal.dot(e) + this.constant
                    },
                  },
                  {
                    key: 'distanceToSphere',
                    value: function (e) {
                      return this.distanceToPoint(e.center) - e.radius
                    },
                  },
                  {
                    key: 'projectPoint',
                    value: function (e, t) {
                      return t.copy(e).addScaledVector(this.normal, -this.distanceToPoint(e))
                    },
                  },
                  {
                    key: 'intersectLine',
                    value: function (e, t) {
                      var n = e.delta(pp),
                        r = this.normal.dot(n)
                      if (0 === r)
                        return 0 === this.distanceToPoint(e.start) ? t.copy(e.start) : null
                      var i = -(e.start.dot(this.normal) + this.constant) / r
                      return i < 0 || i > 1 ? null : t.copy(e.start).addScaledVector(n, i)
                    },
                  },
                  {
                    key: 'intersectsLine',
                    value: function (e) {
                      var t = this.distanceToPoint(e.start),
                        n = this.distanceToPoint(e.end)
                      return (t < 0 && n > 0) || (n < 0 && t > 0)
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      return e.intersectsPlane(this)
                    },
                  },
                  {
                    key: 'intersectsSphere',
                    value: function (e) {
                      return e.intersectsPlane(this)
                    },
                  },
                  {
                    key: 'coplanarPoint',
                    value: function (e) {
                      return e.copy(this.normal).multiplyScalar(-this.constant)
                    },
                  },
                  {
                    key: 'applyMatrix4',
                    value: function (e, t) {
                      var n = t || mp.getNormalMatrix(e),
                        r = this.coplanarPoint(pp).applyMatrix4(e),
                        i = this.normal.applyMatrix3(n).normalize()
                      return ((this.constant = -r.dot(i)), this)
                    },
                  },
                  {
                    key: 'translate',
                    value: function (e) {
                      return ((this.constant -= e.dot(this.normal)), this)
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      return e.normal.equals(this.normal) && e.constant === this.constant
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ]
              )
            })(),
            yp = new Bd(),
            xp = new gd(),
            _p = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new gp(),
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new gp(),
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new gp(),
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : new gp(),
                    a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : new gp(),
                    o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : new gp()
                  ;(w(this, e), (this.planes = [t, n, r, i, a, o]))
                },
                [
                  {
                    key: 'set',
                    value: function (e, t, n, r, i, a) {
                      var o = this.planes
                      return (
                        o[0].copy(e),
                        o[1].copy(t),
                        o[2].copy(n),
                        o[3].copy(r),
                        o[4].copy(i),
                        o[5].copy(a),
                        this
                      )
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      for (var t = this.planes, n = 0; n < 6; n++) t[n].copy(e.planes[n])
                      return this
                    },
                  },
                  {
                    key: 'setFromProjectionMatrix',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Rc,
                        n = this.planes,
                        r = e.elements,
                        i = r[0],
                        a = r[1],
                        o = r[2],
                        s = r[3],
                        u = r[4],
                        l = r[5],
                        c = r[6],
                        d = r[7],
                        h = r[8],
                        f = r[9],
                        p = r[10],
                        v = r[11],
                        m = r[12],
                        g = r[13],
                        y = r[14],
                        x = r[15]
                      if (
                        (n[0].setComponents(s - i, d - u, v - h, x - m).normalize(),
                        n[1].setComponents(s + i, d + u, v + h, x + m).normalize(),
                        n[2].setComponents(s + a, d + l, v + f, x + g).normalize(),
                        n[3].setComponents(s - a, d - l, v - f, x - g).normalize(),
                        n[4].setComponents(s - o, d - c, v - p, x - y).normalize(),
                        t === Rc)
                      )
                        n[5].setComponents(s + o, d + c, v + p, x + y).normalize()
                      else {
                        if (t !== Ic)
                          throw new Error(
                            'THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: ' +
                              t
                          )
                        n[5].setComponents(o, c, p, y).normalize()
                      }
                      return this
                    },
                  },
                  {
                    key: 'intersectsObject',
                    value: function (e) {
                      if (void 0 !== e.boundingSphere)
                        (null === e.boundingSphere && e.computeBoundingSphere(),
                          yp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld))
                      else {
                        var t = e.geometry
                        ;(null === t.boundingSphere && t.computeBoundingSphere(),
                          yp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld))
                      }
                      return this.intersectsSphere(yp)
                    },
                  },
                  {
                    key: 'intersectsSprite',
                    value: function (e) {
                      return (
                        yp.center.set(0, 0, 0),
                        (yp.radius = 0.7071067811865476),
                        yp.applyMatrix4(e.matrixWorld),
                        this.intersectsSphere(yp)
                      )
                    },
                  },
                  {
                    key: 'intersectsSphere',
                    value: function (e) {
                      for (var t = this.planes, n = e.center, r = -e.radius, i = 0; i < 6; i++) {
                        if (t[i].distanceToPoint(n) < r) return !1
                      }
                      return !0
                    },
                  },
                  {
                    key: 'intersectsBox',
                    value: function (e) {
                      for (var t = this.planes, n = 0; n < 6; n++) {
                        var r = t[n]
                        if (
                          ((xp.x = r.normal.x > 0 ? e.max.x : e.min.x),
                          (xp.y = r.normal.y > 0 ? e.max.y : e.min.y),
                          (xp.z = r.normal.z > 0 ? e.max.z : e.min.z),
                          r.distanceToPoint(xp) < 0)
                        )
                          return !1
                      }
                      return !0
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (e) {
                      for (var t = this.planes, n = 0; n < 6; n++)
                        if (t[n].distanceToPoint(e) < 0) return !1
                      return !0
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ]
              )
            })(),
            bp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isLineBasicMaterial = !0),
                  (n.type = 'LineBasicMaterial'),
                  (n.color = new Uh(16777215)),
                  (n.map = null),
                  (n.linewidth = 1),
                  (n.linecap = 'round'),
                  (n.linejoin = 'round'),
                  (n.fog = !0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        this.color.copy(e.color),
                        (this.map = e.map),
                        (this.linewidth = e.linewidth),
                        (this.linecap = e.linecap),
                        (this.linejoin = e.linejoin),
                        (this.fog = e.fog),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh),
            Sp = new gd(),
            wp = new gd(),
            Ap = new qd(),
            Tp = new Qd(),
            Mp = new Bd(),
            Ep = new gd(),
            Cp = new gd(),
            kp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new uf(),
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new bp()
                return (
                  w(this, t),
                  ((e = y(this, t)).isLine = !0),
                  (e.type = 'Line'),
                  (e.geometry = n),
                  (e.material = r),
                  e.updateMorphTargets(),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.material = Array.isArray(e.material)
                          ? e.material.slice()
                          : e.material),
                        (this.geometry = e.geometry),
                        this
                      )
                    },
                  },
                  {
                    key: 'computeLineDistances',
                    value: function () {
                      var e = this.geometry
                      if (null === e.index) {
                        for (var t = e.attributes.position, n = [0], r = 1, i = t.count; r < i; r++)
                          (Sp.fromBufferAttribute(t, r - 1),
                            wp.fromBufferAttribute(t, r),
                            (n[r] = n[r - 1]),
                            (n[r] += Sp.distanceTo(wp)))
                        e.setAttribute('lineDistance', new $h(n, 1))
                      } else
                        console.warn(
                          'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.'
                        )
                      return this
                    },
                  },
                  {
                    key: 'raycast',
                    value: function (e, t) {
                      var n = this.geometry,
                        r = this.matrixWorld,
                        i = e.params.Line.threshold,
                        a = n.drawRange
                      if (
                        (null === n.boundingSphere && n.computeBoundingSphere(),
                        Mp.copy(n.boundingSphere),
                        Mp.applyMatrix4(r),
                        (Mp.radius += i),
                        !1 !== e.ray.intersectsSphere(Mp))
                      ) {
                        ;(Ap.copy(r).invert(), Tp.copy(e.ray).applyMatrix4(Ap))
                        var o = i / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                          s = o * o,
                          u = this.isLineSegments ? 2 : 1,
                          l = n.index,
                          c = n.attributes.position
                        if (null !== l) {
                          for (
                            var d = Math.max(0, a.start),
                              h = Math.min(l.count, a.start + a.count),
                              f = d,
                              p = h - 1;
                            f < p;
                            f += u
                          ) {
                            var v = l.getX(f),
                              m = l.getX(f + 1),
                              g = Rp(this, e, Tp, s, v, m, f)
                            g && t.push(g)
                          }
                          if (this.isLineLoop) {
                            var y = l.getX(h - 1),
                              x = l.getX(d),
                              _ = Rp(this, e, Tp, s, y, x, h - 1)
                            _ && t.push(_)
                          }
                        } else {
                          for (
                            var b = Math.max(0, a.start),
                              S = Math.min(c.count, a.start + a.count),
                              w = b,
                              A = S - 1;
                            w < A;
                            w += u
                          ) {
                            var T = Rp(this, e, Tp, s, w, w + 1, w)
                            T && t.push(T)
                          }
                          if (this.isLineLoop) {
                            var M = Rp(this, e, Tp, s, S - 1, b, S - 1)
                            M && t.push(M)
                          }
                        }
                      }
                    },
                  },
                  {
                    key: 'updateMorphTargets',
                    value: function () {
                      var e = this.geometry.morphAttributes,
                        t = Object.keys(e)
                      if (t.length > 0) {
                        var n = e[t[0]]
                        if (void 0 !== n) {
                          ;((this.morphTargetInfluences = []), (this.morphTargetDictionary = {}))
                          for (var r = 0, i = n.length; r < i; r++) {
                            var a = n[r].name || String(r)
                            ;(this.morphTargetInfluences.push(0),
                              (this.morphTargetDictionary[a] = r))
                          }
                        }
                      }
                    },
                  },
                ])
              )
            })(_h)
          function Rp(e, t, n, r, i, a, o) {
            var s = e.geometry.attributes.position
            if (
              (Sp.fromBufferAttribute(s, i),
              wp.fromBufferAttribute(s, a),
              !(n.distanceSqToSegment(Sp, wp, Ep, Cp) > r))
            ) {
              Ep.applyMatrix4(e.matrixWorld)
              var u = t.ray.origin.distanceTo(Ep)
              if (!(u < t.near || u > t.far))
                return {
                  distance: u,
                  point: Cp.clone().applyMatrix4(e.matrixWorld),
                  index: o,
                  face: null,
                  faceIndex: null,
                  barycoord: null,
                  object: e,
                }
            }
          }
          var Ip = new gd(),
            Np = new gd(),
            Pp = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isLineSegments = !0),
                  (r.type = 'LineSegments'),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'computeLineDistances',
                    value: function () {
                      var e = this.geometry
                      if (null === e.index) {
                        for (
                          var t = e.attributes.position, n = [], r = 0, i = t.count;
                          r < i;
                          r += 2
                        )
                          (Ip.fromBufferAttribute(t, r),
                            Np.fromBufferAttribute(t, r + 1),
                            (n[r] = 0 === r ? 0 : n[r - 1]),
                            (n[r + 1] = n[r] + Ip.distanceTo(Np)))
                        e.setAttribute('lineDistance', new $h(n, 1))
                      } else
                        console.warn(
                          'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.'
                        )
                      return this
                    },
                  },
                ])
              )
            })(kp),
            Lp = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isLineLoop = !0),
                  (r.type = 'LineLoop'),
                  r
                )
              }
              return (b(t, e), T(t))
            })(kp),
            Dp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isPointsMaterial = !0),
                  (n.type = 'PointsMaterial'),
                  (n.color = new Uh(16777215)),
                  (n.map = null),
                  (n.alphaMap = null),
                  (n.size = 1),
                  (n.sizeAttenuation = !0),
                  (n.fog = !0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        this.color.copy(e.color),
                        (this.map = e.map),
                        (this.alphaMap = e.alphaMap),
                        (this.size = e.size),
                        (this.sizeAttenuation = e.sizeAttenuation),
                        (this.fog = e.fog),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh),
            Op = new qd(),
            Fp = new Qd(),
            Bp = new Bd(),
            Up = new gd(),
            zp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new uf(),
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new Dp()
                return (
                  w(this, t),
                  ((e = y(this, t)).isPoints = !0),
                  (e.type = 'Points'),
                  (e.geometry = n),
                  (e.material = r),
                  e.updateMorphTargets(),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.material = Array.isArray(e.material)
                          ? e.material.slice()
                          : e.material),
                        (this.geometry = e.geometry),
                        this
                      )
                    },
                  },
                  {
                    key: 'raycast',
                    value: function (e, t) {
                      var n = this.geometry,
                        r = this.matrixWorld,
                        i = e.params.Points.threshold,
                        a = n.drawRange
                      if (
                        (null === n.boundingSphere && n.computeBoundingSphere(),
                        Bp.copy(n.boundingSphere),
                        Bp.applyMatrix4(r),
                        (Bp.radius += i),
                        !1 !== e.ray.intersectsSphere(Bp))
                      ) {
                        ;(Op.copy(r).invert(), Fp.copy(e.ray).applyMatrix4(Op))
                        var o = i / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                          s = o * o,
                          u = n.index,
                          l = n.attributes.position
                        if (null !== u)
                          for (
                            var c = Math.max(0, a.start), d = Math.min(u.count, a.start + a.count);
                            c < d;
                            c++
                          ) {
                            var h = u.getX(c)
                            ;(Up.fromBufferAttribute(l, h), Vp(Up, h, s, r, e, t, this))
                          }
                        else
                          for (
                            var f = Math.max(0, a.start), p = Math.min(l.count, a.start + a.count);
                            f < p;
                            f++
                          )
                            (Up.fromBufferAttribute(l, f), Vp(Up, f, s, r, e, t, this))
                      }
                    },
                  },
                  {
                    key: 'updateMorphTargets',
                    value: function () {
                      var e = this.geometry.morphAttributes,
                        t = Object.keys(e)
                      if (t.length > 0) {
                        var n = e[t[0]]
                        if (void 0 !== n) {
                          ;((this.morphTargetInfluences = []), (this.morphTargetDictionary = {}))
                          for (var r = 0, i = n.length; r < i; r++) {
                            var a = n[r].name || String(r)
                            ;(this.morphTargetInfluences.push(0),
                              (this.morphTargetDictionary[a] = r))
                          }
                        }
                      }
                    },
                  },
                ])
              )
            })(_h)
          function Vp(e, t, n, r, i, a, o) {
            var s = Fp.distanceSqToPoint(e)
            if (s < n) {
              var u = new gd()
              ;(Fp.closestPointToPoint(e, u), u.applyMatrix4(r))
              var l = i.ray.origin.distanceTo(u)
              if (l < i.near || l > i.far) return
              a.push({
                distance: l,
                distanceToRay: Math.sqrt(s),
                point: u,
                index: t,
                face: null,
                faceIndex: null,
                barycoord: null,
                object: o,
              })
            }
          }
          var Hp = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [{ width: e, height: n }])).isFramebufferTexture = !0),
                  (r.magFilter = cl),
                  (r.minFilter = cl),
                  (r.generateMipmaps = !1),
                  (r.needsUpdate = !0),
                  r
                )
              }
              return (b(t, e), T(t))
            })(cd),
            Wp = (function (e) {
              function t(e, n, r, i, a, o, s, u, l) {
                var c,
                  d = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : Cl
                if ((w(this, t), d !== Cl && d !== kl))
                  throw new Error(
                    'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat'
                  )
                return (
                  void 0 === r && d === Cl && (r = _l),
                  void 0 === r && d === kl && (r = Tl),
                  ((c = y(this, t, [null, i, a, o, s, u, d, r, l])).isDepthTexture = !0),
                  (c.image = { width: e, height: n }),
                  (c.magFilter = void 0 !== s ? s : cl),
                  (c.minFilter = void 0 !== u ? u : cl),
                  (c.flipY = !1),
                  (c.generateMipmaps = !1),
                  (c.compareFunction = null),
                  c
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.compareFunction = e.compareFunction),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        null !== this.compareFunction && (r.compareFunction = this.compareFunction),
                        r
                      )
                    },
                  },
                ])
              )
            })(cd),
            Gp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 32,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                  s = arguments.length > 5 && void 0 !== arguments[5] && arguments[5],
                  u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                  l = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 2 * Math.PI
                ;(w(this, t),
                  ((e = y(this, t)).type = 'CylinderGeometry'),
                  (e.parameters = {
                    radiusTop: n,
                    radiusBottom: r,
                    height: i,
                    radialSegments: a,
                    heightSegments: o,
                    openEnded: s,
                    thetaStart: u,
                    thetaLength: l,
                  }))
                var c = e
                ;((a = Math.floor(a)), (o = Math.floor(o)))
                var d = [],
                  h = [],
                  f = [],
                  p = [],
                  v = 0,
                  m = [],
                  g = i / 2,
                  x = 0
                function _(e) {
                  for (
                    var t = v,
                      i = new Gc(),
                      o = new gd(),
                      s = 0,
                      m = !0 === e ? n : r,
                      y = !0 === e ? 1 : -1,
                      _ = 1;
                    _ <= a;
                    _++
                  )
                    (h.push(0, g * y, 0), f.push(0, y, 0), p.push(0.5, 0.5), v++)
                  for (var b = v, S = 0; S <= a; S++) {
                    var w = (S / a) * l + u,
                      A = Math.cos(w),
                      T = Math.sin(w)
                    ;((o.x = m * T),
                      (o.y = g * y),
                      (o.z = m * A),
                      h.push(o.x, o.y, o.z),
                      f.push(0, y, 0),
                      (i.x = 0.5 * A + 0.5),
                      (i.y = 0.5 * T * y + 0.5),
                      p.push(i.x, i.y),
                      v++)
                  }
                  for (var M = 0; M < a; M++) {
                    var E = t + M,
                      C = b + M
                    ;(!0 === e ? d.push(C, C + 1, E) : d.push(C + 1, C, E), (s += 3))
                  }
                  ;(c.addGroup(x, s, !0 === e ? 1 : 2), (x += s))
                }
                return (
                  (function () {
                    for (
                      var e = new gd(), t = new gd(), s = 0, y = (r - n) / i, _ = 0;
                      _ <= o;
                      _++
                    ) {
                      for (var b = [], S = _ / o, w = S * (r - n) + n, A = 0; A <= a; A++) {
                        var T = A / a,
                          M = T * l + u,
                          E = Math.sin(M),
                          C = Math.cos(M)
                        ;((t.x = w * E),
                          (t.y = -S * i + g),
                          (t.z = w * C),
                          h.push(t.x, t.y, t.z),
                          e.set(E, y, C).normalize(),
                          f.push(e.x, e.y, e.z),
                          p.push(T, 1 - S),
                          b.push(v++))
                      }
                      m.push(b)
                    }
                    for (var k = 0; k < a; k++)
                      for (var R = 0; R < o; R++) {
                        var I = m[R][k],
                          N = m[R + 1][k],
                          P = m[R + 1][k + 1],
                          L = m[R][k + 1]
                        ;((n > 0 || 0 !== R) && (d.push(I, N, L), (s += 3)),
                          (r > 0 || R !== o - 1) && (d.push(N, P, L), (s += 3)))
                      }
                    ;(c.addGroup(x, s, 0), (x += s))
                  })(),
                  !1 === s && (n > 0 && _(!0), r > 0 && _(!1)),
                  e.setIndex(d),
                  e.setAttribute('position', new $h(h, 3)),
                  e.setAttribute('normal', new $h(f, 3)),
                  e.setAttribute('uv', new $h(p, 2)),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'copy',
                      value: function (e) {
                        return (
                          n(t, 'copy', this, 3)([e]),
                          (this.parameters = Object.assign({}, e.parameters)),
                          this
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'fromJSON',
                      value: function (e) {
                        return new t(
                          e.radiusTop,
                          e.radiusBottom,
                          e.height,
                          e.radialSegments,
                          e.heightSegments,
                          e.openEnded,
                          e.thetaStart,
                          e.thetaLength
                        )
                      },
                    },
                  ]
                )
              )
            })(uf),
            jp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 32,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                  o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                  u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 2 * Math.PI
                return (
                  w(this, t),
                  ((e = y(this, t, [0, n, r, i, a, o, s, u])).type = 'ConeGeometry'),
                  (e.parameters = {
                    radius: n,
                    height: r,
                    radialSegments: i,
                    heightSegments: a,
                    openEnded: o,
                    thetaStart: s,
                    thetaLength: u,
                  }),
                  e
                )
              }
              return (
                b(t, e),
                T(t, null, [
                  {
                    key: 'fromJSON',
                    value: function (e) {
                      return new t(
                        e.radius,
                        e.height,
                        e.radialSegments,
                        e.heightSegments,
                        e.openEnded,
                        e.thetaStart,
                        e.thetaLength
                      )
                    },
                  },
                ])
              )
            })(Gp),
            Qp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                ;(w(this, t),
                  ((e = y(this, t)).type = 'PlaneGeometry'),
                  (e.parameters = { width: n, height: r, widthSegments: i, heightSegments: a }))
                for (
                  var o = n / 2,
                    s = r / 2,
                    u = Math.floor(i),
                    l = Math.floor(a),
                    c = u + 1,
                    d = l + 1,
                    h = n / u,
                    f = r / l,
                    p = [],
                    v = [],
                    m = [],
                    g = [],
                    x = 0;
                  x < d;
                  x++
                )
                  for (var _ = x * f - s, b = 0; b < c; b++) {
                    var S = b * h - o
                    ;(v.push(S, -_, 0), m.push(0, 0, 1), g.push(b / u), g.push(1 - x / l))
                  }
                for (var A = 0; A < l; A++)
                  for (var T = 0; T < u; T++) {
                    var M = T + c * A,
                      E = T + c * (A + 1),
                      C = T + 1 + c * (A + 1),
                      k = T + 1 + c * A
                    ;(p.push(M, E, k), p.push(E, C, k))
                  }
                return (
                  e.setIndex(p),
                  e.setAttribute('position', new $h(v, 3)),
                  e.setAttribute('normal', new $h(m, 3)),
                  e.setAttribute('uv', new $h(g, 2)),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'copy',
                      value: function (e) {
                        return (
                          n(t, 'copy', this, 3)([e]),
                          (this.parameters = Object.assign({}, e.parameters)),
                          this
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'fromJSON',
                      value: function (e) {
                        return new t(e.width, e.height, e.widthSegments, e.heightSegments)
                      },
                    },
                  ]
                )
              )
            })(uf),
            qp = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 32,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 2 * Math.PI,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                  u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : Math.PI
                ;(w(this, t),
                  ((e = y(this, t)).type = 'SphereGeometry'),
                  (e.parameters = {
                    radius: n,
                    widthSegments: r,
                    heightSegments: i,
                    phiStart: a,
                    phiLength: o,
                    thetaStart: s,
                    thetaLength: u,
                  }),
                  (r = Math.max(3, Math.floor(r))),
                  (i = Math.max(2, Math.floor(i))))
                for (
                  var l = Math.min(s + u, Math.PI),
                    c = 0,
                    d = [],
                    h = new gd(),
                    f = new gd(),
                    p = [],
                    v = [],
                    m = [],
                    g = [],
                    x = 0;
                  x <= i;
                  x++
                ) {
                  var _ = [],
                    b = x / i,
                    S = 0
                  0 === x && 0 === s ? (S = 0.5 / r) : x === i && l === Math.PI && (S = -0.5 / r)
                  for (var A = 0; A <= r; A++) {
                    var T = A / r
                    ;((h.x = -n * Math.cos(a + T * o) * Math.sin(s + b * u)),
                      (h.y = n * Math.cos(s + b * u)),
                      (h.z = n * Math.sin(a + T * o) * Math.sin(s + b * u)),
                      v.push(h.x, h.y, h.z),
                      f.copy(h).normalize(),
                      m.push(f.x, f.y, f.z),
                      g.push(T + S, 1 - b),
                      _.push(c++))
                  }
                  d.push(_)
                }
                for (var M = 0; M < i; M++)
                  for (var E = 0; E < r; E++) {
                    var C = d[M][E + 1],
                      k = d[M][E],
                      R = d[M + 1][E],
                      I = d[M + 1][E + 1]
                    ;((0 !== M || s > 0) && p.push(C, k, I),
                      (M !== i - 1 || l < Math.PI) && p.push(k, R, I))
                  }
                return (
                  e.setIndex(p),
                  e.setAttribute('position', new $h(v, 3)),
                  e.setAttribute('normal', new $h(m, 3)),
                  e.setAttribute('uv', new $h(g, 2)),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'copy',
                      value: function (e) {
                        return (
                          n(t, 'copy', this, 3)([e]),
                          (this.parameters = Object.assign({}, e.parameters)),
                          this
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'fromJSON',
                      value: function (e) {
                        return new t(
                          e.radius,
                          e.widthSegments,
                          e.heightSegments,
                          e.phiStart,
                          e.phiLength,
                          e.thetaStart,
                          e.thetaLength
                        )
                      },
                    },
                  ]
                )
              )
            })(uf),
            Xp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isMeshStandardMaterial = !0),
                  (n.type = 'MeshStandardMaterial'),
                  (n.defines = { STANDARD: '' }),
                  (n.color = new Uh(16777215)),
                  (n.roughness = 1),
                  (n.metalness = 0),
                  (n.map = null),
                  (n.lightMap = null),
                  (n.lightMapIntensity = 1),
                  (n.aoMap = null),
                  (n.aoMapIntensity = 1),
                  (n.emissive = new Uh(0)),
                  (n.emissiveIntensity = 1),
                  (n.emissiveMap = null),
                  (n.bumpMap = null),
                  (n.bumpScale = 1),
                  (n.normalMap = null),
                  (n.normalMapType = 0),
                  (n.normalScale = new Gc(1, 1)),
                  (n.displacementMap = null),
                  (n.displacementScale = 1),
                  (n.displacementBias = 0),
                  (n.roughnessMap = null),
                  (n.metalnessMap = null),
                  (n.alphaMap = null),
                  (n.envMap = null),
                  (n.envMapRotation = new rh()),
                  (n.envMapIntensity = 1),
                  (n.wireframe = !1),
                  (n.wireframeLinewidth = 1),
                  (n.wireframeLinecap = 'round'),
                  (n.wireframeLinejoin = 'round'),
                  (n.flatShading = !1),
                  (n.fog = !0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.defines = { STANDARD: '' }),
                        this.color.copy(e.color),
                        (this.roughness = e.roughness),
                        (this.metalness = e.metalness),
                        (this.map = e.map),
                        (this.lightMap = e.lightMap),
                        (this.lightMapIntensity = e.lightMapIntensity),
                        (this.aoMap = e.aoMap),
                        (this.aoMapIntensity = e.aoMapIntensity),
                        this.emissive.copy(e.emissive),
                        (this.emissiveMap = e.emissiveMap),
                        (this.emissiveIntensity = e.emissiveIntensity),
                        (this.bumpMap = e.bumpMap),
                        (this.bumpScale = e.bumpScale),
                        (this.normalMap = e.normalMap),
                        (this.normalMapType = e.normalMapType),
                        this.normalScale.copy(e.normalScale),
                        (this.displacementMap = e.displacementMap),
                        (this.displacementScale = e.displacementScale),
                        (this.displacementBias = e.displacementBias),
                        (this.roughnessMap = e.roughnessMap),
                        (this.metalnessMap = e.metalnessMap),
                        (this.alphaMap = e.alphaMap),
                        (this.envMap = e.envMap),
                        this.envMapRotation.copy(e.envMapRotation),
                        (this.envMapIntensity = e.envMapIntensity),
                        (this.wireframe = e.wireframe),
                        (this.wireframeLinewidth = e.wireframeLinewidth),
                        (this.wireframeLinecap = e.wireframeLinecap),
                        (this.wireframeLinejoin = e.wireframeLinejoin),
                        (this.flatShading = e.flatShading),
                        (this.fog = e.fog),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh),
            Yp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isMeshPhysicalMaterial = !0),
                  (n.defines = { STANDARD: '', PHYSICAL: '' }),
                  (n.type = 'MeshPhysicalMaterial'),
                  (n.anisotropyRotation = 0),
                  (n.anisotropyMap = null),
                  (n.clearcoatMap = null),
                  (n.clearcoatRoughness = 0),
                  (n.clearcoatRoughnessMap = null),
                  (n.clearcoatNormalScale = new Gc(1, 1)),
                  (n.clearcoatNormalMap = null),
                  (n.ior = 1.5),
                  Object.defineProperty(n, 'reflectivity', {
                    get: function () {
                      return Bc((2.5 * (this.ior - 1)) / (this.ior + 1), 0, 1)
                    },
                    set: function (e) {
                      this.ior = (1 + 0.4 * e) / (1 - 0.4 * e)
                    },
                  }),
                  (n.iridescenceMap = null),
                  (n.iridescenceIOR = 1.3),
                  (n.iridescenceThicknessRange = [100, 400]),
                  (n.iridescenceThicknessMap = null),
                  (n.sheenColor = new Uh(0)),
                  (n.sheenColorMap = null),
                  (n.sheenRoughness = 1),
                  (n.sheenRoughnessMap = null),
                  (n.transmissionMap = null),
                  (n.thickness = 0),
                  (n.thicknessMap = null),
                  (n.attenuationDistance = 1 / 0),
                  (n.attenuationColor = new Uh(1, 1, 1)),
                  (n.specularIntensity = 1),
                  (n.specularIntensityMap = null),
                  (n.specularColor = new Uh(1, 1, 1)),
                  (n.specularColorMap = null),
                  (n._anisotropy = 0),
                  (n._clearcoat = 0),
                  (n._dispersion = 0),
                  (n._iridescence = 0),
                  (n._sheen = 0),
                  (n._transmission = 0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'anisotropy',
                    get: function () {
                      return this._anisotropy
                    },
                    set: function (e) {
                      ;(this._anisotropy > 0 != e > 0 && this.version++, (this._anisotropy = e))
                    },
                  },
                  {
                    key: 'clearcoat',
                    get: function () {
                      return this._clearcoat
                    },
                    set: function (e) {
                      ;(this._clearcoat > 0 != e > 0 && this.version++, (this._clearcoat = e))
                    },
                  },
                  {
                    key: 'iridescence',
                    get: function () {
                      return this._iridescence
                    },
                    set: function (e) {
                      ;(this._iridescence > 0 != e > 0 && this.version++, (this._iridescence = e))
                    },
                  },
                  {
                    key: 'dispersion',
                    get: function () {
                      return this._dispersion
                    },
                    set: function (e) {
                      ;(this._dispersion > 0 != e > 0 && this.version++, (this._dispersion = e))
                    },
                  },
                  {
                    key: 'sheen',
                    get: function () {
                      return this._sheen
                    },
                    set: function (e) {
                      ;(this._sheen > 0 != e > 0 && this.version++, (this._sheen = e))
                    },
                  },
                  {
                    key: 'transmission',
                    get: function () {
                      return this._transmission
                    },
                    set: function (e) {
                      ;(this._transmission > 0 != e > 0 && this.version++, (this._transmission = e))
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.defines = { STANDARD: '', PHYSICAL: '' }),
                        (this.anisotropy = e.anisotropy),
                        (this.anisotropyRotation = e.anisotropyRotation),
                        (this.anisotropyMap = e.anisotropyMap),
                        (this.clearcoat = e.clearcoat),
                        (this.clearcoatMap = e.clearcoatMap),
                        (this.clearcoatRoughness = e.clearcoatRoughness),
                        (this.clearcoatRoughnessMap = e.clearcoatRoughnessMap),
                        (this.clearcoatNormalMap = e.clearcoatNormalMap),
                        this.clearcoatNormalScale.copy(e.clearcoatNormalScale),
                        (this.dispersion = e.dispersion),
                        (this.ior = e.ior),
                        (this.iridescence = e.iridescence),
                        (this.iridescenceMap = e.iridescenceMap),
                        (this.iridescenceIOR = e.iridescenceIOR),
                        (this.iridescenceThicknessRange = I(e.iridescenceThicknessRange)),
                        (this.iridescenceThicknessMap = e.iridescenceThicknessMap),
                        (this.sheen = e.sheen),
                        this.sheenColor.copy(e.sheenColor),
                        (this.sheenColorMap = e.sheenColorMap),
                        (this.sheenRoughness = e.sheenRoughness),
                        (this.sheenRoughnessMap = e.sheenRoughnessMap),
                        (this.transmission = e.transmission),
                        (this.transmissionMap = e.transmissionMap),
                        (this.thickness = e.thickness),
                        (this.thicknessMap = e.thicknessMap),
                        (this.attenuationDistance = e.attenuationDistance),
                        this.attenuationColor.copy(e.attenuationColor),
                        (this.specularIntensity = e.specularIntensity),
                        (this.specularIntensityMap = e.specularIntensityMap),
                        this.specularColor.copy(e.specularColor),
                        (this.specularColorMap = e.specularColorMap),
                        this
                      )
                    },
                  },
                ])
              )
            })(Xp),
            Kp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isMeshDepthMaterial = !0),
                  (n.type = 'MeshDepthMaterial'),
                  (n.depthPacking = 3200),
                  (n.map = null),
                  (n.alphaMap = null),
                  (n.displacementMap = null),
                  (n.displacementScale = 1),
                  (n.displacementBias = 0),
                  (n.wireframe = !1),
                  (n.wireframeLinewidth = 1),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.depthPacking = e.depthPacking),
                        (this.map = e.map),
                        (this.alphaMap = e.alphaMap),
                        (this.displacementMap = e.displacementMap),
                        (this.displacementScale = e.displacementScale),
                        (this.displacementBias = e.displacementBias),
                        (this.wireframe = e.wireframe),
                        (this.wireframeLinewidth = e.wireframeLinewidth),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh),
            Zp = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).isMeshDistanceMaterial = !0),
                  (n.type = 'MeshDistanceMaterial'),
                  (n.map = null),
                  (n.alphaMap = null),
                  (n.displacementMap = null),
                  (n.displacementScale = 1),
                  (n.displacementBias = 0),
                  n.setValues(e),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.map = e.map),
                        (this.alphaMap = e.alphaMap),
                        (this.displacementMap = e.displacementMap),
                        (this.displacementScale = e.displacementScale),
                        (this.displacementBias = e.displacementBias),
                        this
                      )
                    },
                  },
                ])
              )
            })(Hh)
          function Jp(e, t, n) {
            return !e || (!n && e.constructor === t)
              ? e
              : 'number' == typeof t.BYTES_PER_ELEMENT
                ? new t(e)
                : Array.prototype.slice.call(e)
          }
          function $p(e) {
            for (var t = e.length, n = new Array(t), r = 0; r !== t; ++r) n[r] = r
            return (
              n.sort(function (t, n) {
                return e[t] - e[n]
              }),
              n
            )
          }
          function ev(e, t, n) {
            for (var r = e.length, i = new e.constructor(r), a = 0, o = 0; o !== r; ++a)
              for (var s = n[a] * t, u = 0; u !== t; ++u) i[o++] = e[s + u]
            return i
          }
          function tv(e, t, n, r) {
            for (var i = 1, a = e[0]; void 0 !== a && void 0 === a[r]; ) a = e[i++]
            if (void 0 !== a) {
              var o = a[r]
              if (void 0 !== o)
                if (Array.isArray(o))
                  do {
                    ;(void 0 !== (o = a[r]) && (t.push(a.time), n.push.apply(n, o)), (a = e[i++]))
                  } while (void 0 !== a)
                else if (void 0 !== o.toArray)
                  do {
                    ;(void 0 !== (o = a[r]) && (t.push(a.time), o.toArray(n, n.length)),
                      (a = e[i++]))
                  } while (void 0 !== a)
                else
                  do {
                    ;(void 0 !== (o = a[r]) && (t.push(a.time), n.push(o)), (a = e[i++]))
                  } while (void 0 !== a)
            }
          }
          var nv = (function () {
              return T(
                function e(t, n, r, i) {
                  ;(w(this, e),
                    (this.parameterPositions = t),
                    (this._cachedIndex = 0),
                    (this.resultBuffer = void 0 !== i ? i : new n.constructor(r)),
                    (this.sampleValues = n),
                    (this.valueSize = r),
                    (this.settings = null),
                    (this.DefaultSettings_ = {}))
                },
                [
                  {
                    key: 'evaluate',
                    value: function (e) {
                      var t = this.parameterPositions,
                        n = this._cachedIndex,
                        r = t[n],
                        i = t[n - 1]
                      e: {
                        t: {
                          var a
                          n: {
                            r: if (!(e < r)) {
                              for (var o = n + 2; ; ) {
                                if (void 0 === r) {
                                  if (e < i) break r
                                  return (
                                    (n = t.length),
                                    (this._cachedIndex = n),
                                    this.copySampleValue_(n - 1)
                                  )
                                }
                                if (n === o) break
                                if (((i = r), e < (r = t[++n]))) break t
                              }
                              a = t.length
                              break n
                            }
                            if (e >= i) break e
                            var s = t[1]
                            e < s && ((n = 2), (i = s))
                            for (var u = n - 2; ; ) {
                              if (void 0 === i)
                                return ((this._cachedIndex = 0), this.copySampleValue_(0))
                              if (n === u) break
                              if (((r = i), e >= (i = t[--n - 1]))) break t
                            }
                            ;((a = n), (n = 0))
                          }
                          for (; n < a; ) {
                            var l = (n + a) >>> 1
                            e < t[l] ? (a = l) : (n = l + 1)
                          }
                          if (((r = t[n]), void 0 === (i = t[n - 1])))
                            return ((this._cachedIndex = 0), this.copySampleValue_(0))
                          if (void 0 === r)
                            return (
                              (n = t.length),
                              (this._cachedIndex = n),
                              this.copySampleValue_(n - 1)
                            )
                        }
                        ;((this._cachedIndex = n), this.intervalChanged_(n, i, r))
                      }
                      return this.interpolate_(n, i, e, r)
                    },
                  },
                  {
                    key: 'getSettings_',
                    value: function () {
                      return this.settings || this.DefaultSettings_
                    },
                  },
                  {
                    key: 'copySampleValue_',
                    value: function (e) {
                      for (
                        var t = this.resultBuffer,
                          n = this.sampleValues,
                          r = this.valueSize,
                          i = e * r,
                          a = 0;
                        a !== r;
                        ++a
                      )
                        t[a] = n[i + a]
                      return t
                    },
                  },
                  {
                    key: 'interpolate_',
                    value: function () {
                      throw new Error('call to abstract method')
                    },
                  },
                  { key: 'intervalChanged_', value: function () {} },
                ]
              )
            })(),
            rv = (function (e) {
              function t(e, n, r, i) {
                var a
                return (
                  w(this, t),
                  ((a = y(this, t, [e, n, r, i]))._weightPrev = -0),
                  (a._offsetPrev = -0),
                  (a._weightNext = -0),
                  (a._offsetNext = -0),
                  (a.DefaultSettings_ = { endingStart: gc, endingEnd: gc }),
                  a
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'intervalChanged_',
                    value: function (e, t, n) {
                      var r = this.parameterPositions,
                        i = e - 2,
                        a = e + 1,
                        o = r[i],
                        s = r[a]
                      if (void 0 === o)
                        switch (this.getSettings_().endingStart) {
                          case yc:
                            ;((i = e), (o = 2 * t - n))
                            break
                          case xc:
                            o = t + r[(i = r.length - 2)] - r[i + 1]
                            break
                          default:
                            ;((i = e), (o = n))
                        }
                      if (void 0 === s)
                        switch (this.getSettings_().endingEnd) {
                          case yc:
                            ;((a = e), (s = 2 * n - t))
                            break
                          case xc:
                            ;((a = 1), (s = n + r[1] - r[0]))
                            break
                          default:
                            ;((a = e - 1), (s = t))
                        }
                      var u = 0.5 * (n - t),
                        l = this.valueSize
                      ;((this._weightPrev = u / (t - o)),
                        (this._weightNext = u / (s - n)),
                        (this._offsetPrev = i * l),
                        (this._offsetNext = a * l))
                    },
                  },
                  {
                    key: 'interpolate_',
                    value: function (e, t, n, r) {
                      for (
                        var i = this.resultBuffer,
                          a = this.sampleValues,
                          o = this.valueSize,
                          s = e * o,
                          u = s - o,
                          l = this._offsetPrev,
                          c = this._offsetNext,
                          d = this._weightPrev,
                          h = this._weightNext,
                          f = (n - t) / (r - t),
                          p = f * f,
                          v = p * f,
                          m = -d * v + 2 * d * p - d * f,
                          g = (1 + d) * v + (-1.5 - 2 * d) * p + (-0.5 + d) * f + 1,
                          y = (-1 - h) * v + (1.5 + h) * p + 0.5 * f,
                          x = h * v - h * p,
                          _ = 0;
                        _ !== o;
                        ++_
                      )
                        i[_] = m * a[l + _] + g * a[u + _] + y * a[s + _] + x * a[c + _]
                      return i
                    },
                  },
                ])
              )
            })(nv),
            iv = (function (e) {
              function t(e, n, r, i) {
                return (w(this, t), y(this, t, [e, n, r, i]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'interpolate_',
                    value: function (e, t, n, r) {
                      for (
                        var i = this.resultBuffer,
                          a = this.sampleValues,
                          o = this.valueSize,
                          s = e * o,
                          u = s - o,
                          l = (n - t) / (r - t),
                          c = 1 - l,
                          d = 0;
                        d !== o;
                        ++d
                      )
                        i[d] = a[u + d] * c + a[s + d] * l
                      return i
                    },
                  },
                ])
              )
            })(nv),
            av = (function (e) {
              function t(e, n, r, i) {
                return (w(this, t), y(this, t, [e, n, r, i]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'interpolate_',
                    value: function (e) {
                      return this.copySampleValue_(e - 1)
                    },
                  },
                ])
              )
            })(nv),
            ov = (function () {
              return T(
                function e(t, n, r, i) {
                  if ((w(this, e), void 0 === t))
                    throw new Error('THREE.KeyframeTrack: track name is undefined')
                  if (void 0 === n || 0 === n.length)
                    throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + t)
                  ;((this.name = t),
                    (this.times = Jp(n, this.TimeBufferType)),
                    (this.values = Jp(r, this.ValueBufferType)),
                    this.setInterpolation(i || this.DefaultInterpolation))
                },
                [
                  {
                    key: 'InterpolantFactoryMethodDiscrete',
                    value: function (e) {
                      return new av(this.times, this.values, this.getValueSize(), e)
                    },
                  },
                  {
                    key: 'InterpolantFactoryMethodLinear',
                    value: function (e) {
                      return new iv(this.times, this.values, this.getValueSize(), e)
                    },
                  },
                  {
                    key: 'InterpolantFactoryMethodSmooth',
                    value: function (e) {
                      return new rv(this.times, this.values, this.getValueSize(), e)
                    },
                  },
                  {
                    key: 'setInterpolation',
                    value: function (e) {
                      var t
                      switch (e) {
                        case pc:
                          t = this.InterpolantFactoryMethodDiscrete
                          break
                        case vc:
                          t = this.InterpolantFactoryMethodLinear
                          break
                        case mc:
                          t = this.InterpolantFactoryMethodSmooth
                      }
                      if (void 0 === t) {
                        var n =
                          'unsupported interpolation for ' +
                          this.ValueTypeName +
                          ' keyframe track named ' +
                          this.name
                        if (void 0 === this.createInterpolant) {
                          if (e === this.DefaultInterpolation) throw new Error(n)
                          this.setInterpolation(this.DefaultInterpolation)
                        }
                        return (console.warn('THREE.KeyframeTrack:', n), this)
                      }
                      return ((this.createInterpolant = t), this)
                    },
                  },
                  {
                    key: 'getInterpolation',
                    value: function () {
                      switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                          return pc
                        case this.InterpolantFactoryMethodLinear:
                          return vc
                        case this.InterpolantFactoryMethodSmooth:
                          return mc
                      }
                    },
                  },
                  {
                    key: 'getValueSize',
                    value: function () {
                      return this.values.length / this.times.length
                    },
                  },
                  {
                    key: 'shift',
                    value: function (e) {
                      if (0 !== e)
                        for (var t = this.times, n = 0, r = t.length; n !== r; ++n) t[n] += e
                      return this
                    },
                  },
                  {
                    key: 'scale',
                    value: function (e) {
                      if (1 !== e)
                        for (var t = this.times, n = 0, r = t.length; n !== r; ++n) t[n] *= e
                      return this
                    },
                  },
                  {
                    key: 'trim',
                    value: function (e, t) {
                      for (
                        var n = this.times, r = n.length, i = 0, a = r - 1;
                        i !== r && n[i] < e;

                      )
                        ++i
                      for (; -1 !== a && n[a] > t; ) --a
                      if ((++a, 0 !== i || a !== r)) {
                        i >= a && (i = (a = Math.max(a, 1)) - 1)
                        var o = this.getValueSize()
                        ;((this.times = n.slice(i, a)),
                          (this.values = this.values.slice(i * o, a * o)))
                      }
                      return this
                    },
                  },
                  {
                    key: 'validate',
                    value: function () {
                      var e = !0,
                        t = this.getValueSize()
                      t - Math.floor(t) !== 0 &&
                        (console.error('THREE.KeyframeTrack: Invalid value size in track.', this),
                        (e = !1))
                      var n = this.times,
                        r = this.values,
                        i = n.length
                      0 === i &&
                        (console.error('THREE.KeyframeTrack: Track is empty.', this), (e = !1))
                      for (var a, o = null, s = 0; s !== i; s++) {
                        var u = n[s]
                        if ('number' == typeof u && isNaN(u)) {
                          ;(console.error(
                            'THREE.KeyframeTrack: Time is not a valid number.',
                            this,
                            s,
                            u
                          ),
                            (e = !1))
                          break
                        }
                        if (null !== o && o > u) {
                          ;(console.error('THREE.KeyframeTrack: Out of order keys.', this, s, u, o),
                            (e = !1))
                          break
                        }
                        o = u
                      }
                      if (
                        void 0 !== r &&
                        ((a = r), ArrayBuffer.isView(a) && !(a instanceof DataView))
                      )
                        for (var l = 0, c = r.length; l !== c; ++l) {
                          var d = r[l]
                          if (isNaN(d)) {
                            ;(console.error(
                              'THREE.KeyframeTrack: Value is not a valid number.',
                              this,
                              l,
                              d
                            ),
                              (e = !1))
                            break
                          }
                        }
                      return e
                    },
                  },
                  {
                    key: 'optimize',
                    value: function () {
                      for (
                        var e = this.times.slice(),
                          t = this.values.slice(),
                          n = this.getValueSize(),
                          r = this.getInterpolation() === mc,
                          i = e.length - 1,
                          a = 1,
                          o = 1;
                        o < i;
                        ++o
                      ) {
                        var s = !1,
                          u = e[o]
                        if (u !== e[o + 1] && (1 !== o || u !== e[0]))
                          if (r) s = !0
                          else
                            for (var l = o * n, c = l - n, d = l + n, h = 0; h !== n; ++h) {
                              var f = t[l + h]
                              if (f !== t[c + h] || f !== t[d + h]) {
                                s = !0
                                break
                              }
                            }
                        if (s) {
                          if (o !== a) {
                            e[a] = e[o]
                            for (var p = o * n, v = a * n, m = 0; m !== n; ++m) t[v + m] = t[p + m]
                          }
                          ++a
                        }
                      }
                      if (i > 0) {
                        e[a] = e[i]
                        for (var g = i * n, y = a * n, x = 0; x !== n; ++x) t[y + x] = t[g + x]
                        ++a
                      }
                      return (
                        a !== e.length
                          ? ((this.times = e.slice(0, a)), (this.values = t.slice(0, a * n)))
                          : ((this.times = e), (this.values = t)),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      var e = this.times.slice(),
                        t = this.values.slice(),
                        n = new (0, this.constructor)(this.name, e, t)
                      return ((n.createInterpolant = this.createInterpolant), n)
                    },
                  },
                ],
                [
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var t,
                        n = e.constructor
                      if (n.toJSON !== this.toJSON) t = n.toJSON(e)
                      else {
                        t = { name: e.name, times: Jp(e.times, Array), values: Jp(e.values, Array) }
                        var r = e.getInterpolation()
                        r !== e.DefaultInterpolation && (t.interpolation = r)
                      }
                      return ((t.type = e.ValueTypeName), t)
                    },
                  },
                ]
              )
            })()
          ;((ov.prototype.TimeBufferType = Float32Array),
            (ov.prototype.ValueBufferType = Float32Array),
            (ov.prototype.DefaultInterpolation = vc))
          var sv = (function (e) {
            function t(e, n, r) {
              return (w(this, t), y(this, t, [e, n, r]))
            }
            return (b(t, e), T(t))
          })(ov)
          ;((sv.prototype.ValueTypeName = 'bool'),
            (sv.prototype.ValueBufferType = Array),
            (sv.prototype.DefaultInterpolation = pc),
            (sv.prototype.InterpolantFactoryMethodLinear = void 0),
            (sv.prototype.InterpolantFactoryMethodSmooth = void 0))
          var uv = (function (e) {
            function t() {
              return (w(this, t), y(this, t, arguments))
            }
            return (b(t, e), T(t))
          })(ov)
          uv.prototype.ValueTypeName = 'color'
          var lv = (function (e) {
            function t() {
              return (w(this, t), y(this, t, arguments))
            }
            return (b(t, e), T(t))
          })(ov)
          lv.prototype.ValueTypeName = 'number'
          var cv = (function (e) {
              function t(e, n, r, i) {
                return (w(this, t), y(this, t, [e, n, r, i]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'interpolate_',
                    value: function (e, t, n, r) {
                      for (
                        var i = this.resultBuffer,
                          a = this.sampleValues,
                          o = this.valueSize,
                          s = (n - t) / (r - t),
                          u = e * o,
                          l = u + o;
                        u !== l;
                        u += 4
                      )
                        md.slerpFlat(i, 0, a, u - o, a, u, s)
                      return i
                    },
                  },
                ])
              )
            })(nv),
            dv = (function (e) {
              function t() {
                return (w(this, t), y(this, t, arguments))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'InterpolantFactoryMethodLinear',
                    value: function (e) {
                      return new cv(this.times, this.values, this.getValueSize(), e)
                    },
                  },
                ])
              )
            })(ov)
          ;((dv.prototype.ValueTypeName = 'quaternion'),
            (dv.prototype.InterpolantFactoryMethodSmooth = void 0))
          var hv = (function (e) {
            function t(e, n, r) {
              return (w(this, t), y(this, t, [e, n, r]))
            }
            return (b(t, e), T(t))
          })(ov)
          ;((hv.prototype.ValueTypeName = 'string'),
            (hv.prototype.ValueBufferType = Array),
            (hv.prototype.DefaultInterpolation = pc),
            (hv.prototype.InterpolantFactoryMethodLinear = void 0),
            (hv.prototype.InterpolantFactoryMethodSmooth = void 0))
          var fv = (function (e) {
            function t() {
              return (w(this, t), y(this, t, arguments))
            }
            return (b(t, e), T(t))
          })(ov)
          fv.prototype.ValueTypeName = 'vector'
          var pv = (function () {
            return T(
              function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1,
                  r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                  i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : _c
                ;(w(this, e),
                  (this.name = t),
                  (this.tracks = r),
                  (this.duration = n),
                  (this.blendMode = i),
                  (this.uuid = Fc()),
                  this.duration < 0 && this.resetDuration())
              },
              [
                {
                  key: 'resetDuration',
                  value: function () {
                    for (var e = 0, t = 0, n = this.tracks.length; t !== n; ++t) {
                      var r = this.tracks[t]
                      e = Math.max(e, r.times[r.times.length - 1])
                    }
                    return ((this.duration = e), this)
                  },
                },
                {
                  key: 'trim',
                  value: function () {
                    for (var e = 0; e < this.tracks.length; e++)
                      this.tracks[e].trim(0, this.duration)
                    return this
                  },
                },
                {
                  key: 'validate',
                  value: function () {
                    for (var e = !0, t = 0; t < this.tracks.length; t++)
                      e = e && this.tracks[t].validate()
                    return e
                  },
                },
                {
                  key: 'optimize',
                  value: function () {
                    for (var e = 0; e < this.tracks.length; e++) this.tracks[e].optimize()
                    return this
                  },
                },
                {
                  key: 'clone',
                  value: function () {
                    for (var e = [], t = 0; t < this.tracks.length; t++)
                      e.push(this.tracks[t].clone())
                    return new this.constructor(this.name, this.duration, e, this.blendMode)
                  },
                },
                {
                  key: 'toJSON',
                  value: function () {
                    return this.constructor.toJSON(this)
                  },
                },
              ],
              [
                {
                  key: 'parse',
                  value: function (e) {
                    for (
                      var t = [], n = e.tracks, r = 1 / (e.fps || 1), i = 0, a = n.length;
                      i !== a;
                      ++i
                    )
                      t.push(vv(n[i]).scale(r))
                    var o = new this(e.name, e.duration, t, e.blendMode)
                    return ((o.uuid = e.uuid), o)
                  },
                },
                {
                  key: 'toJSON',
                  value: function (e) {
                    for (
                      var t = [],
                        n = e.tracks,
                        r = {
                          name: e.name,
                          duration: e.duration,
                          tracks: t,
                          uuid: e.uuid,
                          blendMode: e.blendMode,
                        },
                        i = 0,
                        a = n.length;
                      i !== a;
                      ++i
                    )
                      t.push(ov.toJSON(n[i]))
                    return r
                  },
                },
                {
                  key: 'CreateFromMorphTargetSequence',
                  value: function (e, t, n, r) {
                    for (var i = t.length, a = [], o = 0; o < i; o++) {
                      var s = [],
                        u = []
                      ;(s.push((o + i - 1) % i, o, (o + 1) % i), u.push(0, 1, 0))
                      var l = $p(s)
                      ;((s = ev(s, 1, l)),
                        (u = ev(u, 1, l)),
                        r || 0 !== s[0] || (s.push(i), u.push(u[0])),
                        a.push(
                          new lv('.morphTargetInfluences[' + t[o].name + ']', s, u).scale(1 / n)
                        ))
                    }
                    return new this(e, -1, a)
                  },
                },
                {
                  key: 'findByName',
                  value: function (e, t) {
                    var n = e
                    if (!Array.isArray(e)) {
                      var r = e
                      n = (r.geometry && r.geometry.animations) || r.animations
                    }
                    for (var i = 0; i < n.length; i++) if (n[i].name === t) return n[i]
                    return null
                  },
                },
                {
                  key: 'CreateClipsFromMorphTargetSequences',
                  value: function (e, t, n) {
                    for (var r = {}, i = /^([\w-]*?)([\d]+)$/, a = 0, o = e.length; a < o; a++) {
                      var s = e[a],
                        u = s.name.match(i)
                      if (u && u.length > 1) {
                        var l = u[1],
                          c = r[l]
                        ;(c || (r[l] = c = []), c.push(s))
                      }
                    }
                    var d = []
                    for (var h in r) d.push(this.CreateFromMorphTargetSequence(h, r[h], t, n))
                    return d
                  },
                },
                {
                  key: 'parseAnimation',
                  value: function (e, t) {
                    if (!e)
                      return (
                        console.error('THREE.AnimationClip: No animation in JSONLoader data.'),
                        null
                      )
                    for (
                      var n = function (e, t, n, r, i) {
                          if (0 !== n.length) {
                            var a = [],
                              o = []
                            ;(tv(n, a, o, r), 0 !== a.length && i.push(new e(t, a, o)))
                          }
                        },
                        r = [],
                        i = e.name || 'default',
                        a = e.fps || 30,
                        o = e.blendMode,
                        s = e.length || -1,
                        u = e.hierarchy || [],
                        l = 0;
                      l < u.length;
                      l++
                    ) {
                      var c = u[l].keys
                      if (c && 0 !== c.length)
                        if (c[0].morphTargets) {
                          var d = {},
                            h = void 0
                          for (h = 0; h < c.length; h++)
                            if (c[h].morphTargets)
                              for (var f = 0; f < c[h].morphTargets.length; f++)
                                d[c[h].morphTargets[f]] = -1
                          for (var p in d) {
                            for (var v = [], m = [], g = 0; g !== c[h].morphTargets.length; ++g) {
                              var y = c[h]
                              ;(v.push(y.time), m.push(y.morphTarget === p ? 1 : 0))
                            }
                            r.push(new lv('.morphTargetInfluence[' + p + ']', v, m))
                          }
                          s = d.length * a
                        } else {
                          var x = '.bones[' + t[l].name + ']'
                          ;(n(fv, x + '.position', c, 'pos', r),
                            n(dv, x + '.quaternion', c, 'rot', r),
                            n(fv, x + '.scale', c, 'scl', r))
                        }
                    }
                    return 0 === r.length ? null : new this(i, s, r, o)
                  },
                },
              ]
            )
          })()
          function vv(e) {
            if (void 0 === e.type)
              throw new Error('THREE.KeyframeTrack: track type undefined, can not parse')
            var t = (function (e) {
              switch (e.toLowerCase()) {
                case 'scalar':
                case 'double':
                case 'float':
                case 'number':
                case 'integer':
                  return lv
                case 'vector':
                case 'vector2':
                case 'vector3':
                case 'vector4':
                  return fv
                case 'color':
                  return uv
                case 'quaternion':
                  return dv
                case 'bool':
                case 'boolean':
                  return sv
                case 'string':
                  return hv
              }
              throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + e)
            })(e.type)
            if (void 0 === e.times) {
              var n = [],
                r = []
              ;(tv(e.keys, n, r, 'value'), (e.times = n), (e.values = r))
            }
            return void 0 !== t.parse
              ? t.parse(e)
              : new t(e.name, e.times, e.values, e.interpolation)
          }
          var mv = {
              enabled: !1,
              files: {},
              add: function (e, t) {
                !1 !== this.enabled && (this.files[e] = t)
              },
              get: function (e) {
                if (!1 !== this.enabled) return this.files[e]
              },
              remove: function (e) {
                delete this.files[e]
              },
              clear: function () {
                this.files = {}
              },
            },
            gv = T(function e(t, n, r) {
              w(this, e)
              var i = this,
                a = !1,
                o = 0,
                s = 0,
                u = void 0,
                l = []
              ;((this.onStart = void 0),
                (this.onLoad = t),
                (this.onProgress = n),
                (this.onError = r),
                (this.itemStart = function (e) {
                  ;(s++, !1 === a && void 0 !== i.onStart && i.onStart(e, o, s), (a = !0))
                }),
                (this.itemEnd = function (e) {
                  ;(o++,
                    void 0 !== i.onProgress && i.onProgress(e, o, s),
                    o === s && ((a = !1), void 0 !== i.onLoad && i.onLoad()))
                }),
                (this.itemError = function (e) {
                  void 0 !== i.onError && i.onError(e)
                }),
                (this.resolveURL = function (e) {
                  return u ? u(e) : e
                }),
                (this.setURLModifier = function (e) {
                  return ((u = e), this)
                }),
                (this.addHandler = function (e, t) {
                  return (l.push(e, t), this)
                }),
                (this.removeHandler = function (e) {
                  var t = l.indexOf(e)
                  return (-1 !== t && l.splice(t, 2), this)
                }),
                (this.getHandler = function (e) {
                  for (var t = 0, n = l.length; t < n; t += 2) {
                    var r = l[t],
                      i = l[t + 1]
                    if ((r.global && (r.lastIndex = 0), r.test(e))) return i
                  }
                  return null
                }))
            }),
            yv = new gv(),
            xv = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.manager = void 0 !== t ? t : yv),
                    (this.crossOrigin = 'anonymous'),
                    (this.withCredentials = !1),
                    (this.path = ''),
                    (this.resourcePath = ''),
                    (this.requestHeader = {}))
                },
                [
                  { key: 'load', value: function () {} },
                  {
                    key: 'loadAsync',
                    value: function (e, t) {
                      var n = this
                      return new Promise(function (r, i) {
                        n.load(e, r, t, i)
                      })
                    },
                  },
                  { key: 'parse', value: function () {} },
                  {
                    key: 'setCrossOrigin',
                    value: function (e) {
                      return ((this.crossOrigin = e), this)
                    },
                  },
                  {
                    key: 'setWithCredentials',
                    value: function (e) {
                      return ((this.withCredentials = e), this)
                    },
                  },
                  {
                    key: 'setPath',
                    value: function (e) {
                      return ((this.path = e), this)
                    },
                  },
                  {
                    key: 'setResourcePath',
                    value: function (e) {
                      return ((this.resourcePath = e), this)
                    },
                  },
                  {
                    key: 'setRequestHeader',
                    value: function (e) {
                      return ((this.requestHeader = e), this)
                    },
                  },
                ]
              )
            })()
          xv.DEFAULT_MATERIAL_NAME = '__DEFAULT'
          var _v = {},
            bv = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [e])).response = n), r)
              }
              return (b(t, e), T(t))
            })(m(Error)),
            Sv = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'load',
                    value: function (e, t, n, r) {
                      var i = this
                      ;(void 0 === e && (e = ''),
                        void 0 !== this.path && (e = this.path + e),
                        (e = this.manager.resolveURL(e)))
                      var a = mv.get(e)
                      if (void 0 !== a)
                        return (
                          this.manager.itemStart(e),
                          setTimeout(function () {
                            ;(t && t(a), i.manager.itemEnd(e))
                          }, 0),
                          a
                        )
                      if (void 0 === _v[e]) {
                        ;((_v[e] = []), _v[e].push({ onLoad: t, onProgress: n, onError: r }))
                        var o = new Request(e, {
                            headers: new Headers(this.requestHeader),
                            credentials: this.withCredentials ? 'include' : 'same-origin',
                          }),
                          s = this.mimeType,
                          u = this.responseType
                        ;(fetch(o)
                          .then(function (t) {
                            if (200 === t.status || 0 === t.status) {
                              if (
                                (0 === t.status &&
                                  console.warn('THREE.FileLoader: HTTP Status 0 received.'),
                                'undefined' == typeof ReadableStream ||
                                  void 0 === t.body ||
                                  void 0 === t.body.getReader)
                              )
                                return t
                              var n = _v[e],
                                r = t.body.getReader(),
                                i = t.headers.get('X-File-Size') || t.headers.get('Content-Length'),
                                a = i ? parseInt(i) : 0,
                                o = 0 !== a,
                                s = 0,
                                u = new ReadableStream({
                                  start: function (e) {
                                    !(function t() {
                                      r.read().then(
                                        function (r) {
                                          var i = r.done,
                                            u = r.value
                                          if (i) e.close()
                                          else {
                                            s += u.byteLength
                                            for (
                                              var l = new ProgressEvent('progress', {
                                                  lengthComputable: o,
                                                  loaded: s,
                                                  total: a,
                                                }),
                                                c = 0,
                                                d = n.length;
                                              c < d;
                                              c++
                                            ) {
                                              var h = n[c]
                                              h.onProgress && h.onProgress(l)
                                            }
                                            ;(e.enqueue(u), t())
                                          }
                                        },
                                        function (t) {
                                          e.error(t)
                                        }
                                      )
                                    })()
                                  },
                                })
                              return new Response(u)
                            }
                            throw new bv(
                              'fetch for "'
                                .concat(t.url, '" responded with ')
                                .concat(t.status, ': ')
                                .concat(t.statusText),
                              t
                            )
                          })
                          .then(function (e) {
                            switch (u) {
                              case 'arraybuffer':
                                return e.arrayBuffer()
                              case 'blob':
                                return e.blob()
                              case 'document':
                                return e.text().then(function (e) {
                                  return new DOMParser().parseFromString(e, s)
                                })
                              case 'json':
                                return e.json()
                              default:
                                if (void 0 === s) return e.text()
                                var t = /charset="?([^;"\s]*)"?/i.exec(s),
                                  n = t && t[1] ? t[1].toLowerCase() : void 0,
                                  r = new TextDecoder(n)
                                return e.arrayBuffer().then(function (e) {
                                  return r.decode(e)
                                })
                            }
                          })
                          .then(function (t) {
                            mv.add(e, t)
                            var n = _v[e]
                            delete _v[e]
                            for (var r = 0, i = n.length; r < i; r++) {
                              var a = n[r]
                              a.onLoad && a.onLoad(t)
                            }
                          })
                          .catch(function (t) {
                            var n = _v[e]
                            if (void 0 === n) throw (i.manager.itemError(e), t)
                            delete _v[e]
                            for (var r = 0, a = n.length; r < a; r++) {
                              var o = n[r]
                              o.onError && o.onError(t)
                            }
                            i.manager.itemError(e)
                          })
                          .finally(function () {
                            i.manager.itemEnd(e)
                          }),
                          this.manager.itemStart(e))
                      } else _v[e].push({ onLoad: t, onProgress: n, onError: r })
                    },
                  },
                  {
                    key: 'setResponseType',
                    value: function (e) {
                      return ((this.responseType = e), this)
                    },
                  },
                  {
                    key: 'setMimeType',
                    value: function (e) {
                      return ((this.mimeType = e), this)
                    },
                  },
                ])
              )
            })(xv),
            wv = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'load',
                    value: function (e, t, n, r) {
                      ;(void 0 !== this.path && (e = this.path + e),
                        (e = this.manager.resolveURL(e)))
                      var i = this,
                        a = mv.get(e)
                      if (void 0 !== a)
                        return (
                          i.manager.itemStart(e),
                          setTimeout(function () {
                            ;(t && t(a), i.manager.itemEnd(e))
                          }, 0),
                          a
                        )
                      var o = Xc('img')
                      function s() {
                        ;(l(), mv.add(e, this), t && t(this), i.manager.itemEnd(e))
                      }
                      function u(t) {
                        ;(l(), r && r(t), i.manager.itemError(e), i.manager.itemEnd(e))
                      }
                      function l() {
                        ;(o.removeEventListener('load', s, !1),
                          o.removeEventListener('error', u, !1))
                      }
                      return (
                        o.addEventListener('load', s, !1),
                        o.addEventListener('error', u, !1),
                        'data:' !== e.slice(0, 5) &&
                          void 0 !== this.crossOrigin &&
                          (o.crossOrigin = this.crossOrigin),
                        i.manager.itemStart(e),
                        (o.src = e),
                        o
                      )
                    },
                  },
                ])
              )
            })(xv),
            Av = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'load',
                    value: function (e, t, n, r) {
                      var i = new cd(),
                        a = new wv(this.manager)
                      return (
                        a.setCrossOrigin(this.crossOrigin),
                        a.setPath(this.path),
                        a.load(
                          e,
                          function (e) {
                            ;((i.image = e), (i.needsUpdate = !0), void 0 !== t && t(i))
                          },
                          n,
                          r
                        ),
                        i
                      )
                    },
                  },
                ])
              )
            })(xv),
            Tv = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return (
                  w(this, t),
                  ((n = y(this, t)).isLight = !0),
                  (n.type = 'Light'),
                  (n.color = new Uh(e)),
                  (n.intensity = r),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  { key: 'dispose', value: function () {} },
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        this.color.copy(e.color),
                        (this.intensity = e.intensity),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        (r.object.color = this.color.getHex()),
                        (r.object.intensity = this.intensity),
                        void 0 !== this.groundColor &&
                          (r.object.groundColor = this.groundColor.getHex()),
                        void 0 !== this.distance && (r.object.distance = this.distance),
                        void 0 !== this.angle && (r.object.angle = this.angle),
                        void 0 !== this.decay && (r.object.decay = this.decay),
                        void 0 !== this.penumbra && (r.object.penumbra = this.penumbra),
                        void 0 !== this.shadow && (r.object.shadow = this.shadow.toJSON()),
                        void 0 !== this.target && (r.object.target = this.target.uuid),
                        r
                      )
                    },
                  },
                ])
              )
            })(_h),
            Mv = new qd(),
            Ev = new gd(),
            Cv = new gd(),
            kv = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.camera = t),
                    (this.intensity = 1),
                    (this.bias = 0),
                    (this.normalBias = 0),
                    (this.radius = 1),
                    (this.blurSamples = 8),
                    (this.mapSize = new Gc(512, 512)),
                    (this.map = null),
                    (this.mapPass = null),
                    (this.matrix = new qd()),
                    (this.autoUpdate = !0),
                    (this.needsUpdate = !1),
                    (this._frustum = new _p()),
                    (this._frameExtents = new Gc(1, 1)),
                    (this._viewportCount = 1),
                    (this._viewports = [new dd(0, 0, 1, 1)]))
                },
                [
                  {
                    key: 'getViewportCount',
                    value: function () {
                      return this._viewportCount
                    },
                  },
                  {
                    key: 'getFrustum',
                    value: function () {
                      return this._frustum
                    },
                  },
                  {
                    key: 'updateMatrices',
                    value: function (e) {
                      var t = this.camera,
                        n = this.matrix
                      ;(Ev.setFromMatrixPosition(e.matrixWorld),
                        t.position.copy(Ev),
                        Cv.setFromMatrixPosition(e.target.matrixWorld),
                        t.lookAt(Cv),
                        t.updateMatrixWorld(),
                        Mv.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse),
                        this._frustum.setFromProjectionMatrix(Mv),
                        n.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1),
                        n.multiply(Mv))
                    },
                  },
                  {
                    key: 'getViewport',
                    value: function (e) {
                      return this._viewports[e]
                    },
                  },
                  {
                    key: 'getFrameExtents',
                    value: function () {
                      return this._frameExtents
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      ;(this.map && this.map.dispose(), this.mapPass && this.mapPass.dispose())
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.camera = e.camera.clone()),
                        (this.intensity = e.intensity),
                        (this.bias = e.bias),
                        (this.radius = e.radius),
                        this.mapSize.copy(e.mapSize),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      var e = {}
                      return (
                        1 !== this.intensity && (e.intensity = this.intensity),
                        0 !== this.bias && (e.bias = this.bias),
                        0 !== this.normalBias && (e.normalBias = this.normalBias),
                        1 !== this.radius && (e.radius = this.radius),
                        (512 === this.mapSize.x && 512 === this.mapSize.y) ||
                          (e.mapSize = this.mapSize.toArray()),
                        (e.camera = this.camera.toJSON(!1).object),
                        delete e.camera.matrix,
                        e
                      )
                    },
                  },
                ]
              )
            })(),
            Rv = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t, [new Nf(50, 1, 0.5, 500)])).isSpotLightShadow = !0),
                  (e.focus = 1),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'updateMatrices',
                    value: function (e) {
                      var r = this.camera,
                        i = 2 * Oc * e.angle * this.focus,
                        a = this.mapSize.width / this.mapSize.height,
                        o = e.distance || r.far
                      ;((i === r.fov && a === r.aspect && o === r.far) ||
                        ((r.fov = i), (r.aspect = a), (r.far = o), r.updateProjectionMatrix()),
                        n(t, 'updateMatrices', this, 3)([e]))
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (n(t, 'copy', this, 3)([e]), (this.focus = e.focus), this)
                    },
                  },
                ])
              )
            })(kv),
            Iv = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : Math.PI / 3,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 2
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isSpotLight = !0),
                  (r.type = 'SpotLight'),
                  r.position.copy(_h.DEFAULT_UP),
                  r.updateMatrix(),
                  (r.target = new _h()),
                  (r.distance = i),
                  (r.angle = a),
                  (r.penumbra = o),
                  (r.decay = s),
                  (r.map = null),
                  (r.shadow = new Rv()),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'power',
                    get: function () {
                      return this.intensity * Math.PI
                    },
                    set: function (e) {
                      this.intensity = e / Math.PI
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.shadow.dispose()
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.distance = e.distance),
                        (this.angle = e.angle),
                        (this.penumbra = e.penumbra),
                        (this.decay = e.decay),
                        (this.target = e.target.clone()),
                        (this.shadow = e.shadow.clone()),
                        this
                      )
                    },
                  },
                ])
              )
            })(Tv),
            Nv = new qd(),
            Pv = new gd(),
            Lv = new gd(),
            Dv = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t, [new Nf(90, 1, 0.5, 500)])).isPointLightShadow = !0),
                  (e._frameExtents = new Gc(4, 2)),
                  (e._viewportCount = 6),
                  (e._viewports = [
                    new dd(2, 1, 1, 1),
                    new dd(0, 1, 1, 1),
                    new dd(3, 1, 1, 1),
                    new dd(1, 1, 1, 1),
                    new dd(3, 0, 1, 1),
                    new dd(1, 0, 1, 1),
                  ]),
                  (e._cubeDirections = [
                    new gd(1, 0, 0),
                    new gd(-1, 0, 0),
                    new gd(0, 0, 1),
                    new gd(0, 0, -1),
                    new gd(0, 1, 0),
                    new gd(0, -1, 0),
                  ]),
                  (e._cubeUps = [
                    new gd(0, 1, 0),
                    new gd(0, 1, 0),
                    new gd(0, 1, 0),
                    new gd(0, 1, 0),
                    new gd(0, 0, 1),
                    new gd(0, 0, -1),
                  ]),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'updateMatrices',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = this.camera,
                        r = this.matrix,
                        i = e.distance || n.far
                      ;(i !== n.far && ((n.far = i), n.updateProjectionMatrix()),
                        Pv.setFromMatrixPosition(e.matrixWorld),
                        n.position.copy(Pv),
                        Lv.copy(n.position),
                        Lv.add(this._cubeDirections[t]),
                        n.up.copy(this._cubeUps[t]),
                        n.lookAt(Lv),
                        n.updateMatrixWorld(),
                        r.makeTranslation(-Pv.x, -Pv.y, -Pv.z),
                        Nv.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse),
                        this._frustum.setFromProjectionMatrix(Nv))
                    },
                  },
                ])
              )
            })(kv),
            Ov = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isPointLight = !0),
                  (r.type = 'PointLight'),
                  (r.distance = i),
                  (r.decay = a),
                  (r.shadow = new Dv()),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'power',
                    get: function () {
                      return 4 * this.intensity * Math.PI
                    },
                    set: function (e) {
                      this.intensity = e / (4 * Math.PI)
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      this.shadow.dispose()
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.distance = e.distance),
                        (this.decay = e.decay),
                        (this.shadow = e.shadow.clone()),
                        this
                      )
                    },
                  },
                ])
              )
            })(Tv),
            Fv = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0.1,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 2e3
                return (
                  w(this, t),
                  ((e = y(this, t)).isOrthographicCamera = !0),
                  (e.type = 'OrthographicCamera'),
                  (e.zoom = 1),
                  (e.view = null),
                  (e.left = n),
                  (e.right = r),
                  (e.top = i),
                  (e.bottom = a),
                  (e.near = o),
                  (e.far = s),
                  e.updateProjectionMatrix(),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e, r) {
                      return (
                        n(t, 'copy', this, 3)([e, r]),
                        (this.left = e.left),
                        (this.right = e.right),
                        (this.top = e.top),
                        (this.bottom = e.bottom),
                        (this.near = e.near),
                        (this.far = e.far),
                        (this.zoom = e.zoom),
                        (this.view = null === e.view ? null : Object.assign({}, e.view)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setViewOffset',
                    value: function (e, t, n, r, i, a) {
                      ;(null === this.view &&
                        (this.view = {
                          enabled: !0,
                          fullWidth: 1,
                          fullHeight: 1,
                          offsetX: 0,
                          offsetY: 0,
                          width: 1,
                          height: 1,
                        }),
                        (this.view.enabled = !0),
                        (this.view.fullWidth = e),
                        (this.view.fullHeight = t),
                        (this.view.offsetX = n),
                        (this.view.offsetY = r),
                        (this.view.width = i),
                        (this.view.height = a),
                        this.updateProjectionMatrix())
                    },
                  },
                  {
                    key: 'clearViewOffset',
                    value: function () {
                      ;(null !== this.view && (this.view.enabled = !1),
                        this.updateProjectionMatrix())
                    },
                  },
                  {
                    key: 'updateProjectionMatrix',
                    value: function () {
                      var e = (this.right - this.left) / (2 * this.zoom),
                        t = (this.top - this.bottom) / (2 * this.zoom),
                        n = (this.right + this.left) / 2,
                        r = (this.top + this.bottom) / 2,
                        i = n - e,
                        a = n + e,
                        o = r + t,
                        s = r - t
                      if (null !== this.view && this.view.enabled) {
                        var u = (this.right - this.left) / this.view.fullWidth / this.zoom,
                          l = (this.top - this.bottom) / this.view.fullHeight / this.zoom
                        ;((a = (i += u * this.view.offsetX) + u * this.view.width),
                          (s = (o -= l * this.view.offsetY) - l * this.view.height))
                      }
                      ;(this.projectionMatrix.makeOrthographic(
                        i,
                        a,
                        o,
                        s,
                        this.near,
                        this.far,
                        this.coordinateSystem
                      ),
                        this.projectionMatrixInverse.copy(this.projectionMatrix).invert())
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        (r.object.zoom = this.zoom),
                        (r.object.left = this.left),
                        (r.object.right = this.right),
                        (r.object.top = this.top),
                        (r.object.bottom = this.bottom),
                        (r.object.near = this.near),
                        (r.object.far = this.far),
                        null !== this.view && (r.object.view = Object.assign({}, this.view)),
                        r
                      )
                    },
                  },
                ])
              )
            })(Cf),
            Bv = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t, [new Fv(-5, 5, 5, -5, 0.5, 500)])).isDirectionalLightShadow =
                    !0),
                  e
                )
              }
              return (b(t, e), T(t))
            })(kv),
            Uv = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isDirectionalLight = !0),
                  (r.type = 'DirectionalLight'),
                  r.position.copy(_h.DEFAULT_UP),
                  r.updateMatrix(),
                  (r.target = new _h()),
                  (r.shadow = new Bv()),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'dispose',
                    value: function () {
                      this.shadow.dispose()
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.target = e.target.clone()),
                        (this.shadow = e.shadow.clone()),
                        this
                      )
                    },
                  },
                ])
              )
            })(Tv),
            zv = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'decodeText',
                    value: function (e) {
                      if (
                        (console.warn(
                          'THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead.'
                        ),
                        'undefined' != typeof TextDecoder)
                      )
                        return new TextDecoder().decode(e)
                      for (var t = '', n = 0, r = e.length; n < r; n++)
                        t += String.fromCharCode(e[n])
                      try {
                        return decodeURIComponent(escape(t))
                      } catch (u$) {
                        return t
                      }
                    },
                  },
                  {
                    key: 'extractUrlBase',
                    value: function (e) {
                      var t = e.lastIndexOf('/')
                      return -1 === t ? './' : e.slice(0, t + 1)
                    },
                  },
                  {
                    key: 'resolveURL',
                    value: function (e, t) {
                      return 'string' != typeof e || '' === e
                        ? ''
                        : (/^https?:\/\//i.test(t) &&
                            /^\//.test(e) &&
                            (t = t.replace(/(^https?:\/\/[^\/]+).*/i, '$1')),
                          /^(https?:)?\/\//i.test(e) ||
                          /^data:.*,.*$/i.test(e) ||
                          /^blob:.*$/i.test(e)
                            ? e
                            : t + e)
                    },
                  },
                ]
              )
            })(),
            Vv = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isInstancedBufferGeometry = !0),
                  (e.type = 'InstancedBufferGeometry'),
                  (e.instanceCount = 1 / 0),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.instanceCount = e.instanceCount),
                        this
                      )
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function () {
                      var e = n(t, 'toJSON', this, 3)([])
                      return (
                        (e.instanceCount = this.instanceCount),
                        (e.isInstancedBufferGeometry = !0),
                        e
                      )
                    },
                  },
                ])
              )
            })(uf),
            Hv = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t, [e])).isImageBitmapLoader = !0),
                  'undefined' == typeof createImageBitmap &&
                    console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.'),
                  'undefined' == typeof fetch &&
                    console.warn('THREE.ImageBitmapLoader: fetch() not supported.'),
                  (n.options = { premultiplyAlpha: 'none' }),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'setOptions',
                    value: function (e) {
                      return ((this.options = e), this)
                    },
                  },
                  {
                    key: 'load',
                    value: function (e, t, n, r) {
                      ;(void 0 === e && (e = ''),
                        void 0 !== this.path && (e = this.path + e),
                        (e = this.manager.resolveURL(e)))
                      var i = this,
                        a = mv.get(e)
                      if (void 0 !== a)
                        return (
                          i.manager.itemStart(e),
                          a.then
                            ? void a
                                .then(function (n) {
                                  ;(t && t(n), i.manager.itemEnd(e))
                                })
                                .catch(function (e) {
                                  r && r(e)
                                })
                            : (setTimeout(function () {
                                ;(t && t(a), i.manager.itemEnd(e))
                              }, 0),
                              a)
                        )
                      var o = {}
                      ;((o.credentials =
                        'anonymous' === this.crossOrigin ? 'same-origin' : 'include'),
                        (o.headers = this.requestHeader))
                      var s = fetch(e, o)
                        .then(function (e) {
                          return e.blob()
                        })
                        .then(function (e) {
                          return createImageBitmap(
                            e,
                            Object.assign(i.options, { colorSpaceConversion: 'none' })
                          )
                        })
                        .then(function (n) {
                          return (mv.add(e, n), t && t(n), i.manager.itemEnd(e), n)
                        })
                        .catch(function (t) {
                          ;(r && r(t), mv.remove(e), i.manager.itemError(e), i.manager.itemEnd(e))
                        })
                      ;(mv.add(e, s), i.manager.itemStart(e))
                    },
                  },
                ])
              )
            })(xv),
            Wv = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                return (
                  w(this, t),
                  ((e = y(this, t)).isArrayCamera = !0),
                  (e.cameras = n),
                  (e.index = 0),
                  e
                )
              }
              return (b(t, e), T(t))
            })(Nf),
            Gv = (function () {
              return T(
                function e() {
                  var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]
                  ;(w(this, e),
                    (this.autoStart = t),
                    (this.startTime = 0),
                    (this.oldTime = 0),
                    (this.elapsedTime = 0),
                    (this.running = !1))
                },
                [
                  {
                    key: 'start',
                    value: function () {
                      ;((this.startTime = jv()),
                        (this.oldTime = this.startTime),
                        (this.elapsedTime = 0),
                        (this.running = !0))
                    },
                  },
                  {
                    key: 'stop',
                    value: function () {
                      ;(this.getElapsedTime(), (this.running = !1), (this.autoStart = !1))
                    },
                  },
                  {
                    key: 'getElapsedTime',
                    value: function () {
                      return (this.getDelta(), this.elapsedTime)
                    },
                  },
                  {
                    key: 'getDelta',
                    value: function () {
                      var e = 0
                      if (this.autoStart && !this.running) return (this.start(), 0)
                      if (this.running) {
                        var t = jv()
                        ;((e = (t - this.oldTime) / 1e3),
                          (this.oldTime = t),
                          (this.elapsedTime += e))
                      }
                      return e
                    },
                  },
                ]
              )
            })()
          function jv() {
            return performance.now()
          }
          var Qv = (function () {
              return T(
                function e(t, n, r) {
                  var i, a, o
                  switch ((w(this, e), (this.binding = t), (this.valueSize = r), n)) {
                    case 'quaternion':
                      ;((i = this._slerp),
                        (a = this._slerpAdditive),
                        (o = this._setAdditiveIdentityQuaternion),
                        (this.buffer = new Float64Array(6 * r)),
                        (this._workIndex = 5))
                      break
                    case 'string':
                    case 'bool':
                      ;((i = this._select),
                        (a = this._select),
                        (o = this._setAdditiveIdentityOther),
                        (this.buffer = new Array(5 * r)))
                      break
                    default:
                      ;((i = this._lerp),
                        (a = this._lerpAdditive),
                        (o = this._setAdditiveIdentityNumeric),
                        (this.buffer = new Float64Array(5 * r)))
                  }
                  ;((this._mixBufferRegion = i),
                    (this._mixBufferRegionAdditive = a),
                    (this._setIdentity = o),
                    (this._origIndex = 3),
                    (this._addIndex = 4),
                    (this.cumulativeWeight = 0),
                    (this.cumulativeWeightAdditive = 0),
                    (this.useCount = 0),
                    (this.referenceCount = 0))
                },
                [
                  {
                    key: 'accumulate',
                    value: function (e, t) {
                      var n = this.buffer,
                        r = this.valueSize,
                        i = e * r + r,
                        a = this.cumulativeWeight
                      if (0 === a) {
                        for (var o = 0; o !== r; ++o) n[i + o] = n[o]
                        a = t
                      } else {
                        var s = t / (a += t)
                        this._mixBufferRegion(n, i, 0, s, r)
                      }
                      this.cumulativeWeight = a
                    },
                  },
                  {
                    key: 'accumulateAdditive',
                    value: function (e) {
                      var t = this.buffer,
                        n = this.valueSize,
                        r = n * this._addIndex
                      ;(0 === this.cumulativeWeightAdditive && this._setIdentity(),
                        this._mixBufferRegionAdditive(t, r, 0, e, n),
                        (this.cumulativeWeightAdditive += e))
                    },
                  },
                  {
                    key: 'apply',
                    value: function (e) {
                      var t = this.valueSize,
                        n = this.buffer,
                        r = e * t + t,
                        i = this.cumulativeWeight,
                        a = this.cumulativeWeightAdditive,
                        o = this.binding
                      if (
                        ((this.cumulativeWeight = 0), (this.cumulativeWeightAdditive = 0), i < 1)
                      ) {
                        var s = t * this._origIndex
                        this._mixBufferRegion(n, r, s, 1 - i, t)
                      }
                      a > 0 && this._mixBufferRegionAdditive(n, r, this._addIndex * t, 1, t)
                      for (var u = t, l = t + t; u !== l; ++u)
                        if (n[u] !== n[u + t]) {
                          o.setValue(n, r)
                          break
                        }
                    },
                  },
                  {
                    key: 'saveOriginalState',
                    value: function () {
                      var e = this.binding,
                        t = this.buffer,
                        n = this.valueSize,
                        r = n * this._origIndex
                      e.getValue(t, r)
                      for (var i = n, a = r; i !== a; ++i) t[i] = t[r + (i % n)]
                      ;(this._setIdentity(),
                        (this.cumulativeWeight = 0),
                        (this.cumulativeWeightAdditive = 0))
                    },
                  },
                  {
                    key: 'restoreOriginalState',
                    value: function () {
                      var e = 3 * this.valueSize
                      this.binding.setValue(this.buffer, e)
                    },
                  },
                  {
                    key: '_setAdditiveIdentityNumeric',
                    value: function () {
                      for (
                        var e = this._addIndex * this.valueSize, t = e + this.valueSize, n = e;
                        n < t;
                        n++
                      )
                        this.buffer[n] = 0
                    },
                  },
                  {
                    key: '_setAdditiveIdentityQuaternion',
                    value: function () {
                      ;(this._setAdditiveIdentityNumeric(),
                        (this.buffer[this._addIndex * this.valueSize + 3] = 1))
                    },
                  },
                  {
                    key: '_setAdditiveIdentityOther',
                    value: function () {
                      for (
                        var e = this._origIndex * this.valueSize,
                          t = this._addIndex * this.valueSize,
                          n = 0;
                        n < this.valueSize;
                        n++
                      )
                        this.buffer[t + n] = this.buffer[e + n]
                    },
                  },
                  {
                    key: '_select',
                    value: function (e, t, n, r, i) {
                      if (r >= 0.5) for (var a = 0; a !== i; ++a) e[t + a] = e[n + a]
                    },
                  },
                  {
                    key: '_slerp',
                    value: function (e, t, n, r) {
                      md.slerpFlat(e, t, e, t, e, n, r)
                    },
                  },
                  {
                    key: '_slerpAdditive',
                    value: function (e, t, n, r, i) {
                      var a = this._workIndex * i
                      ;(md.multiplyQuaternionsFlat(e, a, e, t, e, n),
                        md.slerpFlat(e, t, e, t, e, a, r))
                    },
                  },
                  {
                    key: '_lerp',
                    value: function (e, t, n, r, i) {
                      for (var a = 1 - r, o = 0; o !== i; ++o) {
                        var s = t + o
                        e[s] = e[s] * a + e[n + o] * r
                      }
                    },
                  },
                  {
                    key: '_lerpAdditive',
                    value: function (e, t, n, r, i) {
                      for (var a = 0; a !== i; ++a) {
                        var o = t + a
                        e[o] = e[o] + e[n + a] * r
                      }
                    },
                  },
                ]
              )
            })(),
            qv = '\\[\\]\\.:\\/',
            Xv = new RegExp('[' + qv + ']', 'g'),
            Yv = '[^' + qv + ']',
            Kv = '[^' + qv.replace('\\.', '') + ']',
            Zv = new RegExp(
              '^' +
                /((?:WC+[\/:])*)/.source.replace('WC', Yv) +
                /(WCOD+)?/.source.replace('WCOD', Kv) +
                /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC', Yv) +
                /\.(WC+)(?:\[(.+)\])?/.source.replace('WC', Yv) +
                '$'
            ),
            Jv = ['material', 'materials', 'bones', 'map'],
            $v = (function () {
              return T(
                function e(t, n, r) {
                  w(this, e)
                  var i = r || em.parseTrackName(n)
                  ;((this._targetGroup = t), (this._bindings = t.subscribe_(n, i)))
                },
                [
                  {
                    key: 'getValue',
                    value: function (e, t) {
                      this.bind()
                      var n = this._targetGroup.nCachedObjects_,
                        r = this._bindings[n]
                      void 0 !== r && r.getValue(e, t)
                    },
                  },
                  {
                    key: 'setValue',
                    value: function (e, t) {
                      for (
                        var n = this._bindings, r = this._targetGroup.nCachedObjects_, i = n.length;
                        r !== i;
                        ++r
                      )
                        n[r].setValue(e, t)
                    },
                  },
                  {
                    key: 'bind',
                    value: function () {
                      for (
                        var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length;
                        t !== n;
                        ++t
                      )
                        e[t].bind()
                    },
                  },
                  {
                    key: 'unbind',
                    value: function () {
                      for (
                        var e = this._bindings, t = this._targetGroup.nCachedObjects_, n = e.length;
                        t !== n;
                        ++t
                      )
                        e[t].unbind()
                    },
                  },
                ]
              )
            })(),
            em = (function () {
              function e(t, n, r) {
                ;(w(this, e),
                  (this.path = n),
                  (this.parsedPath = r || e.parseTrackName(n)),
                  (this.node = e.findNode(t, this.parsedPath.nodeName)),
                  (this.rootNode = t),
                  (this.getValue = this._getValue_unbound),
                  (this.setValue = this._setValue_unbound))
              }
              return T(
                e,
                [
                  { key: '_getValue_unavailable', value: function () {} },
                  { key: '_setValue_unavailable', value: function () {} },
                  {
                    key: '_getValue_direct',
                    value: function (e, t) {
                      e[t] = this.targetObject[this.propertyName]
                    },
                  },
                  {
                    key: '_getValue_array',
                    value: function (e, t) {
                      for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                        e[t++] = n[r]
                    },
                  },
                  {
                    key: '_getValue_arrayElement',
                    value: function (e, t) {
                      e[t] = this.resolvedProperty[this.propertyIndex]
                    },
                  },
                  {
                    key: '_getValue_toArray',
                    value: function (e, t) {
                      this.resolvedProperty.toArray(e, t)
                    },
                  },
                  {
                    key: '_setValue_direct',
                    value: function (e, t) {
                      this.targetObject[this.propertyName] = e[t]
                    },
                  },
                  {
                    key: '_setValue_direct_setNeedsUpdate',
                    value: function (e, t) {
                      ;((this.targetObject[this.propertyName] = e[t]),
                        (this.targetObject.needsUpdate = !0))
                    },
                  },
                  {
                    key: '_setValue_direct_setMatrixWorldNeedsUpdate',
                    value: function (e, t) {
                      ;((this.targetObject[this.propertyName] = e[t]),
                        (this.targetObject.matrixWorldNeedsUpdate = !0))
                    },
                  },
                  {
                    key: '_setValue_array',
                    value: function (e, t) {
                      for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                        n[r] = e[t++]
                    },
                  },
                  {
                    key: '_setValue_array_setNeedsUpdate',
                    value: function (e, t) {
                      for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                        n[r] = e[t++]
                      this.targetObject.needsUpdate = !0
                    },
                  },
                  {
                    key: '_setValue_array_setMatrixWorldNeedsUpdate',
                    value: function (e, t) {
                      for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                        n[r] = e[t++]
                      this.targetObject.matrixWorldNeedsUpdate = !0
                    },
                  },
                  {
                    key: '_setValue_arrayElement',
                    value: function (e, t) {
                      this.resolvedProperty[this.propertyIndex] = e[t]
                    },
                  },
                  {
                    key: '_setValue_arrayElement_setNeedsUpdate',
                    value: function (e, t) {
                      ;((this.resolvedProperty[this.propertyIndex] = e[t]),
                        (this.targetObject.needsUpdate = !0))
                    },
                  },
                  {
                    key: '_setValue_arrayElement_setMatrixWorldNeedsUpdate',
                    value: function (e, t) {
                      ;((this.resolvedProperty[this.propertyIndex] = e[t]),
                        (this.targetObject.matrixWorldNeedsUpdate = !0))
                    },
                  },
                  {
                    key: '_setValue_fromArray',
                    value: function (e, t) {
                      this.resolvedProperty.fromArray(e, t)
                    },
                  },
                  {
                    key: '_setValue_fromArray_setNeedsUpdate',
                    value: function (e, t) {
                      ;(this.resolvedProperty.fromArray(e, t), (this.targetObject.needsUpdate = !0))
                    },
                  },
                  {
                    key: '_setValue_fromArray_setMatrixWorldNeedsUpdate',
                    value: function (e, t) {
                      ;(this.resolvedProperty.fromArray(e, t),
                        (this.targetObject.matrixWorldNeedsUpdate = !0))
                    },
                  },
                  {
                    key: '_getValue_unbound',
                    value: function (e, t) {
                      ;(this.bind(), this.getValue(e, t))
                    },
                  },
                  {
                    key: '_setValue_unbound',
                    value: function (e, t) {
                      ;(this.bind(), this.setValue(e, t))
                    },
                  },
                  {
                    key: 'bind',
                    value: function () {
                      var t = this.node,
                        n = this.parsedPath,
                        r = n.objectName,
                        i = n.propertyName,
                        a = n.propertyIndex
                      if (
                        (t || ((t = e.findNode(this.rootNode, n.nodeName)), (this.node = t)),
                        (this.getValue = this._getValue_unavailable),
                        (this.setValue = this._setValue_unavailable),
                        t)
                      ) {
                        if (r) {
                          var o = n.objectIndex
                          switch (r) {
                            case 'materials':
                              if (!t.material)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to material as node does not have a material.',
                                  this
                                )
                              if (!t.material.materials)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',
                                  this
                                )
                              t = t.material.materials
                              break
                            case 'bones':
                              if (!t.skeleton)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',
                                  this
                                )
                              t = t.skeleton.bones
                              for (var s = 0; s < t.length; s++)
                                if (t[s].name === o) {
                                  o = s
                                  break
                                }
                              break
                            case 'map':
                              if ('map' in t) {
                                t = t.map
                                break
                              }
                              if (!t.material)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to material as node does not have a material.',
                                  this
                                )
                              if (!t.material.map)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.',
                                  this
                                )
                              t = t.material.map
                              break
                            default:
                              if (void 0 === t[r])
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to objectName of node undefined.',
                                  this
                                )
                              t = t[r]
                          }
                          if (void 0 !== o) {
                            if (void 0 === t[o])
                              return void console.error(
                                'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',
                                this,
                                t
                              )
                            t = t[o]
                          }
                        }
                        var u = t[i]
                        if (void 0 !== u) {
                          var l = this.Versioning.None
                          ;((this.targetObject = t),
                            !0 === t.isMaterial
                              ? (l = this.Versioning.NeedsUpdate)
                              : !0 === t.isObject3D && (l = this.Versioning.MatrixWorldNeedsUpdate))
                          var c = this.BindingType.Direct
                          if (void 0 !== a) {
                            if ('morphTargetInfluences' === i) {
                              if (!t.geometry)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',
                                  this
                                )
                              if (!t.geometry.morphAttributes)
                                return void console.error(
                                  'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',
                                  this
                                )
                              void 0 !== t.morphTargetDictionary[a] &&
                                (a = t.morphTargetDictionary[a])
                            }
                            ;((c = this.BindingType.ArrayElement),
                              (this.resolvedProperty = u),
                              (this.propertyIndex = a))
                          } else
                            void 0 !== u.fromArray && void 0 !== u.toArray
                              ? ((c = this.BindingType.HasFromToArray), (this.resolvedProperty = u))
                              : Array.isArray(u)
                                ? ((c = this.BindingType.EntireArray), (this.resolvedProperty = u))
                                : (this.propertyName = i)
                          ;((this.getValue = this.GetterByBindingType[c]),
                            (this.setValue = this.SetterByBindingTypeAndVersioning[c][l]))
                        } else {
                          var d = n.nodeName
                          console.error(
                            'THREE.PropertyBinding: Trying to update property for track: ' +
                              d +
                              '.' +
                              i +
                              " but it wasn't found.",
                            t
                          )
                        }
                      } else
                        console.warn(
                          'THREE.PropertyBinding: No target node found for track: ' +
                            this.path +
                            '.'
                        )
                    },
                  },
                  {
                    key: 'unbind',
                    value: function () {
                      ;((this.node = null),
                        (this.getValue = this._getValue_unbound),
                        (this.setValue = this._setValue_unbound))
                    },
                  },
                ],
                [
                  {
                    key: 'create',
                    value: function (t, n, r) {
                      return t && t.isAnimationObjectGroup
                        ? new e.Composite(t, n, r)
                        : new e(t, n, r)
                    },
                  },
                  {
                    key: 'sanitizeNodeName',
                    value: function (e) {
                      return e.replace(/\s/g, '_').replace(Xv, '')
                    },
                  },
                  {
                    key: 'parseTrackName',
                    value: function (e) {
                      var t = Zv.exec(e)
                      if (null === t)
                        throw new Error('PropertyBinding: Cannot parse trackName: ' + e)
                      var n = {
                          nodeName: t[2],
                          objectName: t[3],
                          objectIndex: t[4],
                          propertyName: t[5],
                          propertyIndex: t[6],
                        },
                        r = n.nodeName && n.nodeName.lastIndexOf('.')
                      if (void 0 !== r && -1 !== r) {
                        var i = n.nodeName.substring(r + 1)
                        ;-1 !== Jv.indexOf(i) &&
                          ((n.nodeName = n.nodeName.substring(0, r)), (n.objectName = i))
                      }
                      if (null === n.propertyName || 0 === n.propertyName.length)
                        throw new Error(
                          'PropertyBinding: can not parse propertyName from trackName: ' + e
                        )
                      return n
                    },
                  },
                  {
                    key: 'findNode',
                    value: function (e, t) {
                      if (
                        void 0 === t ||
                        '' === t ||
                        '.' === t ||
                        -1 === t ||
                        t === e.name ||
                        t === e.uuid
                      )
                        return e
                      if (e.skeleton) {
                        var n = e.skeleton.getBoneByName(t)
                        if (void 0 !== n) return n
                      }
                      if (e.children) {
                        var r = function (e) {
                            for (var n = 0; n < e.length; n++) {
                              var i = e[n]
                              if (i.name === t || i.uuid === t) return i
                              var a = r(i.children)
                              if (a) return a
                            }
                            return null
                          },
                          i = r(e.children)
                        if (i) return i
                      }
                      return null
                    },
                  },
                ]
              )
            })()
          ;((em.Composite = $v),
            (em.prototype.BindingType = {
              Direct: 0,
              EntireArray: 1,
              ArrayElement: 2,
              HasFromToArray: 3,
            }),
            (em.prototype.Versioning = { None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2 }),
            (em.prototype.GetterByBindingType = [
              em.prototype._getValue_direct,
              em.prototype._getValue_array,
              em.prototype._getValue_arrayElement,
              em.prototype._getValue_toArray,
            ]),
            (em.prototype.SetterByBindingTypeAndVersioning = [
              [
                em.prototype._setValue_direct,
                em.prototype._setValue_direct_setNeedsUpdate,
                em.prototype._setValue_direct_setMatrixWorldNeedsUpdate,
              ],
              [
                em.prototype._setValue_array,
                em.prototype._setValue_array_setNeedsUpdate,
                em.prototype._setValue_array_setMatrixWorldNeedsUpdate,
              ],
              [
                em.prototype._setValue_arrayElement,
                em.prototype._setValue_arrayElement_setNeedsUpdate,
                em.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,
              ],
              [
                em.prototype._setValue_fromArray,
                em.prototype._setValue_fromArray_setNeedsUpdate,
                em.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,
              ],
            ]))
          var tm = (function () {
              return T(
                function e(t, n) {
                  var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : n.blendMode
                  ;(w(this, e),
                    (this._mixer = t),
                    (this._clip = n),
                    (this._localRoot = r),
                    (this.blendMode = i))
                  for (
                    var a = n.tracks,
                      o = a.length,
                      s = new Array(o),
                      u = { endingStart: gc, endingEnd: gc },
                      l = 0;
                    l !== o;
                    ++l
                  ) {
                    var c = a[l].createInterpolant(null)
                    ;((s[l] = c), (c.settings = u))
                  }
                  ;((this._interpolantSettings = u),
                    (this._interpolants = s),
                    (this._propertyBindings = new Array(o)),
                    (this._cacheIndex = null),
                    (this._byClipCacheIndex = null),
                    (this._timeScaleInterpolant = null),
                    (this._weightInterpolant = null),
                    (this.loop = fc),
                    (this._loopCount = -1),
                    (this._startTime = null),
                    (this.time = 0),
                    (this.timeScale = 1),
                    (this._effectiveTimeScale = 1),
                    (this.weight = 1),
                    (this._effectiveWeight = 1),
                    (this.repetitions = 1 / 0),
                    (this.paused = !1),
                    (this.enabled = !0),
                    (this.clampWhenFinished = !1),
                    (this.zeroSlopeAtStart = !0),
                    (this.zeroSlopeAtEnd = !0))
                },
                [
                  {
                    key: 'play',
                    value: function () {
                      return (this._mixer._activateAction(this), this)
                    },
                  },
                  {
                    key: 'stop',
                    value: function () {
                      return (this._mixer._deactivateAction(this), this.reset())
                    },
                  },
                  {
                    key: 'reset',
                    value: function () {
                      return (
                        (this.paused = !1),
                        (this.enabled = !0),
                        (this.time = 0),
                        (this._loopCount = -1),
                        (this._startTime = null),
                        this.stopFading().stopWarping()
                      )
                    },
                  },
                  {
                    key: 'isRunning',
                    value: function () {
                      return (
                        this.enabled &&
                        !this.paused &&
                        0 !== this.timeScale &&
                        null === this._startTime &&
                        this._mixer._isActiveAction(this)
                      )
                    },
                  },
                  {
                    key: 'isScheduled',
                    value: function () {
                      return this._mixer._isActiveAction(this)
                    },
                  },
                  {
                    key: 'startAt',
                    value: function (e) {
                      return ((this._startTime = e), this)
                    },
                  },
                  {
                    key: 'setLoop',
                    value: function (e, t) {
                      return ((this.loop = e), (this.repetitions = t), this)
                    },
                  },
                  {
                    key: 'setEffectiveWeight',
                    value: function (e) {
                      return (
                        (this.weight = e),
                        (this._effectiveWeight = this.enabled ? e : 0),
                        this.stopFading()
                      )
                    },
                  },
                  {
                    key: 'getEffectiveWeight',
                    value: function () {
                      return this._effectiveWeight
                    },
                  },
                  {
                    key: 'fadeIn',
                    value: function (e) {
                      return this._scheduleFading(e, 0, 1)
                    },
                  },
                  {
                    key: 'fadeOut',
                    value: function (e) {
                      return this._scheduleFading(e, 1, 0)
                    },
                  },
                  {
                    key: 'crossFadeFrom',
                    value: function (e, t, n) {
                      if ((e.fadeOut(t), this.fadeIn(t), n)) {
                        var r = this._clip.duration,
                          i = e._clip.duration,
                          a = i / r,
                          o = r / i
                        ;(e.warp(1, a, t), this.warp(o, 1, t))
                      }
                      return this
                    },
                  },
                  {
                    key: 'crossFadeTo',
                    value: function (e, t, n) {
                      return e.crossFadeFrom(this, t, n)
                    },
                  },
                  {
                    key: 'stopFading',
                    value: function () {
                      var e = this._weightInterpolant
                      return (
                        null !== e &&
                          ((this._weightInterpolant = null),
                          this._mixer._takeBackControlInterpolant(e)),
                        this
                      )
                    },
                  },
                  {
                    key: 'setEffectiveTimeScale',
                    value: function (e) {
                      return (
                        (this.timeScale = e),
                        (this._effectiveTimeScale = this.paused ? 0 : e),
                        this.stopWarping()
                      )
                    },
                  },
                  {
                    key: 'getEffectiveTimeScale',
                    value: function () {
                      return this._effectiveTimeScale
                    },
                  },
                  {
                    key: 'setDuration',
                    value: function (e) {
                      return ((this.timeScale = this._clip.duration / e), this.stopWarping())
                    },
                  },
                  {
                    key: 'syncWith',
                    value: function (e) {
                      return (
                        (this.time = e.time),
                        (this.timeScale = e.timeScale),
                        this.stopWarping()
                      )
                    },
                  },
                  {
                    key: 'halt',
                    value: function (e) {
                      return this.warp(this._effectiveTimeScale, 0, e)
                    },
                  },
                  {
                    key: 'warp',
                    value: function (e, t, n) {
                      var r = this._mixer,
                        i = r.time,
                        a = this.timeScale,
                        o = this._timeScaleInterpolant
                      null === o &&
                        ((o = r._lendControlInterpolant()), (this._timeScaleInterpolant = o))
                      var s = o.parameterPositions,
                        u = o.sampleValues
                      return ((s[0] = i), (s[1] = i + n), (u[0] = e / a), (u[1] = t / a), this)
                    },
                  },
                  {
                    key: 'stopWarping',
                    value: function () {
                      var e = this._timeScaleInterpolant
                      return (
                        null !== e &&
                          ((this._timeScaleInterpolant = null),
                          this._mixer._takeBackControlInterpolant(e)),
                        this
                      )
                    },
                  },
                  {
                    key: 'getMixer',
                    value: function () {
                      return this._mixer
                    },
                  },
                  {
                    key: 'getClip',
                    value: function () {
                      return this._clip
                    },
                  },
                  {
                    key: 'getRoot',
                    value: function () {
                      return this._localRoot || this._mixer._root
                    },
                  },
                  {
                    key: '_update',
                    value: function (e, t, n, r) {
                      if (this.enabled) {
                        var i = this._startTime
                        if (null !== i) {
                          var a = (e - i) * n
                          a < 0 || 0 === n ? (t = 0) : ((this._startTime = null), (t = n * a))
                        }
                        t *= this._updateTimeScale(e)
                        var o = this._updateTime(t),
                          s = this._updateWeight(e)
                        if (s > 0) {
                          var u = this._interpolants,
                            l = this._propertyBindings
                          if (2501 === this.blendMode)
                            for (var c = 0, d = u.length; c !== d; ++c)
                              (u[c].evaluate(o), l[c].accumulateAdditive(s))
                          else
                            for (var h = 0, f = u.length; h !== f; ++h)
                              (u[h].evaluate(o), l[h].accumulate(r, s))
                        }
                      } else this._updateWeight(e)
                    },
                  },
                  {
                    key: '_updateWeight',
                    value: function (e) {
                      var t = 0
                      if (this.enabled) {
                        t = this.weight
                        var n = this._weightInterpolant
                        if (null !== n) {
                          var r = n.evaluate(e)[0]
                          ;((t *= r),
                            e > n.parameterPositions[1] &&
                              (this.stopFading(), 0 === r && (this.enabled = !1)))
                        }
                      }
                      return ((this._effectiveWeight = t), t)
                    },
                  },
                  {
                    key: '_updateTimeScale',
                    value: function (e) {
                      var t = 0
                      if (!this.paused) {
                        t = this.timeScale
                        var n = this._timeScaleInterpolant
                        if (null !== n)
                          ((t *= n.evaluate(e)[0]),
                            e > n.parameterPositions[1] &&
                              (this.stopWarping(),
                              0 === t ? (this.paused = !0) : (this.timeScale = t)))
                      }
                      return ((this._effectiveTimeScale = t), t)
                    },
                  },
                  {
                    key: '_updateTime',
                    value: function (e) {
                      var t = this._clip.duration,
                        n = this.loop,
                        r = this.time + e,
                        i = this._loopCount,
                        a = 2202 === n
                      if (0 === e) return -1 === i || !a || 1 & ~i ? r : t - r
                      if (n === hc) {
                        ;-1 === i && ((this._loopCount = 0), this._setEndings(!0, !0, !1))
                        e: {
                          if (r >= t) r = t
                          else {
                            if (!(r < 0)) {
                              this.time = r
                              break e
                            }
                            r = 0
                          }
                          ;(this.clampWhenFinished ? (this.paused = !0) : (this.enabled = !1),
                            (this.time = r),
                            this._mixer.dispatchEvent({
                              type: 'finished',
                              action: this,
                              direction: e < 0 ? -1 : 1,
                            }))
                        }
                      } else {
                        if (
                          (-1 === i &&
                            (e >= 0
                              ? ((i = 0), this._setEndings(!0, 0 === this.repetitions, a))
                              : this._setEndings(0 === this.repetitions, !0, a)),
                          r >= t || r < 0)
                        ) {
                          var o = Math.floor(r / t)
                          ;((r -= t * o), (i += Math.abs(o)))
                          var s = this.repetitions - i
                          if (s <= 0)
                            (this.clampWhenFinished ? (this.paused = !0) : (this.enabled = !1),
                              (r = e > 0 ? t : 0),
                              (this.time = r),
                              this._mixer.dispatchEvent({
                                type: 'finished',
                                action: this,
                                direction: e > 0 ? 1 : -1,
                              }))
                          else {
                            if (1 === s) {
                              var u = e < 0
                              this._setEndings(u, !u, a)
                            } else this._setEndings(!1, !1, a)
                            ;((this._loopCount = i),
                              (this.time = r),
                              this._mixer.dispatchEvent({
                                type: 'loop',
                                action: this,
                                loopDelta: o,
                              }))
                          }
                        } else this.time = r
                        if (a && !(1 & ~i)) return t - r
                      }
                      return r
                    },
                  },
                  {
                    key: '_setEndings',
                    value: function (e, t, n) {
                      var r = this._interpolantSettings
                      n
                        ? ((r.endingStart = yc), (r.endingEnd = yc))
                        : ((r.endingStart = e ? (this.zeroSlopeAtStart ? yc : gc) : xc),
                          (r.endingEnd = t ? (this.zeroSlopeAtEnd ? yc : gc) : xc))
                    },
                  },
                  {
                    key: '_scheduleFading',
                    value: function (e, t, n) {
                      var r = this._mixer,
                        i = r.time,
                        a = this._weightInterpolant
                      null === a &&
                        ((a = r._lendControlInterpolant()), (this._weightInterpolant = a))
                      var o = a.parameterPositions,
                        s = a.sampleValues
                      return ((o[0] = i), (s[0] = t), (o[1] = i + e), (s[1] = n), this)
                    },
                  },
                ]
              )
            })(),
            nm = new Float32Array(1),
            rm = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t))._root = e),
                  n._initMemoryManager(),
                  (n._accuIndex = 0),
                  (n.time = 0),
                  (n.timeScale = 1),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: '_bindAction',
                    value: function (e, t) {
                      var n = e._localRoot || this._root,
                        r = e._clip.tracks,
                        i = r.length,
                        a = e._propertyBindings,
                        o = e._interpolants,
                        s = n.uuid,
                        u = this._bindingsByRootAndName,
                        l = u[s]
                      void 0 === l && ((l = {}), (u[s] = l))
                      for (var c = 0; c !== i; ++c) {
                        var d = r[c],
                          h = d.name,
                          f = l[h]
                        if (void 0 !== f) (++f.referenceCount, (a[c] = f))
                        else {
                          if (void 0 !== (f = a[c])) {
                            null === f._cacheIndex &&
                              (++f.referenceCount, this._addInactiveBinding(f, s, h))
                            continue
                          }
                          var p = t && t._propertyBindings[c].binding.parsedPath
                          ;(++(f = new Qv(em.create(n, h, p), d.ValueTypeName, d.getValueSize()))
                            .referenceCount,
                            this._addInactiveBinding(f, s, h),
                            (a[c] = f))
                        }
                        o[c].resultBuffer = f.buffer
                      }
                    },
                  },
                  {
                    key: '_activateAction',
                    value: function (e) {
                      if (!this._isActiveAction(e)) {
                        if (null === e._cacheIndex) {
                          var t = (e._localRoot || this._root).uuid,
                            n = e._clip.uuid,
                            r = this._actionsByClip[n]
                          ;(this._bindAction(e, r && r.knownActions[0]),
                            this._addInactiveAction(e, n, t))
                        }
                        for (var i = e._propertyBindings, a = 0, o = i.length; a !== o; ++a) {
                          var s = i[a]
                          0 === s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
                        }
                        this._lendAction(e)
                      }
                    },
                  },
                  {
                    key: '_deactivateAction',
                    value: function (e) {
                      if (this._isActiveAction(e)) {
                        for (var t = e._propertyBindings, n = 0, r = t.length; n !== r; ++n) {
                          var i = t[n]
                          0 === --i.useCount && (i.restoreOriginalState(), this._takeBackBinding(i))
                        }
                        this._takeBackAction(e)
                      }
                    },
                  },
                  {
                    key: '_initMemoryManager',
                    value: function () {
                      ;((this._actions = []),
                        (this._nActiveActions = 0),
                        (this._actionsByClip = {}),
                        (this._bindings = []),
                        (this._nActiveBindings = 0),
                        (this._bindingsByRootAndName = {}),
                        (this._controlInterpolants = []),
                        (this._nActiveControlInterpolants = 0))
                      var e = this
                      this.stats = {
                        actions: {
                          get total() {
                            return e._actions.length
                          },
                          get inUse() {
                            return e._nActiveActions
                          },
                        },
                        bindings: {
                          get total() {
                            return e._bindings.length
                          },
                          get inUse() {
                            return e._nActiveBindings
                          },
                        },
                        controlInterpolants: {
                          get total() {
                            return e._controlInterpolants.length
                          },
                          get inUse() {
                            return e._nActiveControlInterpolants
                          },
                        },
                      }
                    },
                  },
                  {
                    key: '_isActiveAction',
                    value: function (e) {
                      var t = e._cacheIndex
                      return null !== t && t < this._nActiveActions
                    },
                  },
                  {
                    key: '_addInactiveAction',
                    value: function (e, t, n) {
                      var r = this._actions,
                        i = this._actionsByClip,
                        a = i[t]
                      if (void 0 === a)
                        ((a = { knownActions: [e], actionByRoot: {} }),
                          (e._byClipCacheIndex = 0),
                          (i[t] = a))
                      else {
                        var o = a.knownActions
                        ;((e._byClipCacheIndex = o.length), o.push(e))
                      }
                      ;((e._cacheIndex = r.length), r.push(e), (a.actionByRoot[n] = e))
                    },
                  },
                  {
                    key: '_removeInactiveAction',
                    value: function (e) {
                      var t = this._actions,
                        n = t[t.length - 1],
                        r = e._cacheIndex
                      ;((n._cacheIndex = r), (t[r] = n), t.pop(), (e._cacheIndex = null))
                      var i = e._clip.uuid,
                        a = this._actionsByClip,
                        o = a[i],
                        s = o.knownActions,
                        u = s[s.length - 1],
                        l = e._byClipCacheIndex
                      ;((u._byClipCacheIndex = l),
                        (s[l] = u),
                        s.pop(),
                        (e._byClipCacheIndex = null),
                        delete o.actionByRoot[(e._localRoot || this._root).uuid],
                        0 === s.length && delete a[i],
                        this._removeInactiveBindingsForAction(e))
                    },
                  },
                  {
                    key: '_removeInactiveBindingsForAction',
                    value: function (e) {
                      for (var t = e._propertyBindings, n = 0, r = t.length; n !== r; ++n) {
                        var i = t[n]
                        0 === --i.referenceCount && this._removeInactiveBinding(i)
                      }
                    },
                  },
                  {
                    key: '_lendAction',
                    value: function (e) {
                      var t = this._actions,
                        n = e._cacheIndex,
                        r = this._nActiveActions++,
                        i = t[r]
                      ;((e._cacheIndex = r), (t[r] = e), (i._cacheIndex = n), (t[n] = i))
                    },
                  },
                  {
                    key: '_takeBackAction',
                    value: function (e) {
                      var t = this._actions,
                        n = e._cacheIndex,
                        r = --this._nActiveActions,
                        i = t[r]
                      ;((e._cacheIndex = r), (t[r] = e), (i._cacheIndex = n), (t[n] = i))
                    },
                  },
                  {
                    key: '_addInactiveBinding',
                    value: function (e, t, n) {
                      var r = this._bindingsByRootAndName,
                        i = this._bindings,
                        a = r[t]
                      ;(void 0 === a && ((a = {}), (r[t] = a)),
                        (a[n] = e),
                        (e._cacheIndex = i.length),
                        i.push(e))
                    },
                  },
                  {
                    key: '_removeInactiveBinding',
                    value: function (e) {
                      var t = this._bindings,
                        n = e.binding,
                        r = n.rootNode.uuid,
                        i = n.path,
                        a = this._bindingsByRootAndName,
                        o = a[r],
                        s = t[t.length - 1],
                        u = e._cacheIndex
                      ;((s._cacheIndex = u),
                        (t[u] = s),
                        t.pop(),
                        delete o[i],
                        0 === Object.keys(o).length && delete a[r])
                    },
                  },
                  {
                    key: '_lendBinding',
                    value: function (e) {
                      var t = this._bindings,
                        n = e._cacheIndex,
                        r = this._nActiveBindings++,
                        i = t[r]
                      ;((e._cacheIndex = r), (t[r] = e), (i._cacheIndex = n), (t[n] = i))
                    },
                  },
                  {
                    key: '_takeBackBinding',
                    value: function (e) {
                      var t = this._bindings,
                        n = e._cacheIndex,
                        r = --this._nActiveBindings,
                        i = t[r]
                      ;((e._cacheIndex = r), (t[r] = e), (i._cacheIndex = n), (t[n] = i))
                    },
                  },
                  {
                    key: '_lendControlInterpolant',
                    value: function () {
                      var e = this._controlInterpolants,
                        t = this._nActiveControlInterpolants++,
                        n = e[t]
                      return (
                        void 0 === n &&
                          (((n = new iv(
                            new Float32Array(2),
                            new Float32Array(2),
                            1,
                            nm
                          )).__cacheIndex = t),
                          (e[t] = n)),
                        n
                      )
                    },
                  },
                  {
                    key: '_takeBackControlInterpolant',
                    value: function (e) {
                      var t = this._controlInterpolants,
                        n = e.__cacheIndex,
                        r = --this._nActiveControlInterpolants,
                        i = t[r]
                      ;((e.__cacheIndex = r), (t[r] = e), (i.__cacheIndex = n), (t[n] = i))
                    },
                  },
                  {
                    key: 'clipAction',
                    value: function (e, t, n) {
                      var r = t || this._root,
                        i = r.uuid,
                        a = 'string' == typeof e ? pv.findByName(r, e) : e,
                        o = null !== a ? a.uuid : e,
                        s = this._actionsByClip[o],
                        u = null
                      if ((void 0 === n && (n = null !== a ? a.blendMode : _c), void 0 !== s)) {
                        var l = s.actionByRoot[i]
                        if (void 0 !== l && l.blendMode === n) return l
                        ;((u = s.knownActions[0]), null === a && (a = u._clip))
                      }
                      if (null === a) return null
                      var c = new tm(this, a, t, n)
                      return (this._bindAction(c, u), this._addInactiveAction(c, o, i), c)
                    },
                  },
                  {
                    key: 'existingAction',
                    value: function (e, t) {
                      var n = t || this._root,
                        r = n.uuid,
                        i = 'string' == typeof e ? pv.findByName(n, e) : e,
                        a = i ? i.uuid : e,
                        o = this._actionsByClip[a]
                      return (void 0 !== o && o.actionByRoot[r]) || null
                    },
                  },
                  {
                    key: 'stopAllAction',
                    value: function () {
                      for (var e = this._actions, t = this._nActiveActions - 1; t >= 0; --t)
                        e[t].stop()
                      return this
                    },
                  },
                  {
                    key: 'update',
                    value: function (e) {
                      e *= this.timeScale
                      for (
                        var t = this._actions,
                          n = this._nActiveActions,
                          r = (this.time += e),
                          i = Math.sign(e),
                          a = (this._accuIndex ^= 1),
                          o = 0;
                        o !== n;
                        ++o
                      ) {
                        t[o]._update(r, e, i, a)
                      }
                      for (var s = this._bindings, u = this._nActiveBindings, l = 0; l !== u; ++l)
                        s[l].apply(a)
                      return this
                    },
                  },
                  {
                    key: 'setTime',
                    value: function (e) {
                      this.time = 0
                      for (var t = 0; t < this._actions.length; t++) this._actions[t].time = 0
                      return this.update(e)
                    },
                  },
                  {
                    key: 'getRoot',
                    value: function () {
                      return this._root
                    },
                  },
                  {
                    key: 'uncacheClip',
                    value: function (e) {
                      var t = this._actions,
                        n = e.uuid,
                        r = this._actionsByClip,
                        i = r[n]
                      if (void 0 !== i) {
                        for (var a = i.knownActions, o = 0, s = a.length; o !== s; ++o) {
                          var u = a[o]
                          this._deactivateAction(u)
                          var l = u._cacheIndex,
                            c = t[t.length - 1]
                          ;((u._cacheIndex = null),
                            (u._byClipCacheIndex = null),
                            (c._cacheIndex = l),
                            (t[l] = c),
                            t.pop(),
                            this._removeInactiveBindingsForAction(u))
                        }
                        delete r[n]
                      }
                    },
                  },
                  {
                    key: 'uncacheRoot',
                    value: function (e) {
                      var t = e.uuid,
                        n = this._actionsByClip
                      for (var r in n) {
                        var i = n[r].actionByRoot[t]
                        void 0 !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
                      }
                      var a = this._bindingsByRootAndName[t]
                      if (void 0 !== a)
                        for (var o in a) {
                          var s = a[o]
                          ;(s.restoreOriginalState(), this._removeInactiveBinding(s))
                        }
                    },
                  },
                  {
                    key: 'uncacheAction',
                    value: function (e, t) {
                      var n = this.existingAction(e, t)
                      null !== n && (this._deactivateAction(n), this._removeInactiveAction(n))
                    },
                  },
                ])
              )
            })(Nc),
            im = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isInstancedInterleavedBuffer = !0),
                  (r.meshPerAttribute = i),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e]),
                        (this.meshPerAttribute = e.meshPerAttribute),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function (e) {
                      var r = n(t, 'clone', this, 3)([e])
                      return ((r.meshPerAttribute = this.meshPerAttribute), r)
                    },
                  },
                  {
                    key: 'toJSON',
                    value: function (e) {
                      var r = n(t, 'toJSON', this, 3)([e])
                      return (
                        (r.isInstancedInterleavedBuffer = !0),
                        (r.meshPerAttribute = this.meshPerAttribute),
                        r
                      )
                    },
                  },
                ])
              )
            })(Vf),
            am = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                  return (w(this, e), (this.radius = t), (this.phi = n), (this.theta = r), this)
                },
                [
                  {
                    key: 'set',
                    value: function (e, t, n) {
                      return ((this.radius = e), (this.phi = t), (this.theta = n), this)
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        (this.radius = e.radius),
                        (this.phi = e.phi),
                        (this.theta = e.theta),
                        this
                      )
                    },
                  },
                  {
                    key: 'makeSafe',
                    value: function () {
                      var e = 1e-6
                      return ((this.phi = Bc(this.phi, e, Math.PI - e)), this)
                    },
                  },
                  {
                    key: 'setFromVector3',
                    value: function (e) {
                      return this.setFromCartesianCoords(e.x, e.y, e.z)
                    },
                  },
                  {
                    key: 'setFromCartesianCoords',
                    value: function (e, t, n) {
                      return (
                        (this.radius = Math.sqrt(e * e + t * t + n * n)),
                        0 === this.radius
                          ? ((this.theta = 0), (this.phi = 0))
                          : ((this.theta = Math.atan2(e, n)),
                            (this.phi = Math.acos(Bc(t / this.radius, -1, 1)))),
                        this
                      )
                    },
                  },
                  {
                    key: 'clone',
                    value: function () {
                      return new this.constructor().copy(this)
                    },
                  },
                ]
              )
            })(),
            om = (function () {
              return T(
                function e(t, n, r, i) {
                  ;(w(this, e),
                    (e.prototype.isMatrix2 = !0),
                    (this.elements = [1, 0, 0, 1]),
                    void 0 !== t && this.set(t, n, r, i))
                },
                [
                  {
                    key: 'identity',
                    value: function () {
                      return (this.set(1, 0, 0, 1), this)
                    },
                  },
                  {
                    key: 'fromArray',
                    value: function (e) {
                      for (
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                          n = 0;
                        n < 4;
                        n++
                      )
                        this.elements[n] = e[n + t]
                      return this
                    },
                  },
                  {
                    key: 'set',
                    value: function (e, t, n, r) {
                      var i = this.elements
                      return ((i[0] = e), (i[2] = t), (i[1] = n), (i[3] = r), this)
                    },
                  },
                ]
              )
            })()
          function sm(e, t, n, r) {
            var i = (function (e) {
              switch (e) {
                case vl:
                case ml:
                  return { byteLength: 1, components: 1 }
                case yl:
                case gl:
                case Sl:
                  return { byteLength: 2, components: 1 }
                case wl:
                case Al:
                  return { byteLength: 2, components: 4 }
                case _l:
                case xl:
                case bl:
                  return { byteLength: 4, components: 1 }
                case Ml:
                  return { byteLength: 4, components: 3 }
              }
              throw new Error('Unknown texture type '.concat(e, '.'))
            })(r)
            switch (n) {
              case 1021:
              case 1024:
                return e * t
              case 1025:
                return e * t * 2
              case Rl:
              case Il:
                return ((e * t) / i.components) * i.byteLength
              case Nl:
              case Pl:
                return ((e * t * 2) / i.components) * i.byteLength
              case 1022:
                return ((e * t * 3) / i.components) * i.byteLength
              case El:
              case Ll:
                return ((e * t * 4) / i.components) * i.byteLength
              case Dl:
              case Ol:
                return Math.floor((e + 3) / 4) * Math.floor((t + 3) / 4) * 8
              case Fl:
              case Bl:
                return Math.floor((e + 3) / 4) * Math.floor((t + 3) / 4) * 16
              case zl:
              case Hl:
                return (Math.max(e, 16) * Math.max(t, 8)) / 4
              case Ul:
              case Vl:
                return (Math.max(e, 8) * Math.max(t, 8)) / 2
              case Wl:
              case Gl:
                return Math.floor((e + 3) / 4) * Math.floor((t + 3) / 4) * 8
              case jl:
              case Ql:
                return Math.floor((e + 3) / 4) * Math.floor((t + 3) / 4) * 16
              case ql:
                return Math.floor((e + 4) / 5) * Math.floor((t + 3) / 4) * 16
              case Xl:
                return Math.floor((e + 4) / 5) * Math.floor((t + 4) / 5) * 16
              case Yl:
                return Math.floor((e + 5) / 6) * Math.floor((t + 4) / 5) * 16
              case Kl:
                return Math.floor((e + 5) / 6) * Math.floor((t + 5) / 6) * 16
              case Zl:
                return Math.floor((e + 7) / 8) * Math.floor((t + 4) / 5) * 16
              case Jl:
                return Math.floor((e + 7) / 8) * Math.floor((t + 5) / 6) * 16
              case $l:
                return Math.floor((e + 7) / 8) * Math.floor((t + 7) / 8) * 16
              case ec:
                return Math.floor((e + 9) / 10) * Math.floor((t + 4) / 5) * 16
              case tc:
                return Math.floor((e + 9) / 10) * Math.floor((t + 5) / 6) * 16
              case nc:
                return Math.floor((e + 9) / 10) * Math.floor((t + 7) / 8) * 16
              case rc:
                return Math.floor((e + 9) / 10) * Math.floor((t + 9) / 10) * 16
              case ic:
                return Math.floor((e + 11) / 12) * Math.floor((t + 9) / 10) * 16
              case ac:
                return Math.floor((e + 11) / 12) * Math.floor((t + 11) / 12) * 16
              case oc:
              case sc:
              case uc:
                return Math.ceil(e / 4) * Math.ceil(t / 4) * 16
              case 36283:
              case lc:
                return Math.ceil(e / 4) * Math.ceil(t / 4) * 8
              case cc:
              case dc:
                return Math.ceil(e / 4) * Math.ceil(t / 4) * 16
            }
            throw new Error('Unable to determine texture byte length for '.concat(n, ' format.'))
          }
          /**
           * @license
           * Copyright 2010-2025 Three.js Authors
           * SPDX-License-Identifier: MIT
           */
          function um() {
            var e = null,
              t = !1,
              n = null,
              r = null
            function i(t, a) {
              ;(n(t, a), (r = e.requestAnimationFrame(i)))
            }
            return {
              start: function () {
                !0 !== t && null !== n && ((r = e.requestAnimationFrame(i)), (t = !0))
              },
              stop: function () {
                ;(e.cancelAnimationFrame(r), (t = !1))
              },
              setAnimationLoop: function (e) {
                n = e
              },
              setContext: function (t) {
                e = t
              },
            }
          }
          function lm(e) {
            var t = new WeakMap()
            return {
              get: function (e) {
                return (e.isInterleavedBufferAttribute && (e = e.data), t.get(e))
              },
              remove: function (n) {
                n.isInterleavedBufferAttribute && (n = n.data)
                var r = t.get(n)
                r && (e.deleteBuffer(r.buffer), t.delete(n))
              },
              update: function (n, r) {
                if ((n.isInterleavedBufferAttribute && (n = n.data), n.isGLBufferAttribute)) {
                  var i = t.get(n)
                  ;(!i || i.version < n.version) &&
                    t.set(n, {
                      buffer: n.buffer,
                      type: n.type,
                      bytesPerElement: n.elementSize,
                      version: n.version,
                    })
                } else {
                  var a = t.get(n)
                  if (void 0 === a)
                    t.set(
                      n,
                      (function (t, n) {
                        var r,
                          i = t.array,
                          a = t.usage,
                          o = i.byteLength,
                          s = e.createBuffer()
                        if (
                          (e.bindBuffer(n, s),
                          e.bufferData(n, i, a),
                          t.onUploadCallback(),
                          i instanceof Float32Array)
                        )
                          r = e.FLOAT
                        else if (i instanceof Uint16Array)
                          r = t.isFloat16BufferAttribute ? e.HALF_FLOAT : e.UNSIGNED_SHORT
                        else if (i instanceof Int16Array) r = e.SHORT
                        else if (i instanceof Uint32Array) r = e.UNSIGNED_INT
                        else if (i instanceof Int32Array) r = e.INT
                        else if (i instanceof Int8Array) r = e.BYTE
                        else if (i instanceof Uint8Array) r = e.UNSIGNED_BYTE
                        else {
                          if (!(i instanceof Uint8ClampedArray))
                            throw new Error(
                              'THREE.WebGLAttributes: Unsupported buffer data format: ' + i
                            )
                          r = e.UNSIGNED_BYTE
                        }
                        return {
                          buffer: s,
                          type: r,
                          bytesPerElement: i.BYTES_PER_ELEMENT,
                          version: t.version,
                          size: o,
                        }
                      })(n, r)
                    )
                  else if (a.version < n.version) {
                    if (a.size !== n.array.byteLength)
                      throw new Error(
                        "THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported."
                      )
                    ;(!(function (t, n, r) {
                      var i = n.array,
                        a = n.updateRanges
                      if ((e.bindBuffer(r, t), 0 === a.length)) e.bufferSubData(r, 0, i)
                      else {
                        a.sort(function (e, t) {
                          return e.start - t.start
                        })
                        for (var o = 0, s = 1; s < a.length; s++) {
                          var u = a[o],
                            l = a[s]
                          l.start <= u.start + u.count + 1
                            ? (u.count = Math.max(u.count, l.start + l.count - u.start))
                            : (a[++o] = l)
                        }
                        a.length = o + 1
                        for (var c = 0, d = a.length; c < d; c++) {
                          var h = a[c]
                          e.bufferSubData(r, h.start * i.BYTES_PER_ELEMENT, i, h.start, h.count)
                        }
                        n.clearUpdateRanges()
                      }
                      n.onUploadCallback()
                    })(a.buffer, n, r),
                      (a.version = n.version))
                  }
                }
              },
            }
          }
          ;('undefined' != typeof __THREE_DEVTOOLS__ &&
            __THREE_DEVTOOLS__.dispatchEvent(
              new CustomEvent('register', { detail: { revision: Qu } })
            ),
            'undefined' != typeof window &&
              (window.__THREE__
                ? console.warn('WARNING: Multiple instances of Three.js being imported.')
                : (window.__THREE__ = Qu)))
          var cm = {
              alphahash_fragment:
                '#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif',
              alphahash_pars_fragment:
                '#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif',
              alphamap_fragment:
                '#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif',
              alphamap_pars_fragment: '#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif',
              alphatest_fragment:
                '#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif',
              alphatest_pars_fragment: '#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif',
              aomap_fragment:
                '#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif',
              aomap_pars_fragment:
                '#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif',
              batching_pars_vertex:
                '#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif',
              batching_vertex:
                '#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif',
              begin_vertex:
                'vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif',
              beginnormal_vertex:
                'vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif',
              bsdfs:
                'float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated',
              iridescence_fragment:
                '#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif',
              bumpmap_pars_fragment:
                '#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif',
              clipping_planes_fragment:
                '#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif',
              clipping_planes_pars_fragment:
                '#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif',
              clipping_planes_pars_vertex:
                '#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif',
              clipping_planes_vertex:
                '#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif',
              color_fragment:
                '#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif',
              color_pars_fragment:
                '#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif',
              color_pars_vertex:
                '#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif',
              color_vertex:
                '#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif',
              common:
                '#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated',
              cube_uv_reflection_fragment:
                '#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif',
              defaultnormal_vertex:
                'vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif',
              displacementmap_pars_vertex:
                '#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif',
              displacementmap_vertex:
                '#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif',
              emissivemap_fragment:
                '#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif',
              emissivemap_pars_fragment:
                '#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif',
              colorspace_fragment: 'gl_FragColor = linearToOutputTexel( gl_FragColor );',
              colorspace_pars_fragment:
                'vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}',
              envmap_fragment:
                '#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif',
              envmap_common_pars_fragment:
                '#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif',
              envmap_pars_fragment:
                '#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif',
              envmap_pars_vertex:
                '#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif',
              envmap_physical_pars_fragment:
                '#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif',
              envmap_vertex:
                '#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif',
              fog_vertex: '#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif',
              fog_pars_vertex: '#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif',
              fog_fragment:
                '#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif',
              fog_pars_fragment:
                '#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif',
              gradientmap_pars_fragment:
                '#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}',
              lightmap_pars_fragment:
                '#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif',
              lights_lambert_fragment:
                'LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;',
              lights_lambert_pars_fragment:
                'varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert',
              lights_pars_begin:
                'uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif',
              lights_toon_fragment:
                'ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;',
              lights_toon_pars_fragment:
                'varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon',
              lights_phong_fragment:
                'BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;',
              lights_phong_pars_fragment:
                'varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong',
              lights_physical_fragment:
                'PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif',
              lights_physical_pars_fragment:
                'struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}',
              lights_fragment_begin:
                '\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif',
              lights_fragment_maps:
                '#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif',
              lights_fragment_end:
                '#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif',
              logdepthbuf_fragment:
                '#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif',
              logdepthbuf_pars_fragment:
                '#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif',
              logdepthbuf_pars_vertex:
                '#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif',
              logdepthbuf_vertex:
                '#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif',
              map_fragment:
                '#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif',
              map_pars_fragment: '#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif',
              map_particle_fragment:
                '#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif',
              map_particle_pars_fragment:
                '#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif',
              metalnessmap_fragment:
                'float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif',
              metalnessmap_pars_fragment:
                '#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif',
              morphinstance_vertex:
                '#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif',
              morphcolor_vertex:
                '#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif',
              morphnormal_vertex:
                '#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif',
              morphtarget_pars_vertex:
                '#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif',
              morphtarget_vertex:
                '#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif',
              normal_fragment_begin:
                'float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;',
              normal_fragment_maps:
                '#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif',
              normal_pars_fragment:
                '#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif',
              normal_pars_vertex:
                '#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif',
              normal_vertex:
                '#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif',
              normalmap_pars_fragment:
                '#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif',
              clearcoat_normal_fragment_begin:
                '#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif',
              clearcoat_normal_fragment_maps:
                '#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif',
              clearcoat_pars_fragment:
                '#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif',
              iridescence_pars_fragment:
                '#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif',
              opaque_fragment:
                '#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );',
              packing:
                'vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}',
              premultiplied_alpha_fragment:
                '#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif',
              project_vertex:
                'vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;',
              dithering_fragment:
                '#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif',
              dithering_pars_fragment:
                '#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif',
              roughnessmap_fragment:
                'float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif',
              roughnessmap_pars_fragment:
                '#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif',
              shadowmap_pars_fragment:
                '#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif',
              shadowmap_pars_vertex:
                '#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif',
              shadowmap_vertex:
                '#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif',
              shadowmask_pars_fragment:
                'float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}',
              skinbase_vertex:
                '#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif',
              skinning_pars_vertex:
                '#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif',
              skinning_vertex:
                '#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif',
              skinnormal_vertex:
                '#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif',
              specularmap_fragment:
                'float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif',
              specularmap_pars_fragment:
                '#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif',
              tonemapping_fragment:
                '#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif',
              tonemapping_pars_fragment:
                '#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }',
              transmission_fragment:
                '#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif',
              transmission_pars_fragment:
                '#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif',
              uv_pars_fragment:
                '#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif',
              uv_pars_vertex:
                '#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif',
              uv_vertex:
                '#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif',
              worldpos_vertex:
                '#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif',
              background_vert:
                'varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}',
              background_frag:
                'uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}',
              backgroundCube_vert:
                'varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}',
              backgroundCube_frag:
                '#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}',
              cube_vert:
                'varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}',
              cube_frag:
                'uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}',
              depth_vert:
                '#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}',
              depth_frag:
                '#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}',
              distanceRGBA_vert:
                '#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}',
              distanceRGBA_frag:
                '#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}',
              equirect_vert:
                'varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}',
              equirect_frag:
                'uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}',
              linedashed_vert:
                'uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}',
              linedashed_frag:
                'uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}',
              meshbasic_vert:
                '#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}',
              meshbasic_frag:
                'uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              meshlambert_vert:
                '#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}',
              meshlambert_frag:
                '#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              meshmatcap_vert:
                '#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}',
              meshmatcap_frag:
                '#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              meshnormal_vert:
                '#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}',
              meshnormal_frag:
                '#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}',
              meshphong_vert:
                '#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}',
              meshphong_frag:
                '#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              meshphysical_vert:
                '#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}',
              meshphysical_frag:
                '#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              meshtoon_vert:
                '#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}',
              meshtoon_frag:
                '#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}',
              points_vert:
                'uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}',
              points_frag:
                'uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}',
              shadow_vert:
                '#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}',
              shadow_frag:
                'uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}',
              sprite_vert:
                'uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}',
              sprite_frag:
                'uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}',
            },
            dm = {
              common: {
                diffuse: { value: new Uh(16777215) },
                opacity: { value: 1 },
                map: { value: null },
                mapTransform: { value: new jc() },
                alphaMap: { value: null },
                alphaMapTransform: { value: new jc() },
                alphaTest: { value: 0 },
              },
              specularmap: {
                specularMap: { value: null },
                specularMapTransform: { value: new jc() },
              },
              envmap: {
                envMap: { value: null },
                envMapRotation: { value: new jc() },
                flipEnvMap: { value: -1 },
                reflectivity: { value: 1 },
                ior: { value: 1.5 },
                refractionRatio: { value: 0.98 },
              },
              aomap: {
                aoMap: { value: null },
                aoMapIntensity: { value: 1 },
                aoMapTransform: { value: new jc() },
              },
              lightmap: {
                lightMap: { value: null },
                lightMapIntensity: { value: 1 },
                lightMapTransform: { value: new jc() },
              },
              bumpmap: {
                bumpMap: { value: null },
                bumpMapTransform: { value: new jc() },
                bumpScale: { value: 1 },
              },
              normalmap: {
                normalMap: { value: null },
                normalMapTransform: { value: new jc() },
                normalScale: { value: new Gc(1, 1) },
              },
              displacementmap: {
                displacementMap: { value: null },
                displacementMapTransform: { value: new jc() },
                displacementScale: { value: 1 },
                displacementBias: { value: 0 },
              },
              emissivemap: {
                emissiveMap: { value: null },
                emissiveMapTransform: { value: new jc() },
              },
              metalnessmap: {
                metalnessMap: { value: null },
                metalnessMapTransform: { value: new jc() },
              },
              roughnessmap: {
                roughnessMap: { value: null },
                roughnessMapTransform: { value: new jc() },
              },
              gradientmap: { gradientMap: { value: null } },
              fog: {
                fogDensity: { value: 25e-5 },
                fogNear: { value: 1 },
                fogFar: { value: 2e3 },
                fogColor: { value: new Uh(16777215) },
              },
              lights: {
                ambientLightColor: { value: [] },
                lightProbe: { value: [] },
                directionalLights: { value: [], properties: { direction: {}, color: {} } },
                directionalLightShadows: {
                  value: [],
                  properties: {
                    shadowIntensity: 1,
                    shadowBias: {},
                    shadowNormalBias: {},
                    shadowRadius: {},
                    shadowMapSize: {},
                  },
                },
                directionalShadowMap: { value: [] },
                directionalShadowMatrix: { value: [] },
                spotLights: {
                  value: [],
                  properties: {
                    color: {},
                    position: {},
                    direction: {},
                    distance: {},
                    coneCos: {},
                    penumbraCos: {},
                    decay: {},
                  },
                },
                spotLightShadows: {
                  value: [],
                  properties: {
                    shadowIntensity: 1,
                    shadowBias: {},
                    shadowNormalBias: {},
                    shadowRadius: {},
                    shadowMapSize: {},
                  },
                },
                spotLightMap: { value: [] },
                spotShadowMap: { value: [] },
                spotLightMatrix: { value: [] },
                pointLights: {
                  value: [],
                  properties: { color: {}, position: {}, decay: {}, distance: {} },
                },
                pointLightShadows: {
                  value: [],
                  properties: {
                    shadowIntensity: 1,
                    shadowBias: {},
                    shadowNormalBias: {},
                    shadowRadius: {},
                    shadowMapSize: {},
                    shadowCameraNear: {},
                    shadowCameraFar: {},
                  },
                },
                pointShadowMap: { value: [] },
                pointShadowMatrix: { value: [] },
                hemisphereLights: {
                  value: [],
                  properties: { direction: {}, skyColor: {}, groundColor: {} },
                },
                rectAreaLights: {
                  value: [],
                  properties: { color: {}, position: {}, width: {}, height: {} },
                },
                ltc_1: { value: null },
                ltc_2: { value: null },
              },
              points: {
                diffuse: { value: new Uh(16777215) },
                opacity: { value: 1 },
                size: { value: 1 },
                scale: { value: 1 },
                map: { value: null },
                alphaMap: { value: null },
                alphaMapTransform: { value: new jc() },
                alphaTest: { value: 0 },
                uvTransform: { value: new jc() },
              },
              sprite: {
                diffuse: { value: new Uh(16777215) },
                opacity: { value: 1 },
                center: { value: new Gc(0.5, 0.5) },
                rotation: { value: 0 },
                map: { value: null },
                mapTransform: { value: new jc() },
                alphaMap: { value: null },
                alphaMapTransform: { value: new jc() },
                alphaTest: { value: 0 },
              },
            },
            hm = {
              basic: {
                uniforms: Af([dm.common, dm.specularmap, dm.envmap, dm.aomap, dm.lightmap, dm.fog]),
                vertexShader: cm.meshbasic_vert,
                fragmentShader: cm.meshbasic_frag,
              },
              lambert: {
                uniforms: Af([
                  dm.common,
                  dm.specularmap,
                  dm.envmap,
                  dm.aomap,
                  dm.lightmap,
                  dm.emissivemap,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  dm.fog,
                  dm.lights,
                  { emissive: { value: new Uh(0) } },
                ]),
                vertexShader: cm.meshlambert_vert,
                fragmentShader: cm.meshlambert_frag,
              },
              phong: {
                uniforms: Af([
                  dm.common,
                  dm.specularmap,
                  dm.envmap,
                  dm.aomap,
                  dm.lightmap,
                  dm.emissivemap,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  dm.fog,
                  dm.lights,
                  {
                    emissive: { value: new Uh(0) },
                    specular: { value: new Uh(1118481) },
                    shininess: { value: 30 },
                  },
                ]),
                vertexShader: cm.meshphong_vert,
                fragmentShader: cm.meshphong_frag,
              },
              standard: {
                uniforms: Af([
                  dm.common,
                  dm.envmap,
                  dm.aomap,
                  dm.lightmap,
                  dm.emissivemap,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  dm.roughnessmap,
                  dm.metalnessmap,
                  dm.fog,
                  dm.lights,
                  {
                    emissive: { value: new Uh(0) },
                    roughness: { value: 1 },
                    metalness: { value: 0 },
                    envMapIntensity: { value: 1 },
                  },
                ]),
                vertexShader: cm.meshphysical_vert,
                fragmentShader: cm.meshphysical_frag,
              },
              toon: {
                uniforms: Af([
                  dm.common,
                  dm.aomap,
                  dm.lightmap,
                  dm.emissivemap,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  dm.gradientmap,
                  dm.fog,
                  dm.lights,
                  { emissive: { value: new Uh(0) } },
                ]),
                vertexShader: cm.meshtoon_vert,
                fragmentShader: cm.meshtoon_frag,
              },
              matcap: {
                uniforms: Af([
                  dm.common,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  dm.fog,
                  { matcap: { value: null } },
                ]),
                vertexShader: cm.meshmatcap_vert,
                fragmentShader: cm.meshmatcap_frag,
              },
              points: {
                uniforms: Af([dm.points, dm.fog]),
                vertexShader: cm.points_vert,
                fragmentShader: cm.points_frag,
              },
              dashed: {
                uniforms: Af([
                  dm.common,
                  dm.fog,
                  { scale: { value: 1 }, dashSize: { value: 1 }, totalSize: { value: 2 } },
                ]),
                vertexShader: cm.linedashed_vert,
                fragmentShader: cm.linedashed_frag,
              },
              depth: {
                uniforms: Af([dm.common, dm.displacementmap]),
                vertexShader: cm.depth_vert,
                fragmentShader: cm.depth_frag,
              },
              normal: {
                uniforms: Af([
                  dm.common,
                  dm.bumpmap,
                  dm.normalmap,
                  dm.displacementmap,
                  { opacity: { value: 1 } },
                ]),
                vertexShader: cm.meshnormal_vert,
                fragmentShader: cm.meshnormal_frag,
              },
              sprite: {
                uniforms: Af([dm.sprite, dm.fog]),
                vertexShader: cm.sprite_vert,
                fragmentShader: cm.sprite_frag,
              },
              background: {
                uniforms: {
                  uvTransform: { value: new jc() },
                  t2D: { value: null },
                  backgroundIntensity: { value: 1 },
                },
                vertexShader: cm.background_vert,
                fragmentShader: cm.background_frag,
              },
              backgroundCube: {
                uniforms: {
                  envMap: { value: null },
                  flipEnvMap: { value: -1 },
                  backgroundBlurriness: { value: 0 },
                  backgroundIntensity: { value: 1 },
                  backgroundRotation: { value: new jc() },
                },
                vertexShader: cm.backgroundCube_vert,
                fragmentShader: cm.backgroundCube_frag,
              },
              cube: {
                uniforms: { tCube: { value: null }, tFlip: { value: -1 }, opacity: { value: 1 } },
                vertexShader: cm.cube_vert,
                fragmentShader: cm.cube_frag,
              },
              equirect: {
                uniforms: { tEquirect: { value: null } },
                vertexShader: cm.equirect_vert,
                fragmentShader: cm.equirect_frag,
              },
              distanceRGBA: {
                uniforms: Af([
                  dm.common,
                  dm.displacementmap,
                  {
                    referencePosition: { value: new gd() },
                    nearDistance: { value: 1 },
                    farDistance: { value: 1e3 },
                  },
                ]),
                vertexShader: cm.distanceRGBA_vert,
                fragmentShader: cm.distanceRGBA_frag,
              },
              shadow: {
                uniforms: Af([
                  dm.lights,
                  dm.fog,
                  { color: { value: new Uh(0) }, opacity: { value: 1 } },
                ]),
                vertexShader: cm.shadow_vert,
                fragmentShader: cm.shadow_frag,
              },
            }
          hm.physical = {
            uniforms: Af([
              hm.standard.uniforms,
              {
                clearcoat: { value: 0 },
                clearcoatMap: { value: null },
                clearcoatMapTransform: { value: new jc() },
                clearcoatNormalMap: { value: null },
                clearcoatNormalMapTransform: { value: new jc() },
                clearcoatNormalScale: { value: new Gc(1, 1) },
                clearcoatRoughness: { value: 0 },
                clearcoatRoughnessMap: { value: null },
                clearcoatRoughnessMapTransform: { value: new jc() },
                dispersion: { value: 0 },
                iridescence: { value: 0 },
                iridescenceMap: { value: null },
                iridescenceMapTransform: { value: new jc() },
                iridescenceIOR: { value: 1.3 },
                iridescenceThicknessMinimum: { value: 100 },
                iridescenceThicknessMaximum: { value: 400 },
                iridescenceThicknessMap: { value: null },
                iridescenceThicknessMapTransform: { value: new jc() },
                sheen: { value: 0 },
                sheenColor: { value: new Uh(0) },
                sheenColorMap: { value: null },
                sheenColorMapTransform: { value: new jc() },
                sheenRoughness: { value: 1 },
                sheenRoughnessMap: { value: null },
                sheenRoughnessMapTransform: { value: new jc() },
                transmission: { value: 0 },
                transmissionMap: { value: null },
                transmissionMapTransform: { value: new jc() },
                transmissionSamplerSize: { value: new Gc() },
                transmissionSamplerMap: { value: null },
                thickness: { value: 0 },
                thicknessMap: { value: null },
                thicknessMapTransform: { value: new jc() },
                attenuationDistance: { value: 0 },
                attenuationColor: { value: new Uh(0) },
                specularColor: { value: new Uh(1, 1, 1) },
                specularColorMap: { value: null },
                specularColorMapTransform: { value: new jc() },
                specularIntensity: { value: 1 },
                specularIntensityMap: { value: null },
                specularIntensityMapTransform: { value: new jc() },
                anisotropyVector: { value: new Gc() },
                anisotropyMap: { value: null },
                anisotropyMapTransform: { value: new jc() },
              },
            ]),
            vertexShader: cm.meshphysical_vert,
            fragmentShader: cm.meshphysical_frag,
          }
          var fm = { r: 0, b: 0, g: 0 },
            pm = new rh(),
            vm = new qd()
          function mm(e, t, n, r, i, a, o) {
            var s,
              u,
              l = new Uh(0),
              c = !0 === a ? 0 : 1,
              d = null,
              h = 0,
              f = null
            function p(e) {
              var r = !0 === e.isScene ? e.background : null
              r && r.isTexture && (r = (e.backgroundBlurriness > 0 ? n : t).get(r))
              return r
            }
            function v(t, n) {
              ;(t.getRGB(fm, Tf(e)), r.buffers.color.setClear(fm.r, fm.g, fm.b, n, o))
            }
            return {
              getClearColor: function () {
                return l
              },
              setClearColor: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                ;(l.set(e), v(l, (c = t)))
              },
              getClearAlpha: function () {
                return c
              },
              setClearAlpha: function (e) {
                v(l, (c = e))
              },
              render: function (t) {
                var n = !1,
                  i = p(t)
                null === i ? v(l, c) : i && i.isColor && (v(i, 1), (n = !0))
                var a = e.xr.getEnvironmentBlendMode()
                ;('additive' === a
                  ? r.buffers.color.setClear(0, 0, 0, 1, o)
                  : 'alpha-blend' === a && r.buffers.color.setClear(0, 0, 0, 0, o),
                  (e.autoClear || n) &&
                    (r.buffers.depth.setTest(!0),
                    r.buffers.depth.setMask(!0),
                    r.buffers.color.setMask(!0),
                    e.clear(e.autoClearColor, e.autoClearDepth, e.autoClearStencil)))
              },
              addToRenderList: function (t, n) {
                var r = p(n)
                r && (r.isCubeTexture || r.mapping === ol)
                  ? (void 0 === u &&
                      ((u = new _f(
                        new Sf(1, 1, 1),
                        new Ef({
                          name: 'BackgroundCubeMaterial',
                          uniforms: wf(hm.backgroundCube.uniforms),
                          vertexShader: hm.backgroundCube.vertexShader,
                          fragmentShader: hm.backgroundCube.fragmentShader,
                          side: 1,
                          depthTest: !1,
                          depthWrite: !1,
                          fog: !1,
                        })
                      )).geometry.deleteAttribute('normal'),
                      u.geometry.deleteAttribute('uv'),
                      (u.onBeforeRender = function (e, t, n) {
                        this.matrixWorld.copyPosition(n.matrixWorld)
                      }),
                      Object.defineProperty(u.material, 'envMap', {
                        get: function () {
                          return this.uniforms.envMap.value
                        },
                      }),
                      i.update(u)),
                    pm.copy(n.backgroundRotation),
                    (pm.x *= -1),
                    (pm.y *= -1),
                    (pm.z *= -1),
                    r.isCubeTexture &&
                      !1 === r.isRenderTargetTexture &&
                      ((pm.y *= -1), (pm.z *= -1)),
                    (u.material.uniforms.envMap.value = r),
                    (u.material.uniforms.flipEnvMap.value =
                      r.isCubeTexture && !1 === r.isRenderTargetTexture ? -1 : 1),
                    (u.material.uniforms.backgroundBlurriness.value = n.backgroundBlurriness),
                    (u.material.uniforms.backgroundIntensity.value = n.backgroundIntensity),
                    u.material.uniforms.backgroundRotation.value.setFromMatrix4(
                      vm.makeRotationFromEuler(pm)
                    ),
                    (u.material.toneMapped = nd.getTransfer(r.colorSpace) !== Tc),
                    (d === r && h === r.version && f === e.toneMapping) ||
                      ((u.material.needsUpdate = !0),
                      (d = r),
                      (h = r.version),
                      (f = e.toneMapping)),
                    u.layers.enableAll(),
                    t.unshift(u, u.geometry, u.material, 0, 0, null))
                  : r &&
                    r.isTexture &&
                    (void 0 === s &&
                      ((s = new _f(
                        new Qp(2, 2),
                        new Ef({
                          name: 'BackgroundMaterial',
                          uniforms: wf(hm.background.uniforms),
                          vertexShader: hm.background.vertexShader,
                          fragmentShader: hm.background.fragmentShader,
                          side: 0,
                          depthTest: !1,
                          depthWrite: !1,
                          fog: !1,
                        })
                      )).geometry.deleteAttribute('normal'),
                      Object.defineProperty(s.material, 'map', {
                        get: function () {
                          return this.uniforms.t2D.value
                        },
                      }),
                      i.update(s)),
                    (s.material.uniforms.t2D.value = r),
                    (s.material.uniforms.backgroundIntensity.value = n.backgroundIntensity),
                    (s.material.toneMapped = nd.getTransfer(r.colorSpace) !== Tc),
                    !0 === r.matrixAutoUpdate && r.updateMatrix(),
                    s.material.uniforms.uvTransform.value.copy(r.matrix),
                    (d === r && h === r.version && f === e.toneMapping) ||
                      ((s.material.needsUpdate = !0),
                      (d = r),
                      (h = r.version),
                      (f = e.toneMapping)),
                    s.layers.enableAll(),
                    t.unshift(s, s.geometry, s.material, 0, 0, null))
              },
              dispose: function () {
                ;(void 0 !== u && (u.geometry.dispose(), u.material.dispose(), (u = void 0)),
                  void 0 !== s && (s.geometry.dispose(), s.material.dispose(), (s = void 0)))
              },
            }
          }
          function gm(e, t) {
            var n = e.getParameter(e.MAX_VERTEX_ATTRIBS),
              r = {},
              i = l(null),
              a = i,
              o = !1
            function s(t) {
              return e.bindVertexArray(t)
            }
            function u(t) {
              return e.deleteVertexArray(t)
            }
            function l(e) {
              for (var t = [], r = [], i = [], a = 0; a < n; a++)
                ((t[a] = 0), (r[a] = 0), (i[a] = 0))
              return {
                geometry: null,
                program: null,
                wireframe: !1,
                newAttributes: t,
                enabledAttributes: r,
                attributeDivisors: i,
                object: e,
                attributes: {},
                index: null,
              }
            }
            function c() {
              for (var e = a.newAttributes, t = 0, n = e.length; t < n; t++) e[t] = 0
            }
            function d(e) {
              h(e, 0)
            }
            function h(t, n) {
              var r = a.newAttributes,
                i = a.enabledAttributes,
                o = a.attributeDivisors
              ;((r[t] = 1),
                0 === i[t] && (e.enableVertexAttribArray(t), (i[t] = 1)),
                o[t] !== n && (e.vertexAttribDivisor(t, n), (o[t] = n)))
            }
            function f() {
              for (
                var t = a.newAttributes, n = a.enabledAttributes, r = 0, i = n.length;
                r < i;
                r++
              )
                n[r] !== t[r] && (e.disableVertexAttribArray(r), (n[r] = 0))
            }
            function p(t, n, r, i, a, o, s) {
              !0 === s
                ? e.vertexAttribIPointer(t, n, r, a, o)
                : e.vertexAttribPointer(t, n, r, i, a, o)
            }
            function v() {
              ;(m(), (o = !0), a !== i && s((a = i).object))
            }
            function m() {
              ;((i.geometry = null), (i.program = null), (i.wireframe = !1))
            }
            return {
              setup: function (n, i, u, v, m) {
                var g,
                  y = (function (t, n, i) {
                    var a = !0 === i.wireframe,
                      o = r[t.id]
                    void 0 === o && ((o = {}), (r[t.id] = o))
                    var s = o[n.id]
                    void 0 === s && ((s = {}), (o[n.id] = s))
                    var u = s[a]
                    void 0 === u && ((u = l(e.createVertexArray())), (s[a] = u))
                    return u
                  })(v, u, i)
                ;(a !== y && s((a = y).object),
                  (g = (function (e, t, n, r) {
                    var i = a.attributes,
                      o = t.attributes,
                      s = 0,
                      u = n.getAttributes()
                    for (var l in u) {
                      if (u[l].location >= 0) {
                        var c = i[l],
                          d = o[l]
                        if (
                          (void 0 === d &&
                            ('instanceMatrix' === l && e.instanceMatrix && (d = e.instanceMatrix),
                            'instanceColor' === l && e.instanceColor && (d = e.instanceColor)),
                          void 0 === c)
                        )
                          return !0
                        if (c.attribute !== d) return !0
                        if (d && c.data !== d.data) return !0
                        s++
                      }
                    }
                    return a.attributesNum !== s || a.index !== r
                  })(n, v, u, m)) &&
                    (function (e, t, n, r) {
                      var i = {},
                        o = t.attributes,
                        s = 0,
                        u = n.getAttributes()
                      for (var l in u) {
                        if (u[l].location >= 0) {
                          var c = o[l]
                          void 0 === c &&
                            ('instanceMatrix' === l && e.instanceMatrix && (c = e.instanceMatrix),
                            'instanceColor' === l && e.instanceColor && (c = e.instanceColor))
                          var d = {}
                          ;((d.attribute = c), c && c.data && (d.data = c.data), (i[l] = d), s++)
                        }
                      }
                      ;((a.attributes = i), (a.attributesNum = s), (a.index = r))
                    })(n, v, u, m),
                  null !== m && t.update(m, e.ELEMENT_ARRAY_BUFFER),
                  (g || o) &&
                    ((o = !1),
                    (function (n, r, i, a) {
                      c()
                      var o = a.attributes,
                        s = i.getAttributes(),
                        u = r.defaultAttributeValues
                      for (var l in s) {
                        var v = s[l]
                        if (v.location >= 0) {
                          var m = o[l]
                          if (
                            (void 0 === m &&
                              ('instanceMatrix' === l && n.instanceMatrix && (m = n.instanceMatrix),
                              'instanceColor' === l && n.instanceColor && (m = n.instanceColor)),
                            void 0 !== m)
                          ) {
                            var g = m.normalized,
                              y = m.itemSize,
                              x = t.get(m)
                            if (void 0 === x) continue
                            var _ = x.buffer,
                              b = x.type,
                              S = x.bytesPerElement,
                              w = b === e.INT || b === e.UNSIGNED_INT || m.gpuType === xl
                            if (m.isInterleavedBufferAttribute) {
                              var A = m.data,
                                T = A.stride,
                                M = m.offset
                              if (A.isInstancedInterleavedBuffer) {
                                for (var E = 0; E < v.locationSize; E++)
                                  h(v.location + E, A.meshPerAttribute)
                                !0 !== n.isInstancedMesh &&
                                  void 0 === a._maxInstanceCount &&
                                  (a._maxInstanceCount = A.meshPerAttribute * A.count)
                              } else for (var C = 0; C < v.locationSize; C++) d(v.location + C)
                              e.bindBuffer(e.ARRAY_BUFFER, _)
                              for (var k = 0; k < v.locationSize; k++)
                                p(
                                  v.location + k,
                                  y / v.locationSize,
                                  b,
                                  g,
                                  T * S,
                                  (M + (y / v.locationSize) * k) * S,
                                  w
                                )
                            } else {
                              if (m.isInstancedBufferAttribute) {
                                for (var R = 0; R < v.locationSize; R++)
                                  h(v.location + R, m.meshPerAttribute)
                                !0 !== n.isInstancedMesh &&
                                  void 0 === a._maxInstanceCount &&
                                  (a._maxInstanceCount = m.meshPerAttribute * m.count)
                              } else for (var I = 0; I < v.locationSize; I++) d(v.location + I)
                              e.bindBuffer(e.ARRAY_BUFFER, _)
                              for (var N = 0; N < v.locationSize; N++)
                                p(
                                  v.location + N,
                                  y / v.locationSize,
                                  b,
                                  g,
                                  y * S,
                                  (y / v.locationSize) * N * S,
                                  w
                                )
                            }
                          } else if (void 0 !== u) {
                            var P = u[l]
                            if (void 0 !== P)
                              switch (P.length) {
                                case 2:
                                  e.vertexAttrib2fv(v.location, P)
                                  break
                                case 3:
                                  e.vertexAttrib3fv(v.location, P)
                                  break
                                case 4:
                                  e.vertexAttrib4fv(v.location, P)
                                  break
                                default:
                                  e.vertexAttrib1fv(v.location, P)
                              }
                          }
                        }
                      }
                      f()
                    })(n, i, u, v),
                    null !== m && e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t.get(m).buffer)))
              },
              reset: v,
              resetDefaultState: m,
              dispose: function () {
                for (var e in (v(), r)) {
                  var t = r[e]
                  for (var n in t) {
                    var i = t[n]
                    for (var a in i) (u(i[a].object), delete i[a])
                    delete t[n]
                  }
                  delete r[e]
                }
              },
              releaseStatesOfGeometry: function (e) {
                if (void 0 !== r[e.id]) {
                  var t = r[e.id]
                  for (var n in t) {
                    var i = t[n]
                    for (var a in i) (u(i[a].object), delete i[a])
                    delete t[n]
                  }
                  delete r[e.id]
                }
              },
              releaseStatesOfProgram: function (e) {
                for (var t in r) {
                  var n = r[t]
                  if (void 0 !== n[e.id]) {
                    var i = n[e.id]
                    for (var a in i) (u(i[a].object), delete i[a])
                    delete n[e.id]
                  }
                }
              },
              initAttributes: c,
              enableAttribute: d,
              disableUnusedAttributes: f,
            }
          }
          function ym(e, t, n) {
            var r
            function i(t, i, a) {
              0 !== a && (e.drawArraysInstanced(r, t, i, a), n.update(i, r, a))
            }
            ;((this.setMode = function (e) {
              r = e
            }),
              (this.render = function (t, i) {
                ;(e.drawArrays(r, t, i), n.update(i, r, 1))
              }),
              (this.renderInstances = i),
              (this.renderMultiDraw = function (e, i, a) {
                if (0 !== a) {
                  t.get('WEBGL_multi_draw').multiDrawArraysWEBGL(r, e, 0, i, 0, a)
                  for (var o = 0, s = 0; s < a; s++) o += i[s]
                  n.update(o, r, 1)
                }
              }),
              (this.renderMultiDrawInstances = function (e, a, o, s) {
                if (0 !== o) {
                  var u = t.get('WEBGL_multi_draw')
                  if (null === u) for (var l = 0; l < e.length; l++) i(e[l], a[l], s[l])
                  else {
                    u.multiDrawArraysInstancedWEBGL(r, e, 0, a, 0, s, 0, o)
                    for (var c = 0, d = 0; d < o; d++) c += a[d] * s[d]
                    n.update(c, r, 1)
                  }
                }
              }))
          }
          function xm(e, t, n, r) {
            var i
            function a(t) {
              if ('highp' === t) {
                if (
                  e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision > 0 &&
                  e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision > 0
                )
                  return 'highp'
                t = 'mediump'
              }
              return 'mediump' === t &&
                e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision > 0 &&
                e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision > 0
                ? 'mediump'
                : 'lowp'
            }
            var o = void 0 !== n.precision ? n.precision : 'highp',
              s = a(o)
            s !== o &&
              (console.warn('THREE.WebGLRenderer:', o, 'not supported, using', s, 'instead.'),
              (o = s))
            var u = !0 === n.logarithmicDepthBuffer,
              l = !0 === n.reverseDepthBuffer && t.has('EXT_clip_control'),
              c = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
              d = e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)
            return {
              isWebGL2: !0,
              getMaxAnisotropy: function () {
                if (void 0 !== i) return i
                if (!0 === t.has('EXT_texture_filter_anisotropic')) {
                  var n = t.get('EXT_texture_filter_anisotropic')
                  i = e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
                } else i = 0
                return i
              },
              getMaxPrecision: a,
              textureFormatReadable: function (t) {
                return (
                  t === El || r.convert(t) === e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)
                )
              },
              textureTypeReadable: function (n) {
                var i =
                  n === Sl &&
                  (t.has('EXT_color_buffer_half_float') || t.has('EXT_color_buffer_float'))
                return !(
                  n !== vl &&
                  r.convert(n) !== e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE) &&
                  n !== bl &&
                  !i
                )
              },
              precision: o,
              logarithmicDepthBuffer: u,
              reverseDepthBuffer: l,
              maxTextures: c,
              maxVertexTextures: d,
              maxTextureSize: e.getParameter(e.MAX_TEXTURE_SIZE),
              maxCubemapSize: e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),
              maxAttributes: e.getParameter(e.MAX_VERTEX_ATTRIBS),
              maxVertexUniforms: e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),
              maxVaryings: e.getParameter(e.MAX_VARYING_VECTORS),
              maxFragmentUniforms: e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),
              vertexTextures: d > 0,
              maxSamples: e.getParameter(e.MAX_SAMPLES),
            }
          }
          function _m(e) {
            var t = this,
              n = null,
              r = 0,
              i = !1,
              a = !1,
              o = new gp(),
              s = new jc(),
              u = { value: null, needsUpdate: !1 }
            function l(e, n, r, i) {
              var a = null !== e ? e.length : 0,
                l = null
              if (0 !== a) {
                if (((l = u.value), !0 !== i || null === l)) {
                  var c = r + 4 * a,
                    d = n.matrixWorldInverse
                  ;(s.getNormalMatrix(d), (null === l || l.length < c) && (l = new Float32Array(c)))
                  for (var h = 0, f = r; h !== a; ++h, f += 4)
                    (o.copy(e[h]).applyMatrix4(d, s),
                      o.normal.toArray(l, f),
                      (l[f + 3] = o.constant))
                }
                ;((u.value = l), (u.needsUpdate = !0))
              }
              return ((t.numPlanes = a), (t.numIntersection = 0), l)
            }
            ;((this.uniform = u),
              (this.numPlanes = 0),
              (this.numIntersection = 0),
              (this.init = function (e, t) {
                var n = 0 !== e.length || t || 0 !== r || i
                return ((i = t), (r = e.length), n)
              }),
              (this.beginShadows = function () {
                ;((a = !0), l(null))
              }),
              (this.endShadows = function () {
                a = !1
              }),
              (this.setGlobalState = function (e, t) {
                n = l(e, t, 0)
              }),
              (this.setState = function (o, s, c) {
                var d = o.clippingPlanes,
                  h = o.clipIntersection,
                  f = o.clipShadows,
                  p = e.get(o)
                if (!i || null === d || 0 === d.length || (a && !f))
                  a
                    ? l(null)
                    : (function () {
                        u.value !== n && ((u.value = n), (u.needsUpdate = r > 0))
                        ;((t.numPlanes = r), (t.numIntersection = 0))
                      })()
                else {
                  var v = a ? 0 : r,
                    m = 4 * v,
                    g = p.clippingState || null
                  ;((u.value = g), (g = l(d, s, m, c)))
                  for (var y = 0; y !== m; ++y) g[y] = n[y]
                  ;((p.clippingState = g),
                    (this.numIntersection = h ? this.numPlanes : 0),
                    (this.numPlanes += v))
                }
              }))
          }
          function bm(e) {
            var t = new WeakMap()
            function n(e, t) {
              return (303 === t ? (e.mapping = il) : 304 === t && (e.mapping = al), e)
            }
            function r(e) {
              var n = e.target
              n.removeEventListener('dispose', r)
              var i = t.get(n)
              void 0 !== i && (t.delete(n), i.dispose())
            }
            return {
              get: function (i) {
                if (i && i.isTexture) {
                  var a = i.mapping
                  if (303 === a || 304 === a) {
                    if (t.has(i)) return n(t.get(i).texture, i.mapping)
                    var o = i.image
                    if (o && o.height > 0) {
                      var s = new Of(o.height)
                      return (
                        s.fromEquirectangularTexture(e, i),
                        t.set(i, s),
                        i.addEventListener('dispose', r),
                        n(s.texture, i.mapping)
                      )
                    }
                    return null
                  }
                }
                return i
              },
              dispose: function () {
                t = new WeakMap()
              },
            }
          }
          var Sm = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582],
            wm = 20,
            Am = new Fv(),
            Tm = new Uh(),
            Mm = null,
            Em = 0,
            Cm = 0,
            km = !1,
            Rm = (1 + Math.sqrt(5)) / 2,
            Im = 1 / Rm,
            Nm = [
              new gd(-Rm, Im, 0),
              new gd(Rm, Im, 0),
              new gd(-Im, 0, Rm),
              new gd(Im, 0, Rm),
              new gd(0, Rm, -Im),
              new gd(0, Rm, Im),
              new gd(-1, 1, -1),
              new gd(1, 1, -1),
              new gd(-1, 1, 1),
              new gd(1, 1, 1),
            ],
            Pm = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this._renderer = t),
                    (this._pingPongRenderTarget = null),
                    (this._lodMax = 0),
                    (this._cubeSize = 0),
                    (this._lodPlanes = []),
                    (this._sizeLods = []),
                    (this._sigmas = []),
                    (this._blurMaterial = null),
                    (this._cubemapMaterial = null),
                    (this._equirectMaterial = null),
                    this._compileMaterial(this._blurMaterial))
                },
                [
                  {
                    key: 'fromScene',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0.1,
                        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100
                      ;((Mm = this._renderer.getRenderTarget()),
                        (Em = this._renderer.getActiveCubeFace()),
                        (Cm = this._renderer.getActiveMipmapLevel()),
                        (km = this._renderer.xr.enabled),
                        (this._renderer.xr.enabled = !1),
                        this._setSize(256))
                      var i = this._allocateTargets()
                      return (
                        (i.depthBuffer = !0),
                        this._sceneToCubeUV(e, n, r, i),
                        t > 0 && this._blur(i, 0, 0, t),
                        this._applyPMREM(i),
                        this._cleanup(i),
                        i
                      )
                    },
                  },
                  {
                    key: 'fromEquirectangular',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                      return this._fromTexture(e, t)
                    },
                  },
                  {
                    key: 'fromCubemap',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                      return this._fromTexture(e, t)
                    },
                  },
                  {
                    key: 'compileCubemapShader',
                    value: function () {
                      null === this._cubemapMaterial &&
                        ((this._cubemapMaterial = Fm()),
                        this._compileMaterial(this._cubemapMaterial))
                    },
                  },
                  {
                    key: 'compileEquirectangularShader',
                    value: function () {
                      null === this._equirectMaterial &&
                        ((this._equirectMaterial = Om()),
                        this._compileMaterial(this._equirectMaterial))
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      ;(this._dispose(),
                        null !== this._cubemapMaterial && this._cubemapMaterial.dispose(),
                        null !== this._equirectMaterial && this._equirectMaterial.dispose())
                    },
                  },
                  {
                    key: '_setSize',
                    value: function (e) {
                      ;((this._lodMax = Math.floor(Math.log2(e))),
                        (this._cubeSize = Math.pow(2, this._lodMax)))
                    },
                  },
                  {
                    key: '_dispose',
                    value: function () {
                      ;(null !== this._blurMaterial && this._blurMaterial.dispose(),
                        null !== this._pingPongRenderTarget && this._pingPongRenderTarget.dispose())
                      for (var e = 0; e < this._lodPlanes.length; e++) this._lodPlanes[e].dispose()
                    },
                  },
                  {
                    key: '_cleanup',
                    value: function (e) {
                      ;(this._renderer.setRenderTarget(Mm, Em, Cm),
                        (this._renderer.xr.enabled = km),
                        (e.scissorTest = !1),
                        Dm(e, 0, 0, e.width, e.height))
                    },
                  },
                  {
                    key: '_fromTexture',
                    value: function (e, t) {
                      ;(e.mapping === il || e.mapping === al
                        ? this._setSize(
                            0 === e.image.length ? 16 : e.image[0].width || e.image[0].image.width
                          )
                        : this._setSize(e.image.width / 4),
                        (Mm = this._renderer.getRenderTarget()),
                        (Em = this._renderer.getActiveCubeFace()),
                        (Cm = this._renderer.getActiveMipmapLevel()),
                        (km = this._renderer.xr.enabled),
                        (this._renderer.xr.enabled = !1))
                      var n = t || this._allocateTargets()
                      return (this._textureToCubeUV(e, n), this._applyPMREM(n), this._cleanup(n), n)
                    },
                  },
                  {
                    key: '_allocateTargets',
                    value: function () {
                      var e = 3 * Math.max(this._cubeSize, 112),
                        t = 4 * this._cubeSize,
                        n = {
                          magFilter: hl,
                          minFilter: hl,
                          generateMipmaps: !1,
                          type: Sl,
                          format: El,
                          colorSpace: wc,
                          depthBuffer: !1,
                        },
                        r = Lm(e, t, n)
                      if (
                        null === this._pingPongRenderTarget ||
                        this._pingPongRenderTarget.width !== e ||
                        this._pingPongRenderTarget.height !== t
                      ) {
                        ;(null !== this._pingPongRenderTarget && this._dispose(),
                          (this._pingPongRenderTarget = Lm(e, t, n)))
                        var i = this._lodMax,
                          a = (function (e) {
                            for (
                              var t = [], n = [], r = [], i = e, a = e - 4 + 1 + Sm.length, o = 0;
                              o < a;
                              o++
                            ) {
                              var s = Math.pow(2, i)
                              n.push(s)
                              var u = 1 / s
                              ;(o > e - 4 ? (u = Sm[o - e + 4 - 1]) : 0 === o && (u = 0), r.push(u))
                              for (
                                var l = 1 / (s - 2),
                                  c = -l,
                                  d = 1 + l,
                                  h = [c, c, d, c, d, d, c, c, d, d, c, d],
                                  f = 6,
                                  p = 6,
                                  v = 3,
                                  m = 2,
                                  g = 1,
                                  y = new Float32Array(v * p * f),
                                  x = new Float32Array(m * p * f),
                                  _ = new Float32Array(g * p * f),
                                  b = 0;
                                b < f;
                                b++
                              ) {
                                var S = ((b % 3) * 2) / 3 - 1,
                                  w = b > 2 ? 0 : -1,
                                  A = [
                                    S,
                                    w,
                                    0,
                                    S + 2 / 3,
                                    w,
                                    0,
                                    S + 2 / 3,
                                    w + 1,
                                    0,
                                    S,
                                    w,
                                    0,
                                    S + 2 / 3,
                                    w + 1,
                                    0,
                                    S,
                                    w + 1,
                                    0,
                                  ]
                                ;(y.set(A, v * p * b), x.set(h, m * p * b))
                                var T = [b, b, b, b, b, b]
                                _.set(T, g * p * b)
                              }
                              var M = new uf()
                              ;(M.setAttribute('position', new Kh(y, v)),
                                M.setAttribute('uv', new Kh(x, m)),
                                M.setAttribute('faceIndex', new Kh(_, g)),
                                t.push(M),
                                i > 4 && i--)
                            }
                            return { lodPlanes: t, sizeLods: n, sigmas: r }
                          })(i)
                        ;((this._sizeLods = a.sizeLods),
                          (this._lodPlanes = a.lodPlanes),
                          (this._sigmas = a.sigmas),
                          (this._blurMaterial = (function (e, t, n) {
                            var r = new Float32Array(wm),
                              i = new gd(0, 1, 0),
                              a = new Ef({
                                name: 'SphericalGaussianBlur',
                                defines: {
                                  n: wm,
                                  CUBEUV_TEXEL_WIDTH: 1 / t,
                                  CUBEUV_TEXEL_HEIGHT: 1 / n,
                                  CUBEUV_MAX_MIP: ''.concat(e, '.0'),
                                },
                                uniforms: {
                                  envMap: { value: null },
                                  samples: { value: 1 },
                                  weights: { value: r },
                                  latitudinal: { value: !1 },
                                  dTheta: { value: 0 },
                                  mipInt: { value: 0 },
                                  poleAxis: { value: i },
                                },
                                vertexShader:
                                  '\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t',
                                fragmentShader:
                                  "\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
                                blending: 0,
                                depthTest: !1,
                                depthWrite: !1,
                              })
                            return a
                          })(i, e, t)))
                      }
                      return r
                    },
                  },
                  {
                    key: '_compileMaterial',
                    value: function (e) {
                      var t = new _f(this._lodPlanes[0], e)
                      this._renderer.compile(t, Am)
                    },
                  },
                  {
                    key: '_sceneToCubeUV',
                    value: function (e, t, n, r) {
                      var i = new Nf(90, 1, t, n),
                        a = [1, -1, 1, 1, 1, 1],
                        o = [1, 1, 1, -1, -1, -1],
                        s = this._renderer,
                        u = s.autoClear,
                        l = s.toneMapping
                      ;(s.getClearColor(Tm), (s.toneMapping = 0), (s.autoClear = !1))
                      var c = new Wh({
                          name: 'PMREM.Background',
                          side: 1,
                          depthWrite: !1,
                          depthTest: !1,
                        }),
                        d = new _f(new Sf(), c),
                        h = !1,
                        f = e.background
                      f
                        ? f.isColor && (c.color.copy(f), (e.background = null), (h = !0))
                        : (c.color.copy(Tm), (h = !0))
                      for (var p = 0; p < 6; p++) {
                        var v = p % 3
                        0 === v
                          ? (i.up.set(0, a[p], 0), i.lookAt(o[p], 0, 0))
                          : 1 === v
                            ? (i.up.set(0, 0, a[p]), i.lookAt(0, o[p], 0))
                            : (i.up.set(0, a[p], 0), i.lookAt(0, 0, o[p]))
                        var m = this._cubeSize
                        ;(Dm(r, v * m, p > 2 ? m : 0, m, m),
                          s.setRenderTarget(r),
                          h && s.render(d, i),
                          s.render(e, i))
                      }
                      ;(d.geometry.dispose(),
                        d.material.dispose(),
                        (s.toneMapping = l),
                        (s.autoClear = u),
                        (e.background = f))
                    },
                  },
                  {
                    key: '_textureToCubeUV',
                    value: function (e, t) {
                      var n = this._renderer,
                        r = e.mapping === il || e.mapping === al
                      r
                        ? (null === this._cubemapMaterial && (this._cubemapMaterial = Fm()),
                          (this._cubemapMaterial.uniforms.flipEnvMap.value =
                            !1 === e.isRenderTargetTexture ? -1 : 1))
                        : null === this._equirectMaterial && (this._equirectMaterial = Om())
                      var i = r ? this._cubemapMaterial : this._equirectMaterial,
                        a = new _f(this._lodPlanes[0], i)
                      i.uniforms.envMap.value = e
                      var o = this._cubeSize
                      ;(Dm(t, 0, 0, 3 * o, 2 * o), n.setRenderTarget(t), n.render(a, Am))
                    },
                  },
                  {
                    key: '_applyPMREM',
                    value: function (e) {
                      var t = this._renderer,
                        n = t.autoClear
                      t.autoClear = !1
                      for (var r = this._lodPlanes.length, i = 1; i < r; i++) {
                        var a = Math.sqrt(
                            this._sigmas[i] * this._sigmas[i] -
                              this._sigmas[i - 1] * this._sigmas[i - 1]
                          ),
                          o = Nm[(r - i - 1) % Nm.length]
                        this._blur(e, i - 1, i, a, o)
                      }
                      t.autoClear = n
                    },
                  },
                  {
                    key: '_blur',
                    value: function (e, t, n, r, i) {
                      var a = this._pingPongRenderTarget
                      ;(this._halfBlur(e, a, t, n, r, 'latitudinal', i),
                        this._halfBlur(a, e, n, n, r, 'longitudinal', i))
                    },
                  },
                  {
                    key: '_halfBlur',
                    value: function (e, t, n, r, i, a, o) {
                      var s = this._renderer,
                        u = this._blurMaterial
                      'latitudinal' !== a &&
                        'longitudinal' !== a &&
                        console.error('blur direction must be either latitudinal or longitudinal!')
                      var l = new _f(this._lodPlanes[r], u),
                        c = u.uniforms,
                        d = this._sizeLods[n] - 1,
                        h = isFinite(i) ? Math.PI / (2 * d) : (2 * Math.PI) / 39,
                        f = i / h,
                        p = isFinite(i) ? 1 + Math.floor(3 * f) : wm
                      p > wm &&
                        console.warn(
                          'sigmaRadians, '
                            .concat(i, ', is too large and will clip, as it requested ')
                            .concat(p, ' samples when the maximum is set to ')
                            .concat(wm)
                        )
                      for (var v = [], m = 0, g = 0; g < wm; ++g) {
                        var y = g / f,
                          x = Math.exp((-y * y) / 2)
                        ;(v.push(x), 0 === g ? (m += x) : g < p && (m += 2 * x))
                      }
                      for (var _ = 0; _ < v.length; _++) v[_] = v[_] / m
                      ;((c.envMap.value = e.texture),
                        (c.samples.value = p),
                        (c.weights.value = v),
                        (c.latitudinal.value = 'latitudinal' === a),
                        o && (c.poleAxis.value = o))
                      var b = this._lodMax
                      ;((c.dTheta.value = h), (c.mipInt.value = b - n))
                      var S = this._sizeLods[r]
                      ;(Dm(
                        t,
                        3 * S * (r > b - 4 ? r - b + 4 : 0),
                        4 * (this._cubeSize - S),
                        3 * S,
                        2 * S
                      ),
                        s.setRenderTarget(t),
                        s.render(l, Am))
                    },
                  },
                ]
              )
            })()
          function Lm(e, t, n) {
            var r = new fd(e, t, n)
            return (
              (r.texture.mapping = ol),
              (r.texture.name = 'PMREM.cubeUv'),
              (r.scissorTest = !0),
              r
            )
          }
          function Dm(e, t, n, r, i) {
            ;(e.viewport.set(t, n, r, i), e.scissor.set(t, n, r, i))
          }
          function Om() {
            return new Ef({
              name: 'EquirectangularToCubeUV',
              uniforms: { envMap: { value: null } },
              vertexShader:
                '\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t',
              fragmentShader:
                '\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t',
              blending: 0,
              depthTest: !1,
              depthWrite: !1,
            })
          }
          function Fm() {
            return new Ef({
              name: 'CubemapToCubeUV',
              uniforms: { envMap: { value: null }, flipEnvMap: { value: -1 } },
              vertexShader:
                '\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t',
              fragmentShader:
                '\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t',
              blending: 0,
              depthTest: !1,
              depthWrite: !1,
            })
          }
          function Bm(e) {
            var t = new WeakMap(),
              n = null
            function r(e) {
              var n = e.target
              n.removeEventListener('dispose', r)
              var i = t.get(n)
              void 0 !== i && (t.delete(n), i.dispose())
            }
            return {
              get: function (i) {
                if (i && i.isTexture) {
                  var a = i.mapping,
                    o = 303 === a || 304 === a,
                    s = a === il || a === al
                  if (o || s) {
                    var u = t.get(i),
                      l = void 0 !== u ? u.texture.pmremVersion : 0
                    if (i.isRenderTargetTexture && i.pmremVersion !== l)
                      return (
                        null === n && (n = new Pm(e)),
                        ((u = o
                          ? n.fromEquirectangular(i, u)
                          : n.fromCubemap(i, u)).texture.pmremVersion = i.pmremVersion),
                        t.set(i, u),
                        u.texture
                      )
                    if (void 0 !== u) return u.texture
                    var c = i.image
                    return (o && c && c.height > 0) ||
                      (s &&
                        c &&
                        (function (e) {
                          for (var t = 0, n = 6, r = 0; r < n; r++) void 0 !== e[r] && t++
                          return t === n
                        })(c))
                      ? (null === n && (n = new Pm(e)),
                        ((u = o
                          ? n.fromEquirectangular(i)
                          : n.fromCubemap(i)).texture.pmremVersion = i.pmremVersion),
                        t.set(i, u),
                        i.addEventListener('dispose', r),
                        u.texture)
                      : null
                  }
                }
                return i
              },
              dispose: function () {
                ;((t = new WeakMap()), null !== n && (n.dispose(), (n = null)))
              },
            }
          }
          function Um(e) {
            var t = {}
            function n(n) {
              if (void 0 !== t[n]) return t[n]
              var r
              switch (n) {
                case 'WEBGL_depth_texture':
                  r =
                    e.getExtension('WEBGL_depth_texture') ||
                    e.getExtension('MOZ_WEBGL_depth_texture') ||
                    e.getExtension('WEBKIT_WEBGL_depth_texture')
                  break
                case 'EXT_texture_filter_anisotropic':
                  r =
                    e.getExtension('EXT_texture_filter_anisotropic') ||
                    e.getExtension('MOZ_EXT_texture_filter_anisotropic') ||
                    e.getExtension('WEBKIT_EXT_texture_filter_anisotropic')
                  break
                case 'WEBGL_compressed_texture_s3tc':
                  r =
                    e.getExtension('WEBGL_compressed_texture_s3tc') ||
                    e.getExtension('MOZ_WEBGL_compressed_texture_s3tc') ||
                    e.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc')
                  break
                case 'WEBGL_compressed_texture_pvrtc':
                  r =
                    e.getExtension('WEBGL_compressed_texture_pvrtc') ||
                    e.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc')
                  break
                default:
                  r = e.getExtension(n)
              }
              return ((t[n] = r), r)
            }
            return {
              has: function (e) {
                return null !== n(e)
              },
              init: function () {
                ;(n('EXT_color_buffer_float'),
                  n('WEBGL_clip_cull_distance'),
                  n('OES_texture_float_linear'),
                  n('EXT_color_buffer_half_float'),
                  n('WEBGL_multisampled_render_to_texture'),
                  n('WEBGL_render_shared_exponent'))
              },
              get: function (e) {
                var t = n(e)
                return (
                  null === t && Kc('THREE.WebGLRenderer: ' + e + ' extension not supported.'),
                  t
                )
              },
            }
          }
          function zm(e, t, n, r) {
            var i = {},
              a = new WeakMap()
            function o(e) {
              var s = e.target
              for (var u in (null !== s.index && t.remove(s.index), s.attributes))
                t.remove(s.attributes[u])
              ;(s.removeEventListener('dispose', o), delete i[s.id])
              var l = a.get(s)
              ;(l && (t.remove(l), a.delete(s)),
                r.releaseStatesOfGeometry(s),
                !0 === s.isInstancedBufferGeometry && delete s._maxInstanceCount,
                n.memory.geometries--)
            }
            function s(e) {
              var n = [],
                r = e.index,
                i = e.attributes.position,
                o = 0
              if (null !== r) {
                var s = r.array
                o = r.version
                for (var u = 0, l = s.length; u < l; u += 3) {
                  var c = s[u + 0],
                    d = s[u + 1],
                    h = s[u + 2]
                  n.push(c, d, d, h, h, c)
                }
              } else {
                if (void 0 === i) return
                var f = i.array
                o = i.version
                for (var p = 0, v = f.length / 3 - 1; p < v; p += 3) {
                  var m = p + 0,
                    g = p + 1,
                    y = p + 2
                  n.push(m, g, g, y, y, m)
                }
              }
              var x = new (qc(n) ? Jh : Zh)(n, 1)
              x.version = o
              var _ = a.get(e)
              ;(_ && t.remove(_), a.set(e, x))
            }
            return {
              get: function (e, t) {
                return (
                  !0 === i[t.id] ||
                    (t.addEventListener('dispose', o), (i[t.id] = !0), n.memory.geometries++),
                  t
                )
              },
              update: function (n) {
                var r = n.attributes
                for (var i in r) t.update(r[i], e.ARRAY_BUFFER)
              },
              getWireframeAttribute: function (e) {
                var t = a.get(e)
                if (t) {
                  var n = e.index
                  null !== n && t.version < n.version && s(e)
                } else s(e)
                return a.get(e)
              },
            }
          }
          function Vm(e, t, n) {
            var r, i, a
            function o(t, o, s) {
              0 !== s && (e.drawElementsInstanced(r, o, i, t * a, s), n.update(o, r, s))
            }
            ;((this.setMode = function (e) {
              r = e
            }),
              (this.setIndex = function (e) {
                ;((i = e.type), (a = e.bytesPerElement))
              }),
              (this.render = function (t, o) {
                ;(e.drawElements(r, o, i, t * a), n.update(o, r, 1))
              }),
              (this.renderInstances = o),
              (this.renderMultiDraw = function (e, a, o) {
                if (0 !== o) {
                  t.get('WEBGL_multi_draw').multiDrawElementsWEBGL(r, a, 0, i, e, 0, o)
                  for (var s = 0, u = 0; u < o; u++) s += a[u]
                  n.update(s, r, 1)
                }
              }),
              (this.renderMultiDrawInstances = function (e, s, u, l) {
                if (0 !== u) {
                  var c = t.get('WEBGL_multi_draw')
                  if (null === c) for (var d = 0; d < e.length; d++) o(e[d] / a, s[d], l[d])
                  else {
                    c.multiDrawElementsInstancedWEBGL(r, s, 0, i, e, 0, l, 0, u)
                    for (var h = 0, f = 0; f < u; f++) h += s[f] * l[f]
                    n.update(h, r, 1)
                  }
                }
              }))
          }
          function Hm(e) {
            var t = { frame: 0, calls: 0, triangles: 0, points: 0, lines: 0 }
            return {
              memory: { geometries: 0, textures: 0 },
              render: t,
              programs: null,
              autoReset: !0,
              reset: function () {
                ;((t.calls = 0), (t.triangles = 0), (t.points = 0), (t.lines = 0))
              },
              update: function (n, r, i) {
                switch ((t.calls++, r)) {
                  case e.TRIANGLES:
                    t.triangles += i * (n / 3)
                    break
                  case e.LINES:
                    t.lines += i * (n / 2)
                    break
                  case e.LINE_STRIP:
                    t.lines += i * (n - 1)
                    break
                  case e.LINE_LOOP:
                    t.lines += i * n
                    break
                  case e.POINTS:
                    t.points += i * n
                    break
                  default:
                    console.error('THREE.WebGLInfo: Unknown draw mode:', r)
                }
              },
            }
          }
          function Wm(e, t, n) {
            var r = new WeakMap(),
              i = new dd()
            return {
              update: function (a, o, s) {
                var u = a.morphTargetInfluences,
                  l =
                    o.morphAttributes.position ||
                    o.morphAttributes.normal ||
                    o.morphAttributes.color,
                  c = void 0 !== l ? l.length : 0,
                  d = r.get(o)
                if (void 0 === d || d.count !== c) {
                  void 0 !== d && d.texture.dispose()
                  var h = void 0 !== o.morphAttributes.position,
                    f = void 0 !== o.morphAttributes.normal,
                    p = void 0 !== o.morphAttributes.color,
                    v = o.morphAttributes.position || [],
                    m = o.morphAttributes.normal || [],
                    g = o.morphAttributes.color || [],
                    y = 0
                  ;(!0 === h && (y = 1), !0 === f && (y = 2), !0 === p && (y = 3))
                  var x = o.attributes.position.count * y,
                    _ = 1
                  x > t.maxTextureSize &&
                    ((_ = Math.ceil(x / t.maxTextureSize)), (x = t.maxTextureSize))
                  var b = new Float32Array(x * _ * 4 * c),
                    S = new pd(b, x, _, c)
                  ;((S.type = bl), (S.needsUpdate = !0))
                  for (var w = 4 * y, A = 0; A < c; A++)
                    for (
                      var T = v[A], M = m[A], E = g[A], C = x * _ * 4 * A, k = 0;
                      k < T.count;
                      k++
                    ) {
                      var R = k * w
                      ;(!0 === h &&
                        (i.fromBufferAttribute(T, k),
                        (b[C + R + 0] = i.x),
                        (b[C + R + 1] = i.y),
                        (b[C + R + 2] = i.z),
                        (b[C + R + 3] = 0)),
                        !0 === f &&
                          (i.fromBufferAttribute(M, k),
                          (b[C + R + 4] = i.x),
                          (b[C + R + 5] = i.y),
                          (b[C + R + 6] = i.z),
                          (b[C + R + 7] = 0)),
                        !0 === p &&
                          (i.fromBufferAttribute(E, k),
                          (b[C + R + 8] = i.x),
                          (b[C + R + 9] = i.y),
                          (b[C + R + 10] = i.z),
                          (b[C + R + 11] = 4 === E.itemSize ? i.w : 1)))
                    }
                  function L() {
                    ;(S.dispose(), r.delete(o), o.removeEventListener('dispose', L))
                  }
                  ;((d = { count: c, texture: S, size: new Gc(x, _) }),
                    r.set(o, d),
                    o.addEventListener('dispose', L))
                }
                if (!0 === a.isInstancedMesh && null !== a.morphTexture)
                  s.getUniforms().setValue(e, 'morphTexture', a.morphTexture, n)
                else {
                  for (var I = 0, N = 0; N < u.length; N++) I += u[N]
                  var P = o.morphTargetsRelative ? 1 : 1 - I
                  ;(s.getUniforms().setValue(e, 'morphTargetBaseInfluence', P),
                    s.getUniforms().setValue(e, 'morphTargetInfluences', u))
                }
                ;(s.getUniforms().setValue(e, 'morphTargetsTexture', d.texture, n),
                  s.getUniforms().setValue(e, 'morphTargetsTextureSize', d.size))
              },
            }
          }
          function Gm(e, t, n, r) {
            var i = new WeakMap()
            function a(e) {
              var t = e.target
              ;(t.removeEventListener('dispose', a),
                n.remove(t.instanceMatrix),
                null !== t.instanceColor && n.remove(t.instanceColor))
            }
            return {
              update: function (o) {
                var s = r.render.frame,
                  u = o.geometry,
                  l = t.get(o, u)
                if (
                  (i.get(l) !== s && (t.update(l), i.set(l, s)),
                  o.isInstancedMesh &&
                    (!1 === o.hasEventListener('dispose', a) && o.addEventListener('dispose', a),
                    i.get(o) !== s &&
                      (n.update(o.instanceMatrix, e.ARRAY_BUFFER),
                      null !== o.instanceColor && n.update(o.instanceColor, e.ARRAY_BUFFER),
                      i.set(o, s))),
                  o.isSkinnedMesh)
                ) {
                  var c = o.skeleton
                  i.get(c) !== s && (c.update(), i.set(c, s))
                }
                return l
              },
              dispose: function () {
                i = new WeakMap()
              },
            }
          }
          var jm = new cd(),
            Qm = new Wp(1, 1),
            qm = new pd(),
            Xm = new vd(),
            Ym = new Df(),
            Km = [],
            Zm = [],
            Jm = new Float32Array(16),
            $m = new Float32Array(9),
            eg = new Float32Array(4)
          function tg(e, t, n) {
            var r = e[0]
            if (r <= 0 || r > 0) return e
            var i = t * n,
              a = Km[i]
            if ((void 0 === a && ((a = new Float32Array(i)), (Km[i] = a)), 0 !== t)) {
              r.toArray(a, 0)
              for (var o = 1, s = 0; o !== t; ++o) ((s += n), e[o].toArray(a, s))
            }
            return a
          }
          function ng(e, t) {
            if (e.length !== t.length) return !1
            for (var n = 0, r = e.length; n < r; n++) if (e[n] !== t[n]) return !1
            return !0
          }
          function rg(e, t) {
            for (var n = 0, r = t.length; n < r; n++) e[n] = t[n]
          }
          function ig(e, t) {
            var n = Zm[t]
            void 0 === n && ((n = new Int32Array(t)), (Zm[t] = n))
            for (var r = 0; r !== t; ++r) n[r] = e.allocateTextureUnit()
            return n
          }
          function ag(e, t) {
            var n = this.cache
            n[0] !== t && (e.uniform1f(this.addr, t), (n[0] = t))
          }
          function og(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y) ||
                (e.uniform2f(this.addr, t.x, t.y), (n[0] = t.x), (n[1] = t.y))
            else {
              if (ng(n, t)) return
              ;(e.uniform2fv(this.addr, t), rg(n, t))
            }
          }
          function sg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z) ||
                (e.uniform3f(this.addr, t.x, t.y, t.z), (n[0] = t.x), (n[1] = t.y), (n[2] = t.z))
            else if (void 0 !== t.r)
              (n[0] === t.r && n[1] === t.g && n[2] === t.b) ||
                (e.uniform3f(this.addr, t.r, t.g, t.b), (n[0] = t.r), (n[1] = t.g), (n[2] = t.b))
            else {
              if (ng(n, t)) return
              ;(e.uniform3fv(this.addr, t), rg(n, t))
            }
          }
          function ug(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z && n[3] === t.w) ||
                (e.uniform4f(this.addr, t.x, t.y, t.z, t.w),
                (n[0] = t.x),
                (n[1] = t.y),
                (n[2] = t.z),
                (n[3] = t.w))
            else {
              if (ng(n, t)) return
              ;(e.uniform4fv(this.addr, t), rg(n, t))
            }
          }
          function lg(e, t) {
            var n = this.cache,
              r = t.elements
            if (void 0 === r) {
              if (ng(n, t)) return
              ;(e.uniformMatrix2fv(this.addr, !1, t), rg(n, t))
            } else {
              if (ng(n, r)) return
              ;(eg.set(r), e.uniformMatrix2fv(this.addr, !1, eg), rg(n, r))
            }
          }
          function cg(e, t) {
            var n = this.cache,
              r = t.elements
            if (void 0 === r) {
              if (ng(n, t)) return
              ;(e.uniformMatrix3fv(this.addr, !1, t), rg(n, t))
            } else {
              if (ng(n, r)) return
              ;($m.set(r), e.uniformMatrix3fv(this.addr, !1, $m), rg(n, r))
            }
          }
          function dg(e, t) {
            var n = this.cache,
              r = t.elements
            if (void 0 === r) {
              if (ng(n, t)) return
              ;(e.uniformMatrix4fv(this.addr, !1, t), rg(n, t))
            } else {
              if (ng(n, r)) return
              ;(Jm.set(r), e.uniformMatrix4fv(this.addr, !1, Jm), rg(n, r))
            }
          }
          function hg(e, t) {
            var n = this.cache
            n[0] !== t && (e.uniform1i(this.addr, t), (n[0] = t))
          }
          function fg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y) ||
                (e.uniform2i(this.addr, t.x, t.y), (n[0] = t.x), (n[1] = t.y))
            else {
              if (ng(n, t)) return
              ;(e.uniform2iv(this.addr, t), rg(n, t))
            }
          }
          function pg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z) ||
                (e.uniform3i(this.addr, t.x, t.y, t.z), (n[0] = t.x), (n[1] = t.y), (n[2] = t.z))
            else {
              if (ng(n, t)) return
              ;(e.uniform3iv(this.addr, t), rg(n, t))
            }
          }
          function vg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z && n[3] === t.w) ||
                (e.uniform4i(this.addr, t.x, t.y, t.z, t.w),
                (n[0] = t.x),
                (n[1] = t.y),
                (n[2] = t.z),
                (n[3] = t.w))
            else {
              if (ng(n, t)) return
              ;(e.uniform4iv(this.addr, t), rg(n, t))
            }
          }
          function mg(e, t) {
            var n = this.cache
            n[0] !== t && (e.uniform1ui(this.addr, t), (n[0] = t))
          }
          function gg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y) ||
                (e.uniform2ui(this.addr, t.x, t.y), (n[0] = t.x), (n[1] = t.y))
            else {
              if (ng(n, t)) return
              ;(e.uniform2uiv(this.addr, t), rg(n, t))
            }
          }
          function yg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z) ||
                (e.uniform3ui(this.addr, t.x, t.y, t.z), (n[0] = t.x), (n[1] = t.y), (n[2] = t.z))
            else {
              if (ng(n, t)) return
              ;(e.uniform3uiv(this.addr, t), rg(n, t))
            }
          }
          function xg(e, t) {
            var n = this.cache
            if (void 0 !== t.x)
              (n[0] === t.x && n[1] === t.y && n[2] === t.z && n[3] === t.w) ||
                (e.uniform4ui(this.addr, t.x, t.y, t.z, t.w),
                (n[0] = t.x),
                (n[1] = t.y),
                (n[2] = t.z),
                (n[3] = t.w))
            else {
              if (ng(n, t)) return
              ;(e.uniform4uiv(this.addr, t), rg(n, t))
            }
          }
          function _g(e, t, n) {
            var r,
              i = this.cache,
              a = n.allocateTextureUnit()
            ;(i[0] !== a && (e.uniform1i(this.addr, a), (i[0] = a)),
              this.type === e.SAMPLER_2D_SHADOW ? ((Qm.compareFunction = 515), (r = Qm)) : (r = jm),
              n.setTexture2D(t || r, a))
          }
          function bg(e, t, n) {
            var r = this.cache,
              i = n.allocateTextureUnit()
            ;(r[0] !== i && (e.uniform1i(this.addr, i), (r[0] = i)), n.setTexture3D(t || Xm, i))
          }
          function Sg(e, t, n) {
            var r = this.cache,
              i = n.allocateTextureUnit()
            ;(r[0] !== i && (e.uniform1i(this.addr, i), (r[0] = i)), n.setTextureCube(t || Ym, i))
          }
          function wg(e, t, n) {
            var r = this.cache,
              i = n.allocateTextureUnit()
            ;(r[0] !== i && (e.uniform1i(this.addr, i), (r[0] = i)),
              n.setTexture2DArray(t || qm, i))
          }
          function Ag(e, t) {
            e.uniform1fv(this.addr, t)
          }
          function Tg(e, t) {
            var n = tg(t, this.size, 2)
            e.uniform2fv(this.addr, n)
          }
          function Mg(e, t) {
            var n = tg(t, this.size, 3)
            e.uniform3fv(this.addr, n)
          }
          function Eg(e, t) {
            var n = tg(t, this.size, 4)
            e.uniform4fv(this.addr, n)
          }
          function Cg(e, t) {
            var n = tg(t, this.size, 4)
            e.uniformMatrix2fv(this.addr, !1, n)
          }
          function kg(e, t) {
            var n = tg(t, this.size, 9)
            e.uniformMatrix3fv(this.addr, !1, n)
          }
          function Rg(e, t) {
            var n = tg(t, this.size, 16)
            e.uniformMatrix4fv(this.addr, !1, n)
          }
          function Ig(e, t) {
            e.uniform1iv(this.addr, t)
          }
          function Ng(e, t) {
            e.uniform2iv(this.addr, t)
          }
          function Pg(e, t) {
            e.uniform3iv(this.addr, t)
          }
          function Lg(e, t) {
            e.uniform4iv(this.addr, t)
          }
          function Dg(e, t) {
            e.uniform1uiv(this.addr, t)
          }
          function Og(e, t) {
            e.uniform2uiv(this.addr, t)
          }
          function Fg(e, t) {
            e.uniform3uiv(this.addr, t)
          }
          function Bg(e, t) {
            e.uniform4uiv(this.addr, t)
          }
          function Ug(e, t, n) {
            var r = this.cache,
              i = t.length,
              a = ig(n, i)
            ng(r, a) || (e.uniform1iv(this.addr, a), rg(r, a))
            for (var o = 0; o !== i; ++o) n.setTexture2D(t[o] || jm, a[o])
          }
          function zg(e, t, n) {
            var r = this.cache,
              i = t.length,
              a = ig(n, i)
            ng(r, a) || (e.uniform1iv(this.addr, a), rg(r, a))
            for (var o = 0; o !== i; ++o) n.setTexture3D(t[o] || Xm, a[o])
          }
          function Vg(e, t, n) {
            var r = this.cache,
              i = t.length,
              a = ig(n, i)
            ng(r, a) || (e.uniform1iv(this.addr, a), rg(r, a))
            for (var o = 0; o !== i; ++o) n.setTextureCube(t[o] || Ym, a[o])
          }
          function Hg(e, t, n) {
            var r = this.cache,
              i = t.length,
              a = ig(n, i)
            ng(r, a) || (e.uniform1iv(this.addr, a), rg(r, a))
            for (var o = 0; o !== i; ++o) n.setTexture2DArray(t[o] || qm, a[o])
          }
          var Wg = T(function e(t, n, r) {
              ;(w(this, e),
                (this.id = t),
                (this.addr = r),
                (this.cache = []),
                (this.type = n.type),
                (this.setValue = (function (e) {
                  switch (e) {
                    case 5126:
                      return ag
                    case 35664:
                      return og
                    case 35665:
                      return sg
                    case 35666:
                      return ug
                    case 35674:
                      return lg
                    case 35675:
                      return cg
                    case 35676:
                      return dg
                    case 5124:
                    case 35670:
                      return hg
                    case 35667:
                    case 35671:
                      return fg
                    case 35668:
                    case 35672:
                      return pg
                    case 35669:
                    case 35673:
                      return vg
                    case 5125:
                      return mg
                    case 36294:
                      return gg
                    case 36295:
                      return yg
                    case 36296:
                      return xg
                    case 35678:
                    case 36198:
                    case 36298:
                    case 36306:
                    case 35682:
                      return _g
                    case 35679:
                    case 36299:
                    case 36307:
                      return bg
                    case 35680:
                    case 36300:
                    case 36308:
                    case 36293:
                      return Sg
                    case 36289:
                    case 36303:
                    case 36311:
                    case 36292:
                      return wg
                  }
                })(n.type)))
            }),
            Gg = T(function e(t, n, r) {
              ;(w(this, e),
                (this.id = t),
                (this.addr = r),
                (this.cache = []),
                (this.type = n.type),
                (this.size = n.size),
                (this.setValue = (function (e) {
                  switch (e) {
                    case 5126:
                      return Ag
                    case 35664:
                      return Tg
                    case 35665:
                      return Mg
                    case 35666:
                      return Eg
                    case 35674:
                      return Cg
                    case 35675:
                      return kg
                    case 35676:
                      return Rg
                    case 5124:
                    case 35670:
                      return Ig
                    case 35667:
                    case 35671:
                      return Ng
                    case 35668:
                    case 35672:
                      return Pg
                    case 35669:
                    case 35673:
                      return Lg
                    case 5125:
                      return Dg
                    case 36294:
                      return Og
                    case 36295:
                      return Fg
                    case 36296:
                      return Bg
                    case 35678:
                    case 36198:
                    case 36298:
                    case 36306:
                    case 35682:
                      return Ug
                    case 35679:
                    case 36299:
                    case 36307:
                      return zg
                    case 35680:
                    case 36300:
                    case 36308:
                    case 36293:
                      return Vg
                    case 36289:
                    case 36303:
                    case 36311:
                    case 36292:
                      return Hg
                  }
                })(n.type)))
            }),
            jg = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.id = t), (this.seq = []), (this.map = {}))
                },
                [
                  {
                    key: 'setValue',
                    value: function (e, t, n) {
                      for (var r = this.seq, i = 0, a = r.length; i !== a; ++i) {
                        var o = r[i]
                        o.setValue(e, t[o.id], n)
                      }
                    },
                  },
                ]
              )
            })(),
            Qg = /(\w+)(\])?(\[|\.)?/g
          function qg(e, t) {
            ;(e.seq.push(t), (e.map[t.id] = t))
          }
          function Xg(e, t, n) {
            var r = e.name,
              i = r.length
            for (Qg.lastIndex = 0; ; ) {
              var a = Qg.exec(r),
                o = Qg.lastIndex,
                s = a[1],
                u = ']' === a[2],
                l = a[3]
              if ((u && (s |= 0), void 0 === l || ('[' === l && o + 2 === i))) {
                qg(n, void 0 === l ? new Wg(s, e, t) : new Gg(s, e, t))
                break
              }
              var c = n.map[s]
              ;(void 0 === c && qg(n, (c = new jg(s))), (n = c))
            }
          }
          var Yg = (function () {
            return T(
              function e(t, n) {
                ;(w(this, e), (this.seq = []), (this.map = {}))
                for (var r = t.getProgramParameter(n, t.ACTIVE_UNIFORMS), i = 0; i < r; ++i) {
                  var a = t.getActiveUniform(n, i)
                  Xg(a, t.getUniformLocation(n, a.name), this)
                }
              },
              [
                {
                  key: 'setValue',
                  value: function (e, t, n, r) {
                    var i = this.map[t]
                    void 0 !== i && i.setValue(e, n, r)
                  },
                },
                {
                  key: 'setOptional',
                  value: function (e, t, n) {
                    var r = t[n]
                    void 0 !== r && this.setValue(e, n, r)
                  },
                },
              ],
              [
                {
                  key: 'upload',
                  value: function (e, t, n, r) {
                    for (var i = 0, a = t.length; i !== a; ++i) {
                      var o = t[i],
                        s = n[o.id]
                      !1 !== s.needsUpdate && o.setValue(e, s.value, r)
                    }
                  },
                },
                {
                  key: 'seqWithValue',
                  value: function (e, t) {
                    for (var n = [], r = 0, i = e.length; r !== i; ++r) {
                      var a = e[r]
                      a.id in t && n.push(a)
                    }
                    return n
                  },
                },
              ]
            )
          })()
          function Kg(e, t, n) {
            var r = e.createShader(t)
            return (e.shaderSource(r, n), e.compileShader(r), r)
          }
          var Zg = 0
          var Jg = new jc()
          function $g(e, t, n) {
            var r = e.getShaderParameter(t, e.COMPILE_STATUS),
              i = e.getShaderInfoLog(t).trim()
            if (r && '' === i) return ''
            var a = /ERROR: 0:(\d+)/.exec(i)
            if (a) {
              var o = parseInt(a[1])
              return (
                n.toUpperCase() +
                '\n\n' +
                i +
                '\n\n' +
                (function (e, t) {
                  for (
                    var n = e.split('\n'),
                      r = [],
                      i = Math.max(t - 6, 0),
                      a = Math.min(t + 6, n.length),
                      o = i;
                    o < a;
                    o++
                  ) {
                    var s = o + 1
                    r.push(
                      ''
                        .concat(s === t ? '>' : ' ', ' ')
                        .concat(s, ': ')
                        .concat(n[o])
                    )
                  }
                  return r.join('\n')
                })(e.getShaderSource(t), o)
              )
            }
            return i
          }
          function ey(e, t) {
            var n = (function (e) {
              nd._getMatrix(Jg, nd.workingColorSpace, e)
              var t = 'mat3( '.concat(
                Jg.elements.map(function (e) {
                  return e.toFixed(4)
                }),
                ' )'
              )
              switch (nd.getTransfer(e)) {
                case Ac:
                  return [t, 'LinearTransferOETF']
                case Tc:
                  return [t, 'sRGBTransferOETF']
                default:
                  return (
                    console.warn('THREE.WebGLProgram: Unsupported color space: ', e),
                    [t, 'LinearTransferOETF']
                  )
              }
            })(t)
            return [
              'vec4 '.concat(e, '( vec4 value ) {'),
              '\treturn '.concat(n[1], '( vec4( value.rgb * ').concat(n[0], ', value.a ) );'),
              '}',
            ].join('\n')
          }
          function ty(e, t) {
            var n
            switch (t) {
              case 1:
                n = 'Linear'
                break
              case 2:
                n = 'Reinhard'
                break
              case 3:
                n = 'Cineon'
                break
              case 4:
                n = 'ACESFilmic'
                break
              case 6:
                n = 'AgX'
                break
              case 7:
                n = 'Neutral'
                break
              case 5:
                n = 'Custom'
                break
              default:
                ;(console.warn('THREE.WebGLProgram: Unsupported toneMapping:', t), (n = 'Linear'))
            }
            return 'vec3 ' + e + '( vec3 color ) { return ' + n + 'ToneMapping( color ); }'
          }
          var ny = new gd()
          function ry() {
            nd.getLuminanceCoefficients(ny)
            var e = ny.x.toFixed(4),
              t = ny.y.toFixed(4),
              n = ny.z.toFixed(4)
            return [
              'float luminance( const in vec3 rgb ) {',
              '\tconst vec3 weights = vec3( '.concat(e, ', ').concat(t, ', ').concat(n, ' );'),
              '\treturn dot( weights, rgb );',
              '}',
            ].join('\n')
          }
          function iy(e) {
            return '' !== e
          }
          function ay(e, t) {
            var n = t.numSpotLightShadows + t.numSpotLightMaps - t.numSpotLightShadowsWithMaps
            return e
              .replace(/NUM_DIR_LIGHTS/g, t.numDirLights)
              .replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights)
              .replace(/NUM_SPOT_LIGHT_MAPS/g, t.numSpotLightMaps)
              .replace(/NUM_SPOT_LIGHT_COORDS/g, n)
              .replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights)
              .replace(/NUM_POINT_LIGHTS/g, t.numPointLights)
              .replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights)
              .replace(/NUM_DIR_LIGHT_SHADOWS/g, t.numDirLightShadows)
              .replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, t.numSpotLightShadowsWithMaps)
              .replace(/NUM_SPOT_LIGHT_SHADOWS/g, t.numSpotLightShadows)
              .replace(/NUM_POINT_LIGHT_SHADOWS/g, t.numPointLightShadows)
          }
          function oy(e, t) {
            return e
              .replace(/NUM_CLIPPING_PLANES/g, t.numClippingPlanes)
              .replace(/UNION_CLIPPING_PLANES/g, t.numClippingPlanes - t.numClipIntersection)
          }
          var sy = /^[ \t]*#include +<([\w\d./]+)>/gm
          function uy(e) {
            return e.replace(sy, cy)
          }
          var ly = new Map()
          function cy(e, t) {
            var n = cm[t]
            if (void 0 === n) {
              var r = ly.get(t)
              if (void 0 === r) throw new Error('Can not resolve #include <' + t + '>')
              ;((n = cm[r]),
                console.warn(
                  'THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',
                  t,
                  r
                ))
            }
            return uy(n)
          }
          var dy =
            /#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g
          function hy(e) {
            return e.replace(dy, fy)
          }
          function fy(e, t, n, r) {
            for (var i = '', a = parseInt(t); a < parseInt(n); a++)
              i += r.replace(/\[\s*i\s*\]/g, '[ ' + a + ' ]').replace(/UNROLLED_LOOP_INDEX/g, a)
            return i
          }
          function py(e) {
            var t = 'precision '
              .concat(e.precision, ' float;\n\tprecision ')
              .concat(e.precision, ' int;\n\tprecision ')
              .concat(e.precision, ' sampler2D;\n\tprecision ')
              .concat(e.precision, ' samplerCube;\n\tprecision ')
              .concat(e.precision, ' sampler3D;\n\tprecision ')
              .concat(e.precision, ' sampler2DArray;\n\tprecision ')
              .concat(e.precision, ' sampler2DShadow;\n\tprecision ')
              .concat(e.precision, ' samplerCubeShadow;\n\tprecision ')
              .concat(e.precision, ' sampler2DArrayShadow;\n\tprecision ')
              .concat(e.precision, ' isampler2D;\n\tprecision ')
              .concat(e.precision, ' isampler3D;\n\tprecision ')
              .concat(e.precision, ' isamplerCube;\n\tprecision ')
              .concat(e.precision, ' isampler2DArray;\n\tprecision ')
              .concat(e.precision, ' usampler2D;\n\tprecision ')
              .concat(e.precision, ' usampler3D;\n\tprecision ')
              .concat(e.precision, ' usamplerCube;\n\tprecision ')
              .concat(e.precision, ' usampler2DArray;\n\t')
            return (
              'highp' === e.precision
                ? (t += '\n#define HIGH_PRECISION')
                : 'mediump' === e.precision
                  ? (t += '\n#define MEDIUM_PRECISION')
                  : 'lowp' === e.precision && (t += '\n#define LOW_PRECISION'),
              t
            )
          }
          function vy(e, t, n, r) {
            var i,
              a,
              o = e.getContext(),
              s = n.defines,
              u = n.vertexShader,
              l = n.fragmentShader,
              c = (function (e) {
                var t = 'SHADOWMAP_TYPE_BASIC'
                return (
                  1 === e.shadowMapType
                    ? (t = 'SHADOWMAP_TYPE_PCF')
                    : 2 === e.shadowMapType
                      ? (t = 'SHADOWMAP_TYPE_PCF_SOFT')
                      : 3 === e.shadowMapType && (t = 'SHADOWMAP_TYPE_VSM'),
                  t
                )
              })(n),
              d = (function (e) {
                var t = 'ENVMAP_TYPE_CUBE'
                if (e.envMap)
                  switch (e.envMapMode) {
                    case il:
                    case al:
                      t = 'ENVMAP_TYPE_CUBE'
                      break
                    case ol:
                      t = 'ENVMAP_TYPE_CUBE_UV'
                  }
                return t
              })(n),
              h = (function (e) {
                var t = 'ENVMAP_MODE_REFLECTION'
                e.envMap && e.envMapMode === al && (t = 'ENVMAP_MODE_REFRACTION')
                return t
              })(n),
              f = (function (e) {
                var t = 'ENVMAP_BLENDING_NONE'
                if (e.envMap)
                  switch (e.combine) {
                    case 0:
                      t = 'ENVMAP_BLENDING_MULTIPLY'
                      break
                    case 1:
                      t = 'ENVMAP_BLENDING_MIX'
                      break
                    case 2:
                      t = 'ENVMAP_BLENDING_ADD'
                  }
                return t
              })(n),
              p = (function (e) {
                var t = e.envMapCubeUVHeight
                if (null === t) return null
                var n = Math.log2(t) - 2,
                  r = 1 / t
                return {
                  texelWidth: 1 / (3 * Math.max(Math.pow(2, n), 112)),
                  texelHeight: r,
                  maxMip: n,
                }
              })(n),
              v = (function (e) {
                return [
                  e.extensionClipCullDistance
                    ? '#extension GL_ANGLE_clip_cull_distance : require'
                    : '',
                  e.extensionMultiDraw ? '#extension GL_ANGLE_multi_draw : require' : '',
                ]
                  .filter(iy)
                  .join('\n')
              })(n),
              m = (function (e) {
                var t = []
                for (var n in e) {
                  var r = e[n]
                  !1 !== r && t.push('#define ' + n + ' ' + r)
                }
                return t.join('\n')
              })(s),
              g = o.createProgram(),
              y = n.glslVersion ? '#version ' + n.glslVersion + '\n' : ''
            ;(n.isRawShaderMaterial
              ? ((i = [
                  '#define SHADER_TYPE ' + n.shaderType,
                  '#define SHADER_NAME ' + n.shaderName,
                  m,
                ]
                  .filter(iy)
                  .join('\n')).length > 0 && (i += '\n'),
                (a = [
                  '#define SHADER_TYPE ' + n.shaderType,
                  '#define SHADER_NAME ' + n.shaderName,
                  m,
                ]
                  .filter(iy)
                  .join('\n')).length > 0 && (a += '\n'))
              : ((i = [
                  py(n),
                  '#define SHADER_TYPE ' + n.shaderType,
                  '#define SHADER_NAME ' + n.shaderName,
                  m,
                  n.extensionClipCullDistance ? '#define USE_CLIP_DISTANCE' : '',
                  n.batching ? '#define USE_BATCHING' : '',
                  n.batchingColor ? '#define USE_BATCHING_COLOR' : '',
                  n.instancing ? '#define USE_INSTANCING' : '',
                  n.instancingColor ? '#define USE_INSTANCING_COLOR' : '',
                  n.instancingMorph ? '#define USE_INSTANCING_MORPH' : '',
                  n.useFog && n.fog ? '#define USE_FOG' : '',
                  n.useFog && n.fogExp2 ? '#define FOG_EXP2' : '',
                  n.map ? '#define USE_MAP' : '',
                  n.envMap ? '#define USE_ENVMAP' : '',
                  n.envMap ? '#define ' + h : '',
                  n.lightMap ? '#define USE_LIGHTMAP' : '',
                  n.aoMap ? '#define USE_AOMAP' : '',
                  n.bumpMap ? '#define USE_BUMPMAP' : '',
                  n.normalMap ? '#define USE_NORMALMAP' : '',
                  n.normalMapObjectSpace ? '#define USE_NORMALMAP_OBJECTSPACE' : '',
                  n.normalMapTangentSpace ? '#define USE_NORMALMAP_TANGENTSPACE' : '',
                  n.displacementMap ? '#define USE_DISPLACEMENTMAP' : '',
                  n.emissiveMap ? '#define USE_EMISSIVEMAP' : '',
                  n.anisotropy ? '#define USE_ANISOTROPY' : '',
                  n.anisotropyMap ? '#define USE_ANISOTROPYMAP' : '',
                  n.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',
                  n.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',
                  n.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',
                  n.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',
                  n.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',
                  n.specularMap ? '#define USE_SPECULARMAP' : '',
                  n.specularColorMap ? '#define USE_SPECULAR_COLORMAP' : '',
                  n.specularIntensityMap ? '#define USE_SPECULAR_INTENSITYMAP' : '',
                  n.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',
                  n.metalnessMap ? '#define USE_METALNESSMAP' : '',
                  n.alphaMap ? '#define USE_ALPHAMAP' : '',
                  n.alphaHash ? '#define USE_ALPHAHASH' : '',
                  n.transmission ? '#define USE_TRANSMISSION' : '',
                  n.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',
                  n.thicknessMap ? '#define USE_THICKNESSMAP' : '',
                  n.sheenColorMap ? '#define USE_SHEEN_COLORMAP' : '',
                  n.sheenRoughnessMap ? '#define USE_SHEEN_ROUGHNESSMAP' : '',
                  n.mapUv ? '#define MAP_UV ' + n.mapUv : '',
                  n.alphaMapUv ? '#define ALPHAMAP_UV ' + n.alphaMapUv : '',
                  n.lightMapUv ? '#define LIGHTMAP_UV ' + n.lightMapUv : '',
                  n.aoMapUv ? '#define AOMAP_UV ' + n.aoMapUv : '',
                  n.emissiveMapUv ? '#define EMISSIVEMAP_UV ' + n.emissiveMapUv : '',
                  n.bumpMapUv ? '#define BUMPMAP_UV ' + n.bumpMapUv : '',
                  n.normalMapUv ? '#define NORMALMAP_UV ' + n.normalMapUv : '',
                  n.displacementMapUv ? '#define DISPLACEMENTMAP_UV ' + n.displacementMapUv : '',
                  n.metalnessMapUv ? '#define METALNESSMAP_UV ' + n.metalnessMapUv : '',
                  n.roughnessMapUv ? '#define ROUGHNESSMAP_UV ' + n.roughnessMapUv : '',
                  n.anisotropyMapUv ? '#define ANISOTROPYMAP_UV ' + n.anisotropyMapUv : '',
                  n.clearcoatMapUv ? '#define CLEARCOATMAP_UV ' + n.clearcoatMapUv : '',
                  n.clearcoatNormalMapUv
                    ? '#define CLEARCOAT_NORMALMAP_UV ' + n.clearcoatNormalMapUv
                    : '',
                  n.clearcoatRoughnessMapUv
                    ? '#define CLEARCOAT_ROUGHNESSMAP_UV ' + n.clearcoatRoughnessMapUv
                    : '',
                  n.iridescenceMapUv ? '#define IRIDESCENCEMAP_UV ' + n.iridescenceMapUv : '',
                  n.iridescenceThicknessMapUv
                    ? '#define IRIDESCENCE_THICKNESSMAP_UV ' + n.iridescenceThicknessMapUv
                    : '',
                  n.sheenColorMapUv ? '#define SHEEN_COLORMAP_UV ' + n.sheenColorMapUv : '',
                  n.sheenRoughnessMapUv
                    ? '#define SHEEN_ROUGHNESSMAP_UV ' + n.sheenRoughnessMapUv
                    : '',
                  n.specularMapUv ? '#define SPECULARMAP_UV ' + n.specularMapUv : '',
                  n.specularColorMapUv
                    ? '#define SPECULAR_COLORMAP_UV ' + n.specularColorMapUv
                    : '',
                  n.specularIntensityMapUv
                    ? '#define SPECULAR_INTENSITYMAP_UV ' + n.specularIntensityMapUv
                    : '',
                  n.transmissionMapUv ? '#define TRANSMISSIONMAP_UV ' + n.transmissionMapUv : '',
                  n.thicknessMapUv ? '#define THICKNESSMAP_UV ' + n.thicknessMapUv : '',
                  n.vertexTangents && !1 === n.flatShading ? '#define USE_TANGENT' : '',
                  n.vertexColors ? '#define USE_COLOR' : '',
                  n.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',
                  n.vertexUv1s ? '#define USE_UV1' : '',
                  n.vertexUv2s ? '#define USE_UV2' : '',
                  n.vertexUv3s ? '#define USE_UV3' : '',
                  n.pointsUvs ? '#define USE_POINTS_UV' : '',
                  n.flatShading ? '#define FLAT_SHADED' : '',
                  n.skinning ? '#define USE_SKINNING' : '',
                  n.morphTargets ? '#define USE_MORPHTARGETS' : '',
                  n.morphNormals && !1 === n.flatShading ? '#define USE_MORPHNORMALS' : '',
                  n.morphColors ? '#define USE_MORPHCOLORS' : '',
                  n.morphTargetsCount > 0
                    ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + n.morphTextureStride
                    : '',
                  n.morphTargetsCount > 0
                    ? '#define MORPHTARGETS_COUNT ' + n.morphTargetsCount
                    : '',
                  n.doubleSided ? '#define DOUBLE_SIDED' : '',
                  n.flipSided ? '#define FLIP_SIDED' : '',
                  n.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',
                  n.shadowMapEnabled ? '#define ' + c : '',
                  n.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',
                  n.numLightProbes > 0 ? '#define USE_LIGHT_PROBES' : '',
                  n.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',
                  n.reverseDepthBuffer ? '#define USE_REVERSEDEPTHBUF' : '',
                  'uniform mat4 modelMatrix;',
                  'uniform mat4 modelViewMatrix;',
                  'uniform mat4 projectionMatrix;',
                  'uniform mat4 viewMatrix;',
                  'uniform mat3 normalMatrix;',
                  'uniform vec3 cameraPosition;',
                  'uniform bool isOrthographic;',
                  '#ifdef USE_INSTANCING',
                  '\tattribute mat4 instanceMatrix;',
                  '#endif',
                  '#ifdef USE_INSTANCING_COLOR',
                  '\tattribute vec3 instanceColor;',
                  '#endif',
                  '#ifdef USE_INSTANCING_MORPH',
                  '\tuniform sampler2D morphTexture;',
                  '#endif',
                  'attribute vec3 position;',
                  'attribute vec3 normal;',
                  'attribute vec2 uv;',
                  '#ifdef USE_UV1',
                  '\tattribute vec2 uv1;',
                  '#endif',
                  '#ifdef USE_UV2',
                  '\tattribute vec2 uv2;',
                  '#endif',
                  '#ifdef USE_UV3',
                  '\tattribute vec2 uv3;',
                  '#endif',
                  '#ifdef USE_TANGENT',
                  '\tattribute vec4 tangent;',
                  '#endif',
                  '#if defined( USE_COLOR_ALPHA )',
                  '\tattribute vec4 color;',
                  '#elif defined( USE_COLOR )',
                  '\tattribute vec3 color;',
                  '#endif',
                  '#ifdef USE_SKINNING',
                  '\tattribute vec4 skinIndex;',
                  '\tattribute vec4 skinWeight;',
                  '#endif',
                  '\n',
                ]
                  .filter(iy)
                  .join('\n')),
                (a = [
                  py(n),
                  '#define SHADER_TYPE ' + n.shaderType,
                  '#define SHADER_NAME ' + n.shaderName,
                  m,
                  n.useFog && n.fog ? '#define USE_FOG' : '',
                  n.useFog && n.fogExp2 ? '#define FOG_EXP2' : '',
                  n.alphaToCoverage ? '#define ALPHA_TO_COVERAGE' : '',
                  n.map ? '#define USE_MAP' : '',
                  n.matcap ? '#define USE_MATCAP' : '',
                  n.envMap ? '#define USE_ENVMAP' : '',
                  n.envMap ? '#define ' + d : '',
                  n.envMap ? '#define ' + h : '',
                  n.envMap ? '#define ' + f : '',
                  p ? '#define CUBEUV_TEXEL_WIDTH ' + p.texelWidth : '',
                  p ? '#define CUBEUV_TEXEL_HEIGHT ' + p.texelHeight : '',
                  p ? '#define CUBEUV_MAX_MIP ' + p.maxMip + '.0' : '',
                  n.lightMap ? '#define USE_LIGHTMAP' : '',
                  n.aoMap ? '#define USE_AOMAP' : '',
                  n.bumpMap ? '#define USE_BUMPMAP' : '',
                  n.normalMap ? '#define USE_NORMALMAP' : '',
                  n.normalMapObjectSpace ? '#define USE_NORMALMAP_OBJECTSPACE' : '',
                  n.normalMapTangentSpace ? '#define USE_NORMALMAP_TANGENTSPACE' : '',
                  n.emissiveMap ? '#define USE_EMISSIVEMAP' : '',
                  n.anisotropy ? '#define USE_ANISOTROPY' : '',
                  n.anisotropyMap ? '#define USE_ANISOTROPYMAP' : '',
                  n.clearcoat ? '#define USE_CLEARCOAT' : '',
                  n.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',
                  n.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',
                  n.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',
                  n.dispersion ? '#define USE_DISPERSION' : '',
                  n.iridescence ? '#define USE_IRIDESCENCE' : '',
                  n.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',
                  n.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',
                  n.specularMap ? '#define USE_SPECULARMAP' : '',
                  n.specularColorMap ? '#define USE_SPECULAR_COLORMAP' : '',
                  n.specularIntensityMap ? '#define USE_SPECULAR_INTENSITYMAP' : '',
                  n.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',
                  n.metalnessMap ? '#define USE_METALNESSMAP' : '',
                  n.alphaMap ? '#define USE_ALPHAMAP' : '',
                  n.alphaTest ? '#define USE_ALPHATEST' : '',
                  n.alphaHash ? '#define USE_ALPHAHASH' : '',
                  n.sheen ? '#define USE_SHEEN' : '',
                  n.sheenColorMap ? '#define USE_SHEEN_COLORMAP' : '',
                  n.sheenRoughnessMap ? '#define USE_SHEEN_ROUGHNESSMAP' : '',
                  n.transmission ? '#define USE_TRANSMISSION' : '',
                  n.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',
                  n.thicknessMap ? '#define USE_THICKNESSMAP' : '',
                  n.vertexTangents && !1 === n.flatShading ? '#define USE_TANGENT' : '',
                  n.vertexColors || n.instancingColor || n.batchingColor ? '#define USE_COLOR' : '',
                  n.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',
                  n.vertexUv1s ? '#define USE_UV1' : '',
                  n.vertexUv2s ? '#define USE_UV2' : '',
                  n.vertexUv3s ? '#define USE_UV3' : '',
                  n.pointsUvs ? '#define USE_POINTS_UV' : '',
                  n.gradientMap ? '#define USE_GRADIENTMAP' : '',
                  n.flatShading ? '#define FLAT_SHADED' : '',
                  n.doubleSided ? '#define DOUBLE_SIDED' : '',
                  n.flipSided ? '#define FLIP_SIDED' : '',
                  n.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',
                  n.shadowMapEnabled ? '#define ' + c : '',
                  n.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',
                  n.numLightProbes > 0 ? '#define USE_LIGHT_PROBES' : '',
                  n.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '',
                  n.decodeVideoTextureEmissive ? '#define DECODE_VIDEO_TEXTURE_EMISSIVE' : '',
                  n.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',
                  n.reverseDepthBuffer ? '#define USE_REVERSEDEPTHBUF' : '',
                  'uniform mat4 viewMatrix;',
                  'uniform vec3 cameraPosition;',
                  'uniform bool isOrthographic;',
                  0 !== n.toneMapping ? '#define TONE_MAPPING' : '',
                  0 !== n.toneMapping ? cm.tonemapping_pars_fragment : '',
                  0 !== n.toneMapping ? ty('toneMapping', n.toneMapping) : '',
                  n.dithering ? '#define DITHERING' : '',
                  n.opaque ? '#define OPAQUE' : '',
                  cm.colorspace_pars_fragment,
                  ey('linearToOutputTexel', n.outputColorSpace),
                  ry(),
                  n.useDepthPacking ? '#define DEPTH_PACKING ' + n.depthPacking : '',
                  '\n',
                ]
                  .filter(iy)
                  .join('\n'))),
              (u = oy((u = ay((u = uy(u)), n)), n)),
              (l = oy((l = ay((l = uy(l)), n)), n)),
              (u = hy(u)),
              (l = hy(l)),
              !0 !== n.isRawShaderMaterial &&
                ((y = '#version 300 es\n'),
                (i =
                  [
                    v,
                    '#define attribute in',
                    '#define varying out',
                    '#define texture2D texture',
                  ].join('\n') +
                  '\n' +
                  i),
                (a =
                  [
                    '#define varying in',
                    n.glslVersion === kc ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;',
                    n.glslVersion === kc ? '' : '#define gl_FragColor pc_fragColor',
                    '#define gl_FragDepthEXT gl_FragDepth',
                    '#define texture2D texture',
                    '#define textureCube texture',
                    '#define texture2DProj textureProj',
                    '#define texture2DLodEXT textureLod',
                    '#define texture2DProjLodEXT textureProjLod',
                    '#define textureCubeLodEXT textureLod',
                    '#define texture2DGradEXT textureGrad',
                    '#define texture2DProjGradEXT textureProjGrad',
                    '#define textureCubeGradEXT textureGrad',
                  ].join('\n') +
                  '\n' +
                  a)))
            var x,
              _,
              b = y + i + u,
              S = y + a + l,
              w = Kg(o, o.VERTEX_SHADER, b),
              A = Kg(o, o.FRAGMENT_SHADER, S)
            function T(t) {
              if (e.debug.checkShaderErrors) {
                var n = o.getProgramInfoLog(g).trim(),
                  r = o.getShaderInfoLog(w).trim(),
                  s = o.getShaderInfoLog(A).trim(),
                  u = !0,
                  l = !0
                if (!1 === o.getProgramParameter(g, o.LINK_STATUS))
                  if (((u = !1), 'function' == typeof e.debug.onShaderError))
                    e.debug.onShaderError(o, g, w, A)
                  else {
                    var c = $g(o, w, 'vertex'),
                      d = $g(o, A, 'fragment')
                    console.error(
                      'THREE.WebGLProgram: Shader Error ' +
                        o.getError() +
                        ' - VALIDATE_STATUS ' +
                        o.getProgramParameter(g, o.VALIDATE_STATUS) +
                        '\n\nMaterial Name: ' +
                        t.name +
                        '\nMaterial Type: ' +
                        t.type +
                        '\n\nProgram Info Log: ' +
                        n +
                        '\n' +
                        c +
                        '\n' +
                        d
                    )
                  }
                else
                  '' !== n
                    ? console.warn('THREE.WebGLProgram: Program Info Log:', n)
                    : ('' !== r && '' !== s) || (l = !1)
                l &&
                  (t.diagnostics = {
                    runnable: u,
                    programLog: n,
                    vertexShader: { log: r, prefix: i },
                    fragmentShader: { log: s, prefix: a },
                  })
              }
              ;(o.deleteShader(w),
                o.deleteShader(A),
                (x = new Yg(o, g)),
                (_ = (function (e, t) {
                  for (
                    var n = {}, r = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), i = 0;
                    i < r;
                    i++
                  ) {
                    var a = e.getActiveAttrib(t, i),
                      o = a.name,
                      s = 1
                    ;(a.type === e.FLOAT_MAT2 && (s = 2),
                      a.type === e.FLOAT_MAT3 && (s = 3),
                      a.type === e.FLOAT_MAT4 && (s = 4),
                      (n[o] = {
                        type: a.type,
                        location: e.getAttribLocation(t, o),
                        locationSize: s,
                      }))
                  }
                  return n
                })(o, g)))
            }
            ;(o.attachShader(g, w),
              o.attachShader(g, A),
              void 0 !== n.index0AttributeName
                ? o.bindAttribLocation(g, 0, n.index0AttributeName)
                : !0 === n.morphTargets && o.bindAttribLocation(g, 0, 'position'),
              o.linkProgram(g),
              (this.getUniforms = function () {
                return (void 0 === x && T(this), x)
              }),
              (this.getAttributes = function () {
                return (void 0 === _ && T(this), _)
              }))
            var M = !1 === n.rendererExtensionParallelShaderCompile
            return (
              (this.isReady = function () {
                return (!1 === M && (M = o.getProgramParameter(g, 37297)), M)
              }),
              (this.destroy = function () {
                ;(r.releaseStatesOfProgram(this), o.deleteProgram(g), (this.program = void 0))
              }),
              (this.type = n.shaderType),
              (this.name = n.shaderName),
              (this.id = Zg++),
              (this.cacheKey = t),
              (this.usedTimes = 1),
              (this.program = g),
              (this.vertexShader = w),
              (this.fragmentShader = A),
              this
            )
          }
          var my = 0,
            gy = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this.shaderCache = new Map()), (this.materialCache = new Map()))
                },
                [
                  {
                    key: 'update',
                    value: function (e) {
                      var t = e.vertexShader,
                        n = e.fragmentShader,
                        r = this._getShaderStage(t),
                        i = this._getShaderStage(n),
                        a = this._getShaderCacheForMaterial(e)
                      return (
                        !1 === a.has(r) && (a.add(r), r.usedTimes++),
                        !1 === a.has(i) && (a.add(i), i.usedTimes++),
                        this
                      )
                    },
                  },
                  {
                    key: 'remove',
                    value: function (e) {
                      var t,
                        n = L(this.materialCache.get(e))
                      try {
                        for (n.s(); !(t = n.n()).done; ) {
                          var r = t.value
                          ;(r.usedTimes--, 0 === r.usedTimes && this.shaderCache.delete(r.code))
                        }
                      } catch (i) {
                        n.e(i)
                      } finally {
                        n.f()
                      }
                      return (this.materialCache.delete(e), this)
                    },
                  },
                  {
                    key: 'getVertexShaderID',
                    value: function (e) {
                      return this._getShaderStage(e.vertexShader).id
                    },
                  },
                  {
                    key: 'getFragmentShaderID',
                    value: function (e) {
                      return this._getShaderStage(e.fragmentShader).id
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      ;(this.shaderCache.clear(), this.materialCache.clear())
                    },
                  },
                  {
                    key: '_getShaderCacheForMaterial',
                    value: function (e) {
                      var t = this.materialCache,
                        n = t.get(e)
                      return (void 0 === n && ((n = new Set()), t.set(e, n)), n)
                    },
                  },
                  {
                    key: '_getShaderStage',
                    value: function (e) {
                      var t = this.shaderCache,
                        n = t.get(e)
                      return (void 0 === n && ((n = new yy(e)), t.set(e, n)), n)
                    },
                  },
                ]
              )
            })(),
            yy = T(function e(t) {
              ;(w(this, e), (this.id = my++), (this.code = t), (this.usedTimes = 0))
            })
          function xy(e, t, n, r, i, a, o) {
            var s = new ih(),
              u = new gy(),
              l = new Set(),
              c = [],
              d = i.logarithmicDepthBuffer,
              h = i.vertexTextures,
              f = i.precision,
              p = {
                MeshDepthMaterial: 'depth',
                MeshDistanceMaterial: 'distanceRGBA',
                MeshNormalMaterial: 'normal',
                MeshBasicMaterial: 'basic',
                MeshLambertMaterial: 'lambert',
                MeshPhongMaterial: 'phong',
                MeshToonMaterial: 'toon',
                MeshStandardMaterial: 'physical',
                MeshPhysicalMaterial: 'physical',
                MeshMatcapMaterial: 'matcap',
                LineBasicMaterial: 'basic',
                LineDashedMaterial: 'dashed',
                PointsMaterial: 'points',
                ShadowMaterial: 'shadow',
                SpriteMaterial: 'sprite',
              }
            function v(e) {
              return (l.add(e), 0 === e ? 'uv' : 'uv'.concat(e))
            }
            return {
              getParameters: function (a, s, c, m, g) {
                var y = m.fog,
                  x = g.geometry,
                  _ = a.isMeshStandardMaterial ? m.environment : null,
                  b = (a.isMeshStandardMaterial ? n : t).get(a.envMap || _),
                  S = b && b.mapping === ol ? b.image.height : null,
                  w = p[a.type]
                null !== a.precision &&
                  (f = i.getMaxPrecision(a.precision)) !== a.precision &&
                  console.warn(
                    'THREE.WebGLProgram.getParameters:',
                    a.precision,
                    'not supported, using',
                    f,
                    'instead.'
                  )
                var A,
                  T,
                  M,
                  E,
                  C =
                    x.morphAttributes.position ||
                    x.morphAttributes.normal ||
                    x.morphAttributes.color,
                  k = void 0 !== C ? C.length : 0,
                  R = 0
                if (
                  (void 0 !== x.morphAttributes.position && (R = 1),
                  void 0 !== x.morphAttributes.normal && (R = 2),
                  void 0 !== x.morphAttributes.color && (R = 3),
                  w)
                ) {
                  var I = hm[w]
                  ;((A = I.vertexShader), (T = I.fragmentShader))
                } else
                  ((A = a.vertexShader),
                    (T = a.fragmentShader),
                    u.update(a),
                    (M = u.getVertexShaderID(a)),
                    (E = u.getFragmentShaderID(a)))
                var N = e.getRenderTarget(),
                  P = e.state.buffers.depth.getReversed(),
                  L = !0 === g.isInstancedMesh,
                  D = !0 === g.isBatchedMesh,
                  O = !!a.map,
                  F = !!a.matcap,
                  B = !!b,
                  U = !!a.aoMap,
                  z = !!a.lightMap,
                  V = !!a.bumpMap,
                  H = !!a.normalMap,
                  W = !!a.displacementMap,
                  G = !!a.emissiveMap,
                  j = !!a.metalnessMap,
                  Q = !!a.roughnessMap,
                  q = a.anisotropy > 0,
                  X = a.clearcoat > 0,
                  Y = a.dispersion > 0,
                  K = a.iridescence > 0,
                  Z = a.sheen > 0,
                  J = a.transmission > 0,
                  $ = q && !!a.anisotropyMap,
                  ee = X && !!a.clearcoatMap,
                  te = X && !!a.clearcoatNormalMap,
                  ne = X && !!a.clearcoatRoughnessMap,
                  re = K && !!a.iridescenceMap,
                  ie = K && !!a.iridescenceThicknessMap,
                  ae = Z && !!a.sheenColorMap,
                  oe = Z && !!a.sheenRoughnessMap,
                  se = !!a.specularMap,
                  ue = !!a.specularColorMap,
                  le = !!a.specularIntensityMap,
                  ce = J && !!a.transmissionMap,
                  de = J && !!a.thicknessMap,
                  he = !!a.gradientMap,
                  fe = !!a.alphaMap,
                  pe = a.alphaTest > 0,
                  ve = !!a.alphaHash,
                  me = !!a.extensions,
                  ge = 0
                a.toneMapped && ((null !== N && !0 !== N.isXRRenderTarget) || (ge = e.toneMapping))
                var ye = {
                  shaderID: w,
                  shaderType: a.type,
                  shaderName: a.name,
                  vertexShader: A,
                  fragmentShader: T,
                  defines: a.defines,
                  customVertexShaderID: M,
                  customFragmentShaderID: E,
                  isRawShaderMaterial: !0 === a.isRawShaderMaterial,
                  glslVersion: a.glslVersion,
                  precision: f,
                  batching: D,
                  batchingColor: D && null !== g._colorsTexture,
                  instancing: L,
                  instancingColor: L && null !== g.instanceColor,
                  instancingMorph: L && null !== g.morphTexture,
                  supportsVertexTextures: h,
                  outputColorSpace:
                    null === N
                      ? e.outputColorSpace
                      : !0 === N.isXRRenderTarget
                        ? N.texture.colorSpace
                        : wc,
                  alphaToCoverage: !!a.alphaToCoverage,
                  map: O,
                  matcap: F,
                  envMap: B,
                  envMapMode: B && b.mapping,
                  envMapCubeUVHeight: S,
                  aoMap: U,
                  lightMap: z,
                  bumpMap: V,
                  normalMap: H,
                  displacementMap: h && W,
                  emissiveMap: G,
                  normalMapObjectSpace: H && 1 === a.normalMapType,
                  normalMapTangentSpace: H && 0 === a.normalMapType,
                  metalnessMap: j,
                  roughnessMap: Q,
                  anisotropy: q,
                  anisotropyMap: $,
                  clearcoat: X,
                  clearcoatMap: ee,
                  clearcoatNormalMap: te,
                  clearcoatRoughnessMap: ne,
                  dispersion: Y,
                  iridescence: K,
                  iridescenceMap: re,
                  iridescenceThicknessMap: ie,
                  sheen: Z,
                  sheenColorMap: ae,
                  sheenRoughnessMap: oe,
                  specularMap: se,
                  specularColorMap: ue,
                  specularIntensityMap: le,
                  transmission: J,
                  transmissionMap: ce,
                  thicknessMap: de,
                  gradientMap: he,
                  opaque: !1 === a.transparent && 1 === a.blending && !1 === a.alphaToCoverage,
                  alphaMap: fe,
                  alphaTest: pe,
                  alphaHash: ve,
                  combine: a.combine,
                  mapUv: O && v(a.map.channel),
                  aoMapUv: U && v(a.aoMap.channel),
                  lightMapUv: z && v(a.lightMap.channel),
                  bumpMapUv: V && v(a.bumpMap.channel),
                  normalMapUv: H && v(a.normalMap.channel),
                  displacementMapUv: W && v(a.displacementMap.channel),
                  emissiveMapUv: G && v(a.emissiveMap.channel),
                  metalnessMapUv: j && v(a.metalnessMap.channel),
                  roughnessMapUv: Q && v(a.roughnessMap.channel),
                  anisotropyMapUv: $ && v(a.anisotropyMap.channel),
                  clearcoatMapUv: ee && v(a.clearcoatMap.channel),
                  clearcoatNormalMapUv: te && v(a.clearcoatNormalMap.channel),
                  clearcoatRoughnessMapUv: ne && v(a.clearcoatRoughnessMap.channel),
                  iridescenceMapUv: re && v(a.iridescenceMap.channel),
                  iridescenceThicknessMapUv: ie && v(a.iridescenceThicknessMap.channel),
                  sheenColorMapUv: ae && v(a.sheenColorMap.channel),
                  sheenRoughnessMapUv: oe && v(a.sheenRoughnessMap.channel),
                  specularMapUv: se && v(a.specularMap.channel),
                  specularColorMapUv: ue && v(a.specularColorMap.channel),
                  specularIntensityMapUv: le && v(a.specularIntensityMap.channel),
                  transmissionMapUv: ce && v(a.transmissionMap.channel),
                  thicknessMapUv: de && v(a.thicknessMap.channel),
                  alphaMapUv: fe && v(a.alphaMap.channel),
                  vertexTangents: !!x.attributes.tangent && (H || q),
                  vertexColors: a.vertexColors,
                  vertexAlphas:
                    !0 === a.vertexColors &&
                    !!x.attributes.color &&
                    4 === x.attributes.color.itemSize,
                  pointsUvs: !0 === g.isPoints && !!x.attributes.uv && (O || fe),
                  fog: !!y,
                  useFog: !0 === a.fog,
                  fogExp2: !!y && y.isFogExp2,
                  flatShading: !0 === a.flatShading,
                  sizeAttenuation: !0 === a.sizeAttenuation,
                  logarithmicDepthBuffer: d,
                  reverseDepthBuffer: P,
                  skinning: !0 === g.isSkinnedMesh,
                  morphTargets: void 0 !== x.morphAttributes.position,
                  morphNormals: void 0 !== x.morphAttributes.normal,
                  morphColors: void 0 !== x.morphAttributes.color,
                  morphTargetsCount: k,
                  morphTextureStride: R,
                  numDirLights: s.directional.length,
                  numPointLights: s.point.length,
                  numSpotLights: s.spot.length,
                  numSpotLightMaps: s.spotLightMap.length,
                  numRectAreaLights: s.rectArea.length,
                  numHemiLights: s.hemi.length,
                  numDirLightShadows: s.directionalShadowMap.length,
                  numPointLightShadows: s.pointShadowMap.length,
                  numSpotLightShadows: s.spotShadowMap.length,
                  numSpotLightShadowsWithMaps: s.numSpotLightShadowsWithMaps,
                  numLightProbes: s.numLightProbes,
                  numClippingPlanes: o.numPlanes,
                  numClipIntersection: o.numIntersection,
                  dithering: a.dithering,
                  shadowMapEnabled: e.shadowMap.enabled && c.length > 0,
                  shadowMapType: e.shadowMap.type,
                  toneMapping: ge,
                  decodeVideoTexture:
                    O && !0 === a.map.isVideoTexture && nd.getTransfer(a.map.colorSpace) === Tc,
                  decodeVideoTextureEmissive:
                    G &&
                    !0 === a.emissiveMap.isVideoTexture &&
                    nd.getTransfer(a.emissiveMap.colorSpace) === Tc,
                  premultipliedAlpha: a.premultipliedAlpha,
                  doubleSided: 2 === a.side,
                  flipSided: 1 === a.side,
                  useDepthPacking: a.depthPacking >= 0,
                  depthPacking: a.depthPacking || 0,
                  index0AttributeName: a.index0AttributeName,
                  extensionClipCullDistance:
                    me && !0 === a.extensions.clipCullDistance && r.has('WEBGL_clip_cull_distance'),
                  extensionMultiDraw:
                    ((me && !0 === a.extensions.multiDraw) || D) && r.has('WEBGL_multi_draw'),
                  rendererExtensionParallelShaderCompile: r.has('KHR_parallel_shader_compile'),
                  customProgramCacheKey: a.customProgramCacheKey(),
                }
                return (
                  (ye.vertexUv1s = l.has(1)),
                  (ye.vertexUv2s = l.has(2)),
                  (ye.vertexUv3s = l.has(3)),
                  l.clear(),
                  ye
                )
              },
              getProgramCacheKey: function (t) {
                var n = []
                if (
                  (t.shaderID
                    ? n.push(t.shaderID)
                    : (n.push(t.customVertexShaderID), n.push(t.customFragmentShaderID)),
                  void 0 !== t.defines)
                )
                  for (var r in t.defines) (n.push(r), n.push(t.defines[r]))
                return (
                  !1 === t.isRawShaderMaterial &&
                    (!(function (e, t) {
                      ;(e.push(t.precision),
                        e.push(t.outputColorSpace),
                        e.push(t.envMapMode),
                        e.push(t.envMapCubeUVHeight),
                        e.push(t.mapUv),
                        e.push(t.alphaMapUv),
                        e.push(t.lightMapUv),
                        e.push(t.aoMapUv),
                        e.push(t.bumpMapUv),
                        e.push(t.normalMapUv),
                        e.push(t.displacementMapUv),
                        e.push(t.emissiveMapUv),
                        e.push(t.metalnessMapUv),
                        e.push(t.roughnessMapUv),
                        e.push(t.anisotropyMapUv),
                        e.push(t.clearcoatMapUv),
                        e.push(t.clearcoatNormalMapUv),
                        e.push(t.clearcoatRoughnessMapUv),
                        e.push(t.iridescenceMapUv),
                        e.push(t.iridescenceThicknessMapUv),
                        e.push(t.sheenColorMapUv),
                        e.push(t.sheenRoughnessMapUv),
                        e.push(t.specularMapUv),
                        e.push(t.specularColorMapUv),
                        e.push(t.specularIntensityMapUv),
                        e.push(t.transmissionMapUv),
                        e.push(t.thicknessMapUv),
                        e.push(t.combine),
                        e.push(t.fogExp2),
                        e.push(t.sizeAttenuation),
                        e.push(t.morphTargetsCount),
                        e.push(t.morphAttributeCount),
                        e.push(t.numDirLights),
                        e.push(t.numPointLights),
                        e.push(t.numSpotLights),
                        e.push(t.numSpotLightMaps),
                        e.push(t.numHemiLights),
                        e.push(t.numRectAreaLights),
                        e.push(t.numDirLightShadows),
                        e.push(t.numPointLightShadows),
                        e.push(t.numSpotLightShadows),
                        e.push(t.numSpotLightShadowsWithMaps),
                        e.push(t.numLightProbes),
                        e.push(t.shadowMapType),
                        e.push(t.toneMapping),
                        e.push(t.numClippingPlanes),
                        e.push(t.numClipIntersection),
                        e.push(t.depthPacking))
                    })(n, t),
                    (function (e, t) {
                      ;(s.disableAll(), t.supportsVertexTextures && s.enable(0))
                      t.instancing && s.enable(1)
                      t.instancingColor && s.enable(2)
                      t.instancingMorph && s.enable(3)
                      t.matcap && s.enable(4)
                      t.envMap && s.enable(5)
                      t.normalMapObjectSpace && s.enable(6)
                      t.normalMapTangentSpace && s.enable(7)
                      t.clearcoat && s.enable(8)
                      t.iridescence && s.enable(9)
                      t.alphaTest && s.enable(10)
                      t.vertexColors && s.enable(11)
                      t.vertexAlphas && s.enable(12)
                      t.vertexUv1s && s.enable(13)
                      t.vertexUv2s && s.enable(14)
                      t.vertexUv3s && s.enable(15)
                      t.vertexTangents && s.enable(16)
                      t.anisotropy && s.enable(17)
                      t.alphaHash && s.enable(18)
                      t.batching && s.enable(19)
                      t.dispersion && s.enable(20)
                      t.batchingColor && s.enable(21)
                      ;(e.push(s.mask), s.disableAll(), t.fog && s.enable(0))
                      t.useFog && s.enable(1)
                      t.flatShading && s.enable(2)
                      t.logarithmicDepthBuffer && s.enable(3)
                      t.reverseDepthBuffer && s.enable(4)
                      t.skinning && s.enable(5)
                      t.morphTargets && s.enable(6)
                      t.morphNormals && s.enable(7)
                      t.morphColors && s.enable(8)
                      t.premultipliedAlpha && s.enable(9)
                      t.shadowMapEnabled && s.enable(10)
                      t.doubleSided && s.enable(11)
                      t.flipSided && s.enable(12)
                      t.useDepthPacking && s.enable(13)
                      t.dithering && s.enable(14)
                      t.transmission && s.enable(15)
                      t.sheen && s.enable(16)
                      t.opaque && s.enable(17)
                      t.pointsUvs && s.enable(18)
                      t.decodeVideoTexture && s.enable(19)
                      t.decodeVideoTextureEmissive && s.enable(20)
                      t.alphaToCoverage && s.enable(21)
                      e.push(s.mask)
                    })(n, t),
                    n.push(e.outputColorSpace)),
                  n.push(t.customProgramCacheKey),
                  n.join()
                )
              },
              getUniforms: function (e) {
                var t,
                  n = p[e.type]
                if (n) {
                  var r = hm[n]
                  t = Mf.clone(r.uniforms)
                } else t = e.uniforms
                return t
              },
              acquireProgram: function (t, n) {
                for (var r, i = 0, o = c.length; i < o; i++) {
                  var s = c[i]
                  if (s.cacheKey === n) {
                    ++(r = s).usedTimes
                    break
                  }
                }
                return (void 0 === r && ((r = new vy(e, n, t, a)), c.push(r)), r)
              },
              releaseProgram: function (e) {
                if (0 === --e.usedTimes) {
                  var t = c.indexOf(e)
                  ;((c[t] = c[c.length - 1]), c.pop(), e.destroy())
                }
              },
              releaseShaderCache: function (e) {
                u.remove(e)
              },
              programs: c,
              dispose: function () {
                u.dispose()
              },
            }
          }
          function _y() {
            var e = new WeakMap()
            return {
              has: function (t) {
                return e.has(t)
              },
              get: function (t) {
                var n = e.get(t)
                return (void 0 === n && ((n = {}), e.set(t, n)), n)
              },
              remove: function (t) {
                e.delete(t)
              },
              update: function (t, n, r) {
                e.get(t)[n] = r
              },
              dispose: function () {
                e = new WeakMap()
              },
            }
          }
          function by(e, t) {
            return e.groupOrder !== t.groupOrder
              ? e.groupOrder - t.groupOrder
              : e.renderOrder !== t.renderOrder
                ? e.renderOrder - t.renderOrder
                : e.material.id !== t.material.id
                  ? e.material.id - t.material.id
                  : e.z !== t.z
                    ? e.z - t.z
                    : e.id - t.id
          }
          function Sy(e, t) {
            return e.groupOrder !== t.groupOrder
              ? e.groupOrder - t.groupOrder
              : e.renderOrder !== t.renderOrder
                ? e.renderOrder - t.renderOrder
                : e.z !== t.z
                  ? t.z - e.z
                  : e.id - t.id
          }
          function wy() {
            var e = [],
              t = 0,
              n = [],
              r = [],
              i = []
            function a(n, r, i, a, o, s) {
              var u = e[t]
              return (
                void 0 === u
                  ? ((u = {
                      id: n.id,
                      object: n,
                      geometry: r,
                      material: i,
                      groupOrder: a,
                      renderOrder: n.renderOrder,
                      z: o,
                      group: s,
                    }),
                    (e[t] = u))
                  : ((u.id = n.id),
                    (u.object = n),
                    (u.geometry = r),
                    (u.material = i),
                    (u.groupOrder = a),
                    (u.renderOrder = n.renderOrder),
                    (u.z = o),
                    (u.group = s)),
                t++,
                u
              )
            }
            return {
              opaque: n,
              transmissive: r,
              transparent: i,
              init: function () {
                ;((t = 0), (n.length = 0), (r.length = 0), (i.length = 0))
              },
              push: function (e, t, o, s, u, l) {
                var c = a(e, t, o, s, u, l)
                o.transmission > 0 ? r.push(c) : !0 === o.transparent ? i.push(c) : n.push(c)
              },
              unshift: function (e, t, o, s, u, l) {
                var c = a(e, t, o, s, u, l)
                o.transmission > 0
                  ? r.unshift(c)
                  : !0 === o.transparent
                    ? i.unshift(c)
                    : n.unshift(c)
              },
              finish: function () {
                for (var n = t, r = e.length; n < r; n++) {
                  var i = e[n]
                  if (null === i.id) break
                  ;((i.id = null),
                    (i.object = null),
                    (i.geometry = null),
                    (i.material = null),
                    (i.group = null))
                }
              },
              sort: function (e, t) {
                ;(n.length > 1 && n.sort(e || by),
                  r.length > 1 && r.sort(t || Sy),
                  i.length > 1 && i.sort(t || Sy))
              },
            }
          }
          function Ay() {
            var e = new WeakMap()
            return {
              get: function (t, n) {
                var r,
                  i = e.get(t)
                return (
                  void 0 === i
                    ? ((r = new wy()), e.set(t, [r]))
                    : n >= i.length
                      ? ((r = new wy()), i.push(r))
                      : (r = i[n]),
                  r
                )
              },
              dispose: function () {
                e = new WeakMap()
              },
            }
          }
          function Ty() {
            var e = {}
            return {
              get: function (t) {
                if (void 0 !== e[t.id]) return e[t.id]
                var n
                switch (t.type) {
                  case 'DirectionalLight':
                    n = { direction: new gd(), color: new Uh() }
                    break
                  case 'SpotLight':
                    n = {
                      position: new gd(),
                      direction: new gd(),
                      color: new Uh(),
                      distance: 0,
                      coneCos: 0,
                      penumbraCos: 0,
                      decay: 0,
                    }
                    break
                  case 'PointLight':
                    n = { position: new gd(), color: new Uh(), distance: 0, decay: 0 }
                    break
                  case 'HemisphereLight':
                    n = { direction: new gd(), skyColor: new Uh(), groundColor: new Uh() }
                    break
                  case 'RectAreaLight':
                    n = {
                      color: new Uh(),
                      position: new gd(),
                      halfWidth: new gd(),
                      halfHeight: new gd(),
                    }
                }
                return ((e[t.id] = n), n)
              },
            }
          }
          var My = 0
          function Ey(e, t) {
            return (
              (t.castShadow ? 2 : 0) - (e.castShadow ? 2 : 0) + (t.map ? 1 : 0) - (e.map ? 1 : 0)
            )
          }
          function Cy(e) {
            for (
              var t,
                n = new Ty(),
                r =
                  ((t = {}),
                  {
                    get: function (e) {
                      if (void 0 !== t[e.id]) return t[e.id]
                      var n
                      switch (e.type) {
                        case 'DirectionalLight':
                        case 'SpotLight':
                          n = {
                            shadowIntensity: 1,
                            shadowBias: 0,
                            shadowNormalBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new Gc(),
                          }
                          break
                        case 'PointLight':
                          n = {
                            shadowIntensity: 1,
                            shadowBias: 0,
                            shadowNormalBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new Gc(),
                            shadowCameraNear: 1,
                            shadowCameraFar: 1e3,
                          }
                      }
                      return ((t[e.id] = n), n)
                    },
                  }),
                i = {
                  version: 0,
                  hash: {
                    directionalLength: -1,
                    pointLength: -1,
                    spotLength: -1,
                    rectAreaLength: -1,
                    hemiLength: -1,
                    numDirectionalShadows: -1,
                    numPointShadows: -1,
                    numSpotShadows: -1,
                    numSpotMaps: -1,
                    numLightProbes: -1,
                  },
                  ambient: [0, 0, 0],
                  probe: [],
                  directional: [],
                  directionalShadow: [],
                  directionalShadowMap: [],
                  directionalShadowMatrix: [],
                  spot: [],
                  spotLightMap: [],
                  spotShadow: [],
                  spotShadowMap: [],
                  spotLightMatrix: [],
                  rectArea: [],
                  rectAreaLTC1: null,
                  rectAreaLTC2: null,
                  point: [],
                  pointShadow: [],
                  pointShadowMap: [],
                  pointShadowMatrix: [],
                  hemi: [],
                  numSpotLightShadowsWithMaps: 0,
                  numLightProbes: 0,
                },
                a = 0;
              a < 9;
              a++
            )
              i.probe.push(new gd())
            var o = new gd(),
              s = new qd(),
              u = new qd()
            return {
              setup: function (t) {
                for (var a = 0, o = 0, s = 0, u = 0; u < 9; u++) i.probe[u].set(0, 0, 0)
                var l = 0,
                  c = 0,
                  d = 0,
                  h = 0,
                  f = 0,
                  p = 0,
                  v = 0,
                  m = 0,
                  g = 0,
                  y = 0,
                  x = 0
                t.sort(Ey)
                for (var _ = 0, b = t.length; _ < b; _++) {
                  var S = t[_],
                    w = S.color,
                    A = S.intensity,
                    T = S.distance,
                    M = S.shadow && S.shadow.map ? S.shadow.map.texture : null
                  if (S.isAmbientLight) ((a += w.r * A), (o += w.g * A), (s += w.b * A))
                  else if (S.isLightProbe) {
                    for (var E = 0; E < 9; E++) i.probe[E].addScaledVector(S.sh.coefficients[E], A)
                    x++
                  } else if (S.isDirectionalLight) {
                    var C = n.get(S)
                    if ((C.color.copy(S.color).multiplyScalar(S.intensity), S.castShadow)) {
                      var k = S.shadow,
                        R = r.get(S)
                      ;((R.shadowIntensity = k.intensity),
                        (R.shadowBias = k.bias),
                        (R.shadowNormalBias = k.normalBias),
                        (R.shadowRadius = k.radius),
                        (R.shadowMapSize = k.mapSize),
                        (i.directionalShadow[l] = R),
                        (i.directionalShadowMap[l] = M),
                        (i.directionalShadowMatrix[l] = S.shadow.matrix),
                        p++)
                    }
                    ;((i.directional[l] = C), l++)
                  } else if (S.isSpotLight) {
                    var I = n.get(S)
                    ;(I.position.setFromMatrixPosition(S.matrixWorld),
                      I.color.copy(w).multiplyScalar(A),
                      (I.distance = T),
                      (I.coneCos = Math.cos(S.angle)),
                      (I.penumbraCos = Math.cos(S.angle * (1 - S.penumbra))),
                      (I.decay = S.decay),
                      (i.spot[d] = I))
                    var N = S.shadow
                    if (
                      (S.map &&
                        ((i.spotLightMap[g] = S.map),
                        g++,
                        N.updateMatrices(S),
                        S.castShadow && y++),
                      (i.spotLightMatrix[d] = N.matrix),
                      S.castShadow)
                    ) {
                      var P = r.get(S)
                      ;((P.shadowIntensity = N.intensity),
                        (P.shadowBias = N.bias),
                        (P.shadowNormalBias = N.normalBias),
                        (P.shadowRadius = N.radius),
                        (P.shadowMapSize = N.mapSize),
                        (i.spotShadow[d] = P),
                        (i.spotShadowMap[d] = M),
                        m++)
                    }
                    d++
                  } else if (S.isRectAreaLight) {
                    var L = n.get(S)
                    ;(L.color.copy(w).multiplyScalar(A),
                      L.halfWidth.set(0.5 * S.width, 0, 0),
                      L.halfHeight.set(0, 0.5 * S.height, 0),
                      (i.rectArea[h] = L),
                      h++)
                  } else if (S.isPointLight) {
                    var D = n.get(S)
                    if (
                      (D.color.copy(S.color).multiplyScalar(S.intensity),
                      (D.distance = S.distance),
                      (D.decay = S.decay),
                      S.castShadow)
                    ) {
                      var O = S.shadow,
                        F = r.get(S)
                      ;((F.shadowIntensity = O.intensity),
                        (F.shadowBias = O.bias),
                        (F.shadowNormalBias = O.normalBias),
                        (F.shadowRadius = O.radius),
                        (F.shadowMapSize = O.mapSize),
                        (F.shadowCameraNear = O.camera.near),
                        (F.shadowCameraFar = O.camera.far),
                        (i.pointShadow[c] = F),
                        (i.pointShadowMap[c] = M),
                        (i.pointShadowMatrix[c] = S.shadow.matrix),
                        v++)
                    }
                    ;((i.point[c] = D), c++)
                  } else if (S.isHemisphereLight) {
                    var B = n.get(S)
                    ;(B.skyColor.copy(S.color).multiplyScalar(A),
                      B.groundColor.copy(S.groundColor).multiplyScalar(A),
                      (i.hemi[f] = B),
                      f++)
                  }
                }
                ;(h > 0 &&
                  (!0 === e.has('OES_texture_float_linear')
                    ? ((i.rectAreaLTC1 = dm.LTC_FLOAT_1), (i.rectAreaLTC2 = dm.LTC_FLOAT_2))
                    : ((i.rectAreaLTC1 = dm.LTC_HALF_1), (i.rectAreaLTC2 = dm.LTC_HALF_2))),
                  (i.ambient[0] = a),
                  (i.ambient[1] = o),
                  (i.ambient[2] = s))
                var U = i.hash
                ;(U.directionalLength === l &&
                  U.pointLength === c &&
                  U.spotLength === d &&
                  U.rectAreaLength === h &&
                  U.hemiLength === f &&
                  U.numDirectionalShadows === p &&
                  U.numPointShadows === v &&
                  U.numSpotShadows === m &&
                  U.numSpotMaps === g &&
                  U.numLightProbes === x) ||
                  ((i.directional.length = l),
                  (i.spot.length = d),
                  (i.rectArea.length = h),
                  (i.point.length = c),
                  (i.hemi.length = f),
                  (i.directionalShadow.length = p),
                  (i.directionalShadowMap.length = p),
                  (i.pointShadow.length = v),
                  (i.pointShadowMap.length = v),
                  (i.spotShadow.length = m),
                  (i.spotShadowMap.length = m),
                  (i.directionalShadowMatrix.length = p),
                  (i.pointShadowMatrix.length = v),
                  (i.spotLightMatrix.length = m + g - y),
                  (i.spotLightMap.length = g),
                  (i.numSpotLightShadowsWithMaps = y),
                  (i.numLightProbes = x),
                  (U.directionalLength = l),
                  (U.pointLength = c),
                  (U.spotLength = d),
                  (U.rectAreaLength = h),
                  (U.hemiLength = f),
                  (U.numDirectionalShadows = p),
                  (U.numPointShadows = v),
                  (U.numSpotShadows = m),
                  (U.numSpotMaps = g),
                  (U.numLightProbes = x),
                  (i.version = My++))
              },
              setupView: function (e, t) {
                for (
                  var n = 0,
                    r = 0,
                    a = 0,
                    l = 0,
                    c = 0,
                    d = t.matrixWorldInverse,
                    h = 0,
                    f = e.length;
                  h < f;
                  h++
                ) {
                  var p = e[h]
                  if (p.isDirectionalLight) {
                    var v = i.directional[n]
                    ;(v.direction.setFromMatrixPosition(p.matrixWorld),
                      o.setFromMatrixPosition(p.target.matrixWorld),
                      v.direction.sub(o),
                      v.direction.transformDirection(d),
                      n++)
                  } else if (p.isSpotLight) {
                    var m = i.spot[a]
                    ;(m.position.setFromMatrixPosition(p.matrixWorld),
                      m.position.applyMatrix4(d),
                      m.direction.setFromMatrixPosition(p.matrixWorld),
                      o.setFromMatrixPosition(p.target.matrixWorld),
                      m.direction.sub(o),
                      m.direction.transformDirection(d),
                      a++)
                  } else if (p.isRectAreaLight) {
                    var g = i.rectArea[l]
                    ;(g.position.setFromMatrixPosition(p.matrixWorld),
                      g.position.applyMatrix4(d),
                      u.identity(),
                      s.copy(p.matrixWorld),
                      s.premultiply(d),
                      u.extractRotation(s),
                      g.halfWidth.set(0.5 * p.width, 0, 0),
                      g.halfHeight.set(0, 0.5 * p.height, 0),
                      g.halfWidth.applyMatrix4(u),
                      g.halfHeight.applyMatrix4(u),
                      l++)
                  } else if (p.isPointLight) {
                    var y = i.point[r]
                    ;(y.position.setFromMatrixPosition(p.matrixWorld),
                      y.position.applyMatrix4(d),
                      r++)
                  } else if (p.isHemisphereLight) {
                    var x = i.hemi[c]
                    ;(x.direction.setFromMatrixPosition(p.matrixWorld),
                      x.direction.transformDirection(d),
                      c++)
                  }
                }
              },
              state: i,
            }
          }
          function ky(e) {
            var t = new Cy(e),
              n = [],
              r = []
            var i = {
              lightsArray: n,
              shadowsArray: r,
              camera: null,
              lights: t,
              transmissionRenderTarget: {},
            }
            return {
              init: function (e) {
                ;((i.camera = e), (n.length = 0), (r.length = 0))
              },
              state: i,
              setupLights: function () {
                t.setup(n)
              },
              setupLightsView: function (e) {
                t.setupView(n, e)
              },
              pushLight: function (e) {
                n.push(e)
              },
              pushShadow: function (e) {
                r.push(e)
              },
            }
          }
          function Ry(e) {
            var t = new WeakMap()
            return {
              get: function (n) {
                var r,
                  i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                  a = t.get(n)
                return (
                  void 0 === a
                    ? ((r = new ky(e)), t.set(n, [r]))
                    : i >= a.length
                      ? ((r = new ky(e)), a.push(r))
                      : (r = a[i]),
                  r
                )
              },
              dispose: function () {
                t = new WeakMap()
              },
            }
          }
          function Iy(e, t, n) {
            var r = new _p(),
              i = new Gc(),
              a = new Gc(),
              o = new dd(),
              s = new Kp({ depthPacking: 3201 }),
              u = new Zp(),
              l = {},
              c = n.maxTextureSize,
              d = M(M(M({}, 0, 1), 1, 0), 2, 2),
              h = new Ef({
                defines: { VSM_SAMPLES: 8 },
                uniforms: {
                  shadow_pass: { value: null },
                  resolution: { value: new Gc() },
                  radius: { value: 4 },
                },
                vertexShader: 'void main() {\n\tgl_Position = vec4( position, 1.0 );\n}',
                fragmentShader:
                  'uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}',
              }),
              f = h.clone()
            f.defines.HORIZONTAL_PASS = 1
            var p = new uf()
            p.setAttribute(
              'position',
              new Kh(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3)
            )
            var v = new _f(p, h),
              m = this
            ;((this.enabled = !1), (this.autoUpdate = !0), (this.needsUpdate = !1), (this.type = 1))
            var g = this.type
            function y(n, r) {
              var a = t.update(v)
              ;(h.defines.VSM_SAMPLES !== n.blurSamples &&
                ((h.defines.VSM_SAMPLES = n.blurSamples),
                (f.defines.VSM_SAMPLES = n.blurSamples),
                (h.needsUpdate = !0),
                (f.needsUpdate = !0)),
                null === n.mapPass && (n.mapPass = new fd(i.x, i.y)),
                (h.uniforms.shadow_pass.value = n.map.texture),
                (h.uniforms.resolution.value = n.mapSize),
                (h.uniforms.radius.value = n.radius),
                e.setRenderTarget(n.mapPass),
                e.clear(),
                e.renderBufferDirect(r, null, a, h, v, null),
                (f.uniforms.shadow_pass.value = n.mapPass.texture),
                (f.uniforms.resolution.value = n.mapSize),
                (f.uniforms.radius.value = n.radius),
                e.setRenderTarget(n.map),
                e.clear(),
                e.renderBufferDirect(r, null, a, f, v, null))
            }
            function x(t, n, r, i) {
              var a = null,
                o = !0 === r.isPointLight ? t.customDistanceMaterial : t.customDepthMaterial
              if (void 0 !== o) a = o
              else if (
                ((a = !0 === r.isPointLight ? u : s),
                (e.localClippingEnabled &&
                  !0 === n.clipShadows &&
                  Array.isArray(n.clippingPlanes) &&
                  0 !== n.clippingPlanes.length) ||
                  (n.displacementMap && 0 !== n.displacementScale) ||
                  (n.alphaMap && n.alphaTest > 0) ||
                  (n.map && n.alphaTest > 0))
              ) {
                var c = a.uuid,
                  h = n.uuid,
                  f = l[c]
                void 0 === f && ((f = {}), (l[c] = f))
                var p = f[h]
                ;(void 0 === p && ((p = a.clone()), (f[h] = p), n.addEventListener('dispose', b)),
                  (a = p))
              }
              ;((a.visible = n.visible),
              (a.wireframe = n.wireframe),
              (a.side =
                3 === i
                  ? null !== n.shadowSide
                    ? n.shadowSide
                    : n.side
                  : null !== n.shadowSide
                    ? n.shadowSide
                    : d[n.side]),
              (a.alphaMap = n.alphaMap),
              (a.alphaTest = n.alphaTest),
              (a.map = n.map),
              (a.clipShadows = n.clipShadows),
              (a.clippingPlanes = n.clippingPlanes),
              (a.clipIntersection = n.clipIntersection),
              (a.displacementMap = n.displacementMap),
              (a.displacementScale = n.displacementScale),
              (a.displacementBias = n.displacementBias),
              (a.wireframeLinewidth = n.wireframeLinewidth),
              (a.linewidth = n.linewidth),
              !0 === r.isPointLight && !0 === a.isMeshDistanceMaterial) &&
                (e.properties.get(a).light = r)
              return a
            }
            function _(n, i, a, o, s) {
              if (!1 !== n.visible) {
                if (
                  n.layers.test(i.layers) &&
                  (n.isMesh || n.isLine || n.isPoints) &&
                  (n.castShadow || (n.receiveShadow && 3 === s)) &&
                  (!n.frustumCulled || r.intersectsObject(n))
                ) {
                  n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse, n.matrixWorld)
                  var u = t.update(n),
                    l = n.material
                  if (Array.isArray(l))
                    for (var c = u.groups, d = 0, h = c.length; d < h; d++) {
                      var f = c[d],
                        p = l[f.materialIndex]
                      if (p && p.visible) {
                        var v = x(n, p, o, s)
                        ;(n.onBeforeShadow(e, n, i, a, u, v, f),
                          e.renderBufferDirect(a, null, u, v, n, f),
                          n.onAfterShadow(e, n, i, a, u, v, f))
                      }
                    }
                  else if (l.visible) {
                    var m = x(n, l, o, s)
                    ;(n.onBeforeShadow(e, n, i, a, u, m, null),
                      e.renderBufferDirect(a, null, u, m, n, null),
                      n.onAfterShadow(e, n, i, a, u, m, null))
                  }
                }
                for (var g = n.children, y = 0, b = g.length; y < b; y++) _(g[y], i, a, o, s)
              }
            }
            function b(e) {
              var t = e.target
              for (var n in (t.removeEventListener('dispose', b), l)) {
                var r = l[n],
                  i = e.target.uuid
                if (i in r) (r[i].dispose(), delete r[i])
              }
            }
            this.render = function (t, n, s) {
              if (
                !1 !== m.enabled &&
                (!1 !== m.autoUpdate || !1 !== m.needsUpdate) &&
                0 !== t.length
              ) {
                var u = e.getRenderTarget(),
                  l = e.getActiveCubeFace(),
                  d = e.getActiveMipmapLevel(),
                  h = e.state
                ;(h.setBlending(0),
                  h.buffers.color.setClear(1, 1, 1, 1),
                  h.buffers.depth.setTest(!0),
                  h.setScissorTest(!1))
                for (
                  var f = 3 !== g && 3 === this.type,
                    p = 3 === g && 3 !== this.type,
                    v = 0,
                    x = t.length;
                  v < x;
                  v++
                ) {
                  var b = t[v],
                    S = b.shadow
                  if (void 0 !== S) {
                    if (!1 !== S.autoUpdate || !1 !== S.needsUpdate) {
                      i.copy(S.mapSize)
                      var w = S.getFrameExtents()
                      if (
                        (i.multiply(w),
                        a.copy(S.mapSize),
                        (i.x > c || i.y > c) &&
                          (i.x > c &&
                            ((a.x = Math.floor(c / w.x)), (i.x = a.x * w.x), (S.mapSize.x = a.x)),
                          i.y > c &&
                            ((a.y = Math.floor(c / w.y)), (i.y = a.y * w.y), (S.mapSize.y = a.y))),
                        null === S.map || !0 === f || !0 === p)
                      ) {
                        var A = 3 !== this.type ? { minFilter: cl, magFilter: cl } : {}
                        ;(null !== S.map && S.map.dispose(),
                          (S.map = new fd(i.x, i.y, A)),
                          (S.map.texture.name = b.name + '.shadowMap'),
                          S.camera.updateProjectionMatrix())
                      }
                      ;(e.setRenderTarget(S.map), e.clear())
                      for (var T = S.getViewportCount(), M = 0; M < T; M++) {
                        var E = S.getViewport(M)
                        ;(o.set(a.x * E.x, a.y * E.y, a.x * E.z, a.y * E.w),
                          h.viewport(o),
                          S.updateMatrices(b, M),
                          (r = S.getFrustum()),
                          _(n, s, S.camera, b, this.type))
                      }
                      ;(!0 !== S.isPointLightShadow && 3 === this.type && y(S, s),
                        (S.needsUpdate = !1))
                    }
                  } else console.warn('THREE.WebGLShadowMap:', b, 'has no shadow.')
                }
                ;((g = this.type), (m.needsUpdate = !1), e.setRenderTarget(u, l, d))
              }
            }
          }
          var Ny = M(M(M(M(M(M(M(M({}, 0, 1), 2, 6), 4, 7), 3, 5), 1, 0), 6, 2), 7, 4), 5, 3)
          function Py(e, t) {
            var n
            var r = new (function () {
                var t = !1,
                  n = new dd(),
                  r = null,
                  i = new dd(0, 0, 0, 0)
                return {
                  setMask: function (n) {
                    r === n || t || (e.colorMask(n, n, n, n), (r = n))
                  },
                  setLocked: function (e) {
                    t = e
                  },
                  setClear: function (t, r, a, o, s) {
                    ;(!0 === s && ((t *= o), (r *= o), (a *= o)),
                      n.set(t, r, a, o),
                      !1 === i.equals(n) && (e.clearColor(t, r, a, o), i.copy(n)))
                  },
                  reset: function () {
                    ;((t = !1), (r = null), i.set(-1, 0, 0, 0))
                  },
                }
              })(),
              i = new (function () {
                var n = !1,
                  r = !1,
                  i = null,
                  a = null,
                  o = null
                return {
                  setReversed: function (e) {
                    if (r !== e) {
                      var n = t.get('EXT_clip_control')
                      r
                        ? n.clipControlEXT(n.LOWER_LEFT_EXT, n.ZERO_TO_ONE_EXT)
                        : n.clipControlEXT(n.LOWER_LEFT_EXT, n.NEGATIVE_ONE_TO_ONE_EXT)
                      var i = o
                      ;((o = null), this.setClear(i))
                    }
                    r = e
                  },
                  getReversed: function () {
                    return r
                  },
                  setTest: function (t) {
                    t ? H(e.DEPTH_TEST) : W(e.DEPTH_TEST)
                  },
                  setMask: function (t) {
                    i === t || n || (e.depthMask(t), (i = t))
                  },
                  setFunc: function (t) {
                    if ((r && (t = Ny[t]), a !== t)) {
                      switch (t) {
                        case 0:
                          e.depthFunc(e.NEVER)
                          break
                        case 1:
                          e.depthFunc(e.ALWAYS)
                          break
                        case 2:
                          e.depthFunc(e.LESS)
                          break
                        case 3:
                        default:
                          e.depthFunc(e.LEQUAL)
                          break
                        case 4:
                          e.depthFunc(e.EQUAL)
                          break
                        case 5:
                          e.depthFunc(e.GEQUAL)
                          break
                        case 6:
                          e.depthFunc(e.GREATER)
                          break
                        case 7:
                          e.depthFunc(e.NOTEQUAL)
                      }
                      a = t
                    }
                  },
                  setLocked: function (e) {
                    n = e
                  },
                  setClear: function (t) {
                    o !== t && (r && (t = 1 - t), e.clearDepth(t), (o = t))
                  },
                  reset: function () {
                    ;((n = !1), (i = null), (a = null), (o = null), (r = !1))
                  },
                }
              })(),
              a = new (function () {
                var t = !1,
                  n = null,
                  r = null,
                  i = null,
                  a = null,
                  o = null,
                  s = null,
                  u = null,
                  l = null
                return {
                  setTest: function (n) {
                    t || (n ? H(e.STENCIL_TEST) : W(e.STENCIL_TEST))
                  },
                  setMask: function (r) {
                    n === r || t || (e.stencilMask(r), (n = r))
                  },
                  setFunc: function (t, n, o) {
                    ;(r === t && i === n && a === o) ||
                      (e.stencilFunc(t, n, o), (r = t), (i = n), (a = o))
                  },
                  setOp: function (t, n, r) {
                    ;(o === t && s === n && u === r) ||
                      (e.stencilOp(t, n, r), (o = t), (s = n), (u = r))
                  },
                  setLocked: function (e) {
                    t = e
                  },
                  setClear: function (t) {
                    l !== t && (e.clearStencil(t), (l = t))
                  },
                  reset: function () {
                    ;((t = !1),
                      (n = null),
                      (r = null),
                      (i = null),
                      (a = null),
                      (o = null),
                      (s = null),
                      (u = null),
                      (l = null))
                  },
                }
              })(),
              o = new WeakMap(),
              s = new WeakMap(),
              u = {},
              l = {},
              c = new WeakMap(),
              d = [],
              h = null,
              f = !1,
              p = null,
              v = null,
              m = null,
              g = null,
              y = null,
              x = null,
              _ = null,
              b = new Uh(0, 0, 0),
              S = 0,
              w = !1,
              A = null,
              T = null,
              E = null,
              C = null,
              k = null,
              R = e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),
              I = !1,
              N = 0,
              P = e.getParameter(e.VERSION)
            ;-1 !== P.indexOf('WebGL')
              ? ((N = parseFloat(/^WebGL (\d)/.exec(P)[1])), (I = N >= 1))
              : -1 !== P.indexOf('OpenGL ES') &&
                ((N = parseFloat(/^OpenGL ES (\d)/.exec(P)[1])), (I = N >= 2))
            var L = null,
              D = {},
              O = e.getParameter(e.SCISSOR_BOX),
              F = e.getParameter(e.VIEWPORT),
              B = new dd().fromArray(O),
              U = new dd().fromArray(F)
            function z(t, n, r, i) {
              var a = new Uint8Array(4),
                o = e.createTexture()
              ;(e.bindTexture(t, o),
                e.texParameteri(t, e.TEXTURE_MIN_FILTER, e.NEAREST),
                e.texParameteri(t, e.TEXTURE_MAG_FILTER, e.NEAREST))
              for (var s = 0; s < r; s++)
                t === e.TEXTURE_3D || t === e.TEXTURE_2D_ARRAY
                  ? e.texImage3D(n, 0, e.RGBA, 1, 1, i, 0, e.RGBA, e.UNSIGNED_BYTE, a)
                  : e.texImage2D(n + s, 0, e.RGBA, 1, 1, 0, e.RGBA, e.UNSIGNED_BYTE, a)
              return o
            }
            var V = {}
            function H(t) {
              !0 !== u[t] && (e.enable(t), (u[t] = !0))
            }
            function W(t) {
              !1 !== u[t] && (e.disable(t), (u[t] = !1))
            }
            ;((V[e.TEXTURE_2D] = z(e.TEXTURE_2D, e.TEXTURE_2D, 1)),
              (V[e.TEXTURE_CUBE_MAP] = z(e.TEXTURE_CUBE_MAP, e.TEXTURE_CUBE_MAP_POSITIVE_X, 6)),
              (V[e.TEXTURE_2D_ARRAY] = z(e.TEXTURE_2D_ARRAY, e.TEXTURE_2D_ARRAY, 1, 1)),
              (V[e.TEXTURE_3D] = z(e.TEXTURE_3D, e.TEXTURE_3D, 1, 1)),
              r.setClear(0, 0, 0, 1),
              i.setClear(1),
              a.setClear(0),
              H(e.DEPTH_TEST),
              i.setFunc(3),
              q(!1),
              X(1),
              H(e.CULL_FACE),
              Q(0))
            var G = M(M(M({}, el, e.FUNC_ADD), 101, e.FUNC_SUBTRACT), 102, e.FUNC_REVERSE_SUBTRACT)
            ;((G[103] = e.MIN), (G[104] = e.MAX))
            var j =
              (M(
                M(
                  M(
                    M(
                      M(
                        M(
                          M(
                            M(M(M((n = {}), 200, e.ZERO), 201, e.ONE), 202, e.SRC_COLOR),
                            tl,
                            e.SRC_ALPHA
                          ),
                          210,
                          e.SRC_ALPHA_SATURATE
                        ),
                        208,
                        e.DST_COLOR
                      ),
                      206,
                      e.DST_ALPHA
                    ),
                    203,
                    e.ONE_MINUS_SRC_COLOR
                  ),
                  nl,
                  e.ONE_MINUS_SRC_ALPHA
                ),
                209,
                e.ONE_MINUS_DST_COLOR
              ),
              M(
                M(
                  M(
                    M(M(n, 207, e.ONE_MINUS_DST_ALPHA), 211, e.CONSTANT_COLOR),
                    212,
                    e.ONE_MINUS_CONSTANT_COLOR
                  ),
                  213,
                  e.CONSTANT_ALPHA
                ),
                214,
                e.ONE_MINUS_CONSTANT_ALPHA
              ))
            function Q(t, n, r, i, a, o, s, u, l, c) {
              if (0 !== t) {
                if ((!1 === f && (H(e.BLEND), (f = !0)), 5 === t))
                  ((a = a || n),
                    (o = o || r),
                    (s = s || i),
                    (n === v && a === y) || (e.blendEquationSeparate(G[n], G[a]), (v = n), (y = a)),
                    (r === m && i === g && o === x && s === _) ||
                      (e.blendFuncSeparate(j[r], j[i], j[o], j[s]),
                      (m = r),
                      (g = i),
                      (x = o),
                      (_ = s)),
                    (!1 !== u.equals(b) && l === S) ||
                      (e.blendColor(u.r, u.g, u.b, l), b.copy(u), (S = l)),
                    (p = t),
                    (w = !1))
                else if (t !== p || c !== w) {
                  if (
                    ((v === el && y === el) || (e.blendEquation(e.FUNC_ADD), (v = el), (y = el)), c)
                  )
                    switch (t) {
                      case 1:
                        e.blendFuncSeparate(
                          e.ONE,
                          e.ONE_MINUS_SRC_ALPHA,
                          e.ONE,
                          e.ONE_MINUS_SRC_ALPHA
                        )
                        break
                      case 2:
                        e.blendFunc(e.ONE, e.ONE)
                        break
                      case 3:
                        e.blendFuncSeparate(e.ZERO, e.ONE_MINUS_SRC_COLOR, e.ZERO, e.ONE)
                        break
                      case 4:
                        e.blendFuncSeparate(e.ZERO, e.SRC_COLOR, e.ZERO, e.SRC_ALPHA)
                        break
                      default:
                        console.error('THREE.WebGLState: Invalid blending: ', t)
                    }
                  else
                    switch (t) {
                      case 1:
                        e.blendFuncSeparate(
                          e.SRC_ALPHA,
                          e.ONE_MINUS_SRC_ALPHA,
                          e.ONE,
                          e.ONE_MINUS_SRC_ALPHA
                        )
                        break
                      case 2:
                        e.blendFunc(e.SRC_ALPHA, e.ONE)
                        break
                      case 3:
                        e.blendFuncSeparate(e.ZERO, e.ONE_MINUS_SRC_COLOR, e.ZERO, e.ONE)
                        break
                      case 4:
                        e.blendFunc(e.ZERO, e.SRC_COLOR)
                        break
                      default:
                        console.error('THREE.WebGLState: Invalid blending: ', t)
                    }
                  ;((m = null),
                    (g = null),
                    (x = null),
                    (_ = null),
                    b.set(0, 0, 0),
                    (S = 0),
                    (p = t),
                    (w = c))
                }
              } else !0 === f && (W(e.BLEND), (f = !1))
            }
            function q(t) {
              A !== t && (t ? e.frontFace(e.CW) : e.frontFace(e.CCW), (A = t))
            }
            function X(t) {
              ;(0 !== t
                ? (H(e.CULL_FACE),
                  t !== T &&
                    (1 === t
                      ? e.cullFace(e.BACK)
                      : 2 === t
                        ? e.cullFace(e.FRONT)
                        : e.cullFace(e.FRONT_AND_BACK)))
                : W(e.CULL_FACE),
                (T = t))
            }
            function Y(t, n, r) {
              t
                ? (H(e.POLYGON_OFFSET_FILL),
                  (C === n && k === r) || (e.polygonOffset(n, r), (C = n), (k = r)))
                : W(e.POLYGON_OFFSET_FILL)
            }
            return {
              buffers: { color: r, depth: i, stencil: a },
              enable: H,
              disable: W,
              bindFramebuffer: function (t, n) {
                return (
                  l[t] !== n &&
                  (e.bindFramebuffer(t, n),
                  (l[t] = n),
                  t === e.DRAW_FRAMEBUFFER && (l[e.FRAMEBUFFER] = n),
                  t === e.FRAMEBUFFER && (l[e.DRAW_FRAMEBUFFER] = n),
                  !0)
                )
              },
              drawBuffers: function (t, n) {
                var r = d,
                  i = !1
                if (t) {
                  void 0 === (r = c.get(n)) && ((r = []), c.set(n, r))
                  var a = t.textures
                  if (r.length !== a.length || r[0] !== e.COLOR_ATTACHMENT0) {
                    for (var o = 0, s = a.length; o < s; o++) r[o] = e.COLOR_ATTACHMENT0 + o
                    ;((r.length = a.length), (i = !0))
                  }
                } else r[0] !== e.BACK && ((r[0] = e.BACK), (i = !0))
                i && e.drawBuffers(r)
              },
              useProgram: function (t) {
                return h !== t && (e.useProgram(t), (h = t), !0)
              },
              setBlending: Q,
              setMaterial: function (t, n) {
                2 === t.side ? W(e.CULL_FACE) : H(e.CULL_FACE)
                var o = 1 === t.side
                ;(n && (o = !o),
                  q(o),
                  1 === t.blending && !1 === t.transparent
                    ? Q(0)
                    : Q(
                        t.blending,
                        t.blendEquation,
                        t.blendSrc,
                        t.blendDst,
                        t.blendEquationAlpha,
                        t.blendSrcAlpha,
                        t.blendDstAlpha,
                        t.blendColor,
                        t.blendAlpha,
                        t.premultipliedAlpha
                      ),
                  i.setFunc(t.depthFunc),
                  i.setTest(t.depthTest),
                  i.setMask(t.depthWrite),
                  r.setMask(t.colorWrite))
                var s = t.stencilWrite
                ;(a.setTest(s),
                  s &&
                    (a.setMask(t.stencilWriteMask),
                    a.setFunc(t.stencilFunc, t.stencilRef, t.stencilFuncMask),
                    a.setOp(t.stencilFail, t.stencilZFail, t.stencilZPass)),
                  Y(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits),
                  !0 === t.alphaToCoverage
                    ? H(e.SAMPLE_ALPHA_TO_COVERAGE)
                    : W(e.SAMPLE_ALPHA_TO_COVERAGE))
              },
              setFlipSided: q,
              setCullFace: X,
              setLineWidth: function (t) {
                t !== E && (I && e.lineWidth(t), (E = t))
              },
              setPolygonOffset: Y,
              setScissorTest: function (t) {
                t ? H(e.SCISSOR_TEST) : W(e.SCISSOR_TEST)
              },
              activeTexture: function (t) {
                ;(void 0 === t && (t = e.TEXTURE0 + R - 1),
                  L !== t && (e.activeTexture(t), (L = t)))
              },
              bindTexture: function (t, n, r) {
                void 0 === r && (r = null === L ? e.TEXTURE0 + R - 1 : L)
                var i = D[r]
                ;(void 0 === i && ((i = { type: void 0, texture: void 0 }), (D[r] = i)),
                  (i.type === t && i.texture === n) ||
                    (L !== r && (e.activeTexture(r), (L = r)),
                    e.bindTexture(t, n || V[t]),
                    (i.type = t),
                    (i.texture = n)))
              },
              unbindTexture: function () {
                var t = D[L]
                void 0 !== t &&
                  void 0 !== t.type &&
                  (e.bindTexture(t.type, null), (t.type = void 0), (t.texture = void 0))
              },
              compressedTexImage2D: function () {
                try {
                  e.compressedTexImage2D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              compressedTexImage3D: function () {
                try {
                  e.compressedTexImage3D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              texImage2D: function () {
                try {
                  e.texImage2D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              texImage3D: function () {
                try {
                  e.texImage3D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              updateUBOMapping: function (t, n) {
                var r = s.get(n)
                void 0 === r && ((r = new WeakMap()), s.set(n, r))
                var i = r.get(t)
                void 0 === i && ((i = e.getUniformBlockIndex(n, t.name)), r.set(t, i))
              },
              uniformBlockBinding: function (t, n) {
                var r = s.get(n).get(t)
                o.get(n) !== r && (e.uniformBlockBinding(n, r, t.__bindingPointIndex), o.set(n, r))
              },
              texStorage2D: function () {
                try {
                  e.texStorage2D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              texStorage3D: function () {
                try {
                  e.texStorage3D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              texSubImage2D: function () {
                try {
                  e.texSubImage2D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              texSubImage3D: function () {
                try {
                  e.texSubImage3D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              compressedTexSubImage2D: function () {
                try {
                  e.compressedTexSubImage2D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              compressedTexSubImage3D: function () {
                try {
                  e.compressedTexSubImage3D.apply(e, arguments)
                } catch (t) {
                  console.error('THREE.WebGLState:', t)
                }
              },
              scissor: function (t) {
                !1 === B.equals(t) && (e.scissor(t.x, t.y, t.z, t.w), B.copy(t))
              },
              viewport: function (t) {
                !1 === U.equals(t) && (e.viewport(t.x, t.y, t.z, t.w), U.copy(t))
              },
              reset: function () {
                ;(e.disable(e.BLEND),
                  e.disable(e.CULL_FACE),
                  e.disable(e.DEPTH_TEST),
                  e.disable(e.POLYGON_OFFSET_FILL),
                  e.disable(e.SCISSOR_TEST),
                  e.disable(e.STENCIL_TEST),
                  e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),
                  e.blendEquation(e.FUNC_ADD),
                  e.blendFunc(e.ONE, e.ZERO),
                  e.blendFuncSeparate(e.ONE, e.ZERO, e.ONE, e.ZERO),
                  e.blendColor(0, 0, 0, 0),
                  e.colorMask(!0, !0, !0, !0),
                  e.clearColor(0, 0, 0, 0),
                  e.depthMask(!0),
                  e.depthFunc(e.LESS),
                  i.setReversed(!1),
                  e.clearDepth(1),
                  e.stencilMask(4294967295),
                  e.stencilFunc(e.ALWAYS, 0, 4294967295),
                  e.stencilOp(e.KEEP, e.KEEP, e.KEEP),
                  e.clearStencil(0),
                  e.cullFace(e.BACK),
                  e.frontFace(e.CCW),
                  e.polygonOffset(0, 0),
                  e.activeTexture(e.TEXTURE0),
                  e.bindFramebuffer(e.FRAMEBUFFER, null),
                  e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
                  e.bindFramebuffer(e.READ_FRAMEBUFFER, null),
                  e.useProgram(null),
                  e.lineWidth(1),
                  e.scissor(0, 0, e.canvas.width, e.canvas.height),
                  e.viewport(0, 0, e.canvas.width, e.canvas.height),
                  (u = {}),
                  (L = null),
                  (D = {}),
                  (l = {}),
                  (c = new WeakMap()),
                  (d = []),
                  (h = null),
                  (f = !1),
                  (p = null),
                  (v = null),
                  (m = null),
                  (g = null),
                  (y = null),
                  (x = null),
                  (_ = null),
                  (b = new Uh(0, 0, 0)),
                  (S = 0),
                  (w = !1),
                  (A = null),
                  (T = null),
                  (E = null),
                  (C = null),
                  (k = null),
                  B.set(0, 0, e.canvas.width, e.canvas.height),
                  U.set(0, 0, e.canvas.width, e.canvas.height),
                  r.reset(),
                  i.reset(),
                  a.reset())
              },
            }
          }
          function Ly(e, t, n, r, i, a, o) {
            var s,
              u = t.has('WEBGL_multisampled_render_to_texture')
                ? t.get('WEBGL_multisampled_render_to_texture')
                : null,
              l = 'undefined' != typeof navigator && /OculusBrowser/g.test(navigator.userAgent),
              c = new Gc(),
              d = new WeakMap(),
              h = new WeakMap(),
              f = !1
            try {
              f =
                'undefined' != typeof OffscreenCanvas &&
                null !== new OffscreenCanvas(1, 1).getContext('2d')
            } catch (G) {}
            function p(e, t) {
              return f ? new OffscreenCanvas(e, t) : Xc('canvas')
            }
            function v(e, t, n) {
              var r = 1,
                i = W(e)
              if (((i.width > n || i.height > n) && (r = n / Math.max(i.width, i.height)), r < 1)) {
                if (
                  ('undefined' != typeof HTMLImageElement && e instanceof HTMLImageElement) ||
                  ('undefined' != typeof HTMLCanvasElement && e instanceof HTMLCanvasElement) ||
                  ('undefined' != typeof ImageBitmap && e instanceof ImageBitmap) ||
                  ('undefined' != typeof VideoFrame && e instanceof VideoFrame)
                ) {
                  var a = Math.floor(r * i.width),
                    o = Math.floor(r * i.height)
                  void 0 === s && (s = p(a, o))
                  var u = t ? p(a, o) : s
                  return (
                    (u.width = a),
                    (u.height = o),
                    u.getContext('2d').drawImage(e, 0, 0, a, o),
                    console.warn(
                      'THREE.WebGLRenderer: Texture has been resized from (' +
                        i.width +
                        'x' +
                        i.height +
                        ') to (' +
                        a +
                        'x' +
                        o +
                        ').'
                    ),
                    u
                  )
                }
                return (
                  'data' in e &&
                    console.warn(
                      'THREE.WebGLRenderer: Image in DataTexture is too big (' +
                        i.width +
                        'x' +
                        i.height +
                        ').'
                    ),
                  e
                )
              }
              return e
            }
            function m(e) {
              return e.generateMipmaps
            }
            function g(t) {
              e.generateMipmap(t)
            }
            function y(t) {
              return t.isWebGLCubeRenderTarget
                ? e.TEXTURE_CUBE_MAP
                : t.isWebGL3DRenderTarget
                  ? e.TEXTURE_3D
                  : t.isWebGLArrayRenderTarget || t.isCompressedArrayTexture
                    ? e.TEXTURE_2D_ARRAY
                    : e.TEXTURE_2D
            }
            function x(n, r, i, a) {
              var o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4]
              if (null !== n) {
                if (void 0 !== e[n]) return e[n]
                console.warn(
                  "THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" +
                    n +
                    "'"
                )
              }
              var s = r
              if (
                (r === e.RED &&
                  (i === e.FLOAT && (s = e.R32F),
                  i === e.HALF_FLOAT && (s = e.R16F),
                  i === e.UNSIGNED_BYTE && (s = e.R8)),
                r === e.RED_INTEGER &&
                  (i === e.UNSIGNED_BYTE && (s = e.R8UI),
                  i === e.UNSIGNED_SHORT && (s = e.R16UI),
                  i === e.UNSIGNED_INT && (s = e.R32UI),
                  i === e.BYTE && (s = e.R8I),
                  i === e.SHORT && (s = e.R16I),
                  i === e.INT && (s = e.R32I)),
                r === e.RG &&
                  (i === e.FLOAT && (s = e.RG32F),
                  i === e.HALF_FLOAT && (s = e.RG16F),
                  i === e.UNSIGNED_BYTE && (s = e.RG8)),
                r === e.RG_INTEGER &&
                  (i === e.UNSIGNED_BYTE && (s = e.RG8UI),
                  i === e.UNSIGNED_SHORT && (s = e.RG16UI),
                  i === e.UNSIGNED_INT && (s = e.RG32UI),
                  i === e.BYTE && (s = e.RG8I),
                  i === e.SHORT && (s = e.RG16I),
                  i === e.INT && (s = e.RG32I)),
                r === e.RGB_INTEGER &&
                  (i === e.UNSIGNED_BYTE && (s = e.RGB8UI),
                  i === e.UNSIGNED_SHORT && (s = e.RGB16UI),
                  i === e.UNSIGNED_INT && (s = e.RGB32UI),
                  i === e.BYTE && (s = e.RGB8I),
                  i === e.SHORT && (s = e.RGB16I),
                  i === e.INT && (s = e.RGB32I)),
                r === e.RGBA_INTEGER &&
                  (i === e.UNSIGNED_BYTE && (s = e.RGBA8UI),
                  i === e.UNSIGNED_SHORT && (s = e.RGBA16UI),
                  i === e.UNSIGNED_INT && (s = e.RGBA32UI),
                  i === e.BYTE && (s = e.RGBA8I),
                  i === e.SHORT && (s = e.RGBA16I),
                  i === e.INT && (s = e.RGBA32I)),
                r === e.RGB && i === e.UNSIGNED_INT_5_9_9_9_REV && (s = e.RGB9_E5),
                r === e.RGBA)
              ) {
                var u = o ? Ac : nd.getTransfer(a)
                ;(i === e.FLOAT && (s = e.RGBA32F),
                  i === e.HALF_FLOAT && (s = e.RGBA16F),
                  i === e.UNSIGNED_BYTE && (s = u === Tc ? e.SRGB8_ALPHA8 : e.RGBA8),
                  i === e.UNSIGNED_SHORT_4_4_4_4 && (s = e.RGBA4),
                  i === e.UNSIGNED_SHORT_5_5_5_1 && (s = e.RGB5_A1))
              }
              return (
                (s !== e.R16F &&
                  s !== e.R32F &&
                  s !== e.RG16F &&
                  s !== e.RG32F &&
                  s !== e.RGBA16F &&
                  s !== e.RGBA32F) ||
                  t.get('EXT_color_buffer_float'),
                s
              )
            }
            function _(t, n) {
              var r
              return (
                t
                  ? null === n || n === _l || n === Tl
                    ? (r = e.DEPTH24_STENCIL8)
                    : n === bl
                      ? (r = e.DEPTH32F_STENCIL8)
                      : n === yl &&
                        ((r = e.DEPTH24_STENCIL8),
                        console.warn(
                          'DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.'
                        ))
                  : null === n || n === _l || n === Tl
                    ? (r = e.DEPTH_COMPONENT24)
                    : n === bl
                      ? (r = e.DEPTH_COMPONENT32F)
                      : n === yl && (r = e.DEPTH_COMPONENT16),
                r
              )
            }
            function b(e, t) {
              return !0 === m(e) ||
                (e.isFramebufferTexture && e.minFilter !== cl && e.minFilter !== hl)
                ? Math.log2(Math.max(t.width, t.height)) + 1
                : void 0 !== e.mipmaps && e.mipmaps.length > 0
                  ? e.mipmaps.length
                  : e.isCompressedTexture && Array.isArray(e.image)
                    ? t.mipmaps.length
                    : 1
            }
            function S(e) {
              var t = e.target
              ;(t.removeEventListener('dispose', S),
                (function (e) {
                  var t = r.get(e)
                  if (void 0 === t.__webglInit) return
                  var n = e.source,
                    i = h.get(n)
                  if (i) {
                    var a = i[t.__cacheKey]
                    ;(a.usedTimes--,
                      0 === a.usedTimes && A(e),
                      0 === Object.keys(i).length && h.delete(n))
                  }
                  r.remove(e)
                })(t),
                t.isVideoTexture && d.delete(t))
            }
            function w(t) {
              var n = t.target
              ;(n.removeEventListener('dispose', w),
                (function (t) {
                  var n = r.get(t)
                  t.depthTexture && (t.depthTexture.dispose(), r.remove(t.depthTexture))
                  if (t.isWebGLCubeRenderTarget)
                    for (var i = 0; i < 6; i++) {
                      if (Array.isArray(n.__webglFramebuffer[i]))
                        for (var a = 0; a < n.__webglFramebuffer[i].length; a++)
                          e.deleteFramebuffer(n.__webglFramebuffer[i][a])
                      else e.deleteFramebuffer(n.__webglFramebuffer[i])
                      n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer[i])
                    }
                  else {
                    if (Array.isArray(n.__webglFramebuffer))
                      for (var s = 0; s < n.__webglFramebuffer.length; s++)
                        e.deleteFramebuffer(n.__webglFramebuffer[s])
                    else e.deleteFramebuffer(n.__webglFramebuffer)
                    if (
                      (n.__webglDepthbuffer && e.deleteRenderbuffer(n.__webglDepthbuffer),
                      n.__webglMultisampledFramebuffer &&
                        e.deleteFramebuffer(n.__webglMultisampledFramebuffer),
                      n.__webglColorRenderbuffer)
                    )
                      for (var u = 0; u < n.__webglColorRenderbuffer.length; u++)
                        n.__webglColorRenderbuffer[u] &&
                          e.deleteRenderbuffer(n.__webglColorRenderbuffer[u])
                    n.__webglDepthRenderbuffer && e.deleteRenderbuffer(n.__webglDepthRenderbuffer)
                  }
                  for (var l = t.textures, c = 0, d = l.length; c < d; c++) {
                    var h = r.get(l[c])
                    ;(h.__webglTexture && (e.deleteTexture(h.__webglTexture), o.memory.textures--),
                      r.remove(l[c]))
                  }
                  r.remove(t)
                })(n))
            }
            function A(t) {
              var n = r.get(t)
              e.deleteTexture(n.__webglTexture)
              var i = t.source
              ;(delete h.get(i)[n.__cacheKey], o.memory.textures--)
            }
            var T = 0
            function E(t, i) {
              var a = r.get(t)
              if (
                (t.isVideoTexture &&
                  (function (e) {
                    var t = o.render.frame
                    d.get(e) !== t && (d.set(e, t), e.update())
                  })(t),
                !1 === t.isRenderTargetTexture && t.version > 0 && a.__version !== t.version)
              ) {
                var s = t.image
                if (null === s)
                  console.warn(
                    'THREE.WebGLRenderer: Texture marked for update but no image data found.'
                  )
                else {
                  if (!1 !== s.complete) return void P(a, t, i)
                  console.warn(
                    'THREE.WebGLRenderer: Texture marked for update but image is incomplete'
                  )
                }
              }
              n.bindTexture(e.TEXTURE_2D, a.__webglTexture, e.TEXTURE0 + i)
            }
            var C = M(M(M({}, sl, e.REPEAT), ul, e.CLAMP_TO_EDGE), ll, e.MIRRORED_REPEAT),
              k = M(
                M(
                  M(
                    M(
                      M(M({}, cl, e.NEAREST), 1004, e.NEAREST_MIPMAP_NEAREST),
                      dl,
                      e.NEAREST_MIPMAP_LINEAR
                    ),
                    hl,
                    e.LINEAR
                  ),
                  fl,
                  e.LINEAR_MIPMAP_NEAREST
                ),
                pl,
                e.LINEAR_MIPMAP_LINEAR
              ),
              R = M(
                M(
                  M(
                    M(
                      M(M(M(M({}, 512, e.NEVER), 519, e.ALWAYS), 513, e.LESS), 515, e.LEQUAL),
                      514,
                      e.EQUAL
                    ),
                    518,
                    e.GEQUAL
                  ),
                  516,
                  e.GREATER
                ),
                517,
                e.NOTEQUAL
              )
            function I(n, a) {
              if (
                (a.type !== bl ||
                  !1 !== t.has('OES_texture_float_linear') ||
                  (a.magFilter !== hl &&
                    a.magFilter !== fl &&
                    a.magFilter !== dl &&
                    a.magFilter !== pl &&
                    a.minFilter !== hl &&
                    a.minFilter !== fl &&
                    a.minFilter !== dl &&
                    a.minFilter !== pl) ||
                  console.warn(
                    'THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.'
                  ),
                e.texParameteri(n, e.TEXTURE_WRAP_S, C[a.wrapS]),
                e.texParameteri(n, e.TEXTURE_WRAP_T, C[a.wrapT]),
                (n !== e.TEXTURE_3D && n !== e.TEXTURE_2D_ARRAY) ||
                  e.texParameteri(n, e.TEXTURE_WRAP_R, C[a.wrapR]),
                e.texParameteri(n, e.TEXTURE_MAG_FILTER, k[a.magFilter]),
                e.texParameteri(n, e.TEXTURE_MIN_FILTER, k[a.minFilter]),
                a.compareFunction &&
                  (e.texParameteri(n, e.TEXTURE_COMPARE_MODE, e.COMPARE_REF_TO_TEXTURE),
                  e.texParameteri(n, e.TEXTURE_COMPARE_FUNC, R[a.compareFunction])),
                !0 === t.has('EXT_texture_filter_anisotropic'))
              ) {
                if (a.magFilter === cl) return
                if (a.minFilter !== dl && a.minFilter !== pl) return
                if (a.type === bl && !1 === t.has('OES_texture_float_linear')) return
                if (a.anisotropy > 1 || r.get(a).__currentAnisotropy) {
                  var o = t.get('EXT_texture_filter_anisotropic')
                  ;(e.texParameterf(
                    n,
                    o.TEXTURE_MAX_ANISOTROPY_EXT,
                    Math.min(a.anisotropy, i.getMaxAnisotropy())
                  ),
                    (r.get(a).__currentAnisotropy = a.anisotropy))
                }
              }
            }
            function N(t, n) {
              var r = !1
              void 0 === t.__webglInit && ((t.__webglInit = !0), n.addEventListener('dispose', S))
              var i = n.source,
                a = h.get(i)
              void 0 === a && ((a = {}), h.set(i, a))
              var s = (function (e) {
                var t = []
                return (
                  t.push(e.wrapS),
                  t.push(e.wrapT),
                  t.push(e.wrapR || 0),
                  t.push(e.magFilter),
                  t.push(e.minFilter),
                  t.push(e.anisotropy),
                  t.push(e.internalFormat),
                  t.push(e.format),
                  t.push(e.type),
                  t.push(e.generateMipmaps),
                  t.push(e.premultiplyAlpha),
                  t.push(e.flipY),
                  t.push(e.unpackAlignment),
                  t.push(e.colorSpace),
                  t.join()
                )
              })(n)
              if (s !== t.__cacheKey) {
                ;(void 0 === a[s] &&
                  ((a[s] = { texture: e.createTexture(), usedTimes: 0 }),
                  o.memory.textures++,
                  (r = !0)),
                  a[s].usedTimes++)
                var u = a[t.__cacheKey]
                ;(void 0 !== u && (a[t.__cacheKey].usedTimes--, 0 === u.usedTimes && A(n)),
                  (t.__cacheKey = s),
                  (t.__webglTexture = a[s].texture))
              }
              return r
            }
            function P(t, o, s) {
              var u = e.TEXTURE_2D
              ;((o.isDataArrayTexture || o.isCompressedArrayTexture) && (u = e.TEXTURE_2D_ARRAY),
                o.isData3DTexture && (u = e.TEXTURE_3D))
              var l = N(t, o),
                c = o.source
              n.bindTexture(u, t.__webglTexture, e.TEXTURE0 + s)
              var d = r.get(c)
              if (c.version !== d.__version || !0 === l) {
                n.activeTexture(e.TEXTURE0 + s)
                var h = nd.getPrimaries(nd.workingColorSpace),
                  f = o.colorSpace === bc ? null : nd.getPrimaries(o.colorSpace),
                  p = o.colorSpace === bc || h === f ? e.NONE : e.BROWSER_DEFAULT_WEBGL
                ;(e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, o.flipY),
                  e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, o.premultiplyAlpha),
                  e.pixelStorei(e.UNPACK_ALIGNMENT, o.unpackAlignment),
                  e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL, p))
                var y = v(o.image, !1, i.maxTextureSize)
                y = H(o, y)
                var S,
                  w = a.convert(o.format, o.colorSpace),
                  A = a.convert(o.type),
                  T = x(o.internalFormat, w, A, o.colorSpace, o.isVideoTexture)
                I(u, o)
                var M = o.mipmaps,
                  E = !0 !== o.isVideoTexture,
                  C = void 0 === d.__version || !0 === l,
                  k = c.dataReady,
                  R = b(o, y)
                if (o.isDepthTexture)
                  ((T = _(o.format === kl, o.type)),
                    C &&
                      (E
                        ? n.texStorage2D(e.TEXTURE_2D, 1, T, y.width, y.height)
                        : n.texImage2D(e.TEXTURE_2D, 0, T, y.width, y.height, 0, w, A, null)))
                else if (o.isDataTexture)
                  if (M.length > 0) {
                    E && C && n.texStorage2D(e.TEXTURE_2D, R, T, M[0].width, M[0].height)
                    for (var P = 0, D = M.length; P < D; P++)
                      ((S = M[P]),
                        E
                          ? k &&
                            n.texSubImage2D(e.TEXTURE_2D, P, 0, 0, S.width, S.height, w, A, S.data)
                          : n.texImage2D(e.TEXTURE_2D, P, T, S.width, S.height, 0, w, A, S.data))
                    o.generateMipmaps = !1
                  } else
                    E
                      ? (C && n.texStorage2D(e.TEXTURE_2D, R, T, y.width, y.height),
                        k &&
                          n.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, y.width, y.height, w, A, y.data))
                      : n.texImage2D(e.TEXTURE_2D, 0, T, y.width, y.height, 0, w, A, y.data)
                else if (o.isCompressedTexture)
                  if (o.isCompressedArrayTexture) {
                    E &&
                      C &&
                      n.texStorage3D(e.TEXTURE_2D_ARRAY, R, T, M[0].width, M[0].height, y.depth)
                    for (var O = 0, F = M.length; O < F; O++)
                      if (((S = M[O]), o.format !== El))
                        if (null !== w)
                          if (E) {
                            if (k)
                              if (o.layerUpdates.size > 0) {
                                var B,
                                  U = sm(S.width, S.height, o.format, o.type),
                                  z = L(o.layerUpdates)
                                try {
                                  for (z.s(); !(B = z.n()).done; ) {
                                    var V = B.value,
                                      j = S.data.subarray(
                                        (V * U) / S.data.BYTES_PER_ELEMENT,
                                        ((V + 1) * U) / S.data.BYTES_PER_ELEMENT
                                      )
                                    n.compressedTexSubImage3D(
                                      e.TEXTURE_2D_ARRAY,
                                      O,
                                      0,
                                      0,
                                      V,
                                      S.width,
                                      S.height,
                                      1,
                                      w,
                                      j
                                    )
                                  }
                                } catch (G) {
                                  z.e(G)
                                } finally {
                                  z.f()
                                }
                                o.clearLayerUpdates()
                              } else
                                n.compressedTexSubImage3D(
                                  e.TEXTURE_2D_ARRAY,
                                  O,
                                  0,
                                  0,
                                  0,
                                  S.width,
                                  S.height,
                                  y.depth,
                                  w,
                                  S.data
                                )
                          } else
                            n.compressedTexImage3D(
                              e.TEXTURE_2D_ARRAY,
                              O,
                              T,
                              S.width,
                              S.height,
                              y.depth,
                              0,
                              S.data,
                              0,
                              0
                            )
                        else
                          console.warn(
                            'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'
                          )
                      else
                        E
                          ? k &&
                            n.texSubImage3D(
                              e.TEXTURE_2D_ARRAY,
                              O,
                              0,
                              0,
                              0,
                              S.width,
                              S.height,
                              y.depth,
                              w,
                              A,
                              S.data
                            )
                          : n.texImage3D(
                              e.TEXTURE_2D_ARRAY,
                              O,
                              T,
                              S.width,
                              S.height,
                              y.depth,
                              0,
                              w,
                              A,
                              S.data
                            )
                  } else {
                    E && C && n.texStorage2D(e.TEXTURE_2D, R, T, M[0].width, M[0].height)
                    for (var Q = 0, q = M.length; Q < q; Q++)
                      ((S = M[Q]),
                        o.format !== El
                          ? null !== w
                            ? E
                              ? k &&
                                n.compressedTexSubImage2D(
                                  e.TEXTURE_2D,
                                  Q,
                                  0,
                                  0,
                                  S.width,
                                  S.height,
                                  w,
                                  S.data
                                )
                              : n.compressedTexImage2D(
                                  e.TEXTURE_2D,
                                  Q,
                                  T,
                                  S.width,
                                  S.height,
                                  0,
                                  S.data
                                )
                            : console.warn(
                                'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'
                              )
                          : E
                            ? k &&
                              n.texSubImage2D(
                                e.TEXTURE_2D,
                                Q,
                                0,
                                0,
                                S.width,
                                S.height,
                                w,
                                A,
                                S.data
                              )
                            : n.texImage2D(e.TEXTURE_2D, Q, T, S.width, S.height, 0, w, A, S.data))
                  }
                else if (o.isDataArrayTexture)
                  if (E) {
                    if (
                      (C && n.texStorage3D(e.TEXTURE_2D_ARRAY, R, T, y.width, y.height, y.depth), k)
                    )
                      if (o.layerUpdates.size > 0) {
                        var X,
                          Y = sm(y.width, y.height, o.format, o.type),
                          K = L(o.layerUpdates)
                        try {
                          for (K.s(); !(X = K.n()).done; ) {
                            var Z = X.value,
                              J = y.data.subarray(
                                (Z * Y) / y.data.BYTES_PER_ELEMENT,
                                ((Z + 1) * Y) / y.data.BYTES_PER_ELEMENT
                              )
                            n.texSubImage3D(
                              e.TEXTURE_2D_ARRAY,
                              0,
                              0,
                              0,
                              Z,
                              y.width,
                              y.height,
                              1,
                              w,
                              A,
                              J
                            )
                          }
                        } catch (G) {
                          K.e(G)
                        } finally {
                          K.f()
                        }
                        o.clearLayerUpdates()
                      } else
                        n.texSubImage3D(
                          e.TEXTURE_2D_ARRAY,
                          0,
                          0,
                          0,
                          0,
                          y.width,
                          y.height,
                          y.depth,
                          w,
                          A,
                          y.data
                        )
                  } else
                    n.texImage3D(
                      e.TEXTURE_2D_ARRAY,
                      0,
                      T,
                      y.width,
                      y.height,
                      y.depth,
                      0,
                      w,
                      A,
                      y.data
                    )
                else if (o.isData3DTexture)
                  E
                    ? (C && n.texStorage3D(e.TEXTURE_3D, R, T, y.width, y.height, y.depth),
                      k &&
                        n.texSubImage3D(
                          e.TEXTURE_3D,
                          0,
                          0,
                          0,
                          0,
                          y.width,
                          y.height,
                          y.depth,
                          w,
                          A,
                          y.data
                        ))
                    : n.texImage3D(e.TEXTURE_3D, 0, T, y.width, y.height, y.depth, 0, w, A, y.data)
                else if (o.isFramebufferTexture) {
                  if (C)
                    if (E) n.texStorage2D(e.TEXTURE_2D, R, T, y.width, y.height)
                    else
                      for (var $ = y.width, ee = y.height, te = 0; te < R; te++)
                        (n.texImage2D(e.TEXTURE_2D, te, T, $, ee, 0, w, A, null),
                          ($ >>= 1),
                          (ee >>= 1))
                } else if (M.length > 0) {
                  if (E && C) {
                    var ne = W(M[0])
                    n.texStorage2D(e.TEXTURE_2D, R, T, ne.width, ne.height)
                  }
                  for (var re = 0, ie = M.length; re < ie; re++)
                    ((S = M[re]),
                      E
                        ? k && n.texSubImage2D(e.TEXTURE_2D, re, 0, 0, w, A, S)
                        : n.texImage2D(e.TEXTURE_2D, re, T, w, A, S))
                  o.generateMipmaps = !1
                } else if (E) {
                  if (C) {
                    var ae = W(y)
                    n.texStorage2D(e.TEXTURE_2D, R, T, ae.width, ae.height)
                  }
                  k && n.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, w, A, y)
                } else n.texImage2D(e.TEXTURE_2D, 0, T, w, A, y)
                ;(m(o) && g(u), (d.__version = c.version), o.onUpdate && o.onUpdate(o))
              }
              t.__version = o.version
            }
            function D(t, i, o, s, l, c) {
              var d = a.convert(o.format, o.colorSpace),
                h = a.convert(o.type),
                f = x(o.internalFormat, d, h, o.colorSpace),
                p = r.get(i),
                v = r.get(o)
              if (((v.__renderTarget = i), !p.__hasExternalTextures)) {
                var m = Math.max(1, i.width >> c),
                  g = Math.max(1, i.height >> c)
                l === e.TEXTURE_3D || l === e.TEXTURE_2D_ARRAY
                  ? n.texImage3D(l, c, f, m, g, i.depth, 0, d, h, null)
                  : n.texImage2D(l, c, f, m, g, 0, d, h, null)
              }
              ;(n.bindFramebuffer(e.FRAMEBUFFER, t),
                V(i)
                  ? u.framebufferTexture2DMultisampleEXT(
                      e.FRAMEBUFFER,
                      s,
                      l,
                      v.__webglTexture,
                      0,
                      z(i)
                    )
                  : (l === e.TEXTURE_2D ||
                      (l >= e.TEXTURE_CUBE_MAP_POSITIVE_X && l <= e.TEXTURE_CUBE_MAP_NEGATIVE_Z)) &&
                    e.framebufferTexture2D(e.FRAMEBUFFER, s, l, v.__webglTexture, c),
                n.bindFramebuffer(e.FRAMEBUFFER, null))
            }
            function O(t, n, r) {
              if ((e.bindRenderbuffer(e.RENDERBUFFER, t), n.depthBuffer)) {
                var i = n.depthTexture,
                  o = i && i.isDepthTexture ? i.type : null,
                  s = _(n.stencilBuffer, o),
                  l = n.stencilBuffer ? e.DEPTH_STENCIL_ATTACHMENT : e.DEPTH_ATTACHMENT,
                  c = z(n)
                ;(V(n)
                  ? u.renderbufferStorageMultisampleEXT(e.RENDERBUFFER, c, s, n.width, n.height)
                  : r
                    ? e.renderbufferStorageMultisample(e.RENDERBUFFER, c, s, n.width, n.height)
                    : e.renderbufferStorage(e.RENDERBUFFER, s, n.width, n.height),
                  e.framebufferRenderbuffer(e.FRAMEBUFFER, l, e.RENDERBUFFER, t))
              } else
                for (var d = n.textures, h = 0; h < d.length; h++) {
                  var f = d[h],
                    p = a.convert(f.format, f.colorSpace),
                    v = a.convert(f.type),
                    m = x(f.internalFormat, p, v, f.colorSpace),
                    g = z(n)
                  r && !1 === V(n)
                    ? e.renderbufferStorageMultisample(e.RENDERBUFFER, g, m, n.width, n.height)
                    : V(n)
                      ? u.renderbufferStorageMultisampleEXT(e.RENDERBUFFER, g, m, n.width, n.height)
                      : e.renderbufferStorage(e.RENDERBUFFER, m, n.width, n.height)
                }
              e.bindRenderbuffer(e.RENDERBUFFER, null)
            }
            function F(t) {
              var i = r.get(t),
                a = !0 === t.isWebGLCubeRenderTarget
              if (i.__boundDepthTexture !== t.depthTexture) {
                var o = t.depthTexture
                if ((i.__depthDisposeCallback && i.__depthDisposeCallback(), o)) {
                  var s = function () {
                    ;(delete i.__boundDepthTexture,
                      delete i.__depthDisposeCallback,
                      o.removeEventListener('dispose', s))
                  }
                  ;(o.addEventListener('dispose', s), (i.__depthDisposeCallback = s))
                }
                i.__boundDepthTexture = o
              }
              if (t.depthTexture && !i.__autoAllocateDepthBuffer) {
                if (a) throw new Error('target.depthTexture not supported in Cube render targets')
                !(function (t, i) {
                  if (i && i.isWebGLCubeRenderTarget)
                    throw new Error('Depth Texture with cube render targets is not supported')
                  if (
                    (n.bindFramebuffer(e.FRAMEBUFFER, t),
                    !i.depthTexture || !i.depthTexture.isDepthTexture)
                  )
                    throw new Error(
                      'renderTarget.depthTexture must be an instance of THREE.DepthTexture'
                    )
                  var a = r.get(i.depthTexture)
                  ;((a.__renderTarget = i),
                    (a.__webglTexture &&
                      i.depthTexture.image.width === i.width &&
                      i.depthTexture.image.height === i.height) ||
                      ((i.depthTexture.image.width = i.width),
                      (i.depthTexture.image.height = i.height),
                      (i.depthTexture.needsUpdate = !0)),
                    E(i.depthTexture, 0))
                  var o = a.__webglTexture,
                    s = z(i)
                  if (i.depthTexture.format === Cl)
                    V(i)
                      ? u.framebufferTexture2DMultisampleEXT(
                          e.FRAMEBUFFER,
                          e.DEPTH_ATTACHMENT,
                          e.TEXTURE_2D,
                          o,
                          0,
                          s
                        )
                      : e.framebufferTexture2D(
                          e.FRAMEBUFFER,
                          e.DEPTH_ATTACHMENT,
                          e.TEXTURE_2D,
                          o,
                          0
                        )
                  else {
                    if (i.depthTexture.format !== kl) throw new Error('Unknown depthTexture format')
                    V(i)
                      ? u.framebufferTexture2DMultisampleEXT(
                          e.FRAMEBUFFER,
                          e.DEPTH_STENCIL_ATTACHMENT,
                          e.TEXTURE_2D,
                          o,
                          0,
                          s
                        )
                      : e.framebufferTexture2D(
                          e.FRAMEBUFFER,
                          e.DEPTH_STENCIL_ATTACHMENT,
                          e.TEXTURE_2D,
                          o,
                          0
                        )
                  }
                })(i.__webglFramebuffer, t)
              } else if (a) {
                i.__webglDepthbuffer = []
                for (var l = 0; l < 6; l++)
                  if (
                    (n.bindFramebuffer(e.FRAMEBUFFER, i.__webglFramebuffer[l]),
                    void 0 === i.__webglDepthbuffer[l])
                  )
                    ((i.__webglDepthbuffer[l] = e.createRenderbuffer()),
                      O(i.__webglDepthbuffer[l], t, !1))
                  else {
                    var c = t.stencilBuffer ? e.DEPTH_STENCIL_ATTACHMENT : e.DEPTH_ATTACHMENT,
                      d = i.__webglDepthbuffer[l]
                    ;(e.bindRenderbuffer(e.RENDERBUFFER, d),
                      e.framebufferRenderbuffer(e.FRAMEBUFFER, c, e.RENDERBUFFER, d))
                  }
              } else if (
                (n.bindFramebuffer(e.FRAMEBUFFER, i.__webglFramebuffer),
                void 0 === i.__webglDepthbuffer)
              )
                ((i.__webglDepthbuffer = e.createRenderbuffer()), O(i.__webglDepthbuffer, t, !1))
              else {
                var h = t.stencilBuffer ? e.DEPTH_STENCIL_ATTACHMENT : e.DEPTH_ATTACHMENT,
                  f = i.__webglDepthbuffer
                ;(e.bindRenderbuffer(e.RENDERBUFFER, f),
                  e.framebufferRenderbuffer(e.FRAMEBUFFER, h, e.RENDERBUFFER, f))
              }
              n.bindFramebuffer(e.FRAMEBUFFER, null)
            }
            var B = [],
              U = []
            function z(e) {
              return Math.min(i.maxSamples, e.samples)
            }
            function V(e) {
              var n = r.get(e)
              return (
                e.samples > 0 &&
                !0 === t.has('WEBGL_multisampled_render_to_texture') &&
                !1 !== n.__useRenderToTexture
              )
            }
            function H(e, t) {
              var n = e.colorSpace,
                r = e.format,
                i = e.type
              return (
                !0 === e.isCompressedTexture ||
                  !0 === e.isVideoTexture ||
                  (n !== wc &&
                    n !== bc &&
                    (nd.getTransfer(n) === Tc
                      ? (r === El && i === vl) ||
                        console.warn(
                          'THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.'
                        )
                      : console.error('THREE.WebGLTextures: Unsupported texture color space:', n))),
                t
              )
            }
            function W(e) {
              return (
                'undefined' != typeof HTMLImageElement && e instanceof HTMLImageElement
                  ? ((c.width = e.naturalWidth || e.width),
                    (c.height = e.naturalHeight || e.height))
                  : 'undefined' != typeof VideoFrame && e instanceof VideoFrame
                    ? ((c.width = e.displayWidth), (c.height = e.displayHeight))
                    : ((c.width = e.width), (c.height = e.height)),
                c
              )
            }
            ;((this.allocateTextureUnit = function () {
              var e = T
              return (
                e >= i.maxTextures &&
                  console.warn(
                    'THREE.WebGLTextures: Trying to use ' +
                      e +
                      ' texture units while this GPU supports only ' +
                      i.maxTextures
                  ),
                (T += 1),
                e
              )
            }),
              (this.resetTextureUnits = function () {
                T = 0
              }),
              (this.setTexture2D = E),
              (this.setTexture2DArray = function (t, i) {
                var a = r.get(t)
                t.version > 0 && a.__version !== t.version
                  ? P(a, t, i)
                  : n.bindTexture(e.TEXTURE_2D_ARRAY, a.__webglTexture, e.TEXTURE0 + i)
              }),
              (this.setTexture3D = function (t, i) {
                var a = r.get(t)
                t.version > 0 && a.__version !== t.version
                  ? P(a, t, i)
                  : n.bindTexture(e.TEXTURE_3D, a.__webglTexture, e.TEXTURE0 + i)
              }),
              (this.setTextureCube = function (t, o) {
                var s = r.get(t)
                t.version > 0 && s.__version !== t.version
                  ? (function (t, o, s) {
                      if (6 !== o.image.length) return
                      var u = N(t, o),
                        l = o.source
                      n.bindTexture(e.TEXTURE_CUBE_MAP, t.__webglTexture, e.TEXTURE0 + s)
                      var c = r.get(l)
                      if (l.version !== c.__version || !0 === u) {
                        n.activeTexture(e.TEXTURE0 + s)
                        var d = nd.getPrimaries(nd.workingColorSpace),
                          h = o.colorSpace === bc ? null : nd.getPrimaries(o.colorSpace),
                          f = o.colorSpace === bc || d === h ? e.NONE : e.BROWSER_DEFAULT_WEBGL
                        ;(e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, o.flipY),
                          e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, o.premultiplyAlpha),
                          e.pixelStorei(e.UNPACK_ALIGNMENT, o.unpackAlignment),
                          e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL, f))
                        for (
                          var p = o.isCompressedTexture || o.image[0].isCompressedTexture,
                            y = o.image[0] && o.image[0].isDataTexture,
                            _ = [],
                            S = 0;
                          S < 6;
                          S++
                        )
                          ((_[S] =
                            p || y
                              ? y
                                ? o.image[S].image
                                : o.image[S]
                              : v(o.image[S], !0, i.maxCubemapSize)),
                            (_[S] = H(o, _[S])))
                        var w,
                          A = _[0],
                          T = a.convert(o.format, o.colorSpace),
                          M = a.convert(o.type),
                          E = x(o.internalFormat, T, M, o.colorSpace),
                          C = !0 !== o.isVideoTexture,
                          k = void 0 === c.__version || !0 === u,
                          R = l.dataReady,
                          P = b(o, A)
                        if ((I(e.TEXTURE_CUBE_MAP, o), p)) {
                          C && k && n.texStorage2D(e.TEXTURE_CUBE_MAP, P, E, A.width, A.height)
                          for (var L = 0; L < 6; L++) {
                            w = _[L].mipmaps
                            for (var D = 0; D < w.length; D++) {
                              var O = w[D]
                              o.format !== El
                                ? null !== T
                                  ? C
                                    ? R &&
                                      n.compressedTexSubImage2D(
                                        e.TEXTURE_CUBE_MAP_POSITIVE_X + L,
                                        D,
                                        0,
                                        0,
                                        O.width,
                                        O.height,
                                        T,
                                        O.data
                                      )
                                    : n.compressedTexImage2D(
                                        e.TEXTURE_CUBE_MAP_POSITIVE_X + L,
                                        D,
                                        E,
                                        O.width,
                                        O.height,
                                        0,
                                        O.data
                                      )
                                  : console.warn(
                                      'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()'
                                    )
                                : C
                                  ? R &&
                                    n.texSubImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + L,
                                      D,
                                      0,
                                      0,
                                      O.width,
                                      O.height,
                                      T,
                                      M,
                                      O.data
                                    )
                                  : n.texImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + L,
                                      D,
                                      E,
                                      O.width,
                                      O.height,
                                      0,
                                      T,
                                      M,
                                      O.data
                                    )
                            }
                          }
                        } else {
                          if (((w = o.mipmaps), C && k)) {
                            w.length > 0 && P++
                            var F = W(_[0])
                            n.texStorage2D(e.TEXTURE_CUBE_MAP, P, E, F.width, F.height)
                          }
                          for (var B = 0; B < 6; B++)
                            if (y) {
                              C
                                ? R &&
                                  n.texSubImage2D(
                                    e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                    0,
                                    0,
                                    0,
                                    _[B].width,
                                    _[B].height,
                                    T,
                                    M,
                                    _[B].data
                                  )
                                : n.texImage2D(
                                    e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                    0,
                                    E,
                                    _[B].width,
                                    _[B].height,
                                    0,
                                    T,
                                    M,
                                    _[B].data
                                  )
                              for (var U = 0; U < w.length; U++) {
                                var z = w[U].image[B].image
                                C
                                  ? R &&
                                    n.texSubImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                      U + 1,
                                      0,
                                      0,
                                      z.width,
                                      z.height,
                                      T,
                                      M,
                                      z.data
                                    )
                                  : n.texImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                      U + 1,
                                      E,
                                      z.width,
                                      z.height,
                                      0,
                                      T,
                                      M,
                                      z.data
                                    )
                              }
                            } else {
                              C
                                ? R &&
                                  n.texSubImage2D(
                                    e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                    0,
                                    0,
                                    0,
                                    T,
                                    M,
                                    _[B]
                                  )
                                : n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X + B, 0, E, T, M, _[B])
                              for (var V = 0; V < w.length; V++) {
                                var G = w[V]
                                C
                                  ? R &&
                                    n.texSubImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                      V + 1,
                                      0,
                                      0,
                                      T,
                                      M,
                                      G.image[B]
                                    )
                                  : n.texImage2D(
                                      e.TEXTURE_CUBE_MAP_POSITIVE_X + B,
                                      V + 1,
                                      E,
                                      T,
                                      M,
                                      G.image[B]
                                    )
                              }
                            }
                        }
                        ;(m(o) && g(e.TEXTURE_CUBE_MAP),
                          (c.__version = l.version),
                          o.onUpdate && o.onUpdate(o))
                      }
                      t.__version = o.version
                    })(s, t, o)
                  : n.bindTexture(e.TEXTURE_CUBE_MAP, s.__webglTexture, e.TEXTURE0 + o)
              }),
              (this.rebindTextures = function (t, n, i) {
                var a = r.get(t)
                ;(void 0 !== n &&
                  D(a.__webglFramebuffer, t, t.texture, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, 0),
                  void 0 !== i && F(t))
              }),
              (this.setupRenderTarget = function (t) {
                var i = t.texture,
                  s = r.get(t),
                  u = r.get(i)
                t.addEventListener('dispose', w)
                var l = t.textures,
                  c = !0 === t.isWebGLCubeRenderTarget,
                  d = l.length > 1
                if (
                  (d ||
                    (void 0 === u.__webglTexture && (u.__webglTexture = e.createTexture()),
                    (u.__version = i.version),
                    o.memory.textures++),
                  c)
                ) {
                  s.__webglFramebuffer = []
                  for (var h = 0; h < 6; h++)
                    if (i.mipmaps && i.mipmaps.length > 0) {
                      s.__webglFramebuffer[h] = []
                      for (var f = 0; f < i.mipmaps.length; f++)
                        s.__webglFramebuffer[h][f] = e.createFramebuffer()
                    } else s.__webglFramebuffer[h] = e.createFramebuffer()
                } else {
                  if (i.mipmaps && i.mipmaps.length > 0) {
                    s.__webglFramebuffer = []
                    for (var p = 0; p < i.mipmaps.length; p++)
                      s.__webglFramebuffer[p] = e.createFramebuffer()
                  } else s.__webglFramebuffer = e.createFramebuffer()
                  if (d)
                    for (var v = 0, y = l.length; v < y; v++) {
                      var _ = r.get(l[v])
                      void 0 === _.__webglTexture &&
                        ((_.__webglTexture = e.createTexture()), o.memory.textures++)
                    }
                  if (t.samples > 0 && !1 === V(t)) {
                    ;((s.__webglMultisampledFramebuffer = e.createFramebuffer()),
                      (s.__webglColorRenderbuffer = []),
                      n.bindFramebuffer(e.FRAMEBUFFER, s.__webglMultisampledFramebuffer))
                    for (var b = 0; b < l.length; b++) {
                      var S = l[b]
                      ;((s.__webglColorRenderbuffer[b] = e.createRenderbuffer()),
                        e.bindRenderbuffer(e.RENDERBUFFER, s.__webglColorRenderbuffer[b]))
                      var A = a.convert(S.format, S.colorSpace),
                        T = a.convert(S.type),
                        M = x(S.internalFormat, A, T, S.colorSpace, !0 === t.isXRRenderTarget),
                        E = z(t)
                      ;(e.renderbufferStorageMultisample(e.RENDERBUFFER, E, M, t.width, t.height),
                        e.framebufferRenderbuffer(
                          e.FRAMEBUFFER,
                          e.COLOR_ATTACHMENT0 + b,
                          e.RENDERBUFFER,
                          s.__webglColorRenderbuffer[b]
                        ))
                    }
                    ;(e.bindRenderbuffer(e.RENDERBUFFER, null),
                      t.depthBuffer &&
                        ((s.__webglDepthRenderbuffer = e.createRenderbuffer()),
                        O(s.__webglDepthRenderbuffer, t, !0)),
                      n.bindFramebuffer(e.FRAMEBUFFER, null))
                  }
                }
                if (c) {
                  ;(n.bindTexture(e.TEXTURE_CUBE_MAP, u.__webglTexture), I(e.TEXTURE_CUBE_MAP, i))
                  for (var C = 0; C < 6; C++)
                    if (i.mipmaps && i.mipmaps.length > 0)
                      for (var k = 0; k < i.mipmaps.length; k++)
                        D(
                          s.__webglFramebuffer[C][k],
                          t,
                          i,
                          e.COLOR_ATTACHMENT0,
                          e.TEXTURE_CUBE_MAP_POSITIVE_X + C,
                          k
                        )
                    else
                      D(
                        s.__webglFramebuffer[C],
                        t,
                        i,
                        e.COLOR_ATTACHMENT0,
                        e.TEXTURE_CUBE_MAP_POSITIVE_X + C,
                        0
                      )
                  ;(m(i) && g(e.TEXTURE_CUBE_MAP), n.unbindTexture())
                } else if (d) {
                  for (var R = 0, N = l.length; R < N; R++) {
                    var P = l[R],
                      L = r.get(P)
                    ;(n.bindTexture(e.TEXTURE_2D, L.__webglTexture),
                      I(e.TEXTURE_2D, P),
                      D(s.__webglFramebuffer, t, P, e.COLOR_ATTACHMENT0 + R, e.TEXTURE_2D, 0),
                      m(P) && g(e.TEXTURE_2D))
                  }
                  n.unbindTexture()
                } else {
                  var B = e.TEXTURE_2D
                  if (
                    ((t.isWebGL3DRenderTarget || t.isWebGLArrayRenderTarget) &&
                      (B = t.isWebGL3DRenderTarget ? e.TEXTURE_3D : e.TEXTURE_2D_ARRAY),
                    n.bindTexture(B, u.__webglTexture),
                    I(B, i),
                    i.mipmaps && i.mipmaps.length > 0)
                  )
                    for (var U = 0; U < i.mipmaps.length; U++)
                      D(s.__webglFramebuffer[U], t, i, e.COLOR_ATTACHMENT0, B, U)
                  else D(s.__webglFramebuffer, t, i, e.COLOR_ATTACHMENT0, B, 0)
                  ;(m(i) && g(B), n.unbindTexture())
                }
                t.depthBuffer && F(t)
              }),
              (this.updateRenderTargetMipmap = function (e) {
                for (var t = e.textures, i = 0, a = t.length; i < a; i++) {
                  var o = t[i]
                  if (m(o)) {
                    var s = y(e),
                      u = r.get(o).__webglTexture
                    ;(n.bindTexture(s, u), g(s), n.unbindTexture())
                  }
                }
              }),
              (this.updateMultisampleRenderTarget = function (t) {
                if (t.samples > 0)
                  if (!1 === V(t)) {
                    var i = t.textures,
                      a = t.width,
                      o = t.height,
                      s = e.COLOR_BUFFER_BIT,
                      u = t.stencilBuffer ? e.DEPTH_STENCIL_ATTACHMENT : e.DEPTH_ATTACHMENT,
                      c = r.get(t),
                      d = i.length > 1
                    if (d)
                      for (var h = 0; h < i.length; h++)
                        (n.bindFramebuffer(e.FRAMEBUFFER, c.__webglMultisampledFramebuffer),
                          e.framebufferRenderbuffer(
                            e.FRAMEBUFFER,
                            e.COLOR_ATTACHMENT0 + h,
                            e.RENDERBUFFER,
                            null
                          ),
                          n.bindFramebuffer(e.FRAMEBUFFER, c.__webglFramebuffer),
                          e.framebufferTexture2D(
                            e.DRAW_FRAMEBUFFER,
                            e.COLOR_ATTACHMENT0 + h,
                            e.TEXTURE_2D,
                            null,
                            0
                          ))
                    ;(n.bindFramebuffer(e.READ_FRAMEBUFFER, c.__webglMultisampledFramebuffer),
                      n.bindFramebuffer(e.DRAW_FRAMEBUFFER, c.__webglFramebuffer))
                    for (var f = 0; f < i.length; f++) {
                      if (
                        (t.resolveDepthBuffer &&
                          (t.depthBuffer && (s |= e.DEPTH_BUFFER_BIT),
                          t.stencilBuffer && t.resolveStencilBuffer && (s |= e.STENCIL_BUFFER_BIT)),
                        d)
                      ) {
                        e.framebufferRenderbuffer(
                          e.READ_FRAMEBUFFER,
                          e.COLOR_ATTACHMENT0,
                          e.RENDERBUFFER,
                          c.__webglColorRenderbuffer[f]
                        )
                        var p = r.get(i[f]).__webglTexture
                        e.framebufferTexture2D(
                          e.DRAW_FRAMEBUFFER,
                          e.COLOR_ATTACHMENT0,
                          e.TEXTURE_2D,
                          p,
                          0
                        )
                      }
                      ;(e.blitFramebuffer(0, 0, a, o, 0, 0, a, o, s, e.NEAREST),
                        !0 === l &&
                          ((B.length = 0),
                          (U.length = 0),
                          B.push(e.COLOR_ATTACHMENT0 + f),
                          t.depthBuffer &&
                            !1 === t.resolveDepthBuffer &&
                            (B.push(u), U.push(u), e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER, U)),
                          e.invalidateFramebuffer(e.READ_FRAMEBUFFER, B)))
                    }
                    if (
                      (n.bindFramebuffer(e.READ_FRAMEBUFFER, null),
                      n.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
                      d)
                    )
                      for (var v = 0; v < i.length; v++) {
                        ;(n.bindFramebuffer(e.FRAMEBUFFER, c.__webglMultisampledFramebuffer),
                          e.framebufferRenderbuffer(
                            e.FRAMEBUFFER,
                            e.COLOR_ATTACHMENT0 + v,
                            e.RENDERBUFFER,
                            c.__webglColorRenderbuffer[v]
                          ))
                        var m = r.get(i[v]).__webglTexture
                        ;(n.bindFramebuffer(e.FRAMEBUFFER, c.__webglFramebuffer),
                          e.framebufferTexture2D(
                            e.DRAW_FRAMEBUFFER,
                            e.COLOR_ATTACHMENT0 + v,
                            e.TEXTURE_2D,
                            m,
                            0
                          ))
                      }
                    n.bindFramebuffer(e.DRAW_FRAMEBUFFER, c.__webglMultisampledFramebuffer)
                  } else if (t.depthBuffer && !1 === t.resolveDepthBuffer && l) {
                    var g = t.stencilBuffer ? e.DEPTH_STENCIL_ATTACHMENT : e.DEPTH_ATTACHMENT
                    e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER, [g])
                  }
              }),
              (this.setupDepthRenderbuffer = F),
              (this.setupFrameBufferTexture = D),
              (this.useMultisampledRTT = V))
          }
          function Dy(e, t) {
            return {
              convert: function (n) {
                var r,
                  i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : bc,
                  a = nd.getTransfer(i)
                if (n === vl) return e.UNSIGNED_BYTE
                if (n === wl) return e.UNSIGNED_SHORT_4_4_4_4
                if (n === Al) return e.UNSIGNED_SHORT_5_5_5_1
                if (n === Ml) return e.UNSIGNED_INT_5_9_9_9_REV
                if (n === ml) return e.BYTE
                if (n === gl) return e.SHORT
                if (n === yl) return e.UNSIGNED_SHORT
                if (n === xl) return e.INT
                if (n === _l) return e.UNSIGNED_INT
                if (n === bl) return e.FLOAT
                if (n === Sl) return e.HALF_FLOAT
                if (1021 === n) return e.ALPHA
                if (1022 === n) return e.RGB
                if (n === El) return e.RGBA
                if (1024 === n) return e.LUMINANCE
                if (1025 === n) return e.LUMINANCE_ALPHA
                if (n === Cl) return e.DEPTH_COMPONENT
                if (n === kl) return e.DEPTH_STENCIL
                if (n === Rl) return e.RED
                if (n === Il) return e.RED_INTEGER
                if (n === Nl) return e.RG
                if (n === Pl) return e.RG_INTEGER
                if (n === Ll) return e.RGBA_INTEGER
                if (n === Dl || n === Ol || n === Fl || n === Bl)
                  if (a === Tc) {
                    if (null === (r = t.get('WEBGL_compressed_texture_s3tc_srgb'))) return null
                    if (n === Dl) return r.COMPRESSED_SRGB_S3TC_DXT1_EXT
                    if (n === Ol) return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT
                    if (n === Fl) return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT
                    if (n === Bl) return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
                  } else {
                    if (null === (r = t.get('WEBGL_compressed_texture_s3tc'))) return null
                    if (n === Dl) return r.COMPRESSED_RGB_S3TC_DXT1_EXT
                    if (n === Ol) return r.COMPRESSED_RGBA_S3TC_DXT1_EXT
                    if (n === Fl) return r.COMPRESSED_RGBA_S3TC_DXT3_EXT
                    if (n === Bl) return r.COMPRESSED_RGBA_S3TC_DXT5_EXT
                  }
                if (n === Ul || n === zl || n === Vl || n === Hl) {
                  if (null === (r = t.get('WEBGL_compressed_texture_pvrtc'))) return null
                  if (n === Ul) return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG
                  if (n === zl) return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG
                  if (n === Vl) return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG
                  if (n === Hl) return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
                if (n === Wl || n === Gl || n === jl) {
                  if (null === (r = t.get('WEBGL_compressed_texture_etc'))) return null
                  if (n === Wl || n === Gl)
                    return a === Tc ? r.COMPRESSED_SRGB8_ETC2 : r.COMPRESSED_RGB8_ETC2
                  if (n === jl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC
                      : r.COMPRESSED_RGBA8_ETC2_EAC
                }
                if (
                  n === Ql ||
                  n === ql ||
                  n === Xl ||
                  n === Yl ||
                  n === Kl ||
                  n === Zl ||
                  n === Jl ||
                  n === $l ||
                  n === ec ||
                  n === tc ||
                  n === nc ||
                  n === rc ||
                  n === ic ||
                  n === ac
                ) {
                  if (null === (r = t.get('WEBGL_compressed_texture_astc'))) return null
                  if (n === Ql)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR
                      : r.COMPRESSED_RGBA_ASTC_4x4_KHR
                  if (n === ql)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR
                      : r.COMPRESSED_RGBA_ASTC_5x4_KHR
                  if (n === Xl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR
                      : r.COMPRESSED_RGBA_ASTC_5x5_KHR
                  if (n === Yl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR
                      : r.COMPRESSED_RGBA_ASTC_6x5_KHR
                  if (n === Kl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR
                      : r.COMPRESSED_RGBA_ASTC_6x6_KHR
                  if (n === Zl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR
                      : r.COMPRESSED_RGBA_ASTC_8x5_KHR
                  if (n === Jl)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR
                      : r.COMPRESSED_RGBA_ASTC_8x6_KHR
                  if (n === $l)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR
                      : r.COMPRESSED_RGBA_ASTC_8x8_KHR
                  if (n === ec)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR
                      : r.COMPRESSED_RGBA_ASTC_10x5_KHR
                  if (n === tc)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR
                      : r.COMPRESSED_RGBA_ASTC_10x6_KHR
                  if (n === nc)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR
                      : r.COMPRESSED_RGBA_ASTC_10x8_KHR
                  if (n === rc)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR
                      : r.COMPRESSED_RGBA_ASTC_10x10_KHR
                  if (n === ic)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR
                      : r.COMPRESSED_RGBA_ASTC_12x10_KHR
                  if (n === ac)
                    return a === Tc
                      ? r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR
                      : r.COMPRESSED_RGBA_ASTC_12x12_KHR
                }
                if (n === oc || n === sc || n === uc) {
                  if (null === (r = t.get('EXT_texture_compression_bptc'))) return null
                  if (n === oc)
                    return a === Tc
                      ? r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT
                      : r.COMPRESSED_RGBA_BPTC_UNORM_EXT
                  if (n === sc) return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT
                  if (n === uc) return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT
                }
                if (36283 === n || n === lc || n === cc || n === dc) {
                  if (null === (r = t.get('EXT_texture_compression_rgtc'))) return null
                  if (n === oc) return r.COMPRESSED_RED_RGTC1_EXT
                  if (n === lc) return r.COMPRESSED_SIGNED_RED_RGTC1_EXT
                  if (n === cc) return r.COMPRESSED_RED_GREEN_RGTC2_EXT
                  if (n === dc) return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT
                }
                return n === Tl ? e.UNSIGNED_INT_24_8 : void 0 !== e[n] ? e[n] : null
              },
            }
          }
          var Oy = (function () {
              return T(
                function e() {
                  ;(w(this, e),
                    (this.texture = null),
                    (this.mesh = null),
                    (this.depthNear = 0),
                    (this.depthFar = 0))
                },
                [
                  {
                    key: 'init',
                    value: function (e, t, n) {
                      if (null === this.texture) {
                        var r = new cd()
                        ;((e.properties.get(r).__webglTexture = t.texture),
                          (t.depthNear === n.depthNear && t.depthFar === n.depthFar) ||
                            ((this.depthNear = t.depthNear), (this.depthFar = t.depthFar)),
                          (this.texture = r))
                      }
                    },
                  },
                  {
                    key: 'getMesh',
                    value: function (e) {
                      if (null !== this.texture && null === this.mesh) {
                        var t = e.cameras[0].viewport,
                          n = new Ef({
                            vertexShader:
                              '\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}',
                            fragmentShader:
                              '\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}',
                            uniforms: {
                              depthColor: { value: this.texture },
                              depthWidth: { value: t.z },
                              depthHeight: { value: t.w },
                            },
                          })
                        this.mesh = new _f(new Qp(20, 20), n)
                      }
                      return this.mesh
                    },
                  },
                  {
                    key: 'reset',
                    value: function () {
                      ;((this.texture = null), (this.mesh = null))
                    },
                  },
                  {
                    key: 'getDepthTexture',
                    value: function () {
                      return this.texture
                    },
                  },
                ]
              )
            })(),
            Fy = (function (e) {
              function t(e, n) {
                var r
                w(this, t)
                var i = (r = y(this, t)),
                  a = null,
                  o = 1,
                  s = null,
                  u = 'local-floor',
                  l = 1,
                  c = null,
                  d = null,
                  f = null,
                  p = null,
                  m = null,
                  g = null,
                  x = new Oy(),
                  _ = n.getContextAttributes(),
                  b = null,
                  S = null,
                  A = [],
                  T = [],
                  M = new Gc(),
                  E = null,
                  C = new Nf()
                C.viewport = new dd()
                var k = new Nf()
                k.viewport = new dd()
                var R = [C, k],
                  I = new Wv(),
                  N = null,
                  P = null
                function L(e) {
                  var t = T.indexOf(e.inputSource)
                  if (-1 !== t) {
                    var n = A[t]
                    void 0 !== n &&
                      (n.update(e.inputSource, e.frame, c || s),
                      n.dispatchEvent({ type: e.type, data: e.inputSource }))
                  }
                }
                function D() {
                  ;(a.removeEventListener('select', L),
                    a.removeEventListener('selectstart', L),
                    a.removeEventListener('selectend', L),
                    a.removeEventListener('squeeze', L),
                    a.removeEventListener('squeezestart', L),
                    a.removeEventListener('squeezeend', L),
                    a.removeEventListener('end', D),
                    a.removeEventListener('inputsourceschange', O))
                  for (var t = 0; t < A.length; t++) {
                    var n = T[t]
                    null !== n && ((T[t] = null), A[t].disconnect(n))
                  }
                  ;((N = null),
                    (P = null),
                    x.reset(),
                    e.setRenderTarget(b),
                    (m = null),
                    (p = null),
                    (f = null),
                    (a = null),
                    (S = null),
                    V.stop(),
                    (i.isPresenting = !1),
                    e.setPixelRatio(E),
                    e.setSize(M.width, M.height, !1),
                    i.dispatchEvent({ type: 'sessionend' }))
                }
                function O(e) {
                  for (var t = 0; t < e.removed.length; t++) {
                    var n = e.removed[t],
                      r = T.indexOf(n)
                    r >= 0 && ((T[r] = null), A[r].disconnect(n))
                  }
                  for (var i = 0; i < e.added.length; i++) {
                    var a = e.added[i],
                      o = T.indexOf(a)
                    if (-1 === o) {
                      for (var s = 0; s < A.length; s++) {
                        if (s >= T.length) {
                          ;(T.push(a), (o = s))
                          break
                        }
                        if (null === T[s]) {
                          ;((T[s] = a), (o = s))
                          break
                        }
                      }
                      if (-1 === o) break
                    }
                    var u = A[o]
                    u && u.connect(a)
                  }
                }
                ;((r.cameraAutoUpdate = !0),
                  (r.enabled = !1),
                  (r.isPresenting = !1),
                  (r.getController = function (e) {
                    var t = A[e]
                    return (void 0 === t && ((t = new Uf()), (A[e] = t)), t.getTargetRaySpace())
                  }),
                  (r.getControllerGrip = function (e) {
                    var t = A[e]
                    return (void 0 === t && ((t = new Uf()), (A[e] = t)), t.getGripSpace())
                  }),
                  (r.getHand = function (e) {
                    var t = A[e]
                    return (void 0 === t && ((t = new Uf()), (A[e] = t)), t.getHandSpace())
                  }),
                  (r.setFramebufferScaleFactor = function (e) {
                    ;((o = e),
                      !0 === i.isPresenting &&
                        console.warn(
                          'THREE.WebXRManager: Cannot change framebuffer scale while presenting.'
                        ))
                  }),
                  (r.setReferenceSpaceType = function (e) {
                    ;((u = e),
                      !0 === i.isPresenting &&
                        console.warn(
                          'THREE.WebXRManager: Cannot change reference space type while presenting.'
                        ))
                  }),
                  (r.getReferenceSpace = function () {
                    return c || s
                  }),
                  (r.setReferenceSpace = function (e) {
                    c = e
                  }),
                  (r.getBaseLayer = function () {
                    return null !== p ? p : m
                  }),
                  (r.getBinding = function () {
                    return f
                  }),
                  (r.getFrame = function () {
                    return g
                  }),
                  (r.getSession = function () {
                    return a
                  }),
                  (r.setSession = (function () {
                    var t = v(
                      h().m(function t(r) {
                        var d, v, g, y, x
                        return h().w(
                          function (t) {
                            for (;;)
                              switch (t.n) {
                                case 0:
                                  if (null === (a = r)) {
                                    t.n = 3
                                    break
                                  }
                                  if (
                                    ((b = e.getRenderTarget()),
                                    a.addEventListener('select', L),
                                    a.addEventListener('selectstart', L),
                                    a.addEventListener('selectend', L),
                                    a.addEventListener('squeeze', L),
                                    a.addEventListener('squeezestart', L),
                                    a.addEventListener('squeezeend', L),
                                    a.addEventListener('end', D),
                                    a.addEventListener('inputsourceschange', O),
                                    !0 === _.xrCompatible)
                                  ) {
                                    t.n = 1
                                    break
                                  }
                                  return ((t.n = 1), n.makeXRCompatible())
                                case 1:
                                  return (
                                    (E = e.getPixelRatio()),
                                    e.getSize(M),
                                    'undefined' != typeof XRWebGLBinding &&
                                    'createProjectionLayer' in XRWebGLBinding.prototype
                                      ? ((v = null),
                                        (g = null),
                                        (y = null),
                                        _.depth &&
                                          ((y = _.stencil
                                            ? n.DEPTH24_STENCIL8
                                            : n.DEPTH_COMPONENT24),
                                          (v = _.stencil ? kl : Cl),
                                          (g = _.stencil ? Tl : _l)),
                                        (x = {
                                          colorFormat: n.RGBA8,
                                          depthFormat: y,
                                          scaleFactor: o,
                                        }),
                                        (f = new XRWebGLBinding(a, n)),
                                        (p = f.createProjectionLayer(x)),
                                        a.updateRenderState({ layers: [p] }),
                                        e.setPixelRatio(1),
                                        e.setSize(p.textureWidth, p.textureHeight, !1),
                                        (S = new fd(p.textureWidth, p.textureHeight, {
                                          format: El,
                                          type: vl,
                                          depthTexture: new Wp(
                                            p.textureWidth,
                                            p.textureHeight,
                                            g,
                                            void 0,
                                            void 0,
                                            void 0,
                                            void 0,
                                            void 0,
                                            void 0,
                                            v
                                          ),
                                          stencilBuffer: _.stencil,
                                          colorSpace: e.outputColorSpace,
                                          samples: _.antialias ? 4 : 0,
                                          resolveDepthBuffer: !1 === p.ignoreDepthValues,
                                        })))
                                      : ((d = {
                                          antialias: _.antialias,
                                          alpha: !0,
                                          depth: _.depth,
                                          stencil: _.stencil,
                                          framebufferScaleFactor: o,
                                        }),
                                        (m = new XRWebGLLayer(a, n, d)),
                                        a.updateRenderState({ baseLayer: m }),
                                        e.setPixelRatio(1),
                                        e.setSize(m.framebufferWidth, m.framebufferHeight, !1),
                                        (S = new fd(m.framebufferWidth, m.framebufferHeight, {
                                          format: El,
                                          type: vl,
                                          colorSpace: e.outputColorSpace,
                                          stencilBuffer: _.stencil,
                                        }))),
                                    (S.isXRRenderTarget = !0),
                                    this.setFoveation(l),
                                    (c = null),
                                    (t.n = 2),
                                    a.requestReferenceSpace(u)
                                  )
                                case 2:
                                  ;((s = t.v),
                                    V.setContext(a),
                                    V.start(),
                                    (i.isPresenting = !0),
                                    i.dispatchEvent({ type: 'sessionstart' }))
                                case 3:
                                  return t.a(2)
                              }
                          },
                          t,
                          this
                        )
                      })
                    )
                    return function (e) {
                      return t.apply(this, arguments)
                    }
                  })()),
                  (r.getEnvironmentBlendMode = function () {
                    if (null !== a) return a.environmentBlendMode
                  }),
                  (r.getDepthTexture = function () {
                    return x.getDepthTexture()
                  }))
                var F = new gd(),
                  B = new gd()
                function U(e, t) {
                  ;(null === t
                    ? e.matrixWorld.copy(e.matrix)
                    : e.matrixWorld.multiplyMatrices(t.matrixWorld, e.matrix),
                    e.matrixWorldInverse.copy(e.matrixWorld).invert())
                }
                ;((r.updateCamera = function (e) {
                  if (null !== a) {
                    var t = e.near,
                      n = e.far
                    ;(null !== x.texture &&
                      (x.depthNear > 0 && (t = x.depthNear), x.depthFar > 0 && (n = x.depthFar)),
                      (I.near = k.near = C.near = t),
                      (I.far = k.far = C.far = n),
                      (N === I.near && P === I.far) ||
                        (a.updateRenderState({ depthNear: I.near, depthFar: I.far }),
                        (N = I.near),
                        (P = I.far)),
                      (C.layers.mask = 2 | e.layers.mask),
                      (k.layers.mask = 4 | e.layers.mask),
                      (I.layers.mask = C.layers.mask | k.layers.mask))
                    var r = e.parent,
                      i = I.cameras
                    U(I, r)
                    for (var o = 0; o < i.length; o++) U(i[o], r)
                    ;(2 === i.length
                      ? (function (e, t, n) {
                          ;(F.setFromMatrixPosition(t.matrixWorld),
                            B.setFromMatrixPosition(n.matrixWorld))
                          var r = F.distanceTo(B),
                            i = t.projectionMatrix.elements,
                            a = n.projectionMatrix.elements,
                            o = i[14] / (i[10] - 1),
                            s = i[14] / (i[10] + 1),
                            u = (i[9] + 1) / i[5],
                            l = (i[9] - 1) / i[5],
                            c = (i[8] - 1) / i[0],
                            d = (a[8] + 1) / a[0],
                            h = o * c,
                            f = o * d,
                            p = r / (-c + d),
                            v = p * -c
                          if (
                            (t.matrixWorld.decompose(e.position, e.quaternion, e.scale),
                            e.translateX(v),
                            e.translateZ(p),
                            e.matrixWorld.compose(e.position, e.quaternion, e.scale),
                            e.matrixWorldInverse.copy(e.matrixWorld).invert(),
                            -1 === i[10])
                          )
                            (e.projectionMatrix.copy(t.projectionMatrix),
                              e.projectionMatrixInverse.copy(t.projectionMatrixInverse))
                          else {
                            var m = o + p,
                              g = s + p,
                              y = h - v,
                              x = f + (r - v),
                              _ = ((u * s) / g) * m,
                              b = ((l * s) / g) * m
                            ;(e.projectionMatrix.makePerspective(y, x, _, b, m, g),
                              e.projectionMatrixInverse.copy(e.projectionMatrix).invert())
                          }
                        })(I, C, k)
                      : I.projectionMatrix.copy(C.projectionMatrix),
                      (function (e, t, n) {
                        null === n
                          ? e.matrix.copy(t.matrixWorld)
                          : (e.matrix.copy(n.matrixWorld),
                            e.matrix.invert(),
                            e.matrix.multiply(t.matrixWorld))
                        ;(e.matrix.decompose(e.position, e.quaternion, e.scale),
                          e.updateMatrixWorld(!0),
                          e.projectionMatrix.copy(t.projectionMatrix),
                          e.projectionMatrixInverse.copy(t.projectionMatrixInverse),
                          e.isPerspectiveCamera &&
                            ((e.fov = 2 * Oc * Math.atan(1 / e.projectionMatrix.elements[5])),
                            (e.zoom = 1)))
                      })(e, I, r))
                  }
                }),
                  (r.getCamera = function () {
                    return I
                  }),
                  (r.getFoveation = function () {
                    if (null !== p || null !== m) return l
                  }),
                  (r.setFoveation = function (e) {
                    ;((l = e),
                      null !== p && (p.fixedFoveation = e),
                      null !== m && void 0 !== m.fixedFoveation && (m.fixedFoveation = e))
                  }),
                  (r.hasDepthSensing = function () {
                    return null !== x.texture
                  }),
                  (r.getDepthSensingMesh = function () {
                    return x.getMesh(I)
                  }))
                var z = null
                var V = new um()
                return (
                  V.setAnimationLoop(function (t, n) {
                    if (((d = n.getViewerPose(c || s)), (g = n), null !== d)) {
                      var r = d.views
                      null !== m &&
                        (e.setRenderTargetFramebuffer(S, m.framebuffer), e.setRenderTarget(S))
                      var o = !1
                      r.length !== I.cameras.length && ((I.cameras.length = 0), (o = !0))
                      for (var u = 0; u < r.length; u++) {
                        var l = r[u],
                          h = null
                        if (null !== m) h = m.getViewport(l)
                        else {
                          var v = f.getViewSubImage(p, l)
                          ;((h = v.viewport),
                            0 === u &&
                              (e.setRenderTargetTextures(
                                S,
                                v.colorTexture,
                                p.ignoreDepthValues ? void 0 : v.depthStencilTexture
                              ),
                              e.setRenderTarget(S)))
                        }
                        var y = R[u]
                        ;(void 0 === y &&
                          ((y = new Nf()).layers.enable(u), (y.viewport = new dd()), (R[u] = y)),
                          y.matrix.fromArray(l.transform.matrix),
                          y.matrix.decompose(y.position, y.quaternion, y.scale),
                          y.projectionMatrix.fromArray(l.projectionMatrix),
                          y.projectionMatrixInverse.copy(y.projectionMatrix).invert(),
                          y.viewport.set(h.x, h.y, h.width, h.height),
                          0 === u &&
                            (I.matrix.copy(y.matrix),
                            I.matrix.decompose(I.position, I.quaternion, I.scale)),
                          !0 === o && I.cameras.push(y))
                      }
                      var _ = a.enabledFeatures
                      if (
                        _ &&
                        _.includes('depth-sensing') &&
                        'gpu-optimized' == a.depthUsage &&
                        f
                      ) {
                        var b = f.getDepthInformation(r[0])
                        b && b.isValid && b.texture && x.init(e, b, a.renderState)
                      }
                    }
                    for (var w = 0; w < A.length; w++) {
                      var M = T[w],
                        E = A[w]
                      null !== M && void 0 !== E && E.update(M, n, c || s)
                    }
                    ;(z && z(t, n),
                      n.detectedPlanes && i.dispatchEvent({ type: 'planesdetected', data: n }),
                      (g = null))
                  }),
                  (r.setAnimationLoop = function (e) {
                    z = e
                  }),
                  (r.dispose = function () {}),
                  r
                )
              }
              return (b(t, e), T(t))
            })(Nc),
            By = new rh(),
            Uy = new qd()
          function zy(e, t) {
            function n(e, t) {
              ;(!0 === e.matrixAutoUpdate && e.updateMatrix(), t.value.copy(e.matrix))
            }
            function r(e, r) {
              ;((e.opacity.value = r.opacity),
                r.color && e.diffuse.value.copy(r.color),
                r.emissive && e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),
                r.map && ((e.map.value = r.map), n(r.map, e.mapTransform)),
                r.alphaMap && ((e.alphaMap.value = r.alphaMap), n(r.alphaMap, e.alphaMapTransform)),
                r.bumpMap &&
                  ((e.bumpMap.value = r.bumpMap),
                  n(r.bumpMap, e.bumpMapTransform),
                  (e.bumpScale.value = r.bumpScale),
                  1 === r.side && (e.bumpScale.value *= -1)),
                r.normalMap &&
                  ((e.normalMap.value = r.normalMap),
                  n(r.normalMap, e.normalMapTransform),
                  e.normalScale.value.copy(r.normalScale),
                  1 === r.side && e.normalScale.value.negate()),
                r.displacementMap &&
                  ((e.displacementMap.value = r.displacementMap),
                  n(r.displacementMap, e.displacementMapTransform),
                  (e.displacementScale.value = r.displacementScale),
                  (e.displacementBias.value = r.displacementBias)),
                r.emissiveMap &&
                  ((e.emissiveMap.value = r.emissiveMap), n(r.emissiveMap, e.emissiveMapTransform)),
                r.specularMap &&
                  ((e.specularMap.value = r.specularMap), n(r.specularMap, e.specularMapTransform)),
                r.alphaTest > 0 && (e.alphaTest.value = r.alphaTest))
              var i = t.get(r),
                a = i.envMap,
                o = i.envMapRotation
              ;(a &&
                ((e.envMap.value = a),
                By.copy(o),
                (By.x *= -1),
                (By.y *= -1),
                (By.z *= -1),
                a.isCubeTexture && !1 === a.isRenderTargetTexture && ((By.y *= -1), (By.z *= -1)),
                e.envMapRotation.value.setFromMatrix4(Uy.makeRotationFromEuler(By)),
                (e.flipEnvMap.value = a.isCubeTexture && !1 === a.isRenderTargetTexture ? -1 : 1),
                (e.reflectivity.value = r.reflectivity),
                (e.ior.value = r.ior),
                (e.refractionRatio.value = r.refractionRatio)),
                r.lightMap &&
                  ((e.lightMap.value = r.lightMap),
                  (e.lightMapIntensity.value = r.lightMapIntensity),
                  n(r.lightMap, e.lightMapTransform)),
                r.aoMap &&
                  ((e.aoMap.value = r.aoMap),
                  (e.aoMapIntensity.value = r.aoMapIntensity),
                  n(r.aoMap, e.aoMapTransform)))
            }
            return {
              refreshFogUniforms: function (t, n) {
                ;(n.color.getRGB(t.fogColor.value, Tf(e)),
                  n.isFog
                    ? ((t.fogNear.value = n.near), (t.fogFar.value = n.far))
                    : n.isFogExp2 && (t.fogDensity.value = n.density))
              },
              refreshMaterialUniforms: function (e, i, a, o, s) {
                i.isMeshBasicMaterial || i.isMeshLambertMaterial
                  ? r(e, i)
                  : i.isMeshToonMaterial
                    ? (r(e, i),
                      (function (e, t) {
                        t.gradientMap && (e.gradientMap.value = t.gradientMap)
                      })(e, i))
                    : i.isMeshPhongMaterial
                      ? (r(e, i),
                        (function (e, t) {
                          ;(e.specular.value.copy(t.specular),
                            (e.shininess.value = Math.max(t.shininess, 1e-4)))
                        })(e, i))
                      : i.isMeshStandardMaterial
                        ? (r(e, i),
                          (function (e, t) {
                            ;((e.metalness.value = t.metalness),
                              t.metalnessMap &&
                                ((e.metalnessMap.value = t.metalnessMap),
                                n(t.metalnessMap, e.metalnessMapTransform)))
                            ;((e.roughness.value = t.roughness),
                              t.roughnessMap &&
                                ((e.roughnessMap.value = t.roughnessMap),
                                n(t.roughnessMap, e.roughnessMapTransform)))
                            t.envMap && (e.envMapIntensity.value = t.envMapIntensity)
                          })(e, i),
                          i.isMeshPhysicalMaterial &&
                            (function (e, t, r) {
                              ;((e.ior.value = t.ior),
                                t.sheen > 0 &&
                                  (e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),
                                  (e.sheenRoughness.value = t.sheenRoughness),
                                  t.sheenColorMap &&
                                    ((e.sheenColorMap.value = t.sheenColorMap),
                                    n(t.sheenColorMap, e.sheenColorMapTransform)),
                                  t.sheenRoughnessMap &&
                                    ((e.sheenRoughnessMap.value = t.sheenRoughnessMap),
                                    n(t.sheenRoughnessMap, e.sheenRoughnessMapTransform))))
                              t.clearcoat > 0 &&
                                ((e.clearcoat.value = t.clearcoat),
                                (e.clearcoatRoughness.value = t.clearcoatRoughness),
                                t.clearcoatMap &&
                                  ((e.clearcoatMap.value = t.clearcoatMap),
                                  n(t.clearcoatMap, e.clearcoatMapTransform)),
                                t.clearcoatRoughnessMap &&
                                  ((e.clearcoatRoughnessMap.value = t.clearcoatRoughnessMap),
                                  n(t.clearcoatRoughnessMap, e.clearcoatRoughnessMapTransform)),
                                t.clearcoatNormalMap &&
                                  ((e.clearcoatNormalMap.value = t.clearcoatNormalMap),
                                  n(t.clearcoatNormalMap, e.clearcoatNormalMapTransform),
                                  e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),
                                  1 === t.side && e.clearcoatNormalScale.value.negate()))
                              t.dispersion > 0 && (e.dispersion.value = t.dispersion)
                              t.iridescence > 0 &&
                                ((e.iridescence.value = t.iridescence),
                                (e.iridescenceIOR.value = t.iridescenceIOR),
                                (e.iridescenceThicknessMinimum.value =
                                  t.iridescenceThicknessRange[0]),
                                (e.iridescenceThicknessMaximum.value =
                                  t.iridescenceThicknessRange[1]),
                                t.iridescenceMap &&
                                  ((e.iridescenceMap.value = t.iridescenceMap),
                                  n(t.iridescenceMap, e.iridescenceMapTransform)),
                                t.iridescenceThicknessMap &&
                                  ((e.iridescenceThicknessMap.value = t.iridescenceThicknessMap),
                                  n(t.iridescenceThicknessMap, e.iridescenceThicknessMapTransform)))
                              t.transmission > 0 &&
                                ((e.transmission.value = t.transmission),
                                (e.transmissionSamplerMap.value = r.texture),
                                e.transmissionSamplerSize.value.set(r.width, r.height),
                                t.transmissionMap &&
                                  ((e.transmissionMap.value = t.transmissionMap),
                                  n(t.transmissionMap, e.transmissionMapTransform)),
                                (e.thickness.value = t.thickness),
                                t.thicknessMap &&
                                  ((e.thicknessMap.value = t.thicknessMap),
                                  n(t.thicknessMap, e.thicknessMapTransform)),
                                (e.attenuationDistance.value = t.attenuationDistance),
                                e.attenuationColor.value.copy(t.attenuationColor))
                              t.anisotropy > 0 &&
                                (e.anisotropyVector.value.set(
                                  t.anisotropy * Math.cos(t.anisotropyRotation),
                                  t.anisotropy * Math.sin(t.anisotropyRotation)
                                ),
                                t.anisotropyMap &&
                                  ((e.anisotropyMap.value = t.anisotropyMap),
                                  n(t.anisotropyMap, e.anisotropyMapTransform)))
                              ;((e.specularIntensity.value = t.specularIntensity),
                                e.specularColor.value.copy(t.specularColor),
                                t.specularColorMap &&
                                  ((e.specularColorMap.value = t.specularColorMap),
                                  n(t.specularColorMap, e.specularColorMapTransform)))
                              t.specularIntensityMap &&
                                ((e.specularIntensityMap.value = t.specularIntensityMap),
                                n(t.specularIntensityMap, e.specularIntensityMapTransform))
                            })(e, i, s))
                        : i.isMeshMatcapMaterial
                          ? (r(e, i),
                            (function (e, t) {
                              t.matcap && (e.matcap.value = t.matcap)
                            })(e, i))
                          : i.isMeshDepthMaterial
                            ? r(e, i)
                            : i.isMeshDistanceMaterial
                              ? (r(e, i),
                                (function (e, n) {
                                  var r = t.get(n).light
                                  ;(e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),
                                    (e.nearDistance.value = r.shadow.camera.near),
                                    (e.farDistance.value = r.shadow.camera.far))
                                })(e, i))
                              : i.isMeshNormalMaterial
                                ? r(e, i)
                                : i.isLineBasicMaterial
                                  ? ((function (e, t) {
                                      ;(e.diffuse.value.copy(t.color),
                                        (e.opacity.value = t.opacity),
                                        t.map && ((e.map.value = t.map), n(t.map, e.mapTransform)))
                                    })(e, i),
                                    i.isLineDashedMaterial &&
                                      (function (e, t) {
                                        ;((e.dashSize.value = t.dashSize),
                                          (e.totalSize.value = t.dashSize + t.gapSize),
                                          (e.scale.value = t.scale))
                                      })(e, i))
                                  : i.isPointsMaterial
                                    ? (function (e, t, r, i) {
                                        ;(e.diffuse.value.copy(t.color),
                                          (e.opacity.value = t.opacity),
                                          (e.size.value = t.size * r),
                                          (e.scale.value = 0.5 * i),
                                          t.map && ((e.map.value = t.map), n(t.map, e.uvTransform)))
                                        t.alphaMap &&
                                          ((e.alphaMap.value = t.alphaMap),
                                          n(t.alphaMap, e.alphaMapTransform))
                                        t.alphaTest > 0 && (e.alphaTest.value = t.alphaTest)
                                      })(e, i, a, o)
                                    : i.isSpriteMaterial
                                      ? (function (e, t) {
                                          ;(e.diffuse.value.copy(t.color),
                                            (e.opacity.value = t.opacity),
                                            (e.rotation.value = t.rotation),
                                            t.map &&
                                              ((e.map.value = t.map), n(t.map, e.mapTransform)))
                                          t.alphaMap &&
                                            ((e.alphaMap.value = t.alphaMap),
                                            n(t.alphaMap, e.alphaMapTransform))
                                          t.alphaTest > 0 && (e.alphaTest.value = t.alphaTest)
                                        })(e, i)
                                      : i.isShadowMaterial
                                        ? (e.color.value.copy(i.color),
                                          (e.opacity.value = i.opacity))
                                        : i.isShaderMaterial && (i.uniformsNeedUpdate = !1)
              },
            }
          }
          function Vy(e, t, n, r) {
            var i = {},
              a = {},
              o = [],
              s = e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS)
            function u(e, t, n, r) {
              var i = e.value,
                a = t + '_' + n
              if (void 0 === r[a])
                return ((r[a] = 'number' == typeof i || 'boolean' == typeof i ? i : i.clone()), !0)
              var o = r[a]
              if ('number' == typeof i || 'boolean' == typeof i) {
                if (o !== i) return ((r[a] = i), !0)
              } else if (!1 === o.equals(i)) return (o.copy(i), !0)
              return !1
            }
            function l(e) {
              var t = { boundary: 0, storage: 0 }
              return (
                'number' == typeof e || 'boolean' == typeof e
                  ? ((t.boundary = 4), (t.storage = 4))
                  : e.isVector2
                    ? ((t.boundary = 8), (t.storage = 8))
                    : e.isVector3 || e.isColor
                      ? ((t.boundary = 16), (t.storage = 12))
                      : e.isVector4
                        ? ((t.boundary = 16), (t.storage = 16))
                        : e.isMatrix3
                          ? ((t.boundary = 48), (t.storage = 48))
                          : e.isMatrix4
                            ? ((t.boundary = 64), (t.storage = 64))
                            : e.isTexture
                              ? console.warn(
                                  'THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.'
                                )
                              : console.warn(
                                  'THREE.WebGLRenderer: Unsupported uniform value type.',
                                  e
                                ),
                t
              )
            }
            function c(t) {
              var n = t.target
              n.removeEventListener('dispose', c)
              var r = o.indexOf(n.__bindingPointIndex)
              ;(o.splice(r, 1), e.deleteBuffer(i[n.id]), delete i[n.id], delete a[n.id])
            }
            return {
              bind: function (e, t) {
                var n = t.program
                r.uniformBlockBinding(e, n)
              },
              update: function (n, d) {
                var h = i[n.id]
                void 0 === h &&
                  (!(function (e) {
                    for (var t = e.uniforms, n = 0, r = 16, i = 0, a = t.length; i < a; i++)
                      for (
                        var o = Array.isArray(t[i]) ? t[i] : [t[i]], s = 0, u = o.length;
                        s < u;
                        s++
                      )
                        for (
                          var c = o[s],
                            d = Array.isArray(c.value) ? c.value : [c.value],
                            h = 0,
                            f = d.length;
                          h < f;
                          h++
                        ) {
                          var p = l(d[h]),
                            v = n % r,
                            m = v % p.boundary,
                            g = v + m
                          ;((n += m),
                            0 !== g && r - g < p.storage && (n += r - g),
                            (c.__data = new Float32Array(
                              p.storage / Float32Array.BYTES_PER_ELEMENT
                            )),
                            (c.__offset = n),
                            (n += p.storage))
                        }
                    var y = n % r
                    y > 0 && (n += r - y)
                    ;((e.__size = n), (e.__cache = {}))
                  })(n),
                  (h = (function (t) {
                    var n = (function () {
                      for (var e = 0; e < s; e++) if (-1 === o.indexOf(e)) return (o.push(e), e)
                      return (
                        console.error(
                          'THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.'
                        ),
                        0
                      )
                    })()
                    t.__bindingPointIndex = n
                    var r = e.createBuffer(),
                      i = t.__size,
                      a = t.usage
                    return (
                      e.bindBuffer(e.UNIFORM_BUFFER, r),
                      e.bufferData(e.UNIFORM_BUFFER, i, a),
                      e.bindBuffer(e.UNIFORM_BUFFER, null),
                      e.bindBufferBase(e.UNIFORM_BUFFER, n, r),
                      r
                    )
                  })(n)),
                  (i[n.id] = h),
                  n.addEventListener('dispose', c))
                var f = d.program
                r.updateUBOMapping(n, f)
                var p = t.render.frame
                a[n.id] !== p &&
                  (!(function (t) {
                    var n = i[t.id],
                      r = t.uniforms,
                      a = t.__cache
                    e.bindBuffer(e.UNIFORM_BUFFER, n)
                    for (var o = 0, s = r.length; o < s; o++)
                      for (
                        var c = Array.isArray(r[o]) ? r[o] : [r[o]], d = 0, h = c.length;
                        d < h;
                        d++
                      ) {
                        var f = c[d]
                        if (!0 === u(f, o, d, a)) {
                          for (
                            var p = f.__offset,
                              v = Array.isArray(f.value) ? f.value : [f.value],
                              m = 0,
                              g = 0;
                            g < v.length;
                            g++
                          ) {
                            var y = v[g],
                              x = l(y)
                            'number' == typeof y || 'boolean' == typeof y
                              ? ((f.__data[0] = y),
                                e.bufferSubData(e.UNIFORM_BUFFER, p + m, f.__data))
                              : y.isMatrix3
                                ? ((f.__data[0] = y.elements[0]),
                                  (f.__data[1] = y.elements[1]),
                                  (f.__data[2] = y.elements[2]),
                                  (f.__data[3] = 0),
                                  (f.__data[4] = y.elements[3]),
                                  (f.__data[5] = y.elements[4]),
                                  (f.__data[6] = y.elements[5]),
                                  (f.__data[7] = 0),
                                  (f.__data[8] = y.elements[6]),
                                  (f.__data[9] = y.elements[7]),
                                  (f.__data[10] = y.elements[8]),
                                  (f.__data[11] = 0))
                                : (y.toArray(f.__data, m),
                                  (m += x.storage / Float32Array.BYTES_PER_ELEMENT))
                          }
                          e.bufferSubData(e.UNIFORM_BUFFER, p, f.__data)
                        }
                      }
                    e.bindBuffer(e.UNIFORM_BUFFER, null)
                  })(n),
                  (a[n.id] = p))
              },
              dispose: function () {
                for (var t in i) e.deleteBuffer(i[t])
                ;((o = []), (i = {}), (a = {}))
              },
            }
          }
          var Hy = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                  w(this, e)
                  var n,
                    r = t.canvas,
                    i =
                      void 0 === r
                        ? (function () {
                            var e = Xc('canvas')
                            return ((e.style.display = 'block'), e)
                          })()
                        : r,
                    a = t.context,
                    o = void 0 === a ? null : a,
                    s = t.depth,
                    u = void 0 === s || s,
                    l = t.stencil,
                    c = void 0 !== l && l,
                    d = t.alpha,
                    f = void 0 !== d && d,
                    p = t.antialias,
                    m = void 0 !== p && p,
                    g = t.premultipliedAlpha,
                    y = void 0 === g || g,
                    x = t.preserveDrawingBuffer,
                    _ = void 0 !== x && x,
                    b = t.powerPreference,
                    S = void 0 === b ? 'default' : b,
                    A = t.failIfMajorPerformanceCaveat,
                    T = void 0 !== A && A,
                    M = t.reverseDepthBuffer,
                    E = void 0 !== M && M
                  if (((this.isWebGLRenderer = !0), null !== o)) {
                    if (
                      'undefined' != typeof WebGLRenderingContext &&
                      o instanceof WebGLRenderingContext
                    )
                      throw new Error('THREE.WebGLRenderer: WebGL 1 is not supported since r163.')
                    n = o.getContextAttributes().alpha
                  } else n = f
                  var C = new Uint32Array(4),
                    k = new Int32Array(4),
                    R = null,
                    I = null,
                    N = [],
                    P = []
                  ;((this.domElement = i),
                    (this.debug = { checkShaderErrors: !0, onShaderError: null }),
                    (this.autoClear = !0),
                    (this.autoClearColor = !0),
                    (this.autoClearDepth = !0),
                    (this.autoClearStencil = !0),
                    (this.sortObjects = !0),
                    (this.clippingPlanes = []),
                    (this.localClippingEnabled = !1),
                    (this._outputColorSpace = Sc),
                    (this.toneMapping = 0),
                    (this.toneMappingExposure = 1))
                  var L = this,
                    D = !1,
                    O = 0,
                    F = 0,
                    B = null,
                    U = -1,
                    z = null,
                    V = new dd(),
                    H = new dd(),
                    W = null,
                    G = new Uh(0),
                    j = 0,
                    Q = i.width,
                    q = i.height,
                    X = 1,
                    Y = null,
                    K = null,
                    Z = new dd(0, 0, Q, q),
                    J = new dd(0, 0, Q, q),
                    $ = !1,
                    ee = new _p(),
                    te = !1,
                    ne = !1
                  this.transmissionResolutionScale = 1
                  var re = new qd(),
                    ie = new qd(),
                    ae = new gd(),
                    oe = new dd(),
                    se = {
                      background: null,
                      fog: null,
                      environment: null,
                      overrideMaterial: null,
                      isScene: !0,
                    },
                    ue = !1
                  function le() {
                    return null === B ? X : 1
                  }
                  var ce,
                    de,
                    he,
                    fe,
                    pe,
                    ve,
                    me,
                    ge,
                    ye,
                    xe,
                    _e,
                    be,
                    Se,
                    we,
                    Ae,
                    Te,
                    Me,
                    Ee,
                    Ce,
                    ke,
                    Re,
                    Ie,
                    Ne,
                    Pe,
                    Le = o
                  function De(e, t) {
                    return i.getContext(e, t)
                  }
                  try {
                    var Oe = {
                      alpha: !0,
                      depth: u,
                      stencil: c,
                      antialias: m,
                      premultipliedAlpha: y,
                      preserveDrawingBuffer: _,
                      powerPreference: S,
                      failIfMajorPerformanceCaveat: T,
                    }
                    if (
                      ('setAttribute' in i &&
                        i.setAttribute('data-engine', 'three.js r'.concat(Qu)),
                      i.addEventListener('webglcontextlost', ze, !1),
                      i.addEventListener('webglcontextrestored', Ve, !1),
                      i.addEventListener('webglcontextcreationerror', He, !1),
                      null === Le)
                    ) {
                      var Fe = 'webgl2'
                      if (null === (Le = De(Fe, Oe)))
                        throw De(Fe)
                          ? new Error('Error creating WebGL context with your selected attributes.')
                          : new Error('Error creating WebGL context.')
                    }
                  } catch (ot) {
                    throw (console.error('THREE.WebGLRenderer: ' + ot.message), ot)
                  }
                  function Be() {
                    ;((ce = new Um(Le)).init(),
                      (Ie = new Dy(Le, ce)),
                      (de = new xm(Le, ce, t, Ie)),
                      (he = new Py(Le, ce)),
                      de.reverseDepthBuffer && E && he.buffers.depth.setReversed(!0),
                      (fe = new Hm(Le)),
                      (pe = new _y()),
                      (ve = new Ly(Le, ce, he, pe, de, Ie, fe)),
                      (me = new bm(L)),
                      (ge = new Bm(L)),
                      (ye = new lm(Le)),
                      (Ne = new gm(Le, ye)),
                      (xe = new zm(Le, ye, fe, Ne)),
                      (_e = new Gm(Le, xe, ye, fe)),
                      (Ce = new Wm(Le, de, ve)),
                      (Te = new _m(pe)),
                      (be = new xy(L, me, ge, ce, de, Ne, Te)),
                      (Se = new zy(L, pe)),
                      (we = new Ay()),
                      (Ae = new Ry(ce)),
                      (Ee = new mm(L, me, ge, he, _e, n, y)),
                      (Me = new Iy(L, _e, de)),
                      (Pe = new Vy(Le, fe, de, he)),
                      (ke = new ym(Le, ce, fe)),
                      (Re = new Vm(Le, ce, fe)),
                      (fe.programs = be.programs),
                      (L.capabilities = de),
                      (L.extensions = ce),
                      (L.properties = pe),
                      (L.renderLists = we),
                      (L.shadowMap = Me),
                      (L.state = he),
                      (L.info = fe))
                  }
                  Be()
                  var Ue = new Fy(L, Le)
                  function ze(e) {
                    ;(e.preventDefault(),
                      console.log('THREE.WebGLRenderer: Context Lost.'),
                      (D = !0))
                  }
                  function Ve() {
                    ;(console.log('THREE.WebGLRenderer: Context Restored.'), (D = !1))
                    var e = fe.autoReset,
                      t = Me.enabled,
                      n = Me.autoUpdate,
                      r = Me.needsUpdate,
                      i = Me.type
                    ;(Be(),
                      (fe.autoReset = e),
                      (Me.enabled = t),
                      (Me.autoUpdate = n),
                      (Me.needsUpdate = r),
                      (Me.type = i))
                  }
                  function He(e) {
                    console.error(
                      'THREE.WebGLRenderer: A WebGL context could not be created. Reason: ',
                      e.statusMessage
                    )
                  }
                  function We(e) {
                    var t = e.target
                    ;(t.removeEventListener('dispose', We),
                      (function (e) {
                        ;((function (e) {
                          var t = pe.get(e).programs
                          void 0 !== t &&
                            (t.forEach(function (e) {
                              be.releaseProgram(e)
                            }),
                            e.isShaderMaterial && be.releaseShaderCache(e))
                        })(e),
                          pe.remove(e))
                      })(t))
                  }
                  function Ge(e, t, n) {
                    !0 === e.transparent && 2 === e.side && !1 === e.forceSinglePass
                      ? ((e.side = 1),
                        (e.needsUpdate = !0),
                        et(e, t, n),
                        (e.side = 0),
                        (e.needsUpdate = !0),
                        et(e, t, n),
                        (e.side = 2))
                      : et(e, t, n)
                  }
                  ;((this.xr = Ue),
                    (this.getContext = function () {
                      return Le
                    }),
                    (this.getContextAttributes = function () {
                      return Le.getContextAttributes()
                    }),
                    (this.forceContextLoss = function () {
                      var e = ce.get('WEBGL_lose_context')
                      e && e.loseContext()
                    }),
                    (this.forceContextRestore = function () {
                      var e = ce.get('WEBGL_lose_context')
                      e && e.restoreContext()
                    }),
                    (this.getPixelRatio = function () {
                      return X
                    }),
                    (this.setPixelRatio = function (e) {
                      void 0 !== e && ((X = e), this.setSize(Q, q, !1))
                    }),
                    (this.getSize = function (e) {
                      return e.set(Q, q)
                    }),
                    (this.setSize = function (e, t) {
                      var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]
                      Ue.isPresenting
                        ? console.warn(
                            "THREE.WebGLRenderer: Can't change size while VR device is presenting."
                          )
                        : ((Q = e),
                          (q = t),
                          (i.width = Math.floor(e * X)),
                          (i.height = Math.floor(t * X)),
                          !0 === n && ((i.style.width = e + 'px'), (i.style.height = t + 'px')),
                          this.setViewport(0, 0, e, t))
                    }),
                    (this.getDrawingBufferSize = function (e) {
                      return e.set(Q * X, q * X).floor()
                    }),
                    (this.setDrawingBufferSize = function (e, t, n) {
                      ;((Q = e),
                        (q = t),
                        (X = n),
                        (i.width = Math.floor(e * n)),
                        (i.height = Math.floor(t * n)),
                        this.setViewport(0, 0, e, t))
                    }),
                    (this.getCurrentViewport = function (e) {
                      return e.copy(V)
                    }),
                    (this.getViewport = function (e) {
                      return e.copy(Z)
                    }),
                    (this.setViewport = function (e, t, n, r) {
                      ;(e.isVector4 ? Z.set(e.x, e.y, e.z, e.w) : Z.set(e, t, n, r),
                        he.viewport(V.copy(Z).multiplyScalar(X).round()))
                    }),
                    (this.getScissor = function (e) {
                      return e.copy(J)
                    }),
                    (this.setScissor = function (e, t, n, r) {
                      ;(e.isVector4 ? J.set(e.x, e.y, e.z, e.w) : J.set(e, t, n, r),
                        he.scissor(H.copy(J).multiplyScalar(X).round()))
                    }),
                    (this.getScissorTest = function () {
                      return $
                    }),
                    (this.setScissorTest = function (e) {
                      he.setScissorTest(($ = e))
                    }),
                    (this.setOpaqueSort = function (e) {
                      Y = e
                    }),
                    (this.setTransparentSort = function (e) {
                      K = e
                    }),
                    (this.getClearColor = function (e) {
                      return e.copy(Ee.getClearColor())
                    }),
                    (this.setClearColor = function () {
                      Ee.setClearColor.apply(Ee, arguments)
                    }),
                    (this.getClearAlpha = function () {
                      return Ee.getClearAlpha()
                    }),
                    (this.setClearAlpha = function () {
                      Ee.setClearAlpha.apply(Ee, arguments)
                    }),
                    (this.clear = function () {
                      var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        t = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                        n = 0
                      if (!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) {
                        var r = !1
                        if (null !== B) {
                          var i = B.texture.format
                          r = i === Ll || i === Pl || i === Il
                        }
                        if (r) {
                          var a = B.texture.type,
                            o =
                              a === vl || a === _l || a === yl || a === Tl || a === wl || a === Al,
                            s = Ee.getClearColor(),
                            u = Ee.getClearAlpha(),
                            l = s.r,
                            c = s.g,
                            d = s.b
                          o
                            ? ((C[0] = l),
                              (C[1] = c),
                              (C[2] = d),
                              (C[3] = u),
                              Le.clearBufferuiv(Le.COLOR, 0, C))
                            : ((k[0] = l),
                              (k[1] = c),
                              (k[2] = d),
                              (k[3] = u),
                              Le.clearBufferiv(Le.COLOR, 0, k))
                        } else n |= Le.COLOR_BUFFER_BIT
                      }
                      ;(e && (n |= Le.DEPTH_BUFFER_BIT),
                        t &&
                          ((n |= Le.STENCIL_BUFFER_BIT),
                          this.state.buffers.stencil.setMask(4294967295)),
                        Le.clear(n))
                    }),
                    (this.clearColor = function () {
                      this.clear(!0, !1, !1)
                    }),
                    (this.clearDepth = function () {
                      this.clear(!1, !0, !1)
                    }),
                    (this.clearStencil = function () {
                      this.clear(!1, !1, !0)
                    }),
                    (this.dispose = function () {
                      ;(i.removeEventListener('webglcontextlost', ze, !1),
                        i.removeEventListener('webglcontextrestored', Ve, !1),
                        i.removeEventListener('webglcontextcreationerror', He, !1),
                        Ee.dispose(),
                        we.dispose(),
                        Ae.dispose(),
                        pe.dispose(),
                        me.dispose(),
                        ge.dispose(),
                        _e.dispose(),
                        Ne.dispose(),
                        Pe.dispose(),
                        be.dispose(),
                        Ue.dispose(),
                        Ue.removeEventListener('sessionstart', Qe),
                        Ue.removeEventListener('sessionend', qe),
                        Xe.stop())
                    }),
                    (this.renderBufferDirect = function (e, t, n, r, i, a) {
                      null === t && (t = se)
                      var o = i.isMesh && i.matrixWorld.determinant() < 0,
                        s = (function (e, t, n, r, i) {
                          !0 !== t.isScene && (t = se)
                          ve.resetTextureUnits()
                          var a = t.fog,
                            o = r.isMeshStandardMaterial ? t.environment : null,
                            s =
                              null === B
                                ? L.outputColorSpace
                                : !0 === B.isXRRenderTarget
                                  ? B.texture.colorSpace
                                  : wc,
                            u = (r.isMeshStandardMaterial ? ge : me).get(r.envMap || o),
                            l =
                              !0 === r.vertexColors &&
                              !!n.attributes.color &&
                              4 === n.attributes.color.itemSize,
                            c = !!n.attributes.tangent && (!!r.normalMap || r.anisotropy > 0),
                            d = !!n.morphAttributes.position,
                            h = !!n.morphAttributes.normal,
                            f = !!n.morphAttributes.color,
                            p = 0
                          r.toneMapped &&
                            ((null !== B && !0 !== B.isXRRenderTarget) || (p = L.toneMapping))
                          var v =
                              n.morphAttributes.position ||
                              n.morphAttributes.normal ||
                              n.morphAttributes.color,
                            m = void 0 !== v ? v.length : 0,
                            g = pe.get(r),
                            y = I.state.lights
                          if (!0 === te && (!0 === ne || e !== z)) {
                            var x = e === z && r.id === U
                            Te.setState(r, e, x)
                          }
                          var _ = !1
                          r.version === g.__version
                            ? (g.needsLights && g.lightsStateVersion !== y.state.version) ||
                              g.outputColorSpace !== s ||
                              (i.isBatchedMesh && !1 === g.batching)
                              ? (_ = !0)
                              : i.isBatchedMesh || !0 !== g.batching
                                ? (i.isBatchedMesh &&
                                    !0 === g.batchingColor &&
                                    null === i.colorTexture) ||
                                  (i.isBatchedMesh &&
                                    !1 === g.batchingColor &&
                                    null !== i.colorTexture) ||
                                  (i.isInstancedMesh && !1 === g.instancing)
                                  ? (_ = !0)
                                  : i.isInstancedMesh || !0 !== g.instancing
                                    ? i.isSkinnedMesh && !1 === g.skinning
                                      ? (_ = !0)
                                      : i.isSkinnedMesh || !0 !== g.skinning
                                        ? (i.isInstancedMesh &&
                                            !0 === g.instancingColor &&
                                            null === i.instanceColor) ||
                                          (i.isInstancedMesh &&
                                            !1 === g.instancingColor &&
                                            null !== i.instanceColor) ||
                                          (i.isInstancedMesh &&
                                            !0 === g.instancingMorph &&
                                            null === i.morphTexture) ||
                                          (i.isInstancedMesh &&
                                            !1 === g.instancingMorph &&
                                            null !== i.morphTexture) ||
                                          g.envMap !== u ||
                                          (!0 === r.fog && g.fog !== a)
                                          ? (_ = !0)
                                          : void 0 === g.numClippingPlanes ||
                                              (g.numClippingPlanes === Te.numPlanes &&
                                                g.numIntersection === Te.numIntersection)
                                            ? (g.vertexAlphas !== l ||
                                                g.vertexTangents !== c ||
                                                g.morphTargets !== d ||
                                                g.morphNormals !== h ||
                                                g.morphColors !== f ||
                                                g.toneMapping !== p ||
                                                g.morphTargetsCount !== m) &&
                                              (_ = !0)
                                            : (_ = !0)
                                        : (_ = !0)
                                    : (_ = !0)
                                : (_ = !0)
                            : ((_ = !0), (g.__version = r.version))
                          var b = g.currentProgram
                          !0 === _ && (b = et(r, t, i))
                          var S = !1,
                            w = !1,
                            A = !1,
                            T = b.getUniforms(),
                            M = g.uniforms
                          he.useProgram(b.program) && ((S = !0), (w = !0), (A = !0))
                          r.id !== U && ((U = r.id), (w = !0))
                          if (S || z !== e) {
                            ;(he.buffers.depth.getReversed()
                              ? (re.copy(e.projectionMatrix),
                                (function (e) {
                                  var t = e.elements
                                  ;((t[2] = 0.5 * t[2] + 0.5 * t[3]),
                                    (t[6] = 0.5 * t[6] + 0.5 * t[7]),
                                    (t[10] = 0.5 * t[10] + 0.5 * t[11]),
                                    (t[14] = 0.5 * t[14] + 0.5 * t[15]))
                                })(re),
                                (function (e) {
                                  var t = e.elements
                                  ;-1 === t[11]
                                    ? ((t[10] = -t[10] - 1), (t[14] = -t[14]))
                                    : ((t[10] = -t[10]), (t[14] = 1 - t[14]))
                                })(re),
                                T.setValue(Le, 'projectionMatrix', re))
                              : T.setValue(Le, 'projectionMatrix', e.projectionMatrix),
                              T.setValue(Le, 'viewMatrix', e.matrixWorldInverse))
                            var E = T.map.cameraPosition
                            ;(void 0 !== E &&
                              E.setValue(Le, ae.setFromMatrixPosition(e.matrixWorld)),
                              de.logarithmicDepthBuffer &&
                                T.setValue(
                                  Le,
                                  'logDepthBufFC',
                                  2 / (Math.log(e.far + 1) / Math.LN2)
                                ),
                              (r.isMeshPhongMaterial ||
                                r.isMeshToonMaterial ||
                                r.isMeshLambertMaterial ||
                                r.isMeshBasicMaterial ||
                                r.isMeshStandardMaterial ||
                                r.isShaderMaterial) &&
                                T.setValue(Le, 'isOrthographic', !0 === e.isOrthographicCamera),
                              z !== e && ((z = e), (w = !0), (A = !0)))
                          }
                          if (i.isSkinnedMesh) {
                            ;(T.setOptional(Le, i, 'bindMatrix'),
                              T.setOptional(Le, i, 'bindMatrixInverse'))
                            var C = i.skeleton
                            C &&
                              (null === C.boneTexture && C.computeBoneTexture(),
                              T.setValue(Le, 'boneTexture', C.boneTexture, ve))
                          }
                          i.isBatchedMesh &&
                            (T.setOptional(Le, i, 'batchingTexture'),
                            T.setValue(Le, 'batchingTexture', i._matricesTexture, ve),
                            T.setOptional(Le, i, 'batchingIdTexture'),
                            T.setValue(Le, 'batchingIdTexture', i._indirectTexture, ve),
                            T.setOptional(Le, i, 'batchingColorTexture'),
                            null !== i._colorsTexture &&
                              T.setValue(Le, 'batchingColorTexture', i._colorsTexture, ve))
                          var k = n.morphAttributes
                          ;(void 0 === k.position && void 0 === k.normal && void 0 === k.color) ||
                            Ce.update(i, n, b)
                          ;(w || g.receiveShadow !== i.receiveShadow) &&
                            ((g.receiveShadow = i.receiveShadow),
                            T.setValue(Le, 'receiveShadow', i.receiveShadow))
                          r.isMeshGouraudMaterial &&
                            null !== r.envMap &&
                            ((M.envMap.value = u),
                            (M.flipEnvMap.value =
                              u.isCubeTexture && !1 === u.isRenderTargetTexture ? -1 : 1))
                          r.isMeshStandardMaterial &&
                            null === r.envMap &&
                            null !== t.environment &&
                            (M.envMapIntensity.value = t.environmentIntensity)
                          w &&
                            (T.setValue(Le, 'toneMappingExposure', L.toneMappingExposure),
                            g.needsLights &&
                              (function (e, t) {
                                ;((e.ambientLightColor.needsUpdate = t),
                                  (e.lightProbe.needsUpdate = t),
                                  (e.directionalLights.needsUpdate = t),
                                  (e.directionalLightShadows.needsUpdate = t),
                                  (e.pointLights.needsUpdate = t),
                                  (e.pointLightShadows.needsUpdate = t),
                                  (e.spotLights.needsUpdate = t),
                                  (e.spotLightShadows.needsUpdate = t),
                                  (e.rectAreaLights.needsUpdate = t),
                                  (e.hemisphereLights.needsUpdate = t))
                              })(M, A),
                            a && !0 === r.fog && Se.refreshFogUniforms(M, a),
                            Se.refreshMaterialUniforms(
                              M,
                              r,
                              X,
                              q,
                              I.state.transmissionRenderTarget[e.id]
                            ),
                            Yg.upload(Le, tt(g), M, ve))
                          r.isShaderMaterial &&
                            !0 === r.uniformsNeedUpdate &&
                            (Yg.upload(Le, tt(g), M, ve), (r.uniformsNeedUpdate = !1))
                          r.isSpriteMaterial && T.setValue(Le, 'center', i.center)
                          if (
                            (T.setValue(Le, 'modelViewMatrix', i.modelViewMatrix),
                            T.setValue(Le, 'normalMatrix', i.normalMatrix),
                            T.setValue(Le, 'modelMatrix', i.matrixWorld),
                            r.isShaderMaterial || r.isRawShaderMaterial)
                          )
                            for (var R = r.uniformsGroups, N = 0, P = R.length; N < P; N++) {
                              var D = R[N]
                              ;(Pe.update(D, b), Pe.bind(D, b))
                            }
                          return b
                        })(e, t, n, r, i)
                      he.setMaterial(r, o)
                      var u = n.index,
                        l = 1
                      if (!0 === r.wireframe) {
                        if (void 0 === (u = xe.getWireframeAttribute(n))) return
                        l = 2
                      }
                      var c = n.drawRange,
                        d = n.attributes.position,
                        h = c.start * l,
                        f = (c.start + c.count) * l
                      ;(null !== a &&
                        ((h = Math.max(h, a.start * l)),
                        (f = Math.min(f, (a.start + a.count) * l))),
                        null !== u
                          ? ((h = Math.max(h, 0)), (f = Math.min(f, u.count)))
                          : null != d && ((h = Math.max(h, 0)), (f = Math.min(f, d.count))))
                      var p = f - h
                      if (!(p < 0 || p === 1 / 0)) {
                        var v
                        Ne.setup(i, r, s, n, u)
                        var m = ke
                        if ((null !== u && ((v = ye.get(u)), (m = Re).setIndex(v)), i.isMesh))
                          !0 === r.wireframe
                            ? (he.setLineWidth(r.wireframeLinewidth * le()), m.setMode(Le.LINES))
                            : m.setMode(Le.TRIANGLES)
                        else if (i.isLine) {
                          var g = r.linewidth
                          ;(void 0 === g && (g = 1),
                            he.setLineWidth(g * le()),
                            i.isLineSegments
                              ? m.setMode(Le.LINES)
                              : i.isLineLoop
                                ? m.setMode(Le.LINE_LOOP)
                                : m.setMode(Le.LINE_STRIP))
                        } else
                          i.isPoints ? m.setMode(Le.POINTS) : i.isSprite && m.setMode(Le.TRIANGLES)
                        if (i.isBatchedMesh)
                          if (null !== i._multiDrawInstances)
                            m.renderMultiDrawInstances(
                              i._multiDrawStarts,
                              i._multiDrawCounts,
                              i._multiDrawCount,
                              i._multiDrawInstances
                            )
                          else if (ce.get('WEBGL_multi_draw'))
                            m.renderMultiDraw(
                              i._multiDrawStarts,
                              i._multiDrawCounts,
                              i._multiDrawCount
                            )
                          else
                            for (
                              var y = i._multiDrawStarts,
                                x = i._multiDrawCounts,
                                _ = i._multiDrawCount,
                                b = u ? ye.get(u).bytesPerElement : 1,
                                S = pe.get(r).currentProgram.getUniforms(),
                                w = 0;
                              w < _;
                              w++
                            )
                              (S.setValue(Le, '_gl_DrawID', w), m.render(y[w] / b, x[w]))
                        else if (i.isInstancedMesh) m.renderInstances(h, p, i.count)
                        else if (n.isInstancedBufferGeometry) {
                          var A = void 0 !== n._maxInstanceCount ? n._maxInstanceCount : 1 / 0,
                            T = Math.min(n.instanceCount, A)
                          m.renderInstances(h, p, T)
                        } else m.render(h, p)
                      }
                    }),
                    (this.compile = function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                      ;(null === n && (n = e),
                        (I = Ae.get(n)).init(t),
                        P.push(I),
                        n.traverseVisible(function (e) {
                          e.isLight &&
                            e.layers.test(t.layers) &&
                            (I.pushLight(e), e.castShadow && I.pushShadow(e))
                        }),
                        e !== n &&
                          e.traverseVisible(function (e) {
                            e.isLight &&
                              e.layers.test(t.layers) &&
                              (I.pushLight(e), e.castShadow && I.pushShadow(e))
                          }),
                        I.setupLights())
                      var r = new Set()
                      return (
                        e.traverse(function (e) {
                          if (e.isMesh || e.isPoints || e.isLine || e.isSprite) {
                            var t = e.material
                            if (t)
                              if (Array.isArray(t))
                                for (var i = 0; i < t.length; i++) {
                                  var a = t[i]
                                  ;(Ge(a, n, e), r.add(a))
                                }
                              else (Ge(t, n, e), r.add(t))
                          }
                        }),
                        P.pop(),
                        (I = null),
                        r
                      )
                    }),
                    (this.compileAsync = function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        r = this.compile(e, t, n)
                      return new Promise(function (t) {
                        function n() {
                          ;(r.forEach(function (e) {
                            pe.get(e).currentProgram.isReady() && r.delete(e)
                          }),
                            0 !== r.size ? setTimeout(n, 10) : t(e))
                        }
                        null !== ce.get('KHR_parallel_shader_compile') ? n() : setTimeout(n, 10)
                      })
                    }))
                  var je = null
                  function Qe() {
                    Xe.stop()
                  }
                  function qe() {
                    Xe.start()
                  }
                  var Xe = new um()
                  function Ye(e, t, n, r) {
                    if (!1 !== e.visible) {
                      if (e.layers.test(t.layers))
                        if (e.isGroup) n = e.renderOrder
                        else if (e.isLOD) !0 === e.autoUpdate && e.update(t)
                        else if (e.isLight) (I.pushLight(e), e.castShadow && I.pushShadow(e))
                        else if (e.isSprite) {
                          if (!e.frustumCulled || ee.intersectsSprite(e)) {
                            r && oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ie)
                            var i = _e.update(e),
                              a = e.material
                            a.visible && R.push(e, i, a, n, oe.z, null)
                          }
                        } else if (
                          (e.isMesh || e.isLine || e.isPoints) &&
                          (!e.frustumCulled || ee.intersectsObject(e))
                        ) {
                          var o = _e.update(e),
                            s = e.material
                          if (
                            (r &&
                              (void 0 !== e.boundingSphere
                                ? (null === e.boundingSphere && e.computeBoundingSphere(),
                                  oe.copy(e.boundingSphere.center))
                                : (null === o.boundingSphere && o.computeBoundingSphere(),
                                  oe.copy(o.boundingSphere.center)),
                              oe.applyMatrix4(e.matrixWorld).applyMatrix4(ie)),
                            Array.isArray(s))
                          )
                            for (var u = o.groups, l = 0, c = u.length; l < c; l++) {
                              var d = u[l],
                                h = s[d.materialIndex]
                              h && h.visible && R.push(e, o, h, n, oe.z, d)
                            }
                          else s.visible && R.push(e, o, s, n, oe.z, null)
                        }
                      for (var f = e.children, p = 0, v = f.length; p < v; p++) Ye(f[p], t, n, r)
                    }
                  }
                  function Ke(e, t, n, r) {
                    var i = e.opaque,
                      a = e.transmissive,
                      o = e.transparent
                    ;(I.setupLightsView(n),
                      !0 === te && Te.setGlobalState(L.clippingPlanes, n),
                      r && he.viewport(V.copy(r)),
                      i.length > 0 && Je(i, t, n),
                      a.length > 0 && Je(a, t, n),
                      o.length > 0 && Je(o, t, n),
                      he.buffers.depth.setTest(!0),
                      he.buffers.depth.setMask(!0),
                      he.buffers.color.setMask(!0),
                      he.setPolygonOffset(!1))
                  }
                  function Ze(e, t, n, r) {
                    if (null === (!0 === n.isScene ? n.overrideMaterial : null)) {
                      void 0 === I.state.transmissionRenderTarget[r.id] &&
                        (I.state.transmissionRenderTarget[r.id] = new fd(1, 1, {
                          generateMipmaps: !0,
                          type:
                            ce.has('EXT_color_buffer_half_float') ||
                            ce.has('EXT_color_buffer_float')
                              ? Sl
                              : vl,
                          minFilter: pl,
                          samples: 4,
                          stencilBuffer: c,
                          resolveDepthBuffer: !1,
                          resolveStencilBuffer: !1,
                          colorSpace: nd.workingColorSpace,
                        }))
                      var i = I.state.transmissionRenderTarget[r.id],
                        a = r.viewport || V
                      i.setSize(
                        a.z * L.transmissionResolutionScale,
                        a.w * L.transmissionResolutionScale
                      )
                      var o = L.getRenderTarget()
                      ;(L.setRenderTarget(i),
                        L.getClearColor(G),
                        (j = L.getClearAlpha()) < 1 && L.setClearColor(16777215, 0.5),
                        L.clear(),
                        ue && Ee.render(n))
                      var s = L.toneMapping
                      L.toneMapping = 0
                      var u = r.viewport
                      if (
                        (void 0 !== r.viewport && (r.viewport = void 0),
                        I.setupLightsView(r),
                        !0 === te && Te.setGlobalState(L.clippingPlanes, r),
                        Je(e, n, r),
                        ve.updateMultisampleRenderTarget(i),
                        ve.updateRenderTargetMipmap(i),
                        !1 === ce.has('WEBGL_multisampled_render_to_texture'))
                      ) {
                        for (var l = !1, d = 0, h = t.length; d < h; d++) {
                          var f = t[d],
                            p = f.object,
                            v = f.geometry,
                            m = f.material,
                            g = f.group
                          if (2 === m.side && p.layers.test(r.layers)) {
                            var y = m.side
                            ;((m.side = 1),
                              (m.needsUpdate = !0),
                              $e(p, n, r, v, m, g),
                              (m.side = y),
                              (m.needsUpdate = !0),
                              (l = !0))
                          }
                        }
                        !0 === l &&
                          (ve.updateMultisampleRenderTarget(i), ve.updateRenderTargetMipmap(i))
                      }
                      ;(L.setRenderTarget(o),
                        L.setClearColor(G, j),
                        void 0 !== u && (r.viewport = u),
                        (L.toneMapping = s))
                    }
                  }
                  function Je(e, t, n) {
                    for (
                      var r = !0 === t.isScene ? t.overrideMaterial : null, i = 0, a = e.length;
                      i < a;
                      i++
                    ) {
                      var o = e[i],
                        s = o.object,
                        u = o.geometry,
                        l = null === r ? o.material : r,
                        c = o.group
                      s.layers.test(n.layers) && $e(s, t, n, u, l, c)
                    }
                  }
                  function $e(e, t, n, r, i, a) {
                    ;(e.onBeforeRender(L, t, n, r, i, a),
                      e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e.matrixWorld),
                      e.normalMatrix.getNormalMatrix(e.modelViewMatrix),
                      i.onBeforeRender(L, t, n, r, e, a),
                      !0 === i.transparent && 2 === i.side && !1 === i.forceSinglePass
                        ? ((i.side = 1),
                          (i.needsUpdate = !0),
                          L.renderBufferDirect(n, t, r, i, e, a),
                          (i.side = 0),
                          (i.needsUpdate = !0),
                          L.renderBufferDirect(n, t, r, i, e, a),
                          (i.side = 2))
                        : L.renderBufferDirect(n, t, r, i, e, a),
                      e.onAfterRender(L, t, n, r, i, a))
                  }
                  function et(e, t, n) {
                    !0 !== t.isScene && (t = se)
                    var r = pe.get(e),
                      i = I.state.lights,
                      a = I.state.shadowsArray,
                      o = i.state.version,
                      s = be.getParameters(e, i.state, a, t, n),
                      u = be.getProgramCacheKey(s),
                      l = r.programs
                    ;((r.environment = e.isMeshStandardMaterial ? t.environment : null),
                      (r.fog = t.fog),
                      (r.envMap = (e.isMeshStandardMaterial ? ge : me).get(
                        e.envMap || r.environment
                      )),
                      (r.envMapRotation =
                        null !== r.environment && null === e.envMap
                          ? t.environmentRotation
                          : e.envMapRotation),
                      void 0 === l &&
                        (e.addEventListener('dispose', We), (l = new Map()), (r.programs = l)))
                    var c = l.get(u)
                    if (void 0 !== c) {
                      if (r.currentProgram === c && r.lightsStateVersion === o) return (nt(e, s), c)
                    } else
                      ((s.uniforms = be.getUniforms(e)),
                        e.onBeforeCompile(s, L),
                        (c = be.acquireProgram(s, u)),
                        l.set(u, c),
                        (r.uniforms = s.uniforms))
                    var d = r.uniforms
                    return (
                      ((e.isShaderMaterial || e.isRawShaderMaterial) && !0 !== e.clipping) ||
                        (d.clippingPlanes = Te.uniform),
                      nt(e, s),
                      (r.needsLights = (function (e) {
                        return (
                          e.isMeshLambertMaterial ||
                          e.isMeshToonMaterial ||
                          e.isMeshPhongMaterial ||
                          e.isMeshStandardMaterial ||
                          e.isShadowMaterial ||
                          (e.isShaderMaterial && !0 === e.lights)
                        )
                      })(e)),
                      (r.lightsStateVersion = o),
                      r.needsLights &&
                        ((d.ambientLightColor.value = i.state.ambient),
                        (d.lightProbe.value = i.state.probe),
                        (d.directionalLights.value = i.state.directional),
                        (d.directionalLightShadows.value = i.state.directionalShadow),
                        (d.spotLights.value = i.state.spot),
                        (d.spotLightShadows.value = i.state.spotShadow),
                        (d.rectAreaLights.value = i.state.rectArea),
                        (d.ltc_1.value = i.state.rectAreaLTC1),
                        (d.ltc_2.value = i.state.rectAreaLTC2),
                        (d.pointLights.value = i.state.point),
                        (d.pointLightShadows.value = i.state.pointShadow),
                        (d.hemisphereLights.value = i.state.hemi),
                        (d.directionalShadowMap.value = i.state.directionalShadowMap),
                        (d.directionalShadowMatrix.value = i.state.directionalShadowMatrix),
                        (d.spotShadowMap.value = i.state.spotShadowMap),
                        (d.spotLightMatrix.value = i.state.spotLightMatrix),
                        (d.spotLightMap.value = i.state.spotLightMap),
                        (d.pointShadowMap.value = i.state.pointShadowMap),
                        (d.pointShadowMatrix.value = i.state.pointShadowMatrix)),
                      (r.currentProgram = c),
                      (r.uniformsList = null),
                      c
                    )
                  }
                  function tt(e) {
                    if (null === e.uniformsList) {
                      var t = e.currentProgram.getUniforms()
                      e.uniformsList = Yg.seqWithValue(t.seq, e.uniforms)
                    }
                    return e.uniformsList
                  }
                  function nt(e, t) {
                    var n = pe.get(e)
                    ;((n.outputColorSpace = t.outputColorSpace),
                      (n.batching = t.batching),
                      (n.batchingColor = t.batchingColor),
                      (n.instancing = t.instancing),
                      (n.instancingColor = t.instancingColor),
                      (n.instancingMorph = t.instancingMorph),
                      (n.skinning = t.skinning),
                      (n.morphTargets = t.morphTargets),
                      (n.morphNormals = t.morphNormals),
                      (n.morphColors = t.morphColors),
                      (n.morphTargetsCount = t.morphTargetsCount),
                      (n.numClippingPlanes = t.numClippingPlanes),
                      (n.numIntersection = t.numClipIntersection),
                      (n.vertexAlphas = t.vertexAlphas),
                      (n.vertexTangents = t.vertexTangents),
                      (n.toneMapping = t.toneMapping))
                  }
                  ;(Xe.setAnimationLoop(function (e) {
                    je && je(e)
                  }),
                    'undefined' != typeof self && Xe.setContext(self),
                    (this.setAnimationLoop = function (e) {
                      ;((je = e), Ue.setAnimationLoop(e), null === e ? Xe.stop() : Xe.start())
                    }),
                    Ue.addEventListener('sessionstart', Qe),
                    Ue.addEventListener('sessionend', qe),
                    (this.render = function (e, t) {
                      if (void 0 === t || !0 === t.isCamera) {
                        if (!0 !== D) {
                          if (
                            (!0 === e.matrixWorldAutoUpdate && e.updateMatrixWorld(),
                            null === t.parent &&
                              !0 === t.matrixWorldAutoUpdate &&
                              t.updateMatrixWorld(),
                            !0 === Ue.enabled &&
                              !0 === Ue.isPresenting &&
                              (!0 === Ue.cameraAutoUpdate && Ue.updateCamera(t),
                              (t = Ue.getCamera())),
                            !0 === e.isScene && e.onBeforeRender(L, e, t, B),
                            (I = Ae.get(e, P.length)).init(t),
                            P.push(I),
                            ie.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse),
                            ee.setFromProjectionMatrix(ie),
                            (ne = this.localClippingEnabled),
                            (te = Te.init(this.clippingPlanes, ne)),
                            (R = we.get(e, N.length)).init(),
                            N.push(R),
                            !0 === Ue.enabled && !0 === Ue.isPresenting)
                          ) {
                            var n = L.xr.getDepthSensingMesh()
                            null !== n && Ye(n, t, -1 / 0, L.sortObjects)
                          }
                          ;(Ye(e, t, 0, L.sortObjects),
                            R.finish(),
                            !0 === L.sortObjects && R.sort(Y, K),
                            (ue =
                              !1 === Ue.enabled ||
                              !1 === Ue.isPresenting ||
                              !1 === Ue.hasDepthSensing()) && Ee.addToRenderList(R, e),
                            this.info.render.frame++,
                            !0 === te && Te.beginShadows())
                          var r = I.state.shadowsArray
                          ;(Me.render(r, e, t),
                            !0 === te && Te.endShadows(),
                            !0 === this.info.autoReset && this.info.reset())
                          var i = R.opaque,
                            a = R.transmissive
                          if ((I.setupLights(), t.isArrayCamera)) {
                            var o = t.cameras
                            if (a.length > 0)
                              for (var s = 0, u = o.length; s < u; s++) {
                                Ze(i, a, e, o[s])
                              }
                            ue && Ee.render(e)
                            for (var l = 0, c = o.length; l < c; l++) {
                              var d = o[l]
                              Ke(R, e, d, d.viewport)
                            }
                          } else (a.length > 0 && Ze(i, a, e, t), ue && Ee.render(e), Ke(R, e, t))
                          ;(null !== B &&
                            0 === F &&
                            (ve.updateMultisampleRenderTarget(B), ve.updateRenderTargetMipmap(B)),
                            !0 === e.isScene && e.onAfterRender(L, e, t),
                            Ne.resetDefaultState(),
                            (U = -1),
                            (z = null),
                            P.pop(),
                            P.length > 0
                              ? ((I = P[P.length - 1]),
                                !0 === te && Te.setGlobalState(L.clippingPlanes, I.state.camera))
                              : (I = null),
                            N.pop(),
                            (R = N.length > 0 ? N[N.length - 1] : null))
                        }
                      } else
                        console.error(
                          'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.'
                        )
                    }),
                    (this.getActiveCubeFace = function () {
                      return O
                    }),
                    (this.getActiveMipmapLevel = function () {
                      return F
                    }),
                    (this.getRenderTarget = function () {
                      return B
                    }),
                    (this.setRenderTargetTextures = function (e, t, n) {
                      ;((pe.get(e.texture).__webglTexture = t),
                        (pe.get(e.depthTexture).__webglTexture = n))
                      var r = pe.get(e)
                      ;((r.__hasExternalTextures = !0),
                        (r.__autoAllocateDepthBuffer = void 0 === n),
                        r.__autoAllocateDepthBuffer ||
                          (!0 === ce.has('WEBGL_multisampled_render_to_texture') &&
                            (console.warn(
                              'THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided'
                            ),
                            (r.__useRenderToTexture = !1))))
                    }),
                    (this.setRenderTargetFramebuffer = function (e, t) {
                      var n = pe.get(e)
                      ;((n.__webglFramebuffer = t), (n.__useDefaultFramebuffer = void 0 === t))
                    }))
                  var rt = Le.createFramebuffer()
                  ;((this.setRenderTarget = function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                      n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                    ;((B = e), (O = t), (F = n))
                    var r = !0,
                      i = null,
                      a = !1,
                      o = !1
                    if (e) {
                      var s = pe.get(e)
                      if (void 0 !== s.__useDefaultFramebuffer)
                        (he.bindFramebuffer(Le.FRAMEBUFFER, null), (r = !1))
                      else if (void 0 === s.__webglFramebuffer) ve.setupRenderTarget(e)
                      else if (s.__hasExternalTextures)
                        ve.rebindTextures(
                          e,
                          pe.get(e.texture).__webglTexture,
                          pe.get(e.depthTexture).__webglTexture
                        )
                      else if (e.depthBuffer) {
                        var u = e.depthTexture
                        if (s.__boundDepthTexture !== u) {
                          if (
                            null !== u &&
                            pe.has(u) &&
                            (e.width !== u.image.width || e.height !== u.image.height)
                          )
                            throw new Error(
                              'WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.'
                            )
                          ve.setupDepthRenderbuffer(e)
                        }
                      }
                      var l = e.texture
                      ;(l.isData3DTexture || l.isDataArrayTexture || l.isCompressedArrayTexture) &&
                        (o = !0)
                      var c = pe.get(e).__webglFramebuffer
                      ;(e.isWebGLCubeRenderTarget
                        ? ((i = Array.isArray(c[t]) ? c[t][n] : c[t]), (a = !0))
                        : (i =
                            e.samples > 0 && !1 === ve.useMultisampledRTT(e)
                              ? pe.get(e).__webglMultisampledFramebuffer
                              : Array.isArray(c)
                                ? c[n]
                                : c),
                        V.copy(e.viewport),
                        H.copy(e.scissor),
                        (W = e.scissorTest))
                    } else
                      (V.copy(Z).multiplyScalar(X).floor(),
                        H.copy(J).multiplyScalar(X).floor(),
                        (W = $))
                    if (
                      (0 !== n && (i = rt),
                      he.bindFramebuffer(Le.FRAMEBUFFER, i) && r && he.drawBuffers(e, i),
                      he.viewport(V),
                      he.scissor(H),
                      he.setScissorTest(W),
                      a)
                    ) {
                      var d = pe.get(e.texture)
                      Le.framebufferTexture2D(
                        Le.FRAMEBUFFER,
                        Le.COLOR_ATTACHMENT0,
                        Le.TEXTURE_CUBE_MAP_POSITIVE_X + t,
                        d.__webglTexture,
                        n
                      )
                    } else if (o) {
                      var h = pe.get(e.texture),
                        f = t
                      Le.framebufferTextureLayer(
                        Le.FRAMEBUFFER,
                        Le.COLOR_ATTACHMENT0,
                        h.__webglTexture,
                        n,
                        f
                      )
                    } else if (null !== e && 0 !== n) {
                      var p = pe.get(e.texture)
                      Le.framebufferTexture2D(
                        Le.FRAMEBUFFER,
                        Le.COLOR_ATTACHMENT0,
                        Le.TEXTURE_2D,
                        p.__webglTexture,
                        n
                      )
                    }
                    U = -1
                  }),
                    (this.readRenderTargetPixels = function (e, t, n, r, i, a, o) {
                      if (e && e.isWebGLRenderTarget) {
                        var s = pe.get(e).__webglFramebuffer
                        if ((e.isWebGLCubeRenderTarget && void 0 !== o && (s = s[o]), s)) {
                          he.bindFramebuffer(Le.FRAMEBUFFER, s)
                          try {
                            var u = e.texture,
                              l = u.format,
                              c = u.type
                            if (!de.textureFormatReadable(l))
                              return void console.error(
                                'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.'
                              )
                            if (!de.textureTypeReadable(c))
                              return void console.error(
                                'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.'
                              )
                            t >= 0 &&
                              t <= e.width - r &&
                              n >= 0 &&
                              n <= e.height - i &&
                              Le.readPixels(t, n, r, i, Ie.convert(l), Ie.convert(c), a)
                          } finally {
                            var d = null !== B ? pe.get(B).__webglFramebuffer : null
                            he.bindFramebuffer(Le.FRAMEBUFFER, d)
                          }
                        }
                      } else
                        console.error(
                          'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.'
                        )
                    }),
                    (this.readRenderTargetPixelsAsync = (function () {
                      var e = v(
                        h().m(function e(t, n, r, i, a, o, s) {
                          var u, l, c, d, f, p, v
                          return h().w(function (e) {
                            for (;;)
                              switch (e.n) {
                                case 0:
                                  if (t && t.isWebGLRenderTarget) {
                                    e.n = 1
                                    break
                                  }
                                  throw new Error(
                                    'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.'
                                  )
                                case 1:
                                  if (
                                    ((u = pe.get(t).__webglFramebuffer),
                                    t.isWebGLCubeRenderTarget && void 0 !== s && (u = u[s]),
                                    !u)
                                  ) {
                                    e.n = 6
                                    break
                                  }
                                  if (
                                    ((l = t.texture),
                                    (c = l.format),
                                    (d = l.type),
                                    de.textureFormatReadable(c))
                                  ) {
                                    e.n = 2
                                    break
                                  }
                                  throw new Error(
                                    'THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.'
                                  )
                                case 2:
                                  if (de.textureTypeReadable(d)) {
                                    e.n = 3
                                    break
                                  }
                                  throw new Error(
                                    'THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.'
                                  )
                                case 3:
                                  if (
                                    !(n >= 0 && n <= t.width - i && r >= 0 && r <= t.height - a)
                                  ) {
                                    e.n = 5
                                    break
                                  }
                                  return (
                                    he.bindFramebuffer(Le.FRAMEBUFFER, u),
                                    (f = Le.createBuffer()),
                                    Le.bindBuffer(Le.PIXEL_PACK_BUFFER, f),
                                    Le.bufferData(
                                      Le.PIXEL_PACK_BUFFER,
                                      o.byteLength,
                                      Le.STREAM_READ
                                    ),
                                    Le.readPixels(n, r, i, a, Ie.convert(c), Ie.convert(d), 0),
                                    (p = null !== B ? pe.get(B).__webglFramebuffer : null),
                                    he.bindFramebuffer(Le.FRAMEBUFFER, p),
                                    (v = Le.fenceSync(Le.SYNC_GPU_COMMANDS_COMPLETE, 0)),
                                    Le.flush(),
                                    (e.n = 4),
                                    Zc(Le, v, 4)
                                  )
                                case 4:
                                  return (
                                    Le.bindBuffer(Le.PIXEL_PACK_BUFFER, f),
                                    Le.getBufferSubData(Le.PIXEL_PACK_BUFFER, 0, o),
                                    Le.deleteBuffer(f),
                                    Le.deleteSync(v),
                                    e.a(2, o)
                                  )
                                case 5:
                                  throw new Error(
                                    'THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.'
                                  )
                                case 6:
                                  return e.a(2)
                              }
                          }, e)
                        })
                      )
                      return function (t, n, r, i, a, o, s) {
                        return e.apply(this, arguments)
                      }
                    })()),
                    (this.copyFramebufferToTexture = function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      !0 !== e.isTexture &&
                        (Kc(
                          'WebGLRenderer: copyFramebufferToTexture function signature has changed.'
                        ),
                        (t = arguments[0] || null),
                        (e = arguments[1]))
                      var r = Math.pow(2, -n),
                        i = Math.floor(e.image.width * r),
                        a = Math.floor(e.image.height * r),
                        o = null !== t ? t.x : 0,
                        s = null !== t ? t.y : 0
                      ;(ve.setTexture2D(e, 0),
                        Le.copyTexSubImage2D(Le.TEXTURE_2D, n, 0, 0, o, s, i, a),
                        he.unbindTexture())
                    }))
                  var it = Le.createFramebuffer(),
                    at = Le.createFramebuffer()
                  ;((this.copyTextureToTexture = function (e, t) {
                    var n,
                      r,
                      i,
                      a,
                      o,
                      s,
                      u,
                      l,
                      c,
                      d = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                      h = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
                      f = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                      p = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null
                    ;(!0 !== e.isTexture &&
                      (Kc('WebGLRenderer: copyTextureToTexture function signature has changed.'),
                      (h = arguments[0] || null),
                      (e = arguments[1]),
                      (t = arguments[2]),
                      (p = arguments[3] || 0),
                      (d = null)),
                      null === p &&
                        (0 !== f
                          ? (Kc(
                              'WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels.'
                            ),
                            (p = f),
                            (f = 0))
                          : (p = 0)))
                    var v = e.isCompressedTexture ? e.mipmaps[p] : e.image
                    if (null !== d)
                      ((n = d.max.x - d.min.x),
                        (r = d.max.y - d.min.y),
                        (i = d.isBox3 ? d.max.z - d.min.z : 1),
                        (a = d.min.x),
                        (o = d.min.y),
                        (s = d.isBox3 ? d.min.z : 0))
                    else {
                      var m = Math.pow(2, -f)
                      ;((n = Math.floor(v.width * m)),
                        (r = Math.floor(v.height * m)),
                        (i = e.isDataArrayTexture
                          ? v.depth
                          : e.isData3DTexture
                            ? Math.floor(v.depth * m)
                            : 1),
                        (a = 0),
                        (o = 0),
                        (s = 0))
                    }
                    null !== h ? ((u = h.x), (l = h.y), (c = h.z)) : ((u = 0), (l = 0), (c = 0))
                    var g,
                      y = Ie.convert(t.format),
                      x = Ie.convert(t.type)
                    ;(t.isData3DTexture
                      ? (ve.setTexture3D(t, 0), (g = Le.TEXTURE_3D))
                      : t.isDataArrayTexture || t.isCompressedArrayTexture
                        ? (ve.setTexture2DArray(t, 0), (g = Le.TEXTURE_2D_ARRAY))
                        : (ve.setTexture2D(t, 0), (g = Le.TEXTURE_2D)),
                      Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL, t.flipY),
                      Le.pixelStorei(Le.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultiplyAlpha),
                      Le.pixelStorei(Le.UNPACK_ALIGNMENT, t.unpackAlignment))
                    var _ = Le.getParameter(Le.UNPACK_ROW_LENGTH),
                      b = Le.getParameter(Le.UNPACK_IMAGE_HEIGHT),
                      S = Le.getParameter(Le.UNPACK_SKIP_PIXELS),
                      w = Le.getParameter(Le.UNPACK_SKIP_ROWS),
                      A = Le.getParameter(Le.UNPACK_SKIP_IMAGES)
                    ;(Le.pixelStorei(Le.UNPACK_ROW_LENGTH, v.width),
                      Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT, v.height),
                      Le.pixelStorei(Le.UNPACK_SKIP_PIXELS, a),
                      Le.pixelStorei(Le.UNPACK_SKIP_ROWS, o),
                      Le.pixelStorei(Le.UNPACK_SKIP_IMAGES, s))
                    var T = e.isDataArrayTexture || e.isData3DTexture,
                      M = t.isDataArrayTexture || t.isData3DTexture
                    if (e.isDepthTexture) {
                      var E = pe.get(e),
                        C = pe.get(t),
                        k = pe.get(E.__renderTarget),
                        R = pe.get(C.__renderTarget)
                      ;(he.bindFramebuffer(Le.READ_FRAMEBUFFER, k.__webglFramebuffer),
                        he.bindFramebuffer(Le.DRAW_FRAMEBUFFER, R.__webglFramebuffer))
                      for (var I = 0; I < i; I++)
                        (T &&
                          (Le.framebufferTextureLayer(
                            Le.READ_FRAMEBUFFER,
                            Le.COLOR_ATTACHMENT0,
                            pe.get(e).__webglTexture,
                            f,
                            s + I
                          ),
                          Le.framebufferTextureLayer(
                            Le.DRAW_FRAMEBUFFER,
                            Le.COLOR_ATTACHMENT0,
                            pe.get(t).__webglTexture,
                            p,
                            c + I
                          )),
                          Le.blitFramebuffer(
                            a,
                            o,
                            n,
                            r,
                            u,
                            l,
                            n,
                            r,
                            Le.DEPTH_BUFFER_BIT,
                            Le.NEAREST
                          ))
                      ;(he.bindFramebuffer(Le.READ_FRAMEBUFFER, null),
                        he.bindFramebuffer(Le.DRAW_FRAMEBUFFER, null))
                    } else if (0 !== f || e.isRenderTargetTexture || pe.has(e)) {
                      var N = pe.get(e),
                        P = pe.get(t)
                      ;(he.bindFramebuffer(Le.READ_FRAMEBUFFER, it),
                        he.bindFramebuffer(Le.DRAW_FRAMEBUFFER, at))
                      for (var L = 0; L < i; L++)
                        (T
                          ? Le.framebufferTextureLayer(
                              Le.READ_FRAMEBUFFER,
                              Le.COLOR_ATTACHMENT0,
                              N.__webglTexture,
                              f,
                              s + L
                            )
                          : Le.framebufferTexture2D(
                              Le.READ_FRAMEBUFFER,
                              Le.COLOR_ATTACHMENT0,
                              Le.TEXTURE_2D,
                              N.__webglTexture,
                              f
                            ),
                          M
                            ? Le.framebufferTextureLayer(
                                Le.DRAW_FRAMEBUFFER,
                                Le.COLOR_ATTACHMENT0,
                                P.__webglTexture,
                                p,
                                c + L
                              )
                            : Le.framebufferTexture2D(
                                Le.DRAW_FRAMEBUFFER,
                                Le.COLOR_ATTACHMENT0,
                                Le.TEXTURE_2D,
                                P.__webglTexture,
                                p
                              ),
                          0 !== f
                            ? Le.blitFramebuffer(
                                a,
                                o,
                                n,
                                r,
                                u,
                                l,
                                n,
                                r,
                                Le.COLOR_BUFFER_BIT,
                                Le.NEAREST
                              )
                            : M
                              ? Le.copyTexSubImage3D(g, p, u, l, c + L, a, o, n, r)
                              : Le.copyTexSubImage2D(g, p, u, l, a, o, n, r))
                      ;(he.bindFramebuffer(Le.READ_FRAMEBUFFER, null),
                        he.bindFramebuffer(Le.DRAW_FRAMEBUFFER, null))
                    } else
                      M
                        ? e.isDataTexture || e.isData3DTexture
                          ? Le.texSubImage3D(g, p, u, l, c, n, r, i, y, x, v.data)
                          : t.isCompressedArrayTexture
                            ? Le.compressedTexSubImage3D(g, p, u, l, c, n, r, i, y, v.data)
                            : Le.texSubImage3D(g, p, u, l, c, n, r, i, y, x, v)
                        : e.isDataTexture
                          ? Le.texSubImage2D(Le.TEXTURE_2D, p, u, l, n, r, y, x, v.data)
                          : e.isCompressedTexture
                            ? Le.compressedTexSubImage2D(
                                Le.TEXTURE_2D,
                                p,
                                u,
                                l,
                                v.width,
                                v.height,
                                y,
                                v.data
                              )
                            : Le.texSubImage2D(Le.TEXTURE_2D, p, u, l, n, r, y, x, v)
                    ;(Le.pixelStorei(Le.UNPACK_ROW_LENGTH, _),
                      Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT, b),
                      Le.pixelStorei(Le.UNPACK_SKIP_PIXELS, S),
                      Le.pixelStorei(Le.UNPACK_SKIP_ROWS, w),
                      Le.pixelStorei(Le.UNPACK_SKIP_IMAGES, A),
                      0 === p && t.generateMipmaps && Le.generateMipmap(g),
                      he.unbindTexture())
                  }),
                    (this.copyTextureToTexture3D = function (e, t) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
                        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
                      return (
                        !0 !== e.isTexture &&
                          (Kc(
                            'WebGLRenderer: copyTextureToTexture3D function signature has changed.'
                          ),
                          (n = arguments[0] || null),
                          (r = arguments[1] || null),
                          (e = arguments[2]),
                          (t = arguments[3]),
                          (i = arguments[4] || 0)),
                        Kc(
                          'WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'
                        ),
                        this.copyTextureToTexture(e, t, n, r, i)
                      )
                    }),
                    (this.initRenderTarget = function (e) {
                      void 0 === pe.get(e).__webglFramebuffer && ve.setupRenderTarget(e)
                    }),
                    (this.initTexture = function (e) {
                      ;(e.isCubeTexture
                        ? ve.setTextureCube(e, 0)
                        : e.isData3DTexture
                          ? ve.setTexture3D(e, 0)
                          : e.isDataArrayTexture || e.isCompressedArrayTexture
                            ? ve.setTexture2DArray(e, 0)
                            : ve.setTexture2D(e, 0),
                        he.unbindTexture())
                    }),
                    (this.resetState = function () {
                      ;((O = 0), (F = 0), (B = null), he.reset(), Ne.reset())
                    }),
                    'undefined' != typeof __THREE_DEVTOOLS__ &&
                      __THREE_DEVTOOLS__.dispatchEvent(
                        new CustomEvent('observe', { detail: this })
                      ))
                },
                [
                  {
                    key: 'coordinateSystem',
                    get: function () {
                      return Rc
                    },
                  },
                  {
                    key: 'outputColorSpace',
                    get: function () {
                      return this._outputColorSpace
                    },
                    set: function (e) {
                      this._outputColorSpace = e
                      var t = this.getContext()
                      ;((t.drawingBufferColorspace = nd._getDrawingBufferColorSpace(e)),
                        (t.unpackColorSpace = nd._getUnpackColorSpace()))
                    },
                  },
                ]
              )
            })(),
            Wy = T(function e() {
              w(this, e)
            })
          ;(M(Wy, 'DefaultSplatSortDistanceMapPrecision', 16),
            M(Wy, 'MemoryPageSize', 65536),
            M(Wy, 'BytesPerFloat', 4),
            M(Wy, 'BytesPerInt', 4),
            M(Wy, 'MaxScenes', 32),
            M(Wy, 'ProgressiveLoadSectionSize', 262144),
            M(Wy, 'ProgressiveLoadSectionDelayDuration', 15),
            M(Wy, 'SphericalHarmonics8BitCompressionRange', 3))
          var Gy,
            jy,
            Qy,
            qy,
            Xy,
            Yy,
            Ky,
            Zy,
            Jy,
            $y,
            ex,
            tx,
            nx,
            rx,
            ix,
            ax,
            ox,
            sx,
            ux,
            lx,
            cx,
            dx,
            hx,
            fx,
            px,
            vx,
            mx,
            gx,
            yx,
            xx,
            _x,
            bx,
            Sx,
            wx = Wy.SphericalHarmonics8BitCompressionRange / 2,
            Ax = Qh.toHalfFloat.bind(Qh),
            Tx = Qh.fromHalfFloat.bind(Qh),
            Mx = function (e, t) {
              var n = arguments.length > 3 ? arguments[3] : void 0,
                r = arguments.length > 4 ? arguments[4] : void 0
              return 0 === t
                ? e
                : 1 === t ||
                    (2 === t && !(arguments.length > 2 && void 0 !== arguments[2] && arguments[2]))
                  ? Qh.fromHalfFloat(e)
                  : 2 === t
                    ? Cx(e, n, r)
                    : void 0
            },
            Ex = function (e, t, n) {
              e = Du(e, t, n)
              var r = n - t
              return Du(Math.floor(((e - t) / r) * 255), 0, 255)
            },
            Cx = function (e, t, n) {
              return (e / 255) * (n - t) + t
            },
            kx = function (e, t, n) {
              return Ex(Tx(e, t, n))
            },
            Rx = function (e, t, n) {
              return Ax(Cx(e, t, n))
            },
            Ix = function (e, t, n) {
              var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
              return 0 === n
                ? e.getFloat32(4 * t, !0)
                : 1 === n || (2 === n && !r)
                  ? e.getUint16(2 * t, !0)
                  : e.getUint8(t, !0)
            },
            Nx = (function () {
              var e = function (e) {
                return e
              }
              return function (t, n, r) {
                var i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                if (n === r) return t
                var a = e
                return (
                  2 === n && i
                    ? 1 === r
                      ? (a = Rx)
                      : 0 == r && (a = Cx)
                    : 2 === n || 1 === n
                      ? 0 === r
                        ? (a = Tx)
                        : 2 == r && (a = i ? kx : e)
                      : 0 === n && (1 === r ? (a = Ax) : 2 == r && (a = i ? Ex : Ax)),
                  a(t)
                )
              }
            })(),
            Px = function (e, t, n, r) {
              for (
                var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                  a = new Uint8Array(e, t),
                  o = new Uint8Array(n, r),
                  s = 0;
                s < i;
                s++
              )
                o[s] = a[s]
            },
            Lx = (function () {
              function e(t) {
                var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                ;(w(this, e),
                  M(
                    this,
                    'getSplatScaleAndRotation',
                    (function () {
                      var t = new qd(),
                        n = new qd(),
                        r = new qd(),
                        i = new gd(),
                        a = new gd(),
                        o = new md()
                      return function (s, u, l, c, d) {
                        var h = this.globalSplatIndexToSectionMap[s],
                          f = this.sections[h],
                          p = s - f.splatCountOffset,
                          v =
                            f.bytesPerSplat * p +
                            e.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,
                          m = new DataView(this.bufferData, f.dataBase + v)
                        ;(a.set(
                          Mx(Ix(m, 0, this.compressionLevel), this.compressionLevel),
                          Mx(Ix(m, 1, this.compressionLevel), this.compressionLevel),
                          Mx(Ix(m, 2, this.compressionLevel), this.compressionLevel)
                        ),
                          d &&
                            (void 0 !== d.x && (a.x = d.x),
                            void 0 !== d.y && (a.y = d.y),
                            void 0 !== d.z && (a.z = d.z)),
                          o.set(
                            Mx(Ix(m, 4, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 5, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 6, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 3, this.compressionLevel), this.compressionLevel)
                          ),
                          c
                            ? (t.makeScale(a.x, a.y, a.z),
                              n.makeRotationFromQuaternion(o),
                              r.copy(t).multiply(n).multiply(c),
                              r.decompose(i, l, u))
                            : (u.copy(a), l.copy(o)))
                      }
                    })()
                  ),
                  M(
                    this,
                    'fillSplatScaleRotationArray',
                    (function () {
                      var t = new qd(),
                        n = new qd(),
                        r = new qd(),
                        i = new gd(),
                        a = new md(),
                        o = new gd(),
                        s = function (e) {
                          var t = e.w < 0 ? -1 : 1
                          ;((e.x *= t), (e.y *= t), (e.z *= t), (e.w *= t))
                        }
                      return function (u, l, c, d, h, f, p, v) {
                        var m = this.splatCount
                        ;((d = d || 0), (h = h || m - 1), void 0 === f && (f = d))
                        for (
                          var g = function (e, t) {
                              return Nx(e, t, p)
                            },
                            y = d;
                          y <= h;
                          y++
                        ) {
                          var x = this.globalSplatIndexToSectionMap[y],
                            _ = this.sections[x],
                            b = y - _.splatCountOffset,
                            S =
                              _.bytesPerSplat * b +
                              e.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,
                            w = (y - d + f) * e.ScaleComponentCount,
                            A = (y - d + f) * e.RotationComponentCount,
                            T = new DataView(this.bufferData, _.dataBase + S),
                            M = v && void 0 !== v.x ? v.x : Ix(T, 0, this.compressionLevel),
                            E = v && void 0 !== v.y ? v.y : Ix(T, 1, this.compressionLevel),
                            C = v && void 0 !== v.z ? v.z : Ix(T, 2, this.compressionLevel),
                            k = Ix(T, 3, this.compressionLevel),
                            R = Ix(T, 4, this.compressionLevel),
                            I = Ix(T, 5, this.compressionLevel),
                            N = Ix(T, 6, this.compressionLevel)
                          ;(i.set(
                            Mx(M, this.compressionLevel),
                            Mx(E, this.compressionLevel),
                            Mx(C, this.compressionLevel)
                          ),
                            a
                              .set(
                                Mx(R, this.compressionLevel),
                                Mx(I, this.compressionLevel),
                                Mx(N, this.compressionLevel),
                                Mx(k, this.compressionLevel)
                              )
                              .normalize(),
                            c &&
                              (o.set(0, 0, 0),
                              t.makeScale(i.x, i.y, i.z),
                              n.makeRotationFromQuaternion(a),
                              r.identity().premultiply(t).premultiply(n),
                              r.premultiply(c),
                              r.decompose(o, a, i),
                              a.normalize()),
                            s(a),
                            u &&
                              ((u[w] = g(i.x, 0)), (u[w + 1] = g(i.y, 0)), (u[w + 2] = g(i.z, 0))),
                            l &&
                              ((l[A] = g(a.x, 0)),
                              (l[A + 1] = g(a.y, 0)),
                              (l[A + 2] = g(a.z, 0)),
                              (l[A + 3] = g(a.w, 0))))
                        }
                      }
                    })()
                  ),
                  M(
                    this,
                    'fillSphericalHarmonicsArray',
                    (function () {
                      for (var t = 0; t < 15; t++) new gd()
                      var n = new jc(),
                        r = new qd(),
                        i = new gd(),
                        a = new gd(),
                        o = new md(),
                        s = [],
                        u = [],
                        l = [],
                        c = [],
                        d = [],
                        h = [],
                        f = [],
                        p = [],
                        v = [],
                        m = [],
                        g = [],
                        y = [],
                        x = [],
                        _ = [],
                        b = [],
                        S = [],
                        w = [],
                        A = [],
                        T = function (e) {
                          return e
                        },
                        M = function (e, t, n, r) {
                          ;((e[0] = t), (e[1] = n), (e[2] = r))
                        },
                        E = function (e, t, n, r, i) {
                          ;((e[0] = Ix(t, r, i, !0)),
                            (e[1] = Ix(t, r + n, i, !0)),
                            (e[2] = Ix(t, r + n + n, i, !0)))
                        },
                        C = function (e, t) {
                          ;((t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]))
                        },
                        k = function (e, t, n, r) {
                          ;((t[n] = r(e[0])), (t[n + 1] = r(e[1])), (t[n + 2] = r(e[2])))
                        },
                        R = function (e, t, n, r, i) {
                          return (
                            (t[0] = Mx(e[0], n, !0, r, i)),
                            (t[1] = Mx(e[1], n, !0, r, i)),
                            (t[2] = Mx(e[2], n, !0, r, i)),
                            t
                          )
                        }
                      return function (t, I, N, P, L, D, O) {
                        var F = this,
                          B = this.splatCount
                        ;((P = P || 0),
                          (L = L || B - 1),
                          void 0 === D && (D = P),
                          N &&
                            I >= 1 &&
                            (r.copy(N),
                            r.decompose(i, o, a),
                            o.normalize(),
                            r.makeRotationFromQuaternion(o),
                            n.setFromMatrix4(r),
                            M(s, n.elements[4], -n.elements[7], n.elements[1]),
                            M(u, -n.elements[5], n.elements[8], -n.elements[2]),
                            M(l, n.elements[3], -n.elements[6], n.elements[0])))
                        for (
                          var U = function (e) {
                              return kx(
                                e,
                                F.minSphericalHarmonicsCoeff,
                                F.maxSphericalHarmonicsCoeff
                              )
                            },
                            z = function (e) {
                              return Ex(
                                e,
                                F.minSphericalHarmonicsCoeff,
                                F.maxSphericalHarmonicsCoeff
                              )
                            },
                            V = P;
                          V <= L;
                          V++
                        ) {
                          var H = this.globalSplatIndexToSectionMap[V],
                            W = this.sections[H]
                          I = Math.min(I, W.sphericalHarmonicsDegree)
                          var G = Uu(I),
                            j = V - W.splatCountOffset,
                            Q =
                              W.bytesPerSplat * j +
                              e.CompressionLevels[this.compressionLevel]
                                .SphericalHarmonicsOffsetBytes,
                            q = new DataView(this.bufferData, W.dataBase + Q),
                            X = (V - P + D) * G,
                            Y = N ? 0 : this.compressionLevel,
                            K = T
                          Y !== O &&
                            (1 === Y
                              ? 0 === O
                                ? (K = Tx)
                                : 2 == O && (K = U)
                              : 0 === Y && (1 === O ? (K = Ax) : 2 == O && (K = z)))
                          var Z = this.minSphericalHarmonicsCoeff,
                            J = this.maxSphericalHarmonicsCoeff
                          I >= 1 &&
                            (E(v, q, 3, 0, this.compressionLevel),
                            E(m, q, 3, 1, this.compressionLevel),
                            E(g, q, 3, 2, this.compressionLevel),
                            N
                              ? (R(v, v, this.compressionLevel, Z, J),
                                R(m, m, this.compressionLevel, Z, J),
                                R(g, g, this.compressionLevel, Z, J),
                                e.rotateSphericalHarmonics3(v, m, g, s, u, l, _, b, S))
                              : (C(v, _), C(m, b), C(g, S)),
                            k(_, t, X, K),
                            k(b, t, X + 3, K),
                            k(S, t, X + 6, K),
                            I >= 2 &&
                              (E(v, q, 5, 9, this.compressionLevel),
                              E(m, q, 5, 10, this.compressionLevel),
                              E(g, q, 5, 11, this.compressionLevel),
                              E(y, q, 5, 12, this.compressionLevel),
                              E(x, q, 5, 13, this.compressionLevel),
                              N
                                ? (R(v, v, this.compressionLevel, Z, J),
                                  R(m, m, this.compressionLevel, Z, J),
                                  R(g, g, this.compressionLevel, Z, J),
                                  R(y, y, this.compressionLevel, Z, J),
                                  R(x, x, this.compressionLevel, Z, J),
                                  e.rotateSphericalHarmonics5(
                                    v,
                                    m,
                                    g,
                                    y,
                                    x,
                                    s,
                                    u,
                                    l,
                                    c,
                                    d,
                                    h,
                                    f,
                                    p,
                                    _,
                                    b,
                                    S,
                                    w,
                                    A
                                  ))
                                : (C(v, _), C(m, b), C(g, S), C(y, w), C(x, A)),
                              k(_, t, X + 9, K),
                              k(b, t, X + 12, K),
                              k(S, t, X + 15, K),
                              k(w, t, X + 18, K),
                              k(A, t, X + 21, K)))
                        }
                      }
                    })()
                  ),
                  this.constructFromBuffer(t, n))
              }
              return T(
                e,
                [
                  {
                    key: 'getSplatCount',
                    value: function () {
                      return this.splatCount
                    },
                  },
                  {
                    key: 'getMaxSplatCount',
                    value: function () {
                      return this.maxSplatCount
                    },
                  },
                  {
                    key: 'getMinSphericalHarmonicsDegree',
                    value: function () {
                      for (var e = 0, t = 0; t < this.sections.length; t++) {
                        var n = this.sections[t]
                        ;(0 === t || n.sphericalHarmonicsDegree < e) &&
                          (e = n.sphericalHarmonicsDegree)
                      }
                      return e
                    },
                  },
                  {
                    key: 'getBucketIndex',
                    value: function (e, t) {
                      var n,
                        r = e.fullBucketCount * e.bucketSize
                      if (t < r) n = Math.floor(t / e.bucketSize)
                      else {
                        var i = r
                        n = e.fullBucketCount
                        for (var a = 0; i < e.splatCount; ) {
                          var o = e.partiallyFilledBucketLengths[a]
                          if (t >= i && t < i + o) break
                          ;((i += o), n++, a++)
                        }
                      }
                      return n
                    },
                  },
                  {
                    key: 'getSplatCenter',
                    value: function (t, n, r, i) {
                      var a = this.globalSplatIndexToSectionMap[n],
                        o = this.sections[a],
                        s = n - o.splatCountOffset,
                        u = o.bytesPerSplat * s,
                        l = new DataView(this.bufferData, o.dataBase + u),
                        c = Ix(l, 0, this.compressionLevel),
                        d = Ix(l, 1, this.compressionLevel),
                        h = Ix(l, 2, this.compressionLevel)
                      if (this.compressionLevel >= 1) {
                        var f = this.getBucketIndex(o, s) * e.BucketStorageSizeFloats,
                          p = o.compressionScaleFactor,
                          v = o.compressionScaleRange
                        ;((r.x = (c - v) * p + o.bucketArray[f]),
                          (r.y = (d - v) * p + o.bucketArray[f + 1]),
                          (r.z = (h - v) * p + o.bucketArray[f + 2]))
                      } else ((r.x = c), (r.y = d), (r.z = h))
                      ;((r.x += t[3 * n + 0]),
                        (r.y += t[3 * n + 1]),
                        (r.z += t[3 * n + 2]),
                        i && r.applyMatrix4(i))
                    },
                  },
                  {
                    key: 'getSplatColor',
                    value: function (t, n) {
                      var r = this.globalSplatIndexToSectionMap[t],
                        i = this.sections[r],
                        a = t - i.splatCountOffset,
                        o =
                          i.bytesPerSplat * a +
                          e.CompressionLevels[this.compressionLevel].ColorOffsetBytes,
                        s = new Uint8Array(this.bufferData, i.dataBase + o, 4)
                      n.set(s[0], s[1], s[2], s[3])
                    },
                  },
                  {
                    key: 'fillSplatCenterArray',
                    value: function (t, n, r, i, a, o) {
                      var s = this.splatCount
                      ;((i = i || 0), (a = a || s - 1), void 0 === o && (o = i))
                      for (var u = new gd(), l = i; l <= a; l++) {
                        var c = this.globalSplatIndexToSectionMap[l],
                          d = this.sections[c],
                          h = l - d.splatCountOffset,
                          f = (l - i + o) * e.CenterComponentCount,
                          p = d.bytesPerSplat * h,
                          v = new DataView(this.bufferData, d.dataBase + p),
                          m = Ix(v, 0, this.compressionLevel),
                          g = Ix(v, 1, this.compressionLevel),
                          y = Ix(v, 2, this.compressionLevel)
                        if (this.compressionLevel >= 1) {
                          var x = this.getBucketIndex(d, h) * e.BucketStorageSizeFloats,
                            _ = d.compressionScaleFactor,
                            b = d.compressionScaleRange
                          ;((u.x = (m - b) * _ + d.bucketArray[x]),
                            (u.y = (g - b) * _ + d.bucketArray[x + 1]),
                            (u.z = (y - b) * _ + d.bucketArray[x + 2]))
                        } else ((u.x = m), (u.y = g), (u.z = y))
                        ;(r && u.applyMatrix4(r),
                          (n[f] = u.x + t[3 * l + 0]),
                          (n[f + 1] = u.y + t[3 * l + 1]),
                          (n[f + 2] = u.z + t[3 * l + 2]))
                      }
                    },
                  },
                  {
                    key: 'fillSplatCovarianceArray',
                    value: function (t, n, r, i, a, o) {
                      var s = this.splatCount,
                        u = new gd(),
                        l = new md()
                      ;((r = r || 0), (i = i || s - 1), void 0 === a && (a = r))
                      for (var c = r; c <= i; c++) {
                        var d = this.globalSplatIndexToSectionMap[c],
                          h = this.sections[d],
                          f = c - h.splatCountOffset,
                          p = (c - r + a) * e.CovarianceComponentCount,
                          v =
                            h.bytesPerSplat * f +
                            e.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,
                          m = new DataView(this.bufferData, h.dataBase + v)
                        ;(u.set(
                          Mx(Ix(m, 0, this.compressionLevel), this.compressionLevel),
                          Mx(Ix(m, 1, this.compressionLevel), this.compressionLevel),
                          Mx(Ix(m, 2, this.compressionLevel), this.compressionLevel)
                        ),
                          l.set(
                            Mx(Ix(m, 4, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 5, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 6, this.compressionLevel), this.compressionLevel),
                            Mx(Ix(m, 3, this.compressionLevel), this.compressionLevel)
                          ),
                          e.computeCovariance(u, l, n, t, p, o))
                      }
                    },
                  },
                  {
                    key: 'fillSplatColorArray',
                    value: function (t, n, r, i, a) {
                      var o = this.splatCount
                      ;((r = r || 0), (i = i || o - 1), void 0 === a && (a = r))
                      for (var s = r; s <= i; s++) {
                        var u = this.globalSplatIndexToSectionMap[s],
                          l = this.sections[u],
                          c = s - l.splatCountOffset,
                          d = (s - r + a) * e.ColorComponentCount,
                          h =
                            l.bytesPerSplat * c +
                            e.CompressionLevels[this.compressionLevel].ColorOffsetBytes,
                          f = new Uint8Array(this.bufferData, l.dataBase + h),
                          p = f[3]
                        ;((p = p >= n ? p : 0),
                          (t[d] = f[0]),
                          (t[d + 1] = f[1]),
                          (t[d + 2] = f[2]),
                          (t[d + 3] = p))
                      }
                    },
                  },
                  {
                    key: 'constructFromBuffer',
                    value: function (t, n) {
                      ;((this.bufferData = t),
                        (this.globalSplatIndexToLocalSplatIndexMap = []),
                        (this.globalSplatIndexToSectionMap = []))
                      var r = e.parseHeader(this.bufferData)
                      ;((this.versionMajor = r.versionMajor),
                        (this.versionMinor = r.versionMinor),
                        (this.maxSectionCount = r.maxSectionCount),
                        (this.sectionCount = n ? r.maxSectionCount : 0),
                        (this.maxSplatCount = r.maxSplatCount),
                        (this.splatCount = n ? r.maxSplatCount : 0),
                        (this.compressionLevel = r.compressionLevel),
                        (this.sceneCenter = new gd().copy(r.sceneCenter)),
                        (this.minSphericalHarmonicsCoeff = r.minSphericalHarmonicsCoeff),
                        (this.maxSphericalHarmonicsCoeff = r.maxSphericalHarmonicsCoeff),
                        (this.sections = e.parseSectionHeaders(
                          r,
                          this.bufferData,
                          e.HeaderSizeBytes,
                          n
                        )),
                        this.linkBufferArrays(),
                        this.buildMaps())
                    },
                  },
                  {
                    key: 'linkBufferArrays',
                    value: function () {
                      for (var t = 0; t < this.maxSectionCount; t++) {
                        var n = this.sections[t]
                        ;((n.bucketArray = new Float32Array(
                          this.bufferData,
                          n.bucketsBase,
                          n.bucketCount * e.BucketStorageSizeFloats
                        )),
                          n.partiallyFilledBucketCount > 0 &&
                            (n.partiallyFilledBucketLengths = new Uint32Array(
                              this.bufferData,
                              n.base,
                              n.partiallyFilledBucketCount
                            )))
                      }
                    },
                  },
                  {
                    key: 'buildMaps',
                    value: function () {
                      for (var e = 0, t = 0; t < this.maxSectionCount; t++) {
                        for (var n = this.sections[t], r = 0; r < n.maxSplatCount; r++) {
                          var i = e + r
                          ;((this.globalSplatIndexToLocalSplatIndexMap[i] = r),
                            (this.globalSplatIndexToSectionMap[i] = t))
                        }
                        e += n.maxSplatCount
                      }
                    },
                  },
                  {
                    key: 'updateLoadedCounts',
                    value: function (t, n) {
                      ;(e.writeHeaderCountsToBuffer(t, n, this.bufferData),
                        (this.sectionCount = t),
                        (this.splatCount = n))
                    },
                  },
                  {
                    key: 'updateSectionLoadedCounts',
                    value: function (t, n) {
                      var r = e.HeaderSizeBytes + e.SectionHeaderSizeBytes * t
                      ;(e.writeSectionHeaderSplatCountToBuffer(n, this.bufferData, r),
                        (this.sections[t].splatCount = n))
                    },
                  },
                ],
                [
                  {
                    key: 'parseHeader',
                    value: function (t) {
                      var n = new Uint8Array(t, 0, e.HeaderSizeBytes),
                        r = new Uint16Array(t, 0, e.HeaderSizeBytes / 2),
                        i = new Uint32Array(t, 0, e.HeaderSizeBytes / 4),
                        a = new Float32Array(t, 0, e.HeaderSizeBytes / 4)
                      return {
                        versionMajor: n[0],
                        versionMinor: n[1],
                        maxSectionCount: i[1],
                        sectionCount: i[2],
                        maxSplatCount: i[3],
                        splatCount: i[4],
                        compressionLevel: r[10],
                        sceneCenter: new gd(a[6], a[7], a[8]),
                        minSphericalHarmonicsCoeff: a[9] || -wx,
                        maxSphericalHarmonicsCoeff: a[10] || wx,
                      }
                    },
                  },
                  {
                    key: 'writeHeaderCountsToBuffer',
                    value: function (t, n, r) {
                      var i = new Uint32Array(r, 0, e.HeaderSizeBytes / 4)
                      ;((i[2] = t), (i[4] = n))
                    },
                  },
                  {
                    key: 'writeHeaderToBuffer',
                    value: function (t, n) {
                      var r = new Uint8Array(n, 0, e.HeaderSizeBytes),
                        i = new Uint16Array(n, 0, e.HeaderSizeBytes / 2),
                        a = new Uint32Array(n, 0, e.HeaderSizeBytes / 4),
                        o = new Float32Array(n, 0, e.HeaderSizeBytes / 4)
                      ;((r[0] = t.versionMajor),
                        (r[1] = t.versionMinor),
                        (r[2] = 0),
                        (r[3] = 0),
                        (a[1] = t.maxSectionCount),
                        (a[2] = t.sectionCount),
                        (a[3] = t.maxSplatCount),
                        (a[4] = t.splatCount),
                        (i[10] = t.compressionLevel),
                        (o[6] = t.sceneCenter.x),
                        (o[7] = t.sceneCenter.y),
                        (o[8] = t.sceneCenter.z),
                        (o[9] = t.minSphericalHarmonicsCoeff || -wx),
                        (o[10] = t.maxSphericalHarmonicsCoeff || wx))
                    },
                  },
                  {
                    key: 'parseSectionHeaders',
                    value: function (t, n) {
                      for (
                        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                          i = arguments.length > 3 ? arguments[3] : void 0,
                          a = t.compressionLevel,
                          o = t.maxSectionCount,
                          s = new Uint16Array(n, r, (o * e.SectionHeaderSizeBytes) / 2),
                          u = new Uint32Array(n, r, (o * e.SectionHeaderSizeBytes) / 4),
                          l = new Float32Array(n, r, (o * e.SectionHeaderSizeBytes) / 4),
                          c = [],
                          d = 0,
                          h = d / 2,
                          f = d / 4,
                          p = e.HeaderSizeBytes + t.maxSectionCount * e.SectionHeaderSizeBytes,
                          v = 0,
                          m = 0;
                        m < o;
                        m++
                      ) {
                        var g = u[f + 1],
                          y = u[f + 2],
                          x = u[f + 3],
                          _ = l[f + 4],
                          b = _ / 2,
                          S = s[h + 10],
                          w = u[f + 6] || e.CompressionLevels[a].ScaleRange,
                          A = u[f + 8],
                          T = u[f + 9],
                          M = 4 * T,
                          E = S * x + M,
                          C = s[h + 20],
                          k = e.calculateComponentStorage(a, C).bytesPerSplat,
                          R = k * g,
                          I = R + E,
                          N = {
                            bytesPerSplat: k,
                            splatCountOffset: v,
                            splatCount: i ? g : 0,
                            maxSplatCount: g,
                            bucketSize: y,
                            bucketCount: x,
                            bucketBlockSize: _,
                            halfBucketBlockSize: b,
                            bucketStorageSizeBytes: S,
                            bucketsStorageSizeBytes: E,
                            splatDataStorageSizeBytes: R,
                            storageSizeBytes: I,
                            compressionScaleRange: w,
                            compressionScaleFactor: b / w,
                            base: p,
                            bucketsBase: p + M,
                            dataBase: p + E,
                            fullBucketCount: A,
                            partiallyFilledBucketCount: T,
                            sphericalHarmonicsDegree: C,
                          }
                        ;((c[m] = N),
                          (p += I),
                          (h = (d += e.SectionHeaderSizeBytes) / 2),
                          (f = d / 4),
                          (v += g))
                      }
                      return c
                    },
                  },
                  {
                    key: 'writeSectionHeaderToBuffer',
                    value: function (t, n, r) {
                      var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        a = new Uint16Array(r, i, e.SectionHeaderSizeBytes / 2),
                        o = new Uint32Array(r, i, e.SectionHeaderSizeBytes / 4),
                        s = new Float32Array(r, i, e.SectionHeaderSizeBytes / 4)
                      ;((o[0] = t.splatCount),
                        (o[1] = t.maxSplatCount),
                        (o[2] = n >= 1 ? t.bucketSize : 0),
                        (o[3] = n >= 1 ? t.bucketCount : 0),
                        (s[4] = n >= 1 ? t.bucketBlockSize : 0),
                        (a[10] = n >= 1 ? e.BucketStorageSizeBytes : 0),
                        (o[6] = n >= 1 ? t.compressionScaleRange : 0),
                        (o[7] = t.storageSizeBytes),
                        (o[8] = n >= 1 ? t.fullBucketCount : 0),
                        (o[9] = n >= 1 ? t.partiallyFilledBucketCount : 0),
                        (a[20] = t.sphericalHarmonicsDegree))
                    },
                  },
                  {
                    key: 'writeSectionHeaderSplatCountToBuffer',
                    value: function (t, n) {
                      new Uint32Array(
                        n,
                        arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        e.SectionHeaderSizeBytes / 4
                      )[0] = t
                    },
                  },
                  {
                    key: 'calculateComponentStorage',
                    value: function (t, n) {
                      var r = e.CompressionLevels[t].BytesPerCenter,
                        i = e.CompressionLevels[t].BytesPerScale,
                        a = e.CompressionLevels[t].BytesPerRotation,
                        o = e.CompressionLevels[t].BytesPerColor,
                        s = Uu(n),
                        u = e.CompressionLevels[t].BytesPerSphericalHarmonicsComponent * s
                      return {
                        bytesPerCenter: r,
                        bytesPerScale: i,
                        bytesPerRotation: a,
                        bytesPerColor: o,
                        sphericalHarmonicsComponentsPerSplat: s,
                        sphericalHarmonicsBytesPerSplat: u,
                        bytesPerSplat: r + i + a + o + u,
                      }
                    },
                  },
                  {
                    key: 'generateFromUncompressedSplatArrays',
                    value: function (t, n, r, i, a, o) {
                      for (
                        var s,
                          u,
                          l = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [],
                          c = 0,
                          d = 0;
                        d < t.length;
                        d++
                      ) {
                        var h = t[d]
                        c = Math.max(h.sphericalHarmonicsDegree, c)
                      }
                      for (var f = 0; f < t.length; f++)
                        for (var p = t[f], v = 0; v < p.splats.length; v++)
                          for (
                            var m = p.splats[v], g = ju.OFFSET.FRC0;
                            g < ju.OFFSET.FRC23 && g < m.length;
                            g++
                          )
                            ((!s || m[g] < s) && (s = m[g]), (!u || m[g] > u) && (u = m[g]))
                      ;((s = s || -wx), (u = u || wx))
                      for (
                        var y = e.calculateComponentStorage(r, c).bytesPerSplat,
                          x = e.CompressionLevels[r].ScaleRange,
                          _ = [],
                          b = [],
                          S = 0,
                          w = 0;
                        w < t.length;
                        w++
                      ) {
                        for (var A = t[w], T = new ju(c), M = 0; M < A.splatCount; M++) {
                          var E = A.splats[M]
                          ;(E[ju.OFFSET.OPACITY] || 0) >= n && T.addSplat(E)
                        }
                        for (
                          var C = l[w] || {},
                            k = (C.blockSizeFactor || 1) * (a || e.BucketBlockSize),
                            R = Math.ceil((C.bucketSizeFactor || 1) * (o || e.BucketSize)),
                            N = e.computeBucketsForUncompressedSplatArray(T, k, R),
                            P = N.fullBuckets.length,
                            L = N.partiallyFullBuckets.map(function (e) {
                              return e.splats.length
                            }),
                            D = L.length,
                            O = [].concat(I(N.fullBuckets), I(N.partiallyFullBuckets)),
                            F = T.splats.length * y,
                            B = 4 * D,
                            U = r >= 1 ? O.length * e.BucketStorageSizeBytes + B : 0,
                            z = F + U,
                            V = new ArrayBuffer(z),
                            H = x / (0.5 * k),
                            W = new gd(),
                            G = 0,
                            j = 0;
                          j < O.length;
                          j++
                        ) {
                          var Q = O[j]
                          W.fromArray(Q.center)
                          for (var q = 0; q < Q.splats.length; q++) {
                            var X = Q.splats[q],
                              Y = T.splats[X],
                              K = U + G * y
                            ;(e.writeSplatDataToSectionBuffer(Y, V, K, r, c, W, H, x, s, u), G++)
                          }
                        }
                        if (((S += G), r >= 1)) {
                          for (
                            var Z = new Uint32Array(V, 0, 4 * L.length), J = 0;
                            J < L.length;
                            J++
                          )
                            Z[J] = L[J]
                          for (
                            var $ = new Float32Array(V, B, O.length * e.BucketStorageSizeFloats),
                              ee = 0;
                            ee < O.length;
                            ee++
                          ) {
                            var te = O[ee],
                              ne = 3 * ee
                            ;(($[ne] = te.center[0]),
                              ($[ne + 1] = te.center[1]),
                              ($[ne + 2] = te.center[2]))
                          }
                        }
                        _.push(V)
                        var re = new ArrayBuffer(e.SectionHeaderSizeBytes)
                        ;(e.writeSectionHeaderToBuffer(
                          {
                            maxSplatCount: G,
                            splatCount: G,
                            bucketSize: R,
                            bucketCount: O.length,
                            bucketBlockSize: k,
                            compressionScaleRange: x,
                            storageSizeBytes: z,
                            fullBucketCount: P,
                            partiallyFilledBucketCount: D,
                            sphericalHarmonicsDegree: c,
                          },
                          r,
                          re,
                          0
                        ),
                          b.push(re))
                      }
                      for (var ie = 0, ae = 0, oe = _; ae < oe.length; ae++) {
                        ie += oe[ae].byteLength
                      }
                      var se = e.HeaderSizeBytes + e.SectionHeaderSizeBytes * _.length + ie,
                        ue = new ArrayBuffer(se)
                      e.writeHeaderToBuffer(
                        {
                          versionMajor: 0,
                          versionMinor: 1,
                          maxSectionCount: _.length,
                          sectionCount: _.length,
                          maxSplatCount: S,
                          splatCount: S,
                          compressionLevel: r,
                          sceneCenter: i,
                          minSphericalHarmonicsCoeff: s,
                          maxSphericalHarmonicsCoeff: u,
                        },
                        ue
                      )
                      for (var le = e.HeaderSizeBytes, ce = 0, de = b; ce < de.length; ce++) {
                        var he = de[ce]
                        ;(new Uint8Array(ue, le, e.SectionHeaderSizeBytes).set(new Uint8Array(he)),
                          (le += e.SectionHeaderSizeBytes))
                      }
                      for (var fe = 0, pe = _; fe < pe.length; fe++) {
                        var ve = pe[fe]
                        ;(new Uint8Array(ue, le, ve.byteLength).set(new Uint8Array(ve)),
                          (le += ve.byteLength))
                      }
                      return new e(ue)
                    },
                  },
                  {
                    key: 'computeBucketsForUncompressedSplatArray',
                    value: function (e, t, n) {
                      for (
                        var r = e.splatCount, i = t / 2, a = new gd(), o = new gd(), s = 0;
                        s < r;
                        s++
                      ) {
                        var u = e.splats[s],
                          l = [u[ju.OFFSET.X], u[ju.OFFSET.Y], u[ju.OFFSET.Z]]
                        ;((0 === s || l[0] < a.x) && (a.x = l[0]),
                          (0 === s || l[0] > o.x) && (o.x = l[0]),
                          (0 === s || l[1] < a.y) && (a.y = l[1]),
                          (0 === s || l[1] > o.y) && (o.y = l[1]),
                          (0 === s || l[2] < a.z) && (a.z = l[2]),
                          (0 === s || l[2] > o.z) && (o.z = l[2]))
                      }
                      for (
                        var c = new gd().copy(o).sub(a),
                          d = Math.ceil(c.y / t),
                          h = Math.ceil(c.z / t),
                          f = new gd(),
                          p = [],
                          v = {},
                          m = 0;
                        m < r;
                        m++
                      ) {
                        var g = e.splats[m],
                          y = [g[ju.OFFSET.X], g[ju.OFFSET.Y], g[ju.OFFSET.Z]],
                          x = Math.floor((y[0] - a.x) / t),
                          _ = Math.floor((y[1] - a.y) / t),
                          b = Math.floor((y[2] - a.z) / t)
                        ;((f.x = x * t + a.x + i), (f.y = _ * t + a.y + i), (f.z = b * t + a.z + i))
                        var S = x * (d * h) + _ * h + b,
                          w = v[S]
                        ;(w || (v[S] = w = { splats: [], center: f.toArray() }),
                          w.splats.push(m),
                          w.splats.length >= n && (p.push(w), (v[S] = null)))
                      }
                      var A = []
                      for (var T in v)
                        if (v.hasOwnProperty(T)) {
                          var M = v[T]
                          M && A.push(M)
                        }
                      return { fullBuckets: p, partiallyFullBuckets: A }
                    },
                  },
                ]
              )
            })()
          ;((f = Lx),
            M(Lx, 'CurrentMajorVersion', 0),
            M(Lx, 'CurrentMinorVersion', 1),
            M(Lx, 'CenterComponentCount', 3),
            M(Lx, 'ScaleComponentCount', 3),
            M(Lx, 'RotationComponentCount', 4),
            M(Lx, 'ColorComponentCount', 4),
            M(Lx, 'CovarianceComponentCount', 6),
            M(Lx, 'SplatScaleOffsetFloat', 3),
            M(Lx, 'SplatRotationOffsetFloat', 6),
            M(Lx, 'CompressionLevels', {
              0: {
                BytesPerCenter: 12,
                BytesPerScale: 12,
                BytesPerRotation: 16,
                BytesPerColor: 4,
                ScaleOffsetBytes: 12,
                RotationffsetBytes: 24,
                ColorOffsetBytes: 40,
                SphericalHarmonicsOffsetBytes: 44,
                ScaleRange: 1,
                BytesPerSphericalHarmonicsComponent: 4,
                SphericalHarmonicsOffsetFloat: 11,
                SphericalHarmonicsDegrees: {
                  0: { BytesPerSplat: 44 },
                  1: { BytesPerSplat: 80 },
                  2: { BytesPerSplat: 140 },
                },
              },
              1: {
                BytesPerCenter: 6,
                BytesPerScale: 6,
                BytesPerRotation: 8,
                BytesPerColor: 4,
                ScaleOffsetBytes: 6,
                RotationffsetBytes: 12,
                ColorOffsetBytes: 20,
                SphericalHarmonicsOffsetBytes: 24,
                ScaleRange: 32767,
                BytesPerSphericalHarmonicsComponent: 2,
                SphericalHarmonicsOffsetFloat: 12,
                SphericalHarmonicsDegrees: {
                  0: { BytesPerSplat: 24 },
                  1: { BytesPerSplat: 42 },
                  2: { BytesPerSplat: 72 },
                },
              },
              2: {
                BytesPerCenter: 6,
                BytesPerScale: 6,
                BytesPerRotation: 8,
                BytesPerColor: 4,
                ScaleOffsetBytes: 6,
                RotationffsetBytes: 12,
                ColorOffsetBytes: 20,
                SphericalHarmonicsOffsetBytes: 24,
                ScaleRange: 32767,
                BytesPerSphericalHarmonicsComponent: 1,
                SphericalHarmonicsOffsetFloat: 12,
                SphericalHarmonicsDegrees: {
                  0: { BytesPerSplat: 24 },
                  1: { BytesPerSplat: 33 },
                  2: { BytesPerSplat: 48 },
                },
              },
            }),
            M(Lx, 'CovarianceSizeFloats', 6),
            M(Lx, 'HeaderSizeBytes', 4096),
            M(Lx, 'SectionHeaderSizeBytes', 1024),
            M(Lx, 'BucketStorageSizeBytes', 12),
            M(Lx, 'BucketStorageSizeFloats', 3),
            M(Lx, 'BucketBlockSize', 5),
            M(Lx, 'BucketSize', 256),
            M(
              Lx,
              'computeCovariance',
              ((Gy = new qd()),
              (jy = new jc()),
              (Qy = new jc()),
              (qy = new jc()),
              (Xy = new jc()),
              (Yy = new jc()),
              (Ky = new jc()),
              function (e, t, n, r) {
                var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                  a = arguments.length > 5 ? arguments[5] : void 0
                ;(Gy.makeScale(e.x, e.y, e.z),
                  jy.setFromMatrix4(Gy),
                  Gy.makeRotationFromQuaternion(t),
                  Qy.setFromMatrix4(Gy),
                  qy.copy(Qy).multiply(jy),
                  Xy.copy(qy).transpose().premultiply(qy),
                  n &&
                    (Yy.setFromMatrix4(n),
                    Ky.copy(Yy).transpose(),
                    Xy.multiply(Ky),
                    Xy.premultiply(Yy)),
                  a >= 1
                    ? ((r[i] = Ax(Xy.elements[0])),
                      (r[i + 1] = Ax(Xy.elements[3])),
                      (r[i + 2] = Ax(Xy.elements[6])),
                      (r[i + 3] = Ax(Xy.elements[4])),
                      (r[i + 4] = Ax(Xy.elements[7])),
                      (r[i + 5] = Ax(Xy.elements[8])))
                    : ((r[i] = Xy.elements[0]),
                      (r[i + 1] = Xy.elements[3]),
                      (r[i + 2] = Xy.elements[6]),
                      (r[i + 3] = Xy.elements[4]),
                      (r[i + 4] = Xy.elements[7]),
                      (r[i + 5] = Xy.elements[8])))
              })
            ),
            M(Lx, 'dot3', function (e, t, n, r, i) {
              i[0] = i[1] = i[2] = 0
              var a = r[0],
                o = r[1],
                s = r[2]
              ;(f.addInto3(e[0] * a, e[1] * a, e[2] * a, i),
                f.addInto3(t[0] * o, t[1] * o, t[2] * o, i),
                f.addInto3(n[0] * s, n[1] * s, n[2] * s, i))
            }),
            M(Lx, 'addInto3', function (e, t, n, r) {
              ;((r[0] = r[0] + e), (r[1] = r[1] + t), (r[2] = r[2] + n))
            }),
            M(Lx, 'dot5', function (e, t, n, r, i, a, o) {
              o[0] = o[1] = o[2] = 0
              var s = a[0],
                u = a[1],
                l = a[2],
                c = a[3],
                d = a[4]
              ;(f.addInto3(e[0] * s, e[1] * s, e[2] * s, o),
                f.addInto3(t[0] * u, t[1] * u, t[2] * u, o),
                f.addInto3(n[0] * l, n[1] * l, n[2] * l, o),
                f.addInto3(r[0] * c, r[1] * c, r[2] * c, o),
                f.addInto3(i[0] * d, i[1] * d, i[2] * d, o))
            }),
            M(Lx, 'rotateSphericalHarmonics3', function (e, t, n, r, i, a, o, s, u) {
              ;(f.dot3(e, t, n, r, o), f.dot3(e, t, n, i, s), f.dot3(e, t, n, a, u))
            }),
            M(
              Lx,
              'rotateSphericalHarmonics5',
              function (e, t, n, r, i, a, o, s, u, l, c, d, h, p, v, m, g, y) {
                var x = Math.sqrt(1 / 4),
                  _ = Math.sqrt(3 / 4),
                  b = Math.sqrt(1 / 3),
                  S = Math.sqrt(4 / 3),
                  w = Math.sqrt(1 / 12)
                ;((u[0] = x * (s[2] * a[0] + s[0] * a[2] + (a[2] * s[0] + a[0] * s[2]))),
                  (u[1] = s[1] * a[0] + a[1] * s[0]),
                  (u[2] = _ * (s[1] * a[1] + a[1] * s[1])),
                  (u[3] = s[1] * a[2] + a[1] * s[2]),
                  (u[4] = x * (s[2] * a[2] - s[0] * a[0] + (a[2] * s[2] - a[0] * s[0]))),
                  f.dot5(e, t, n, r, i, u, p),
                  (l[0] = x * (o[2] * a[0] + o[0] * a[2] + (a[2] * o[0] + a[0] * o[2]))),
                  (l[1] = o[1] * a[0] + a[1] * o[0]),
                  (l[2] = _ * (o[1] * a[1] + a[1] * o[1])),
                  (l[3] = o[1] * a[2] + a[1] * o[2]),
                  (l[4] = x * (o[2] * a[2] - o[0] * a[0] + (a[2] * o[2] - a[0] * o[0]))),
                  f.dot5(e, t, n, r, i, l, v),
                  (c[0] =
                    b * (o[2] * o[0] + o[0] * o[2]) +
                    -w * (s[2] * s[0] + s[0] * s[2] + (a[2] * a[0] + a[0] * a[2]))),
                  (c[1] = S * o[1] * o[0] + -b * (s[1] * s[0] + a[1] * a[0])),
                  (c[2] = o[1] * o[1] + -x * (s[1] * s[1] + a[1] * a[1])),
                  (c[3] = S * o[1] * o[2] + -b * (s[1] * s[2] + a[1] * a[2])),
                  (c[4] =
                    b * (o[2] * o[2] - o[0] * o[0]) +
                    -w * (s[2] * s[2] - s[0] * s[0] + (a[2] * a[2] - a[0] * a[0]))),
                  f.dot5(e, t, n, r, i, c, m),
                  (d[0] = x * (o[2] * s[0] + o[0] * s[2] + (s[2] * o[0] + s[0] * o[2]))),
                  (d[1] = o[1] * s[0] + s[1] * o[0]),
                  (d[2] = _ * (o[1] * s[1] + s[1] * o[1])),
                  (d[3] = o[1] * s[2] + s[1] * o[2]),
                  (d[4] = x * (o[2] * s[2] - o[0] * s[0] + (s[2] * o[2] - s[0] * o[0]))),
                  f.dot5(e, t, n, r, i, d, g),
                  (h[0] = x * (s[2] * s[0] + s[0] * s[2] - (a[2] * a[0] + a[0] * a[2]))),
                  (h[1] = s[1] * s[0] - a[1] * a[0]),
                  (h[2] = _ * (s[1] * s[1] - a[1] * a[1])),
                  (h[3] = s[1] * s[2] - a[1] * a[2]),
                  (h[4] = x * (s[2] * s[2] - s[0] * s[0] - (a[2] * a[2] - a[0] * a[0]))),
                  f.dot5(e, t, n, r, i, h, y))
              }
            ),
            M(
              Lx,
              'writeSplatDataToSectionBuffer',
              ((Zy = new ArrayBuffer(12)),
              (Jy = new ArrayBuffer(12)),
              ($y = new ArrayBuffer(16)),
              (ex = new ArrayBuffer(4)),
              (tx = new ArrayBuffer(256)),
              (nx = new md()),
              (rx = new gd()),
              (ix = new gd()),
              (ax = ju.OFFSET),
              (ox = ax.X),
              (sx = ax.Y),
              (ux = ax.Z),
              (lx = ax.SCALE0),
              (cx = ax.SCALE1),
              (dx = ax.SCALE2),
              (hx = ax.ROTATION0),
              (fx = ax.ROTATION1),
              (px = ax.ROTATION2),
              (vx = ax.ROTATION3),
              (mx = ax.FDC0),
              (gx = ax.FDC1),
              (yx = ax.FDC2),
              (xx = ax.OPACITY),
              (_x = ax.FRC0),
              (bx = ax.FRC9),
              (Sx = function (e, t, n) {
                var r = 2 * n + 1
                return ((e = Math.round(e * t) + n), Du(e, 0, r))
              }),
              function (e, t, n, r, i, a, o, s) {
                var u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : -wx,
                  l = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : wx,
                  c = Uu(i),
                  d = n,
                  h = d + f.CompressionLevels[r].BytesPerCenter,
                  p = h + f.CompressionLevels[r].BytesPerScale,
                  v = p + f.CompressionLevels[r].BytesPerRotation,
                  m = v + f.CompressionLevels[r].BytesPerColor
                if (
                  (void 0 !== e[hx]
                    ? (nx.set(e[hx], e[fx], e[px], e[vx]), nx.normalize())
                    : nx.set(1, 0, 0, 0),
                  void 0 !== e[lx] ? rx.set(e[lx] || 0, e[cx] || 0, e[dx] || 0) : rx.set(0, 0, 0),
                  0 === r)
                ) {
                  var g = new Float32Array(t, d, f.CenterComponentCount),
                    y = new Float32Array(t, p, f.RotationComponentCount),
                    x = new Float32Array(t, h, f.ScaleComponentCount)
                  if (
                    (y.set([nx.x, nx.y, nx.z, nx.w]),
                    x.set([rx.x, rx.y, rx.z]),
                    g.set([e[ox], e[sx], e[ux]]),
                    i > 0)
                  ) {
                    var _ = new Float32Array(t, m, c)
                    if (i >= 1) {
                      for (var b = 0; b < 9; b++) _[b] = e[_x + b] || 0
                      if (i >= 2) for (var S = 0; S < 15; S++) _[S + 9] = e[bx + S] || 0
                    }
                  }
                } else {
                  var w = new Uint16Array(Zy, 0, f.CenterComponentCount),
                    A = new Uint16Array($y, 0, f.RotationComponentCount),
                    T = new Uint16Array(Jy, 0, f.ScaleComponentCount)
                  if (
                    (A.set([Ax(nx.x), Ax(nx.y), Ax(nx.z), Ax(nx.w)]),
                    T.set([Ax(rx.x), Ax(rx.y), Ax(rx.z)]),
                    ix.set(e[ox], e[sx], e[ux]).sub(a),
                    (ix.x = Sx(ix.x, o, s)),
                    (ix.y = Sx(ix.y, o, s)),
                    (ix.z = Sx(ix.z, o, s)),
                    w.set([ix.x, ix.y, ix.z]),
                    i > 0)
                  ) {
                    var M = 1 === r ? 2 : 1,
                      E = new (1 === r ? Uint16Array : Uint8Array)(tx, 0, c)
                    if (i >= 1) {
                      for (var C = 0; C < 9; C++) {
                        var k = e[_x + C] || 0
                        E[C] = 1 === r ? Ax(k) : Ex(k, u, l)
                      }
                      var R = 9 * M
                      if ((Px(E.buffer, 0, t, m, R), i >= 2)) {
                        for (var I = 0; I < 15; I++) {
                          var N = e[bx + I] || 0
                          E[I + 9] = 1 === r ? Ax(N) : Ex(N, u, l)
                        }
                        Px(E.buffer, R, t, m + R, 15 * M)
                      }
                    }
                  }
                  ;(Px(w.buffer, 0, t, d, 6), Px(T.buffer, 0, t, h, 6), Px(A.buffer, 0, t, p, 8))
                }
                var P = new Uint8ClampedArray(ex, 0, 4)
                ;(P.set([e[mx] || 0, e[gx] || 0, e[yx] || 0]),
                  (P[3] = e[xx] || 0),
                  Px(P.buffer, 0, t, v, 4))
              })
            ))
          var Dx = new Uint8Array([112, 108, 121, 10]),
            Ox = new Uint8Array([10, 101, 110, 100, 95, 104, 101, 97, 100, 101, 114, 10]),
            Fx = 'end_header',
            Bx = new Map([
              ['char', Int8Array],
              ['uchar', Uint8Array],
              ['short', Int16Array],
              ['ushort', Uint16Array],
              ['int', Int32Array],
              ['uint', Uint32Array],
              ['float', Float32Array],
              ['double', Float64Array],
            ]),
            Ux = function (e, t) {
              var n = (1 << t) - 1
              return (e & n) / n
            },
            zx = function (e, t) {
              ;((e.x = Ux(t >>> 21, 11)), (e.y = Ux(t >>> 11, 10)), (e.z = Ux(t, 11)))
            },
            Vx = function (e, t, n) {
              return e * (1 - n) + t * n
            },
            Hx = function (e, t) {
              var n
              return null ===
                (n = e.properties.find(function (e) {
                  return e.name === t && e.storage
                })) || void 0 === n
                ? void 0
                : n.storage
            },
            Wx = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'decodeHeaderText',
                  value: function (e) {
                    for (
                      var t,
                        n,
                        r,
                        i = e.split('\n').filter(function (e) {
                          return !e.startsWith('comment ')
                        }),
                        a = 0,
                        o = !1,
                        s = 1;
                      s < i.length;
                      ++s
                    ) {
                      var u = i[s].split(' ')
                      switch (u[0]) {
                        case 'format':
                          if ('binary_little_endian' !== u[1])
                            throw new Error('Unsupported ply format')
                          break
                        case 'element':
                          'chunk' ===
                          (t = {
                            name: u[1],
                            count: parseInt(u[2], 10),
                            properties: [],
                            storageSizeBytes: 0,
                          }).name
                            ? (n = t)
                            : 'vertex' === t.name && (r = t)
                          break
                        case 'property':
                          if (!Bx.has(u[1]))
                            throw new Error(
                              "Unrecognized property data type '".concat(u[1], "' in ply header")
                            )
                          var l = Bx.get(u[1]),
                            c = l.BYTES_PER_ELEMENT * t.count
                          ;('vertex' === t.name && (a += l.BYTES_PER_ELEMENT),
                            t.properties.push({
                              type: u[1],
                              name: u[2],
                              storage: null,
                              byteSize: l.BYTES_PER_ELEMENT,
                              storageSizeByes: c,
                            }),
                            (t.storageSizeBytes += c))
                          break
                        case Fx:
                          o = !0
                          break
                        default:
                          throw new Error(
                            "Unrecognized header value '".concat(u[0], "' in ply header")
                          )
                      }
                      if (o) break
                    }
                    return {
                      chunkElement: n,
                      vertexElement: r,
                      bytesPerSplat: a,
                      headerSizeBytes: e.indexOf(Fx) + 10 + 1,
                      sphericalHarmonicsDegree: 0,
                    }
                  },
                },
                {
                  key: 'decodeHeader',
                  value: function (t) {
                    var n,
                      r = new Uint8Array(t)
                    if (
                      r.length >= Dx.length &&
                      !(function (e, t) {
                        if (e.length < t.length) return !1
                        for (var n = 0; n < t.length; ++n) if (e[n] !== t[n]) return !1
                        return !0
                      })(r, Dx)
                    )
                      throw new Error('Invalid PLY header')
                    if (
                      ((n = (function (e, t) {
                        var n,
                          r,
                          i = e.length - t.length
                        for (n = 0; n <= i; ++n) {
                          for (r = 0; r < t.length && e[n + r] === t[r]; ++r);
                          if (r === t.length) return n
                        }
                        return -1
                      })(r, Ox)),
                      -1 === n)
                    )
                      throw new Error('End of PLY header not found')
                    var i = new TextDecoder('ascii').decode(r.slice(0, n)),
                      a = e.decodeHeaderText(i),
                      o = a.chunkElement,
                      s = a.vertexElement,
                      u = a.bytesPerSplat
                    return {
                      headerSizeBytes: n + Ox.length,
                      bytesPerSplat: u,
                      chunkElement: o,
                      vertexElement: s,
                    }
                  },
                },
                {
                  key: 'readElementData',
                  value: function (e, t, n, r, i) {
                    var a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null,
                      o = t instanceof DataView ? t : new DataView(t)
                    ;((r = r || 0), (i = i || e.count - 1))
                    for (var s = r; s <= i; ++s)
                      for (var u = 0; u < e.properties.length; ++u) {
                        var l = e.properties[u],
                          c = Bx.get(l.type),
                          d = c.BYTES_PER_ELEMENT * e.count
                        if (
                          ((l.storage && !(l.storage.byteLength < d)) ||
                            (a && !a(l.name)) ||
                            (l.storage = new c(e.count)),
                          l.storage)
                        )
                          switch (l.type) {
                            case 'char':
                              l.storage[s] = o.getInt8(n)
                              break
                            case 'uchar':
                              l.storage[s] = o.getUint8(n)
                              break
                            case 'short':
                              l.storage[s] = o.getInt16(n, !0)
                              break
                            case 'ushort':
                              l.storage[s] = o.getUint16(n, !0)
                              break
                            case 'int':
                              l.storage[s] = o.getInt32(n, !0)
                              break
                            case 'uint':
                              l.storage[s] = o.getUint32(n, !0)
                              break
                            case 'float':
                              l.storage[s] = o.getFloat32(n, !0)
                              break
                            case 'double':
                              l.storage[s] = o.getFloat64(n, !0)
                          }
                        n += l.byteSize
                      }
                    return n
                  },
                },
                {
                  key: 'readPly',
                  value: function (t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                      r = e.decodeHeader(t),
                      i = e.readElementData(r.chunkElement, t, r.headerSizeBytes, null, null, n)
                    return (
                      e.readElementData(r.vertexElement, t, i, null, null, n),
                      { chunkElement: r.chunkElement, vertexElement: r.vertexElement }
                    )
                  },
                },
                {
                  key: 'getElementStorageArrays',
                  value: function (e, t) {
                    var n = Hx(e, 'min_x'),
                      r = Hx(e, 'min_y'),
                      i = Hx(e, 'min_z'),
                      a = Hx(e, 'max_x'),
                      o = Hx(e, 'max_y'),
                      s = Hx(e, 'max_z'),
                      u = Hx(e, 'min_scale_x'),
                      l = Hx(e, 'min_scale_y'),
                      c = Hx(e, 'min_scale_z')
                    return {
                      positionExtremes: { minX: n, maxX: a, minY: r, maxY: o, minZ: i, maxZ: s },
                      scaleExtremes: {
                        minScaleX: u,
                        maxScaleX: Hx(e, 'max_scale_x'),
                        minScaleY: l,
                        maxScaleY: Hx(e, 'max_scale_y'),
                        minScaleZ: c,
                        maxScaleZ: Hx(e, 'max_scale_z'),
                      },
                      position: Hx(t, 'packed_position'),
                      rotation: Hx(t, 'packed_rotation'),
                      scale: Hx(t, 'packed_scale'),
                      color: Hx(t, 'packed_color'),
                    }
                  },
                },
                {
                  key: 'parseToUncompressedSplatBufferSection',
                  value: function (t, n, r, i, a, o, s, u, l) {
                    var c = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : null
                    e.readElementData(n, o, s, r, i, c)
                    for (
                      var d = Lx.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,
                        h = e.getElementStorageArrays(t, n),
                        f = h.positionExtremes,
                        p = h.scaleExtremes,
                        v = h.position,
                        m = h.rotation,
                        g = h.scale,
                        y = h.color,
                        x = ju.createSplat(),
                        _ = r;
                      _ <= i;
                      ++_
                    ) {
                      e.decompressSplat(_, a, v, f, g, p, m, y, x)
                      var b = _ * d + l
                      Lx.writeSplatDataToSectionBuffer(x, u, b, 0, 0)
                    }
                  },
                },
                {
                  key: 'parseToUncompressedSplatArraySection',
                  value: function (t, n, r, i, a, o, s, u) {
                    var l = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : null
                    e.readElementData(n, o, s, r, i, l)
                    for (
                      var c = e.getElementStorageArrays(t, n),
                        d = c.positionExtremes,
                        h = c.scaleExtremes,
                        f = c.position,
                        p = c.rotation,
                        v = c.scale,
                        m = c.color,
                        g = r;
                      g <= i;
                      ++g
                    ) {
                      var y = ju.createSplat()
                      ;(e.decompressSplat(g, a, f, d, v, h, p, m, y), u.addSplat(y))
                    }
                  },
                },
                {
                  key: 'parseToUncompressedSplatArray',
                  value: function (t) {
                    for (
                      var n = e.readPly(t),
                        r = n.chunkElement,
                        i = n.vertexElement,
                        a = new ju(),
                        o = e.getElementStorageArrays(r, i),
                        s = o.positionExtremes,
                        u = o.scaleExtremes,
                        l = o.position,
                        c = o.rotation,
                        d = o.scale,
                        h = o.color,
                        f = 0;
                      f < i.count;
                      ++f
                    ) {
                      a.addDefaultSplat()
                      var p = a.getSplat(a.splatCount - 1)
                      e.decompressSplat(f, 0, l, s, d, u, c, h, p)
                    }
                    return (new qd().identity(), a)
                  },
                },
              ])
            })()
          M(
            Wx,
            'decompressSplat',
            (function () {
              var e = new gd(),
                t = new md(),
                n = new gd(),
                r = new dd(),
                i = ju.OFFSET
              return function (a, o, s, u, l, c, d, h, f) {
                f = f || ju.createSplat()
                var p,
                  v,
                  m = Math.floor((o + a) / 256)
                return (
                  zx(e, s[a]),
                  (function (e, t) {
                    var n = 1 / (0.5 * Math.sqrt(2)),
                      r = (Ux(t >>> 20, 10) - 0.5) * n,
                      i = (Ux(t >>> 10, 10) - 0.5) * n,
                      a = (Ux(t, 10) - 0.5) * n,
                      o = Math.sqrt(1 - (r * r + i * i + a * a))
                    switch (t >>> 30) {
                      case 0:
                        e.set(o, r, i, a)
                        break
                      case 1:
                        e.set(r, o, i, a)
                        break
                      case 2:
                        e.set(r, i, o, a)
                        break
                      case 3:
                        e.set(r, i, a, o)
                    }
                  })(t, d[a]),
                  zx(n, l[a]),
                  (p = r),
                  (v = h[a]),
                  (p.x = Ux(v >>> 24, 8)),
                  (p.y = Ux(v >>> 16, 8)),
                  (p.z = Ux(v >>> 8, 8)),
                  (p.w = Ux(v, 8)),
                  (f[i.X] = Vx(u.minX[m], u.maxX[m], e.x)),
                  (f[i.Y] = Vx(u.minY[m], u.maxY[m], e.y)),
                  (f[i.Z] = Vx(u.minZ[m], u.maxZ[m], e.z)),
                  (f[i.ROTATION0] = t.x),
                  (f[i.ROTATION1] = t.y),
                  (f[i.ROTATION2] = t.z),
                  (f[i.ROTATION3] = t.w),
                  (f[i.SCALE0] = Math.exp(Vx(c.minScaleX[m], c.maxScaleX[m], n.x))),
                  (f[i.SCALE1] = Math.exp(Vx(c.minScaleY[m], c.maxScaleY[m], n.y))),
                  (f[i.SCALE2] = Math.exp(Vx(c.minScaleZ[m], c.maxScaleZ[m], n.z))),
                  (f[i.FDC0] = Du(Math.floor(255 * r.x), 0, 255)),
                  (f[i.FDC1] = Du(Math.floor(255 * r.y), 0, 255)),
                  (f[i.FDC2] = Du(Math.floor(255 * r.z), 0, 255)),
                  (f[i.OPACITY] = Du(Math.floor(255 * r.w), 0, 255)),
                  f
                )
              }
            })()
          )
          var Gx = 0,
            jx = 1,
            Qx = 2,
            qx = { double: 0, int: 1, uint: 2, float: 3, short: 4, ushort: 5, uchar: 6 },
            Xx = M(M(M(M(M(M(M({}, 0, 8), 1, 4), 2, 4), 3, 4), 4, 2), 5, 2), 6, 1),
            Yx = (function () {
              function e() {
                w(this, e)
              }
              return T(
                e,
                [
                  {
                    key: 'decodeSectionHeader',
                    value: function (t, n) {
                      for (
                        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                          i = [],
                          a = !1,
                          o = -1,
                          s = 0,
                          u = !1,
                          l = null,
                          c = [],
                          d = [],
                          h = [],
                          f = {},
                          p = r;
                        p < t.length;
                        p++
                      ) {
                        var v = t[p].trim()
                        if (v.startsWith('element')) {
                          if (a) {
                            o--
                            break
                          }
                          ;((a = !0), (r = p), (o = p))
                          var m,
                            g = 0,
                            y = L(v.split(' '))
                          try {
                            for (y.s(); !(m = y.n()).done; ) {
                              var x = m.value.trim()
                              x.length > 0 && (2 === ++g ? (l = x) : 3 === g && (s = parseInt(x)))
                            }
                          } catch (P) {
                            y.e(P)
                          } finally {
                            y.f()
                          }
                        } else if (v.startsWith('property')) {
                          var _ = v.match(/(\w+)\s+(\w+)\s+(\w+)/)
                          if (_) {
                            var b = _[2],
                              S = _[3]
                            h.push(S)
                            var w = n[S]
                            f[S] = b
                            var A = qx[b]
                            void 0 !== w && (c.push(w), (d[w] = A))
                          }
                        }
                        if (v === e.HeaderEndToken) {
                          u = !0
                          break
                        }
                        a && (i.push(v), o++)
                      }
                      for (var T = [], M = 0, E = 0, C = h; E < C.length; E++) {
                        var k = C[E],
                          R = f[k]
                        if (f.hasOwnProperty(k)) {
                          var I = n[k]
                          void 0 !== I && (T[I] = M)
                        }
                        M += Xx[qx[R]]
                      }
                      var N = this.decodeSphericalHarmonicsFromSectionHeader(h, n)
                      return {
                        headerLines: i,
                        headerStartLine: r,
                        headerEndLine: o,
                        fieldTypes: d,
                        fieldIds: c,
                        fieldOffsets: T,
                        bytesPerVertex: M,
                        vertexCount: s,
                        dataSizeBytes: M * s,
                        endOfHeader: u,
                        sectionName: l,
                        sphericalHarmonicsDegree: N.degree,
                        sphericalHarmonicsCoefficientsPerChannel: N.coefficientsPerChannel,
                        sphericalHarmonicsDegree1Fields: N.degree1Fields,
                        sphericalHarmonicsDegree2Fields: N.degree2Fields,
                      }
                    },
                  },
                  {
                    key: 'decodeSphericalHarmonicsFromSectionHeader',
                    value: function (e, t) {
                      var n,
                        r,
                        i = 0,
                        a = L(e)
                      try {
                        for (a.s(); !(r = a.n()).done; ) {
                          r.value.startsWith('f_rest') && i++
                        }
                      } catch (h) {
                        a.e(h)
                      } finally {
                        a.f()
                      }
                      var o = 0
                      ;((n = i / 3) >= 3 && (o = 1), n >= 8 && (o = 2))
                      for (var s = [], u = [], l = 0; l < 3; l++) {
                        if (o >= 1) for (var c = 0; c < 3; c++) s.push(t['f_rest_' + (c + n * l)])
                        if (o >= 2)
                          for (var d = 0; d < 5; d++) u.push(t['f_rest_' + (d + n * l + 3)])
                      }
                      return {
                        degree: o,
                        coefficientsPerChannel: n,
                        degree1Fields: s,
                        degree2Fields: u,
                      }
                    },
                  },
                  {
                    key: 'readHeaderFromBuffer',
                    value: function (t) {
                      for (var n = new TextDecoder(), r = 0, i = '', a = 100; ; ) {
                        if (r + a >= t.byteLength)
                          throw new Error('End of file reached while searching for end of header')
                        var o = new Uint8Array(t, r, a)
                        if (((i += n.decode(o)), (r += a), e.checkBufferForEndHeader(t, r, 200, n)))
                          break
                      }
                      return i
                    },
                  },
                ],
                [
                  {
                    key: 'getHeaderSectionNames',
                    value: function (e) {
                      var t,
                        n = [],
                        r = L(e)
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          var i = t.value
                          if (i.startsWith('element')) {
                            var a,
                              o = i.split(' '),
                              s = 0,
                              u = L(o)
                            try {
                              for (u.s(); !(a = u.n()).done; ) {
                                var l = a.value.trim()
                                l.length > 0 && 2 === ++s && n.push(l)
                              }
                            } catch (c) {
                              u.e(c)
                            } finally {
                              u.f()
                            }
                          }
                        }
                      } catch (c) {
                        r.e(c)
                      } finally {
                        r.f()
                      }
                      return n
                    },
                  },
                  {
                    key: 'checkTextForEndHeader',
                    value: function (t) {
                      return !!t.includes(e.HeaderEndToken)
                    },
                  },
                  {
                    key: 'checkBufferForEndHeader',
                    value: function (t, n, r, i) {
                      var a = new Uint8Array(t, Math.max(0, n - r), r),
                        o = i.decode(a)
                      return e.checkTextForEndHeader(o)
                    },
                  },
                  {
                    key: 'extractHeaderFromBufferToText',
                    value: function (t) {
                      for (var n = new TextDecoder(), r = 0, i = '', a = 100; ; ) {
                        if (r + a >= t.byteLength)
                          throw new Error('End of file reached while searching for end of header')
                        var o = new Uint8Array(t, r, a)
                        if (((i += n.decode(o)), (r += a), e.checkBufferForEndHeader(t, r, 200, n)))
                          break
                      }
                      return i
                    },
                  },
                  {
                    key: 'convertHeaderTextToLines',
                    value: function (t) {
                      for (var n = t.split('\n'), r = [], i = 0; i < n.length; i++) {
                        var a = n[i].trim()
                        if ((r.push(a), a === e.HeaderEndToken)) break
                      }
                      return r
                    },
                  },
                  {
                    key: 'determineHeaderFormatFromHeaderText',
                    value: function (t) {
                      for (
                        var n = e.convertHeaderTextToLines(t), r = Gx, i = 0;
                        i < n.length;
                        i++
                      ) {
                        var a = n[i].trim()
                        if (a.startsWith('element chunk') || a.match(/[A-Za-z]*packed_[A-Za-z]*/))
                          r = Qx
                        else if (a.startsWith('element codebook_centers')) r = jx
                        else if (a === e.HeaderEndToken) break
                      }
                      return r
                    },
                  },
                  {
                    key: 'determineHeaderFormatFromPlyBuffer',
                    value: function (t) {
                      var n = e.extractHeaderFromBufferToText(t)
                      return e.determineHeaderFormatFromHeaderText(n)
                    },
                  },
                  {
                    key: 'readVertex',
                    value: function (e, t, n, r, i, a) {
                      var o,
                        s = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6],
                        u = n * t.bytesPerVertex + r,
                        l = t.fieldOffsets,
                        c = t.fieldTypes,
                        d = L(i)
                      try {
                        for (d.s(); !(o = d.n()).done; ) {
                          var h = o.value,
                            f = c[h]
                          3 === f
                            ? (a[h] = e.getFloat32(u + l[h], !0))
                            : 4 === f
                              ? (a[h] = e.getInt16(u + l[h], !0))
                              : 5 === f
                                ? (a[h] = e.getUint16(u + l[h], !0))
                                : 1 === f
                                  ? (a[h] = e.getInt32(u + l[h], !0))
                                  : 2 === f
                                    ? (a[h] = e.getUint32(u + l[h], !0))
                                    : 6 === f &&
                                      (a[h] = s ? e.getUint8(u + l[h]) / 255 : e.getUint8(u + l[h]))
                        }
                      } catch (p) {
                        d.e(p)
                      } finally {
                        d.f()
                      }
                    },
                  },
                ]
              )
            })()
          M(Yx, 'HeaderEndToken', 'end_header')
          var Kx = [
              'scale_0',
              'scale_1',
              'scale_2',
              'rot_0',
              'rot_1',
              'rot_2',
              'rot_3',
              'x',
              'y',
              'z',
              'f_dc_0',
              'f_dc_1',
              'f_dc_2',
              'opacity',
              'red',
              'green',
              'blue',
              'f_rest_0',
            ],
            Zx = Kx.map(function (e, t) {
              return t
            }),
            Jx = C(Zx, 18),
            $x = Jx[0],
            e_ = Jx[1],
            t_ = Jx[2],
            n_ = Jx[3],
            r_ = Jx[4],
            i_ = Jx[5],
            a_ = Jx[6],
            o_ = Jx[7],
            s_ = Jx[8],
            u_ = Jx[9],
            l_ = Jx[10],
            c_ = Jx[11],
            d_ = Jx[12],
            h_ = Jx[13],
            f_ = Jx[14],
            p_ = Jx[15],
            v_ = Jx[16],
            m_ = Jx[17],
            g_ = (function () {
              function e() {
                ;(w(this, e), (this.plyParserutils = new Yx()))
              }
              return T(
                e,
                [
                  {
                    key: 'decodeHeaderLines',
                    value: function (e) {
                      var t = 0
                      e.forEach(function (e) {
                        e.includes('f_rest_') && t++
                      })
                      var n = 0
                      t >= 45 ? (n = 45) : t >= 24 ? (n = 24) : t >= 9 && (n = 9)
                      var r = Array.from(Array(Math.max(n - 1, 0))).map(function (e, t) {
                          return 'f_rest_'.concat(t + 1)
                        }),
                        i = [].concat(Kx, I(r)),
                        a = i.map(function (e, t) {
                          return t
                        }),
                        o = a.reduce(function (e, t) {
                          return ((e[i[t]] = t), e)
                        }, {}),
                        s = this.plyParserutils.decodeSectionHeader(e, o, 0)
                      return (
                        (s.splatCount = s.vertexCount),
                        (s.bytesPerSplat = s.bytesPerVertex),
                        (s.fieldsToReadIndexes = a),
                        s
                      )
                    },
                  },
                  {
                    key: 'decodeHeaderText',
                    value: function (e) {
                      var t = Yx.convertHeaderTextToLines(e),
                        n = this.decodeHeaderLines(t)
                      return (
                        (n.headerText = e),
                        (n.headerSizeBytes =
                          e.indexOf(Yx.HeaderEndToken) + Yx.HeaderEndToken.length + 1),
                        n
                      )
                    },
                  },
                  {
                    key: 'decodeHeaderFromBuffer',
                    value: function (e) {
                      var t = this.plyParserutils.readHeaderFromBuffer(e)
                      return this.decodeHeaderText(t)
                    },
                  },
                  {
                    key: 'findSplatData',
                    value: function (e, t) {
                      return new DataView(e, t.headerSizeBytes)
                    },
                  },
                  {
                    key: 'parseToUncompressedSplatBufferSection',
                    value: function (t, n, r, i, a, o, s) {
                      var u = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0
                      u = Math.min(u, t.sphericalHarmonicsDegree)
                      for (
                        var l = Lx.CompressionLevels[0].SphericalHarmonicsDegrees[u].BytesPerSplat,
                          c = n;
                        c <= r;
                        c++
                      ) {
                        var d = e.parseToUncompressedSplat(i, c, t, a, u),
                          h = c * l + s
                        Lx.writeSplatDataToSectionBuffer(d, o, h, 0, u)
                      }
                    },
                  },
                  {
                    key: 'parseToUncompressedSplatArraySection',
                    value: function (t, n, r, i, a, o) {
                      var s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0
                      s = Math.min(s, t.sphericalHarmonicsDegree)
                      for (var u = n; u <= r; u++) {
                        var l = e.parseToUncompressedSplat(i, u, t, a, s)
                        o.addSplat(l)
                      }
                    },
                  },
                  {
                    key: 'decodeSectionSplatData',
                    value: function (t, n, r, i) {
                      i = Math.min(i, r.sphericalHarmonicsDegree)
                      for (var a = new ju(i), o = 0; o < n; o++) {
                        var s = e.parseToUncompressedSplat(t, o, r, 0, i)
                        a.addSplat(s)
                      }
                      return a
                    },
                  },
                  {
                    key: 'parseToUncompressedSplatArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = this.decodeHeaderFromBuffer(e),
                        r = n.splatCount,
                        i = this.findSplatData(e, n)
                      return this.decodeSectionSplatData(i, r, n, t)
                    },
                  },
                ],
                [
                  {
                    key: 'readSplat',
                    value: function (e, t, n, r, i) {
                      return Yx.readVertex(e, t, n, r, t.fieldsToReadIndexes, i, !0)
                    },
                  },
                ]
              )
            })()
          ;((p = g_),
            M(
              g_,
              'parseToUncompressedSplat',
              (function () {
                for (
                  var e = [],
                    t = new md(),
                    n = ju.OFFSET.X,
                    r = ju.OFFSET.Y,
                    i = ju.OFFSET.Z,
                    a = ju.OFFSET.SCALE0,
                    o = ju.OFFSET.SCALE1,
                    s = ju.OFFSET.SCALE2,
                    u = ju.OFFSET.ROTATION0,
                    l = ju.OFFSET.ROTATION1,
                    c = ju.OFFSET.ROTATION2,
                    d = ju.OFFSET.ROTATION3,
                    h = ju.OFFSET.FDC0,
                    f = ju.OFFSET.FDC1,
                    v = ju.OFFSET.FDC2,
                    m = ju.OFFSET.OPACITY,
                    g = [],
                    y = 0;
                  y < 45;
                  y++
                )
                  g[y] = ju.OFFSET.FRC0 + y
                return function (y, x, _) {
                  var b = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                    S = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
                  ;((S = Math.min(S, _.sphericalHarmonicsDegree)), p.readSplat(y, _, x, b, e))
                  var w = ju.createSplat(S)
                  if (
                    (void 0 !== e[$x]
                      ? ((w[a] = Math.exp(e[$x])),
                        (w[o] = Math.exp(e[e_])),
                        (w[s] = Math.exp(e[t_])))
                      : ((w[a] = 0.01), (w[o] = 0.01), (w[s] = 0.01)),
                    void 0 !== e[l_]
                      ? ((w[h] = 255 * e[l_]), (w[f] = 255 * e[c_]), (w[v] = 255 * e[d_]))
                      : void 0 !== e[f_]
                        ? ((w[h] = 255 * e[f_]), (w[f] = 255 * e[p_]), (w[v] = 255 * e[v_]))
                        : ((w[h] = 0), (w[f] = 0), (w[v] = 0)),
                    void 0 !== e[h_] && (w[m] = (1 / (1 + Math.exp(-e[h_]))) * 255),
                    (w[h] = Du(Math.floor(w[h]), 0, 255)),
                    (w[f] = Du(Math.floor(w[f]), 0, 255)),
                    (w[v] = Du(Math.floor(w[v]), 0, 255)),
                    (w[m] = Du(Math.floor(w[m]), 0, 255)),
                    S >= 1 && void 0 !== e[m_])
                  ) {
                    for (var A = 0; A < 9; A++) w[g[A]] = e[_.sphericalHarmonicsDegree1Fields[A]]
                    if (S >= 2)
                      for (var T = 0; T < 15; T++)
                        w[g[9 + T]] = e[_.sphericalHarmonicsDegree2Fields[T]]
                  }
                  return (
                    t.set(e[n_], e[r_], e[i_], e[a_]),
                    t.normalize(),
                    (w[u] = t.x),
                    (w[l] = t.y),
                    (w[c] = t.z),
                    (w[d] = t.w),
                    (w[n] = e[o_]),
                    (w[r] = e[s_]),
                    (w[i] = e[u_]),
                    w
                  )
                }
              })()
            ))
          var y_ = [
              'features_dc',
              'features_rest_0',
              'features_rest_1',
              'features_rest_2',
              'features_rest_3',
              'features_rest_4',
              'features_rest_5',
              'features_rest_6',
              'features_rest_7',
              'features_rest_8',
              'features_rest_9',
              'features_rest_10',
              'features_rest_11',
              'features_rest_12',
              'features_rest_13',
              'features_rest_14',
              'opacity',
              'scaling',
              'rotation_re',
              'rotation_im',
            ],
            x_ = y_.map(function (e, t) {
              return t
            }),
            __ = [
              'scale_0',
              'scale_1',
              'scale_2',
              'rot_0',
              'rot_1',
              'rot_2',
              'rot_3',
              'x',
              'y',
              'z',
              'f_dc_0',
              'f_dc_1',
              'f_dc_2',
              'opacity',
              'red',
              'green',
              'blue',
              'f_rest_0',
              'f_rest_1',
              'f_rest_2',
              'f_rest_3',
              'f_rest_4',
              'f_rest_5',
              'f_rest_6',
              'f_rest_7',
              'f_rest_8',
              'f_rest_9',
              'f_rest_10',
              'f_rest_11',
              'f_rest_12',
              'f_rest_13',
              'f_rest_14',
              'f_rest_15',
              'f_rest_16',
              'f_rest_17',
              'f_rest_18',
              'f_rest_19',
              'f_rest_20',
              'f_rest_21',
              'f_rest_22',
              'f_rest_23',
              'f_rest_24',
              'f_rest_25',
              'f_rest_26',
              'f_rest_27',
              'f_rest_28',
              'f_rest_29',
              'f_rest_30',
              'f_rest_31',
              'f_rest_32',
              'f_rest_33',
              'f_rest_34',
              'f_rest_35',
              'f_rest_36',
              'f_rest_37',
              'f_rest_38',
              'f_rest_39',
              'f_rest_40',
              'f_rest_41',
              'f_rest_42',
              'f_rest_43',
              'f_rest_44',
              'f_rest_45',
            ],
            b_ = __.map(function (e, t) {
              return t
            }),
            S_ = C(b_, 14),
            w_ = S_[0],
            A_ = S_[1],
            T_ = S_[2],
            M_ = S_[3],
            E_ = S_[4],
            C_ = S_[5],
            k_ = S_[6],
            R_ = S_[7],
            I_ = S_[8],
            N_ = S_[9],
            P_ = S_[10],
            L_ = S_[11],
            D_ = S_[12],
            O_ = S_[13],
            F_ = P_,
            B_ = L_,
            U_ = D_,
            z_ = function (e) {
              var t = (31744 & e) >> 10,
                n = 1023 & e
              return (
                (e >> 15 ? -1 : 1) *
                (t
                  ? 31 === t
                    ? n
                      ? NaN
                      : 1 / 0
                    : Math.pow(2, t - 15) * (1 + n / 1024)
                  : (n / 1024) * 6103515625e-14)
              )
            },
            V_ = (function () {
              function e() {
                ;(w(this, e), (this.plyParserutils = new Yx()))
              }
              return T(
                e,
                [
                  {
                    key: 'decodeSectionHeadersFromHeaderLines',
                    value: function (e) {
                      for (
                        var t,
                          n = b_.reduce(function (e, t) {
                            return ((e[__[t]] = t), e)
                          }, {}),
                          r = x_.reduce(function (e, t) {
                            return ((e[y_[t]] = t), e)
                          }, {}),
                          i = Yx.getHeaderSectionNames(e),
                          a = 0;
                        a < i.length;
                        a++
                      ) {
                        'codebook_centers' === i[a] && (t = a)
                      }
                      for (var o = 0, s = !1, u = [], l = 0; !s; ) {
                        var c = void 0
                        ;((s = (c =
                          l === t
                            ? this.plyParserutils.decodeSectionHeader(e, r, o)
                            : this.plyParserutils.decodeSectionHeader(e, n, o)).endOfHeader),
                          (o = c.headerEndLine + 1),
                          s ||
                            ((c.splatCount = c.vertexCount), (c.bytesPerSplat = c.bytesPerVertex)),
                          u.push(c),
                          l++)
                      }
                      return u
                    },
                  },
                  {
                    key: 'decodeSectionHeadersFromHeaderText',
                    value: function (e) {
                      var t = Yx.convertHeaderTextToLines(e)
                      return this.decodeSectionHeadersFromHeaderLines(t)
                    },
                  },
                  {
                    key: 'getSplatCountFromSectionHeaders',
                    value: function (e) {
                      var t,
                        n = 0,
                        r = L(e)
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          var i = t.value
                          'codebook_centers' !== i.sectionName && (n += i.vertexCount)
                        }
                      } catch (a) {
                        r.e(a)
                      } finally {
                        r.f()
                      }
                      return n
                    },
                  },
                  {
                    key: 'decodeHeaderFromHeaderText',
                    value: function (e) {
                      var t = e.indexOf(Yx.HeaderEndToken) + Yx.HeaderEndToken.length + 1,
                        n = this.decodeSectionHeadersFromHeaderText(e)
                      return {
                        headerSizeBytes: t,
                        sectionHeaders: n,
                        splatCount: this.getSplatCountFromSectionHeaders(n),
                      }
                    },
                  },
                  {
                    key: 'decodeHeaderFromBuffer',
                    value: function (e) {
                      var t = this.plyParserutils.readHeaderFromBuffer(e)
                      return this.decodeHeaderFromHeaderText(t)
                    },
                  },
                  {
                    key: 'findVertexData',
                    value: function (e, t, n) {
                      for (
                        var r = t.headerSizeBytes, i = 0;
                        i < n && i < t.sectionHeaders.length;
                        i++
                      ) {
                        r += t.sectionHeaders[i].dataSizeBytes
                      }
                      return new DataView(e, r, t.sectionHeaders[n].dataSizeBytes)
                    },
                  },
                  {
                    key: 'decodeCodeBook',
                    value: function (e, t) {
                      for (var n = [], r = [], i = 0; i < t.vertexCount; i++) {
                        Yx.readVertex(e, t, i, 0, x_, n)
                        var a,
                          o = L(x_)
                        try {
                          for (o.s(); !(a = o.n()).done; ) {
                            var s = a.value,
                              u = x_[s],
                              l = r[u]
                            ;(l || (r[u] = l = []), l.push(n[s]))
                          }
                        } catch (p) {
                          o.e(p)
                        } finally {
                          o.f()
                        }
                      }
                      for (var c = 0; c < r.length; c++)
                        for (var d = r[c], h = 0; h < d.length; h++) {
                          var f = z_(d[h])
                          d[h] =
                            16 === c
                              ? Math.round((1 / (1 + Math.exp(-f))) * 255)
                              : 0 === c
                                ? Math.round(255 * (0.5 + 0.28209479177387814 * f))
                                : 17 === c
                                  ? Math.exp(f)
                                  : f
                        }
                      return r
                    },
                  },
                  {
                    key: 'decodeSectionSplatData',
                    value: function (t, n, r, i, a) {
                      a = Math.min(a, r.sphericalHarmonicsDegree)
                      for (var o = new ju(a), s = 0; s < n; s++) {
                        var u = e.parseToUncompressedSplat(t, s, r, i, 0, a)
                        o.addSplat(u)
                      }
                      return o
                    },
                  },
                  {
                    key: 'parseToUncompressedSplatArray',
                    value: function (e) {
                      for (
                        var t,
                          n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                          r = [],
                          i = this.decodeHeaderFromBuffer(e, n),
                          a = 0;
                        a < i.sectionHeaders.length;
                        a++
                      ) {
                        var o = i.sectionHeaders[a]
                        if ('codebook_centers' === o.sectionName) {
                          var s = this.findVertexData(e, i, a)
                          t = this.decodeCodeBook(s, o)
                        }
                      }
                      for (var u = 0; u < i.sectionHeaders.length; u++) {
                        var l = i.sectionHeaders[u]
                        if ('codebook_centers' !== l.sectionName) {
                          var c = l.vertexCount,
                            d = this.findVertexData(e, i, u),
                            h = this.decodeSectionSplatData(d, c, l, t, n)
                          r.push(h)
                        }
                      }
                      for (var f = new ju(n), p = 0, v = r; p < v.length; p++) {
                        var m,
                          g = L(v[p].splats)
                        try {
                          for (g.s(); !(m = g.n()).done; ) {
                            var y = m.value
                            f.addSplat(y)
                          }
                        } catch (x) {
                          g.e(x)
                        } finally {
                          g.f()
                        }
                      }
                      return f
                    },
                  },
                ],
                [
                  {
                    key: 'readSplat',
                    value: function (e, t, n, r, i) {
                      return Yx.readVertex(e, t, n, r, b_, i, !1)
                    },
                  },
                ]
              )
            })()
          ;((x = V_),
            M(
              V_,
              'parseToUncompressedSplat',
              (function () {
                for (
                  var e = [],
                    t = new md(),
                    n = ju.OFFSET.X,
                    r = ju.OFFSET.Y,
                    i = ju.OFFSET.Z,
                    a = ju.OFFSET.SCALE0,
                    o = ju.OFFSET.SCALE1,
                    s = ju.OFFSET.SCALE2,
                    u = ju.OFFSET.ROTATION0,
                    l = ju.OFFSET.ROTATION1,
                    c = ju.OFFSET.ROTATION2,
                    d = ju.OFFSET.ROTATION3,
                    h = ju.OFFSET.FDC0,
                    f = ju.OFFSET.FDC1,
                    p = ju.OFFSET.FDC2,
                    v = ju.OFFSET.OPACITY,
                    m = [],
                    g = 0;
                  g < 45;
                  g++
                )
                  m[g] = ju.OFFSET.FRC0 + g
                return function (g, y, _, b) {
                  var S = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                    w = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0
                  ;((w = Math.min(w, _.sphericalHarmonicsDegree)), x.readSplat(g, _, y, S, e))
                  var A = ju.createSplat(w)
                  if (
                    (void 0 !== e[w_]
                      ? ((A[a] = b[17][e[w_]]), (A[o] = b[17][e[A_]]), (A[s] = b[17][e[T_]]))
                      : ((A[a] = 0.01), (A[o] = 0.01), (A[s] = 0.01)),
                    void 0 !== e[P_]
                      ? ((A[h] = b[0][e[P_]]), (A[f] = b[0][e[L_]]), (A[p] = b[0][e[D_]]))
                      : void 0 !== e[F_]
                        ? ((A[h] = 255 * e[F_]), (A[f] = 255 * e[B_]), (A[p] = 255 * e[U_]))
                        : ((A[h] = 0), (A[f] = 0), (A[p] = 0)),
                    void 0 !== e[O_] && (A[v] = b[16][e[O_]]),
                    (A[h] = Du(Math.floor(A[h]), 0, 255)),
                    (A[f] = Du(Math.floor(A[f]), 0, 255)),
                    (A[p] = Du(Math.floor(A[p]), 0, 255)),
                    (A[v] = Du(Math.floor(A[v]), 0, 255)),
                    w >= 1 && _.sphericalHarmonicsDegree >= 1)
                  ) {
                    for (var T = 0; T < 9; T++) {
                      var M = b[1 + (T % 3)]
                      A[m[T]] = M[e[_.sphericalHarmonicsDegree1Fields[T]]]
                    }
                    if (w >= 2 && _.sphericalHarmonicsDegree >= 2)
                      for (var E = 0; E < 15; E++) {
                        var C = b[4 + (E % 5)]
                        A[m[9 + E]] = C[e[_.sphericalHarmonicsDegree2Fields[E]]]
                      }
                  }
                  var k = b[18][e[M_]],
                    R = b[19][e[E_]],
                    I = b[19][e[C_]],
                    N = b[19][e[k_]]
                  return (
                    t.set(k, R, I, N),
                    t.normalize(),
                    (A[u] = t.x),
                    (A[l] = t.y),
                    (A[c] = t.z),
                    (A[d] = t.w),
                    (A[n] = z_(e[R_])),
                    (A[r] = z_(e[I_])),
                    (A[i] = z_(e[N_])),
                    A
                  )
                }
              })()
            ))
          var H_ = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'parseToUncompressedSplatArray',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = Yx.determineHeaderFormatFromPlyBuffer(e)
                      return n === Qx
                        ? Wx.parseToUncompressedSplatArray(e)
                        : n === Gx
                          ? new g_().parseToUncompressedSplatArray(e, t)
                          : n === jx
                            ? new V_().parseToUncompressedSplatArray(e, t)
                            : void 0
                    },
                  },
                ]
              )
            })(),
            W_ = (function () {
              function e(t, n, r, i) {
                ;(w(this, e),
                  (this.sectionCount = t),
                  (this.sectionFilters = n),
                  (this.groupingParameters = r),
                  (this.partitionGenerator = i))
              }
              return T(
                e,
                [
                  {
                    key: 'partitionUncompressedSplatArray',
                    value: function (e) {
                      var t, n, r
                      if (this.partitionGenerator) {
                        var i = this.partitionGenerator(e)
                        ;((t = i.groupingParameters), (n = i.sectionCount), (r = i.sectionFilters))
                      } else
                        ((t = this.groupingParameters),
                          (n = this.sectionCount),
                          (r = this.sectionFilters))
                      for (var a = [], o = 0; o < n; o++) {
                        for (
                          var s = new ju(e.sphericalHarmonicsDegree), u = r[o], l = 0;
                          l < e.splatCount;
                          l++
                        )
                          u(l) && s.addSplat(e.splats[l])
                        a.push(s)
                      }
                      return { splatArrays: a, parameters: t }
                    },
                  },
                ],
                [
                  {
                    key: 'getStandardPartitioner',
                    value: function () {
                      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n =
                          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new gd(),
                        r =
                          arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : Lx.BucketBlockSize,
                        i =
                          arguments.length > 3 && void 0 !== arguments[3]
                            ? arguments[3]
                            : Lx.BucketSize
                      return new e(void 0, void 0, void 0, function (e) {
                        var a = ju.OFFSET.X,
                          o = ju.OFFSET.Y,
                          s = ju.OFFSET.Z
                        t <= 0 && (t = e.splatCount)
                        var u = new gd(),
                          l = 0.5
                        ;(e.splats.forEach(function (e) {
                          var t
                          ;(u.set(e[a], e[o], e[s]).sub(n),
                            ((t = u).x = Math.floor(t.x / l) * l),
                            (t.y = Math.floor(t.y / l) * l),
                            (t.z = Math.floor(t.z / l) * l),
                            (e.centerDist = u.lengthSq()))
                        }),
                          e.splats.sort(function (e, t) {
                            return e.centerDist > t.centerDist ? 1 : -1
                          }))
                        var c = [],
                          d = []
                        t = Math.min(e.splatCount, t)
                        for (
                          var h = Math.ceil(e.splatCount / t),
                            f = 0,
                            p = function () {
                              var e = f
                              ;(c.push(function (n) {
                                return n >= e && n < e + t
                              }),
                                d.push({ blocksSize: r, bucketSize: i }),
                                (f += t))
                            },
                            v = 0;
                          v < h;
                          v++
                        )
                          p()
                        return { sectionCount: c.length, sectionFilters: c, groupingParameters: d }
                      })
                    },
                  },
                ]
              )
            })(),
            G_ = (function () {
              function e(t, n, r, i, a, o, s) {
                ;(w(this, e),
                  (this.splatPartitioner = t),
                  (this.alphaRemovalThreshold = n),
                  (this.compressionLevel = r),
                  (this.sectionSize = i),
                  (this.sceneCenter = a ? new gd().copy(a) : void 0),
                  (this.blockSize = o),
                  (this.bucketSize = s))
              }
              return T(
                e,
                [
                  {
                    key: 'generateFromUncompressedSplatArray',
                    value: function (e) {
                      var t = this.splatPartitioner.partitionUncompressedSplatArray(e)
                      return Lx.generateFromUncompressedSplatArrays(
                        t.splatArrays,
                        this.alphaRemovalThreshold,
                        this.compressionLevel,
                        this.sceneCenter,
                        this.blockSize,
                        this.bucketSize,
                        t.parameters
                      )
                    },
                  },
                ],
                [
                  {
                    key: 'getStandardGenerator',
                    value: function () {
                      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        i =
                          arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : new gd(),
                        a =
                          arguments.length > 4 && void 0 !== arguments[4]
                            ? arguments[4]
                            : Lx.BucketBlockSize,
                        o =
                          arguments.length > 5 && void 0 !== arguments[5]
                            ? arguments[5]
                            : Lx.BucketSize
                      return new e(W_.getStandardPartitioner(r, i, a, o), t, n, r, i, a, o)
                    },
                  },
                ]
              )
            })(),
            j_ = 0,
            Q_ = 1,
            q_ = 2,
            X_ = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (b(t, e), T(t))
            })(m(Error)),
            Y_ = 0,
            K_ = 1,
            Z_ = 2
          function J_(e, t) {
            var n,
              r = 0,
              i = L(e)
            try {
              for (i.s(); !(n = i.n()).done; ) {
                r += n.value.sizeBytes
              }
            } catch (l) {
              i.e(l)
            } finally {
              i.f()
            }
            ;(!t || t.byteLength < r) && (t = new ArrayBuffer(r))
            var a,
              o = 0,
              s = L(e)
            try {
              for (s.s(); !(a = s.n()).done; ) {
                var u = a.value
                ;(new Uint8Array(t, o, u.sizeBytes).set(u.data), (o += u.sizeBytes))
              }
            } catch (l) {
              s.e(l)
            } finally {
              s.f()
            }
            return t
          }
          function $_(e, t, n, r, i, a, o, s) {
            return t
              ? G_.getStandardGenerator(n, r, i, a, o, s).generateFromUncompressedSplatArray(e)
              : Lx.generateFromUncompressedSplatArrays([e], n, 0, new gd())
          }
          var eb = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'loadFromURL',
                  value: function (t, n, r, i, a, o) {
                    var s = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6],
                      u = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
                      l = arguments.length > 8 ? arguments[8] : void 0,
                      c = arguments.length > 9 ? arguments[9] : void 0,
                      d = arguments.length > 10 ? arguments[10] : void 0,
                      h = arguments.length > 11 ? arguments[11] : void 0,
                      f = arguments.length > 12 ? arguments[12] : void 0,
                      p = r ? Y_ : K_
                    s && (p = K_)
                    var v,
                      m,
                      g,
                      y,
                      x,
                      _ = Wy.ProgressiveLoadSectionSize,
                      b = Lx.HeaderSizeBytes + Lx.SectionHeaderSizeBytes,
                      S = 0,
                      w = 0,
                      A = !1,
                      T = !1,
                      M = !1,
                      E = zu(),
                      C = 0,
                      k = 0,
                      R = 0,
                      I = '',
                      N = null,
                      P = [],
                      L = new TextDecoder(),
                      D = new g_()
                    return (
                      n && n(0, '0%', j_),
                      Lu(
                        t,
                        function (e, t, a) {
                          var o = e >= 100
                          if (
                            (a &&
                              (P.push({
                                data: a,
                                sizeBytes: a.byteLength,
                                startBytes: R,
                                endBytes: R + a.byteLength,
                              }),
                              (R += a.byteLength)),
                            p === Z_)
                          )
                            o && E.resolve(P)
                          else {
                            if (A) {
                              if (M && !T) {
                                var s = N.headerSizeBytes + N.chunkElement.storageSizeBytes
                                ;(y = J_(P, y)).byteLength >= s &&
                                  (Wx.readElementData(N.chunkElement, y, N.headerSizeBytes),
                                  (C = s),
                                  (k = s),
                                  (T = !0))
                              }
                            } else if (((I += L.decode(a)), Yx.checkTextForEndHeader(I))) {
                              var l = Yx.determineHeaderFormatFromHeaderText(I)
                              if (l === Gx)
                                ((N = D.decodeHeaderText(I)),
                                  (S = N.splatCount),
                                  (T = !0),
                                  (M = !1))
                              else {
                                if (l !== Qx) {
                                  if (r)
                                    throw new X_(
                                      'PlyLoader.loadFromURL() -> Selected Ply format cannot be directly loaded.'
                                    )
                                  return void (p = Z_)
                                }
                                ;((N = Wx.decodeHeaderText(I)),
                                  (S = N.vertexElement.count),
                                  (M = !0))
                              }
                              u = Math.min(u, N.sphericalHarmonicsDegree)
                              var c = Lx.CompressionLevels[0].SphericalHarmonicsDegrees[u],
                                d = b + c.BytesPerSplat * S
                              ;(p === Y_
                                ? ((m = new ArrayBuffer(d)),
                                  Lx.writeHeaderToBuffer(
                                    {
                                      versionMajor: Lx.CurrentMajorVersion,
                                      versionMinor: Lx.CurrentMinorVersion,
                                      maxSectionCount: 1,
                                      sectionCount: 1,
                                      maxSplatCount: S,
                                      splatCount: w,
                                      compressionLevel: 0,
                                      sceneCenter: new gd(),
                                    },
                                    m
                                  ))
                                : (x = new ju(u)),
                                (C = N.headerSizeBytes),
                                (k = N.headerSizeBytes),
                                (A = !0))
                            }
                            if (A && T) {
                              if (P.length > 0)
                                if (((v = J_(P, v)), R - C > _ || o)) {
                                  var h = R - k,
                                    f = Math.floor(h / N.bytesPerSplat),
                                    O = f * N.bytesPerSplat,
                                    F = h - O,
                                    B = w + f,
                                    U = k - P[0].startBytes,
                                    z = new DataView(v, U, O),
                                    V = Lx.CompressionLevels[0].SphericalHarmonicsDegrees[u],
                                    H = w * V.BytesPerSplat + b
                                  if (
                                    (p === Y_
                                      ? M
                                        ? Wx.parseToUncompressedSplatBufferSection(
                                            N.chunkElement,
                                            N.vertexElement,
                                            0,
                                            f - 1,
                                            w,
                                            z,
                                            0,
                                            m,
                                            H
                                          )
                                        : D.parseToUncompressedSplatBufferSection(
                                            N,
                                            0,
                                            f - 1,
                                            z,
                                            0,
                                            m,
                                            H,
                                            u
                                          )
                                      : M
                                        ? Wx.parseToUncompressedSplatArraySection(
                                            N.chunkElement,
                                            N.vertexElement,
                                            0,
                                            f - 1,
                                            w,
                                            z,
                                            0,
                                            x
                                          )
                                        : D.parseToUncompressedSplatArraySection(
                                            N,
                                            0,
                                            f - 1,
                                            z,
                                            0,
                                            x,
                                            u
                                          ),
                                    (w = B),
                                    p === Y_ &&
                                      (g ||
                                        (Lx.writeSectionHeaderToBuffer(
                                          {
                                            maxSplatCount: S,
                                            splatCount: w,
                                            bucketSize: 0,
                                            bucketCount: 0,
                                            bucketBlockSize: 0,
                                            compressionScaleRange: 0,
                                            storageSizeBytes: 0,
                                            fullBucketCount: 0,
                                            partiallyFilledBucketCount: 0,
                                            sphericalHarmonicsDegree: u,
                                          },
                                          0,
                                          m,
                                          Lx.HeaderSizeBytes
                                        ),
                                        (g = new Lx(m, !1))),
                                      g.updateLoadedCounts(1, w),
                                      i && i(g, o)),
                                    (C += _),
                                    (k += O),
                                    0 === F)
                                  )
                                    P = []
                                  else {
                                    for (var W = [], G = 0, j = P.length - 1; j >= 0; j--) {
                                      var Q = P[j]
                                      if (((G += Q.sizeBytes), W.unshift(Q), G >= F)) break
                                    }
                                    P = W
                                  }
                                }
                              o && (p === Y_ ? E.resolve(g) : E.resolve(x))
                            }
                          }
                          n && n(e, t, j_)
                        },
                        !1,
                        l
                      ).then(function () {
                        return (
                          n && n(0, '0%', Q_),
                          E.promise.then(function (t) {
                            if ((n && n(100, '100%', q_), p === Z_)) {
                              var r = P.map(function (e) {
                                return e.data
                              })
                              return new Blob(r).arrayBuffer().then(function (t) {
                                return e.loadFromFileData(t, a, o, s, u, c, d, h, f)
                              })
                            }
                            return p === Y_
                              ? t
                              : Bu(function () {
                                  return $_(t, s, a, o, c, d, h, f)
                                })
                          })
                        )
                      })
                    )
                  },
                },
                {
                  key: 'loadFromFileData',
                  value: function (e, t, n, r) {
                    var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                      a = arguments.length > 5 ? arguments[5] : void 0,
                      o = arguments.length > 6 ? arguments[6] : void 0,
                      s = arguments.length > 7 ? arguments[7] : void 0,
                      u = arguments.length > 8 ? arguments[8] : void 0
                    return Bu(function () {
                      return H_.parseToUncompressedSplatArray(e, i)
                    }).then(function (e) {
                      return $_(e, r, t, n, a, o, s, u)
                    })
                  },
                },
              ])
            })(),
            tb = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'parseToUncompressedSplatBufferSection',
                  value: function (t, n, r, i, a, o) {
                    for (
                      var s = Lx.CompressionLevels[0].BytesPerCenter,
                        u = Lx.CompressionLevels[0].BytesPerScale,
                        l = Lx.CompressionLevels[0].BytesPerRotation,
                        c = Lx.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,
                        d = t;
                      d <= n;
                      d++
                    ) {
                      var h = d * e.RowSizeBytes + i,
                        f = new Float32Array(r, h, 3),
                        p = new Float32Array(r, h + e.CenterSizeBytes, 3),
                        v = new Uint8Array(r, h + e.CenterSizeBytes + e.ScaleSizeBytes, 4),
                        m = new Uint8Array(
                          r,
                          h + e.CenterSizeBytes + e.ScaleSizeBytes + e.RotationSizeBytes,
                          4
                        ),
                        g = new md(
                          (m[1] - 128) / 128,
                          (m[2] - 128) / 128,
                          (m[3] - 128) / 128,
                          (m[0] - 128) / 128
                        )
                      g.normalize()
                      var y = d * c + o,
                        x = new Float32Array(a, y, 3),
                        _ = new Float32Array(a, y + s, 3),
                        b = new Float32Array(a, y + s + u, 4),
                        S = new Uint8Array(a, y + s + u + l, 4)
                      ;((x[0] = f[0]),
                        (x[1] = f[1]),
                        (x[2] = f[2]),
                        (_[0] = p[0]),
                        (_[1] = p[1]),
                        (_[2] = p[2]),
                        (b[0] = g.w),
                        (b[1] = g.x),
                        (b[2] = g.y),
                        (b[3] = g.z),
                        (S[0] = v[0]),
                        (S[1] = v[1]),
                        (S[2] = v[2]),
                        (S[3] = v[3]))
                    }
                  },
                },
                {
                  key: 'parseToUncompressedSplatArraySection',
                  value: function (t, n, r, i, a) {
                    for (var o = t; o <= n; o++) {
                      var s = o * e.RowSizeBytes + i,
                        u = new Float32Array(r, s, 3),
                        l = new Float32Array(r, s + e.CenterSizeBytes, 3),
                        c = new Uint8Array(r, s + e.CenterSizeBytes + e.ScaleSizeBytes, 4),
                        d = new Uint8Array(
                          r,
                          s + e.CenterSizeBytes + e.ScaleSizeBytes + e.RotationSizeBytes,
                          4
                        ),
                        h = new md(
                          (d[1] - 128) / 128,
                          (d[2] - 128) / 128,
                          (d[3] - 128) / 128,
                          (d[0] - 128) / 128
                        )
                      ;(h.normalize(),
                        a.addSplatFromComonents(
                          u[0],
                          u[1],
                          u[2],
                          l[0],
                          l[1],
                          l[2],
                          h.w,
                          h.x,
                          h.y,
                          h.z,
                          c[0],
                          c[1],
                          c[2],
                          c[3]
                        ))
                    }
                  },
                },
                {
                  key: 'parseStandardSplatToUncompressedSplatArray',
                  value: function (t) {
                    for (var n = t.byteLength / e.RowSizeBytes, r = new ju(), i = 0; i < n; i++) {
                      var a = i * e.RowSizeBytes,
                        o = new Float32Array(t, a, 3),
                        s = new Float32Array(t, a + e.CenterSizeBytes, 3),
                        u = new Uint8Array(t, a + e.CenterSizeBytes + e.ScaleSizeBytes, 4),
                        l = new Uint8Array(
                          t,
                          a + e.CenterSizeBytes + e.ScaleSizeBytes + e.ColorSizeBytes,
                          4
                        ),
                        c = new md(
                          (l[1] - 128) / 128,
                          (l[2] - 128) / 128,
                          (l[3] - 128) / 128,
                          (l[0] - 128) / 128
                        )
                      ;(c.normalize(),
                        r.addSplatFromComonents(
                          o[0],
                          o[1],
                          o[2],
                          s[0],
                          s[1],
                          s[2],
                          c.w,
                          c.x,
                          c.y,
                          c.z,
                          u[0],
                          u[1],
                          u[2],
                          u[3]
                        ))
                    }
                    return r
                  },
                },
              ])
            })()
          function nb(e, t, n, r, i, a, o, s) {
            return t
              ? G_.getStandardGenerator(n, r, i, a, o, s).generateFromUncompressedSplatArray(e)
              : Lx.generateFromUncompressedSplatArrays([e], n, 0, new gd())
          }
          ;(M(tb, 'RowSizeBytes', 32),
            M(tb, 'CenterSizeBytes', 12),
            M(tb, 'ScaleSizeBytes', 12),
            M(tb, 'RotationSizeBytes', 4),
            M(tb, 'ColorSizeBytes', 4))
          var rb,
            ib = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'loadFromURL',
                  value: function (t, n, r, i, a, o) {
                    var s = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6],
                      u = arguments.length > 7 ? arguments[7] : void 0,
                      l = arguments.length > 8 ? arguments[8] : void 0,
                      c = arguments.length > 9 ? arguments[9] : void 0,
                      d = arguments.length > 10 ? arguments[10] : void 0,
                      h = arguments.length > 11 ? arguments[11] : void 0,
                      f = r ? Y_ : K_
                    s && (f = K_)
                    var p,
                      v,
                      m,
                      g,
                      y = Lx.HeaderSizeBytes + Lx.SectionHeaderSizeBytes,
                      x = Wy.ProgressiveLoadSectionSize,
                      _ = 0,
                      b = 0,
                      S = zu(),
                      w = 0,
                      A = 0,
                      T = []
                    return (
                      n && n(0, '0%', j_),
                      Lu(
                        t,
                        function (e, t, a, o) {
                          var s = e >= 100
                          if ((a && T.push(a), f !== Z_))
                            if (o) {
                              if (!p) {
                                ;((_ = o / tb.RowSizeBytes), (p = new ArrayBuffer(o)))
                                var u =
                                  Lx.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat
                                f === Y_
                                  ? ((v = new ArrayBuffer(y + u * _)),
                                    Lx.writeHeaderToBuffer(
                                      {
                                        versionMajor: Lx.CurrentMajorVersion,
                                        versionMinor: Lx.CurrentMinorVersion,
                                        maxSectionCount: 1,
                                        sectionCount: 1,
                                        maxSplatCount: _,
                                        splatCount: b,
                                        compressionLevel: 0,
                                        sceneCenter: new gd(),
                                      },
                                      v
                                    ))
                                  : (g = new ju(0))
                              }
                              if (a) {
                                new Uint8Array(p, A, a.byteLength).set(new Uint8Array(a))
                                var l = (A += a.byteLength) - w
                                if (l > x || s) {
                                  var c = (s ? l : x) / tb.RowSizeBytes,
                                    d = b + c
                                  ;(f === Y_
                                    ? tb.parseToUncompressedSplatBufferSection(b, d - 1, p, 0, v, y)
                                    : tb.parseToUncompressedSplatArraySection(b, d - 1, p, 0, g),
                                    (b = d),
                                    f === Y_ &&
                                      (m ||
                                        (Lx.writeSectionHeaderToBuffer(
                                          {
                                            maxSplatCount: _,
                                            splatCount: b,
                                            bucketSize: 0,
                                            bucketCount: 0,
                                            bucketBlockSize: 0,
                                            compressionScaleRange: 0,
                                            storageSizeBytes: 0,
                                            fullBucketCount: 0,
                                            partiallyFilledBucketCount: 0,
                                          },
                                          0,
                                          v,
                                          Lx.HeaderSizeBytes
                                        ),
                                        (m = new Lx(v, !1))),
                                      m.updateLoadedCounts(1, b),
                                      i && i(m, s)),
                                    (w += x))
                                }
                              }
                              ;(s && (f === Y_ ? S.resolve(m) : S.resolve(g)), n && n(e, t, j_))
                            } else {
                              if (r)
                                throw new X_(
                                  'Cannon directly load .splat because no file size info is available.'
                                )
                              f = Z_
                            }
                          else s && S.resolve(T)
                        },
                        !1,
                        u
                      ).then(function () {
                        return (
                          n && n(0, '0%', Q_),
                          S.promise.then(function (t) {
                            return (
                              n && n(100, '100%', q_),
                              f === Z_
                                ? new Blob(T).arrayBuffer().then(function (t) {
                                    return e.loadFromFileData(t, a, o, s, l, c, d, h)
                                  })
                                : f === Y_
                                  ? t
                                  : Bu(function () {
                                      return nb(t, s, a, o, l, c, d, h)
                                    })
                            )
                          })
                        )
                      })
                    )
                  },
                },
                {
                  key: 'loadFromFileData',
                  value: function (e, t, n, r, i, a, o, s) {
                    return Bu(function () {
                      return nb(
                        tb.parseStandardSplatToUncompressedSplatArray(e),
                        r,
                        t,
                        n,
                        i,
                        a,
                        o,
                        s
                      )
                    })
                  },
                },
              ])
            })(),
            ab = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'checkVersion',
                  value: function (e) {
                    var t = Lx.CurrentMajorVersion,
                      n = Lx.CurrentMinorVersion,
                      r = Lx.parseHeader(e)
                    if ((r.versionMajor === t && r.versionMinor >= n) || r.versionMajor > t)
                      return !0
                    throw new Error(
                      'KSplat version not supported: v'
                        .concat(r.versionMajor, '.')
                        .concat(r.versionMinor, '. ') +
                        'Minimum required: v'.concat(t, '.').concat(n)
                    )
                  },
                },
                {
                  key: 'loadFromURL',
                  value: function (t, n, r, i, a) {
                    var o,
                      s,
                      u,
                      l,
                      c,
                      d = !1,
                      h = !1,
                      f = [],
                      p = !1,
                      v = !1,
                      m = 0,
                      g = 0,
                      y = 0,
                      x = !1,
                      _ = !1,
                      b = !1,
                      S = [],
                      w = zu(),
                      A = 0,
                      T = function () {
                        !v &&
                          !p &&
                          d &&
                          m >= Lx.HeaderSizeBytes + Lx.SectionHeaderSizeBytes * l.maxSectionCount &&
                          ((v = !0),
                          new Blob(S).arrayBuffer().then(function (e) {
                            ;((v = !1),
                              (p = !0),
                              (c = new ArrayBuffer(l.maxSectionCount * Lx.SectionHeaderSizeBytes)),
                              new Uint8Array(c).set(
                                new Uint8Array(
                                  e,
                                  Lx.HeaderSizeBytes,
                                  l.maxSectionCount * Lx.SectionHeaderSizeBytes
                                )
                              ),
                              (f = Lx.parseSectionHeaders(l, c, 0, !1)))
                            for (var t = 0, n = 0; n < l.maxSectionCount; n++)
                              t += f[n].storageSizeBytes
                            var r =
                              Lx.HeaderSizeBytes + l.maxSectionCount * Lx.SectionHeaderSizeBytes + t
                            if (!o) {
                              o = new ArrayBuffer(r)
                              for (var i = 0, a = 0; a < S.length; a++) {
                                var s = S[a]
                                ;(new Uint8Array(o, i, s.byteLength).set(new Uint8Array(s)),
                                  (i += s.byteLength))
                              }
                            }
                            y = Lx.HeaderSizeBytes + Lx.SectionHeaderSizeBytes * l.maxSectionCount
                            for (var u = 0; u <= f.length && u < l.maxSectionCount; u++)
                              y += f[u].storageSizeBytes
                            0 === A &&
                              (A++,
                              window.setTimeout(function () {
                                ;(A--, M())
                              }, 1))
                          }))
                      },
                      M = function () {
                        if (!b) {
                          b = !0
                          window.setTimeout(function () {
                            if (((b = !1), p)) {
                              if (_) return
                              if (((x = m >= y), m - g > Wy.ProgressiveLoadSectionSize || x)) {
                                ;((g += Wy.ProgressiveLoadSectionSize),
                                  (_ = g >= y),
                                  s || (s = new Lx(o, !1)))
                                for (
                                  var e =
                                      Lx.HeaderSizeBytes +
                                      Lx.SectionHeaderSizeBytes * l.maxSectionCount,
                                    t = 0,
                                    r = 0,
                                    a = 0,
                                    u = 0;
                                  u < l.maxSectionCount;
                                  u++
                                ) {
                                  var c = f[u],
                                    d =
                                      e +
                                      (t +
                                        4 * c.partiallyFilledBucketCount +
                                        c.bucketStorageSizeBytes * c.bucketCount)
                                  if (!(g >= d)) break
                                  r++
                                  var h = g - d,
                                    v =
                                      Lx.CompressionLevels[l.compressionLevel]
                                        .SphericalHarmonicsDegrees[c.sphericalHarmonicsDegree]
                                        .BytesPerSplat,
                                    S = Math.floor(h / v)
                                  ;((a += S = Math.min(S, c.maxSplatCount)),
                                    s.updateLoadedCounts(r, a),
                                    s.updateSectionLoadedCounts(u, S),
                                    (t += c.storageSizeBytes))
                                }
                                i(s, _)
                                var A = (g / y) * 100,
                                  T = A.toFixed(2) + '%'
                                ;(n && n(A, T, j_), _ ? w.resolve(s) : M())
                              }
                            }
                          }, Wy.ProgressiveLoadSectionDelayDuration)
                        }
                      }
                    return Lu(
                      t,
                      function (t, i, a) {
                        ;(a &&
                          (S.push(a),
                          o && new Uint8Array(o, m, a.byteLength).set(new Uint8Array(a)),
                          (m += a.byteLength)),
                          r
                            ? (!d &&
                                !h &&
                                m >= Lx.HeaderSizeBytes &&
                                ((h = !0),
                                new Blob(S).arrayBuffer().then(function (t) {
                                  ;((u = new ArrayBuffer(Lx.HeaderSizeBytes)),
                                    new Uint8Array(u).set(new Uint8Array(t, 0, Lx.HeaderSizeBytes)),
                                    e.checkVersion(u),
                                    (h = !1),
                                    (d = !0),
                                    (l = Lx.parseHeader(u)),
                                    window.setTimeout(function () {
                                      T()
                                    }, 1))
                                })),
                              T(),
                              M())
                            : n && n(t, i, j_))
                      },
                      !r,
                      a
                    ).then(function (t) {
                      return (
                        n && n(0, '0%', Q_),
                        (r ? w.promise : e.loadFromFileData(t)).then(function (e) {
                          return (n && n(100, '100%', q_), e)
                        })
                      )
                    })
                  },
                },
                {
                  key: 'loadFromFileData',
                  value: function (t) {
                    return Bu(function () {
                      return (e.checkVersion(t), new Lx(t))
                    })
                  },
                },
              ])
            })()
          M(ab, 'downloadFile', function (e, t) {
            var n = new Blob([e.bufferData], { type: 'application/octet-stream' })
            ;(rb || ((rb = document.createElement('a')), document.body.appendChild(rb)),
              (rb.download = t),
              (rb.href = URL.createObjectURL(n)),
              rb.click())
          })
          var ob = 0,
            sb = 1,
            ub = 2,
            lb = function (e) {
              return e.endsWith('.ply')
                ? ub
                : e.endsWith('.splat')
                  ? ob
                  : e.endsWith('.ksplat')
                    ? sb
                    : null
            },
            cb = { type: 'change' },
            db = { type: 'start' },
            hb = { type: 'end' },
            fb = new Qd(),
            pb = new gp(),
            vb = Math.cos(70 * Wc.DEG2RAD),
            mb = (function (e) {
              function t(e, n) {
                var r
                ;(w(this, t),
                  ((r = y(this, t)).object = e),
                  (r.domElement = n),
                  (r.domElement.style.touchAction = 'none'),
                  (r.enabled = !0),
                  (r.target = new gd()),
                  (r.minDistance = 0),
                  (r.maxDistance = 1 / 0),
                  (r.minZoom = 0),
                  (r.maxZoom = 1 / 0),
                  (r.minPolarAngle = 0),
                  (r.maxPolarAngle = Math.PI),
                  (r.minAzimuthAngle = -Math.PI / 72),
                  (r.maxAzimuthAngle = Math.PI / 72),
                  (r.enableDamping = !1),
                  (r.dampingFactor = 0.05),
                  (r.enableZoom = !0),
                  (r.zoomSpeed = 1),
                  (r.enableRotate = !0),
                  (r.rotateSpeed = 1),
                  (r.enablePan = !1),
                  (r.panSpeed = 1),
                  (r.screenSpacePanning = !0),
                  (r.keyPanSpeed = 7),
                  (r.zoomToCursor = !1),
                  (r.autoRotate = !1),
                  (r.autoRotateSpeed = 2),
                  (r.keys = { LEFT: 'KeyA', UP: 'KeyW', RIGHT: 'KeyD', BOTTOM: 'KeyS' }),
                  (r.mouseButtons = { LEFT: qu, MIDDLE: Xu, RIGHT: Yu }),
                  (r.touches = { ONE: Ku, TWO: Ju }),
                  (r.target0 = r.target.clone()),
                  (r.position0 = r.object.position.clone()),
                  (r.zoom0 = r.object.zoom),
                  (r._domElementKeyEvents = null),
                  (r.getPolarAngle = function () {
                    return u.phi
                  }),
                  (r.getAzimuthalAngle = function () {
                    return u.theta
                  }),
                  (r.getDistance = function () {
                    return this.object.position.distanceTo(this.target)
                  }),
                  (r.listenToKeyEvents = function (e) {
                    ;(e.addEventListener('keydown', K), (r._domElementKeyEvents = e))
                  }),
                  (r.stopListenToKeyEvents = function () {
                    ;(r._domElementKeyEvents.removeEventListener('keydown', K),
                      (r._domElementKeyEvents = null))
                  }),
                  (r.saveState = function () {
                    ;(i.target0.copy(i.target),
                      i.position0.copy(i.object.position),
                      (i.zoom0 = i.object.zoom))
                  }),
                  (r.reset = function () {
                    ;(i.target.copy(i.target0),
                      i.object.position.copy(i.position0),
                      (i.object.zoom = i.zoom0),
                      this.clearDampedRotation(),
                      this.clearDampedPan(),
                      i.object.updateProjectionMatrix(),
                      i.dispatchEvent(cb),
                      i.update(),
                      (o = a.NONE))
                  }),
                  (r.clearDampedRotation = function () {
                    ;((l.theta = 0), (l.phi = 0))
                  }),
                  (r.clearDampedPan = function () {
                    d.set(0, 0, 0)
                  }),
                  (r.update = (function () {
                    var t = new gd(),
                      n = new md().setFromUnitVectors(e.up, new gd(0, 1, 0)),
                      r = n.clone().invert(),
                      h = new gd(),
                      f = new md(),
                      p = new gd(),
                      v = 2 * Math.PI
                    return function () {
                      ;(n.setFromUnitVectors(e.up, new gd(0, 1, 0)), r.copy(n).invert())
                      var m = i.object.position
                      ;(t.copy(m).sub(i.target),
                        t.applyQuaternion(n),
                        u.setFromVector3(t),
                        i.autoRotate &&
                          o === a.NONE &&
                          k(((2 * Math.PI) / 60 / 60) * i.autoRotateSpeed),
                        i.enableDamping
                          ? ((u.theta += l.theta * i.dampingFactor),
                            (u.phi += l.phi * i.dampingFactor))
                          : ((u.theta += l.theta), (u.phi += l.phi)))
                      var g = i.minAzimuthAngle,
                        y = i.maxAzimuthAngle
                      ;(isFinite(g) &&
                        isFinite(y) &&
                        (g < -Math.PI ? (g += v) : g > Math.PI && (g -= v),
                        y < -Math.PI ? (y += v) : y > Math.PI && (y -= v),
                        (u.theta =
                          g <= y
                            ? Math.max(g, Math.min(y, u.theta))
                            : u.theta > (g + y) / 2
                              ? Math.max(g, u.theta)
                              : Math.min(y, u.theta))),
                        (u.phi = Math.max(i.minPolarAngle, Math.min(i.maxPolarAngle, u.phi))),
                        u.makeSafe(),
                        !0 === i.enableDamping
                          ? i.target.addScaledVector(d, i.dampingFactor)
                          : i.target.add(d),
                        (i.zoomToCursor && T) || i.object.isOrthographicCamera
                          ? (u.radius = F(u.radius))
                          : (u.radius = F(u.radius * c)),
                        t.setFromSpherical(u),
                        t.applyQuaternion(r),
                        m.copy(i.target).add(t),
                        i.object.lookAt(i.target),
                        !0 === i.enableDamping
                          ? ((l.theta *= 1 - i.dampingFactor),
                            (l.phi *= 1 - i.dampingFactor),
                            d.multiplyScalar(1 - i.dampingFactor))
                          : (l.set(0, 0, 0), d.set(0, 0, 0)))
                      var x = !1
                      if (i.zoomToCursor && T) {
                        var _ = null
                        if (i.object.isPerspectiveCamera) {
                          var b = t.length(),
                            w = b - (_ = F(b * c))
                          ;(i.object.position.addScaledVector(S, w), i.object.updateMatrixWorld())
                        } else if (i.object.isOrthographicCamera) {
                          var M = new gd(A.x, A.y, 0)
                          ;(M.unproject(i.object),
                            (i.object.zoom = Math.max(
                              i.minZoom,
                              Math.min(i.maxZoom, i.object.zoom / c)
                            )),
                            i.object.updateProjectionMatrix(),
                            (x = !0))
                          var E = new gd(A.x, A.y, 0)
                          ;(E.unproject(i.object),
                            i.object.position.sub(E).add(M),
                            i.object.updateMatrixWorld(),
                            (_ = t.length()))
                        } else
                          (console.warn(
                            'WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.'
                          ),
                            (i.zoomToCursor = !1))
                        null !== _ &&
                          (this.screenSpacePanning
                            ? i.target
                                .set(0, 0, -1)
                                .transformDirection(i.object.matrix)
                                .multiplyScalar(_)
                                .add(i.object.position)
                            : (fb.origin.copy(i.object.position),
                              fb.direction.set(0, 0, -1).transformDirection(i.object.matrix),
                              Math.abs(i.object.up.dot(fb.direction)) < vb
                                ? e.lookAt(i.target)
                                : (pb.setFromNormalAndCoplanarPoint(i.object.up, i.target),
                                  fb.intersectPlane(pb, i.target))))
                      } else
                        i.object.isOrthographicCamera &&
                          ((i.object.zoom = Math.max(
                            i.minZoom,
                            Math.min(i.maxZoom, i.object.zoom / c)
                          )),
                          i.object.updateProjectionMatrix(),
                          (x = !0))
                      return (
                        (c = 1),
                        (T = !1),
                        !!(
                          x ||
                          h.distanceToSquared(i.object.position) > s ||
                          8 * (1 - f.dot(i.object.quaternion)) > s ||
                          p.distanceToSquared(i.target) > 0
                        ) &&
                          (i.dispatchEvent(cb),
                          h.copy(i.object.position),
                          f.copy(i.object.quaternion),
                          p.copy(i.target),
                          (x = !1),
                          !0)
                      )
                    }
                  })()),
                  (r.dispose = function () {
                    ;(i.domElement.removeEventListener('contextmenu', Z),
                      i.domElement.removeEventListener('pointerdown', Q),
                      i.domElement.removeEventListener('pointercancel', X),
                      i.domElement.removeEventListener('wheel', Y),
                      i.domElement.removeEventListener('pointermove', q),
                      i.domElement.removeEventListener('pointerup', X),
                      null !== i._domElementKeyEvents &&
                        (i._domElementKeyEvents.removeEventListener('keydown', K),
                        (i._domElementKeyEvents = null)))
                  }))
                var i = r,
                  a = {
                    NONE: -1,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2,
                    TOUCH_ROTATE: 3,
                    TOUCH_PAN: 4,
                    TOUCH_DOLLY_PAN: 5,
                    TOUCH_DOLLY_ROTATE: 6,
                  },
                  o = a.NONE,
                  s = 1e-6,
                  u = new am(),
                  l = new am(),
                  c = 1,
                  d = new gd(),
                  h = new Gc(),
                  f = new Gc(),
                  p = new Gc(),
                  v = new Gc(),
                  m = new Gc(),
                  g = new Gc(),
                  x = new Gc(),
                  _ = new Gc(),
                  b = new Gc(),
                  S = new gd(),
                  A = new Gc(),
                  T = !1,
                  M = [],
                  E = {}
                function C() {
                  return Math.pow(0.95, i.zoomSpeed)
                }
                function k(e) {
                  l.theta -= e
                }
                function R(e) {
                  l.phi -= e
                }
                var I = (function () {
                    var e = new gd()
                    return function (t, n) {
                      ;(e.setFromMatrixColumn(n, 0), e.multiplyScalar(-t), d.add(e))
                    }
                  })(),
                  N = (function () {
                    var e = new gd()
                    return function (t, n) {
                      ;(!0 === i.screenSpacePanning
                        ? e.setFromMatrixColumn(n, 1)
                        : (e.setFromMatrixColumn(n, 0), e.crossVectors(i.object.up, e)),
                        e.multiplyScalar(t),
                        d.add(e))
                    }
                  })(),
                  P = (function () {
                    var e = new gd()
                    return function (t, n) {
                      var r = i.domElement
                      if (i.object.isPerspectiveCamera) {
                        var a = i.object.position
                        e.copy(a).sub(i.target)
                        var o = e.length()
                        ;((o *= Math.tan(((i.object.fov / 2) * Math.PI) / 180)),
                          I((2 * t * o) / r.clientHeight, i.object.matrix),
                          N((2 * n * o) / r.clientHeight, i.object.matrix))
                      } else
                        i.object.isOrthographicCamera
                          ? (I(
                              (t * (i.object.right - i.object.left)) /
                                i.object.zoom /
                                r.clientWidth,
                              i.object.matrix
                            ),
                            N(
                              (n * (i.object.top - i.object.bottom)) /
                                i.object.zoom /
                                r.clientHeight,
                              i.object.matrix
                            ))
                          : (console.warn(
                              'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.'
                            ),
                            (i.enablePan = !1))
                    }
                  })()
                function L(e) {
                  i.object.isPerspectiveCamera || i.object.isOrthographicCamera
                    ? (c /= e)
                    : (console.warn(
                        'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'
                      ),
                      (i.enableZoom = !1))
                }
                function D(e) {
                  i.object.isPerspectiveCamera || i.object.isOrthographicCamera
                    ? (c *= e)
                    : (console.warn(
                        'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'
                      ),
                      (i.enableZoom = !1))
                }
                function O(t) {
                  if (i.zoomToCursor) {
                    T = !0
                    var n = i.domElement.getBoundingClientRect(),
                      r = t.clientX - n.left,
                      a = t.clientY - n.top,
                      o = n.width,
                      s = n.height
                    ;((A.x = (r / o) * 2 - 1),
                      (A.y = (-a / s) * 2 + 1),
                      S.set(A.x, A.y, 1).unproject(e).sub(e.position).normalize())
                  }
                }
                function F(e) {
                  return Math.max(i.minDistance, Math.min(i.maxDistance, e))
                }
                function B(e) {
                  h.set(e.clientX, e.clientY)
                }
                function U(e) {
                  v.set(e.clientX, e.clientY)
                }
                function z() {
                  if (1 === M.length) h.set(M[0].pageX, M[0].pageY)
                  else {
                    var e = 0.5 * (M[0].pageX + M[1].pageX),
                      t = 0.5 * (M[0].pageY + M[1].pageY)
                    h.set(e, t)
                  }
                }
                function V() {
                  if (1 === M.length) v.set(M[0].pageX, M[0].pageY)
                  else {
                    var e = 0.5 * (M[0].pageX + M[1].pageX),
                      t = 0.5 * (M[0].pageY + M[1].pageY)
                    v.set(e, t)
                  }
                }
                function H() {
                  var e = M[0].pageX - M[1].pageX,
                    t = M[0].pageY - M[1].pageY,
                    n = Math.sqrt(e * e + t * t)
                  x.set(0, n)
                }
                function W(e) {
                  if (1 == M.length) f.set(e.pageX, e.pageY)
                  else {
                    var t = $(e),
                      n = 0.5 * (e.pageX + t.x),
                      r = 0.5 * (e.pageY + t.y)
                    f.set(n, r)
                  }
                  p.subVectors(f, h).multiplyScalar(i.rotateSpeed)
                  var a = i.domElement
                  ;(k((2 * Math.PI * p.x) / a.clientHeight),
                    R((2 * Math.PI * p.y) / a.clientHeight),
                    h.copy(f))
                }
                function G(e) {
                  if (1 === M.length) m.set(e.pageX, e.pageY)
                  else {
                    var t = $(e),
                      n = 0.5 * (e.pageX + t.x),
                      r = 0.5 * (e.pageY + t.y)
                    m.set(n, r)
                  }
                  ;(g.subVectors(m, v).multiplyScalar(i.panSpeed), P(g.x, g.y), v.copy(m))
                }
                function j(e) {
                  var t = $(e),
                    n = e.pageX - t.x,
                    r = e.pageY - t.y,
                    a = Math.sqrt(n * n + r * r)
                  ;(_.set(0, a), b.set(0, Math.pow(_.y / x.y, i.zoomSpeed)), L(b.y), x.copy(_))
                }
                function Q(e) {
                  !1 !== i.enabled &&
                    (0 === M.length &&
                      (i.domElement.setPointerCapture(e.pointerId),
                      i.domElement.addEventListener('pointermove', q),
                      i.domElement.addEventListener('pointerup', X)),
                    (function (e) {
                      M.push(e)
                    })(e),
                    'touch' === e.pointerType
                      ? (function (e) {
                          switch ((J(e), M.length)) {
                            case 1:
                              switch (i.touches.ONE) {
                                case Ku:
                                  if (!1 === i.enableRotate) return
                                  ;(z(), (o = a.TOUCH_ROTATE))
                                  break
                                case Zu:
                                  if (!1 === i.enablePan) return
                                  ;(V(), (o = a.TOUCH_PAN))
                                  break
                                default:
                                  o = a.NONE
                              }
                              break
                            case 2:
                              switch (i.touches.TWO) {
                                case Ju:
                                  if (!1 === i.enableZoom && !1 === i.enablePan) return
                                  ;(i.enableZoom && H(),
                                    i.enablePan && V(),
                                    (o = a.TOUCH_DOLLY_PAN))
                                  break
                                case $u:
                                  if (!1 === i.enableZoom && !1 === i.enableRotate) return
                                  ;(i.enableZoom && H(),
                                    i.enableRotate && z(),
                                    (o = a.TOUCH_DOLLY_ROTATE))
                                  break
                                default:
                                  o = a.NONE
                              }
                              break
                            default:
                              o = a.NONE
                          }
                          o !== a.NONE && i.dispatchEvent(db)
                        })(e)
                      : (function (e) {
                          var t
                          switch (e.button) {
                            case 0:
                              t = i.mouseButtons.LEFT
                              break
                            case 1:
                              t = i.mouseButtons.MIDDLE
                              break
                            case 2:
                              t = i.mouseButtons.RIGHT
                              break
                            default:
                              t = -1
                          }
                          switch (t) {
                            case Xu:
                              if (!1 === i.enableZoom) return
                              ;(!(function (e) {
                                ;(O(e), x.set(e.clientX, e.clientY))
                              })(e),
                                (o = a.DOLLY))
                              break
                            case qu:
                              if (e.ctrlKey || e.metaKey || e.shiftKey) {
                                if (!1 === i.enablePan) return
                                ;(U(e), (o = a.PAN))
                              } else {
                                if (!1 === i.enableRotate) return
                                ;(B(e), (o = a.ROTATE))
                              }
                              break
                            case Yu:
                              if (e.ctrlKey || e.metaKey || e.shiftKey) {
                                if (!1 === i.enableRotate) return
                                ;(B(e), (o = a.ROTATE))
                              } else {
                                if (!1 === i.enablePan) return
                                ;(U(e), (o = a.PAN))
                              }
                              break
                            default:
                              o = a.NONE
                          }
                          o !== a.NONE && i.dispatchEvent(db)
                        })(e))
                }
                function q(e) {
                  !1 !== i.enabled &&
                    ('touch' === e.pointerType
                      ? (function (e) {
                          switch ((J(e), o)) {
                            case a.TOUCH_ROTATE:
                              if (!1 === i.enableRotate) return
                              ;(W(e), i.update())
                              break
                            case a.TOUCH_PAN:
                              if (!1 === i.enablePan) return
                              ;(G(e), i.update())
                              break
                            case a.TOUCH_DOLLY_PAN:
                              if (!1 === i.enableZoom && !1 === i.enablePan) return
                              ;(!(function (e) {
                                ;(i.enableZoom && j(e), i.enablePan && G(e))
                              })(e),
                                i.update())
                              break
                            case a.TOUCH_DOLLY_ROTATE:
                              if (!1 === i.enableZoom && !1 === i.enableRotate) return
                              ;(!(function (e) {
                                ;(i.enableZoom && j(e), i.enableRotate && W(e))
                              })(e),
                                i.update())
                              break
                            default:
                              o = a.NONE
                          }
                        })(e)
                      : (function (e) {
                          switch (o) {
                            case a.ROTATE:
                              if (!1 === i.enableRotate) return
                              !(function (e) {
                                ;(f.set(e.clientX, e.clientY),
                                  p.subVectors(f, h).multiplyScalar(i.rotateSpeed))
                                var t = i.domElement
                                ;(k((2 * Math.PI * p.x) / t.clientHeight),
                                  R((2 * Math.PI * p.y) / t.clientHeight),
                                  h.copy(f),
                                  i.update())
                              })(e)
                              break
                            case a.DOLLY:
                              if (!1 === i.enableZoom) return
                              !(function (e) {
                                ;(_.set(e.clientX, e.clientY),
                                  b.subVectors(_, x),
                                  b.y > 0 ? L(C()) : b.y < 0 && D(C()),
                                  x.copy(_),
                                  i.update())
                              })(e)
                              break
                            case a.PAN:
                              if (!1 === i.enablePan) return
                              !(function (e) {
                                ;(m.set(e.clientX, e.clientY),
                                  g.subVectors(m, v).multiplyScalar(i.panSpeed),
                                  P(g.x, g.y),
                                  v.copy(m),
                                  i.update())
                              })(e)
                          }
                        })(e))
                }
                function X(e) {
                  ;(!(function (e) {
                    delete E[e.pointerId]
                    for (var t = 0; t < M.length; t++)
                      if (M[t].pointerId == e.pointerId) return void M.splice(t, 1)
                  })(e),
                    0 === M.length &&
                      (i.domElement.releasePointerCapture(e.pointerId),
                      i.domElement.removeEventListener('pointermove', q),
                      i.domElement.removeEventListener('pointerup', X)),
                    i.dispatchEvent(hb),
                    (o = a.NONE))
                }
                function Y(e) {
                  !1 !== i.enabled &&
                    !1 !== i.enableZoom &&
                    o === a.NONE &&
                    (e.preventDefault(),
                    i.dispatchEvent(db),
                    (function (e) {
                      ;(O(e), e.deltaY < 0 ? D(C()) : e.deltaY > 0 && L(C()), i.update())
                    })(e),
                    i.dispatchEvent(hb))
                }
                function K(e) {
                  !1 !== i.enabled &&
                    !1 !== i.enablePan &&
                    (function (e) {
                      var t = !1
                      switch (e.code) {
                        case i.keys.UP:
                          ;(e.ctrlKey || e.metaKey || e.shiftKey
                            ? R((2 * Math.PI * i.rotateSpeed) / i.domElement.clientHeight)
                            : P(0, i.keyPanSpeed),
                            (t = !0))
                          break
                        case i.keys.BOTTOM:
                          ;(e.ctrlKey || e.metaKey || e.shiftKey
                            ? R((-2 * Math.PI * i.rotateSpeed) / i.domElement.clientHeight)
                            : P(0, -i.keyPanSpeed),
                            (t = !0))
                          break
                        case i.keys.LEFT:
                          ;(e.ctrlKey || e.metaKey || e.shiftKey
                            ? k((2 * Math.PI * i.rotateSpeed) / i.domElement.clientHeight)
                            : P(i.keyPanSpeed, 0),
                            (t = !0))
                          break
                        case i.keys.RIGHT:
                          ;(e.ctrlKey || e.metaKey || e.shiftKey
                            ? k((-2 * Math.PI * i.rotateSpeed) / i.domElement.clientHeight)
                            : P(-i.keyPanSpeed, 0),
                            (t = !0))
                      }
                      t && (e.preventDefault(), i.update())
                    })(e)
                }
                function Z(e) {
                  !1 !== i.enabled && e.preventDefault()
                }
                function J(e) {
                  var t = E[e.pointerId]
                  ;(void 0 === t && ((t = new Gc()), (E[e.pointerId] = t)), t.set(e.pageX, e.pageY))
                }
                function $(e) {
                  var t = e.pointerId === M[0].pointerId ? M[1] : M[0]
                  return E[t.pointerId]
                }
                return (
                  i.domElement.addEventListener('contextmenu', Z),
                  i.domElement.addEventListener('pointerdown', Q),
                  i.domElement.addEventListener('pointercancel', X),
                  i.domElement.addEventListener('wheel', Y, { passive: !1 }),
                  r.update(),
                  r
                )
              }
              return (b(t, e), T(t))
            })(Nc),
            gb = (function () {
              return T(
                function e(t, n) {
                  ;(w(this, e),
                    (this.taskIDGen = 0),
                    (this.elementID = e.elementIDGen++),
                    (this.tasks = []),
                    (this.message = t || 'Loading...'),
                    (this.container = n || document.body),
                    (this.spinnerContainerOuter = document.createElement('div')),
                    (this.spinnerContainerOuter.className = 'spinnerOuterContainer'.concat(
                      this.elementID
                    )),
                    (this.spinnerContainerOuter.style.display = 'none'),
                    (this.spinnerContainerPrimary = document.createElement('div')),
                    (this.spinnerContainerPrimary.className = 'spinnerContainerPrimary'.concat(
                      this.elementID
                    )),
                    (this.spinnerPrimary = document.createElement('div')),
                    this.spinnerPrimary.classList.add(
                      'spinner'.concat(this.elementID),
                      'spinnerPrimary'.concat(this.elementID)
                    ),
                    (this.messageContainerPrimary = document.createElement('div')),
                    this.messageContainerPrimary.classList.add(
                      'messageContainer'.concat(this.elementID),
                      'messageContainerPrimary'.concat(this.elementID)
                    ),
                    (this.messageContainerPrimary.innerHTML = this.message),
                    (this.spinnerContainerMin = document.createElement('div')),
                    (this.spinnerContainerMin.className = 'spinnerContainerMin'.concat(
                      this.elementID
                    )),
                    (this.spinnerMin = document.createElement('div')),
                    this.spinnerMin.classList.add(
                      'spinner'.concat(this.elementID),
                      'spinnerMin'.concat(this.elementID)
                    ),
                    (this.messageContainerMin = document.createElement('div')),
                    this.messageContainerMin.classList.add(
                      'messageContainer'.concat(this.elementID),
                      'messageContainerMin'.concat(this.elementID)
                    ),
                    (this.messageContainerMin.innerHTML = this.message),
                    this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),
                    this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),
                    this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),
                    this.spinnerContainerMin.appendChild(this.spinnerMin),
                    this.spinnerContainerMin.appendChild(this.messageContainerMin),
                    this.spinnerContainerOuter.appendChild(this.spinnerContainerMin))
                  var r = document.createElement('style')
                  ;((r.innerHTML = '\n\n            .spinnerOuterContainer'
                    .concat(
                      this.elementID,
                      ' {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                top: 0;\n                left: 0;\n                position: absolute;\n                pointer-events: none;\n            }\n\n            .messageContainer'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                height: 20px;\n                font-family: arial;\n                font-size: 12pt;\n                color: #ffffff;\n                text-align: center;\n                vertical-align: middle;\n            }\n\n            .spinner'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                padding: 15px;\n                background: #07e8d6;\n                z-index:99999;\n            \n                aspect-ratio: 1;\n                border-radius: 50%;\n                --_m: \n                    conic-gradient(#0000,#000),\n                    linear-gradient(#000 0 0) content-box;\n                -webkit-mask: var(--_m);\n                    mask: var(--_m);\n                -webkit-mask-composite: source-out;\n                    mask-composite: subtract;\n                box-sizing: border-box;\n                animation: load 1s linear infinite;\n            }\n\n            .spinnerContainerPrimary'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                z-index:99999;\n                background-color: rgba(128, 128, 128, 0.75);\n                border: #666666 1px solid;\n                border-radius: 5px;\n                padding-top: 20px;\n                padding-bottom: 10px;\n                margin: 0;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-80px, -80px);\n                width: 180px;\n                pointer-events: auto;\n            }\n\n            .spinnerPrimary'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                width: 120px;\n                margin-left: 30px;\n            }\n\n            .messageContainerPrimary'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                padding-top: 15px;\n            }\n\n            .spinnerContainerMin'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                z-index:99999;\n                background-color: rgba(128, 128, 128, 0.75);\n                border: #666666 1px solid;\n                border-radius: 5px;\n                padding-top: 20px;\n                padding-bottom: 15px;\n                margin: 0;\n                position: absolute;\n                bottom: 50px;\n                left: 50%;\n                transform: translate(-50%, 0);\n                display: flex;\n                flex-direction: left;\n                pointer-events: auto;\n                min-width: 250px;\n            }\n\n            .messageContainerMin'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                margin-right: 15px;\n            }\n\n            .spinnerMin'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                width: 50px;\n                height: 50px;\n                margin-left: 15px;\n                margin-right: 25px;\n            }\n\n            .messageContainerMin'
                    )
                    .concat(
                      this.elementID,
                      ' {\n                padding-top: 15px;\n            }\n            \n            @keyframes load {\n                to{transform: rotate(1turn)}\n            }\n\n        '
                    )),
                    this.spinnerContainerOuter.appendChild(r),
                    this.container.appendChild(this.spinnerContainerOuter),
                    this.setMinimized(!1, !0),
                    (this.fadeTransitions = []))
                },
                [
                  {
                    key: 'addTask',
                    value: function (e) {
                      var t = { message: e, id: this.taskIDGen++ }
                      return (this.tasks.push(t), this.update(), t.id)
                    },
                  },
                  {
                    key: 'removeTask',
                    value: function (e) {
                      var t,
                        n = 0,
                        r = L(this.tasks)
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          if (t.value.id === e) {
                            this.tasks.splice(n, 1)
                            break
                          }
                          n++
                        }
                      } catch (i) {
                        r.e(i)
                      } finally {
                        r.f()
                      }
                      this.update()
                    },
                  },
                  {
                    key: 'removeAllTasks',
                    value: function () {
                      ;((this.tasks = []), this.update())
                    },
                  },
                  {
                    key: 'setMessageForTask',
                    value: function (e, t) {
                      var n,
                        r = L(this.tasks)
                      try {
                        for (r.s(); !(n = r.n()).done; ) {
                          var i = n.value
                          if (i.id === e) {
                            i.message = t
                            break
                          }
                        }
                      } catch (a) {
                        r.e(a)
                      } finally {
                        r.f()
                      }
                      this.update()
                    },
                  },
                  {
                    key: 'update',
                    value: function () {
                      this.tasks.length > 0
                        ? (this.show(), this.setMessage(this.tasks[this.tasks.length - 1].message))
                        : this.hide()
                    },
                  },
                  {
                    key: 'show',
                    value: function () {
                      ;((this.spinnerContainerOuter.style.display = 'block'), (this.visible = !0))
                    },
                  },
                  {
                    key: 'hide',
                    value: function () {
                      ;((this.spinnerContainerOuter.style.display = 'none'), (this.visible = !1))
                    },
                  },
                  {
                    key: 'setContainer',
                    value: function (e) {
                      ;(this.container &&
                        this.spinnerContainerOuter.parentElement === this.container &&
                        this.container.removeChild(this.spinnerContainerOuter),
                        e &&
                          ((this.container = e),
                          this.container.appendChild(this.spinnerContainerOuter),
                          (this.spinnerContainerOuter.style.zIndex =
                            this.container.style.zIndex + 1)))
                    },
                  },
                  {
                    key: 'setMinimized',
                    value: function (e, t) {
                      var n = this,
                        r = function (e, t, r, i, a) {
                          r
                            ? (e.style.display = t ? i : 'none')
                            : (n.fadeTransitions[a] = (function (e, t, n, r, i) {
                                var a = performance.now(),
                                  o = 'none' === e.style.display ? 0 : parseFloat(e.style.opacity)
                                isNaN(o) && (o = 1)
                                var s = window.setInterval(function () {
                                  var u,
                                    l = performance.now() - a,
                                    c = Math.min(l / r, 1)
                                  ;(c > 0.999 && (c = 1),
                                    t ? (u = (1 - c) * o) < 1e-4 && (u = 0) : (u = (1 - o) * c + o),
                                    u > 0
                                      ? ((e.style.display = n), (e.style.opacity = u))
                                      : (e.style.display = 'none'),
                                    c >= 1 && (i && i(), window.clearInterval(s)))
                                }, 16)
                                return s
                              })(e, !t, i, 500, function () {
                                n.fadeTransitions[a] = null
                              }))
                        }
                      ;(r(this.spinnerContainerPrimary, !e, t, 'block', 0),
                        r(this.spinnerContainerMin, e, t, 'flex', 1),
                        (this.minimized = e))
                    },
                  },
                  {
                    key: 'setMessage',
                    value: function (e) {
                      ;((this.messageContainerPrimary.innerHTML = e),
                        (this.messageContainerMin.innerHTML = e))
                    },
                  },
                ]
              )
            })()
          M(gb, 'elementIDGen', 0)
          var yb = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.idGen = 0),
                    (this.tasks = []),
                    (this.container = t || document.body),
                    (this.progressBarContainerOuter = document.createElement('div')),
                    (this.progressBarContainerOuter.className = 'progressBarOuterContainer'),
                    (this.progressBarContainerOuter.style.display = 'none'),
                    (this.progressBarBox = document.createElement('div')),
                    (this.progressBarBox.className = 'progressBarBox'),
                    (this.progressBarBackground = document.createElement('div')),
                    (this.progressBarBackground.className = 'progressBarBackground'),
                    (this.progressBar = document.createElement('div')),
                    (this.progressBar.className = 'progressBar'),
                    this.progressBarBackground.appendChild(this.progressBar),
                    this.progressBarBox.appendChild(this.progressBarBackground),
                    this.progressBarContainerOuter.appendChild(this.progressBarBox))
                  var n = document.createElement('style')
                  ;((n.innerHTML =
                    '\n\n            .progressBarOuterContainer {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                top: 0;\n                left: 0;\n                position: absolute;\n                pointer-events: none;\n            }\n\n            .progressBarBox {\n                z-index:99999;\n                padding: 7px 9px 5px 7px;\n                background-color: rgba(190, 190, 190, 0.75);\n                border: #555555 1px solid;\n                border-radius: 15px;\n                margin: 0;\n                position: absolute;\n                bottom: 50px;\n                left: 50%;\n                transform: translate(-50%, 0);\n                width: 180px;\n                height: 30px;\n                pointer-events: auto;\n            }\n\n            .progressBarBackground {\n                width: 100%;\n                height: 25px;\n                border-radius:10px;\n                background-color: rgba(128, 128, 128, 0.75);\n                border: #444444 1px solid;\n                box-shadow: inset 0 0 10px #333333;\n            }\n\n            .progressBar {\n                height: 25px;\n                width: 0px;\n                border-radius:10px;\n                background-color: rgba(0, 200, 0, 0.75);\n                box-shadow: inset 0 0 10px #003300;\n            }\n\n        '),
                    this.progressBarContainerOuter.appendChild(n),
                    this.container.appendChild(this.progressBarContainerOuter))
                },
                [
                  {
                    key: 'show',
                    value: function () {
                      this.progressBarContainerOuter.style.display = 'block'
                    },
                  },
                  {
                    key: 'hide',
                    value: function () {
                      this.progressBarContainerOuter.style.display = 'none'
                    },
                  },
                  {
                    key: 'setProgress',
                    value: function (e) {
                      this.progressBar.style.width = e + '%'
                    },
                  },
                  {
                    key: 'setContainer',
                    value: function (e) {
                      ;(this.container &&
                        this.progressBarContainerOuter.parentElement === this.container &&
                        this.container.removeChild(this.progressBarContainerOuter),
                        e &&
                          ((this.container = e),
                          this.container.appendChild(this.progressBarContainerOuter),
                          (this.progressBarContainerOuter.style.zIndex =
                            this.container.style.zIndex + 1)))
                    },
                  },
                ]
              )
            })(),
            xb = new gd(),
            _b = (function (e) {
              function t() {
                var e,
                  n =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : new gd(0, 0, 1),
                  r =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : new gd(0, 0, 0),
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.1,
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 16776960,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0.2 * i,
                  u = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0.2 * s
                ;(w(this, t), ((e = y(this, t)).type = 'ArrowHelper'))
                var l = new Gp(a, a, i, 32)
                l.translate(0, i / 2, 0)
                var c = new Gp(0, u, s, 32)
                return (
                  c.translate(0, i, 0),
                  e.position.copy(r),
                  (e.line = new _f(l, new Wh({ color: o, toneMapped: !1 }))),
                  (e.line.matrixAutoUpdate = !1),
                  e.add(e.line),
                  (e.cone = new _f(c, new Wh({ color: o, toneMapped: !1 }))),
                  (e.cone.matrixAutoUpdate = !1),
                  e.add(e.cone),
                  e.setDirection(n),
                  e
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'setDirection',
                    value: function (e) {
                      if (e.y > 0.99999) this.quaternion.set(0, 0, 0, 1)
                      else if (e.y < -0.99999) this.quaternion.set(1, 0, 0, 0)
                      else {
                        xb.set(e.z, 0, -e.x).normalize()
                        var t = Math.acos(e.y)
                        this.quaternion.setFromAxisAngle(xb, t)
                      }
                    },
                  },
                  {
                    key: 'setColor',
                    value: function (e) {
                      ;(this.line.material.color.set(e), this.cone.material.color.set(e))
                    },
                  },
                  {
                    key: 'copy',
                    value: function (e) {
                      return (
                        n(t, 'copy', this, 3)([e, !1]),
                        this.line.copy(e.line),
                        this.cone.copy(e.cone),
                        this
                      )
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      ;(this.line.geometry.dispose(),
                        this.line.material.dispose(),
                        this.cone.geometry.dispose(),
                        this.cone.material.dispose())
                    },
                  },
                ])
              )
            })(_h),
            bb = (function () {
              function e(t) {
                var n, r, i, a, o
                ;(w(this, e),
                  M(
                    this,
                    'updateFocusMarker',
                    ((n = new gd()),
                    (r = new qd()),
                    (i = new gd()),
                    function (e, t, a) {
                      ;(r.copy(t.matrixWorld).invert(),
                        n.copy(e).applyMatrix4(r),
                        n.normalize().multiplyScalar(10),
                        n.applyMatrix4(t.matrixWorld),
                        i.copy(t.position).sub(e))
                      var o = i.length()
                      ;(this.focusMarker.position.copy(e),
                        this.focusMarker.scale.set(o, o, o),
                        this.focusMarker.material.uniforms.realFocusPosition.value.copy(e),
                        this.focusMarker.material.uniforms.viewport.value.copy(a),
                        (this.focusMarker.material.uniformsNeedUpdate = !0))
                    })
                  ),
                  M(
                    this,
                    'positionAndOrientControlPlane',
                    ((a = new md()),
                    (o = new gd(0, 1, 0)),
                    function (e, t) {
                      ;(a.setFromUnitVectors(o, t),
                        this.controlPlane.position.copy(e),
                        this.controlPlane.quaternion.copy(a))
                    })
                  ),
                  (this.threeScene = t),
                  (this.splatRenderTarget = null),
                  (this.renderTargetCopyQuad = null),
                  (this.renderTargetCopyCamera = null),
                  (this.meshCursor = null),
                  (this.focusMarker = null),
                  (this.controlPlane = null),
                  (this.debugRoot = null),
                  (this.secondaryDebugRoot = null))
              }
              return T(
                e,
                [
                  {
                    key: 'updateSplatRenderTargetForRenderDimensions',
                    value: function (e, t) {
                      ;(this.destroySplatRendertarget(),
                        (this.splatRenderTarget = new fd(e, t, {
                          format: El,
                          stencilBuffer: !1,
                          depthBuffer: !0,
                        })),
                        (this.splatRenderTarget.depthTexture = new Wp(e, t)),
                        (this.splatRenderTarget.depthTexture.format = Cl),
                        (this.splatRenderTarget.depthTexture.type = _l))
                    },
                  },
                  {
                    key: 'destroySplatRendertarget',
                    value: function () {
                      this.splatRenderTarget && (this.splatRenderTarget = null)
                    },
                  },
                  {
                    key: 'setupRenderTargetCopyObjects',
                    value: function () {
                      var e = new Ef({
                        vertexShader:
                          '\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = vec4( position.xy, 0.0, 1.0 );    \n                }\n            ',
                        fragmentShader:
                          '\n                #include <common>\n                #include <packing>\n                varying vec2 vUv;\n                uniform sampler2D sourceColorTexture;\n                uniform sampler2D sourceDepthTexture;\n                void main() {\n                    vec4 color = texture2D(sourceColorTexture, vUv);\n                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;\n                    gl_FragDepth = fragDepth;\n                    gl_FragColor = vec4(color.rgb, color.a * 2.0);\n              }\n            ',
                        uniforms: {
                          sourceColorTexture: { type: 't', value: null },
                          sourceDepthTexture: { type: 't', value: null },
                        },
                        depthWrite: !1,
                        depthTest: !1,
                        transparent: !0,
                        blending: 5,
                        blendSrc: tl,
                        blendSrcAlpha: tl,
                        blendDst: nl,
                        blendDstAlpha: nl,
                      })
                      ;((e.extensions.fragDepth = !0),
                        (this.renderTargetCopyQuad = new _f(new Qp(2, 2), e)),
                        (this.renderTargetCopyCamera = new Fv(-1, 1, 1, -1, 0, 1)))
                    },
                  },
                  {
                    key: 'destroyRenderTargetCopyObjects',
                    value: function () {
                      this.renderTargetCopyQuad &&
                        (Fu(this.renderTargetCopyQuad), (this.renderTargetCopyQuad = null))
                    },
                  },
                  {
                    key: 'setupMeshCursor',
                    value: function () {
                      if (!this.meshCursor) {
                        var e = new jp(0.5, 1.5, 32),
                          t = new Wh({ color: 16777215 }),
                          n = new _f(e, t)
                        ;(n.rotation.set(0, 0, Math.PI), n.position.set(0, 1, 0))
                        var r = new _f(e, t)
                        r.position.set(0, -1, 0)
                        var i = new _f(e, t)
                        ;(i.rotation.set(0, 0, Math.PI / 2), i.position.set(1, 0, 0))
                        var a = new _f(e, t)
                        ;(a.rotation.set(0, 0, -Math.PI / 2),
                          a.position.set(-1, 0, 0),
                          (this.meshCursor = new _h()),
                          this.meshCursor.add(n),
                          this.meshCursor.add(r),
                          this.meshCursor.add(i),
                          this.meshCursor.add(a),
                          this.meshCursor.scale.set(0.1, 0.1, 0.1),
                          this.threeScene.add(this.meshCursor),
                          (this.meshCursor.visible = !1))
                      }
                    },
                  },
                  {
                    key: 'destroyMeshCursor',
                    value: function () {
                      this.meshCursor &&
                        (Fu(this.meshCursor),
                        this.threeScene.remove(this.meshCursor),
                        (this.meshCursor = null))
                    },
                  },
                  {
                    key: 'setMeshCursorVisibility',
                    value: function (e) {
                      this.meshCursor.visible = e
                    },
                  },
                  {
                    key: 'getMeschCursorVisibility',
                    value: function () {
                      return this.meshCursor.visible
                    },
                  },
                  {
                    key: 'setMeshCursorPosition',
                    value: function (e) {
                      this.meshCursor.position.copy(e)
                    },
                  },
                  {
                    key: 'positionAndOrientMeshCursor',
                    value: function (e, t) {
                      ;(this.meshCursor.position.copy(e),
                        this.meshCursor.up.copy(t.up),
                        this.meshCursor.lookAt(t.position))
                    },
                  },
                  {
                    key: 'setupFocusMarker',
                    value: function () {
                      if (!this.focusMarker) {
                        var t = new qp(0.5, 32, 32),
                          n = e.buildFocusMarkerMaterial()
                        ;((n.depthTest = !1),
                          (n.depthWrite = !1),
                          (n.transparent = !0),
                          (this.focusMarker = new _f(t, n)))
                      }
                    },
                  },
                  {
                    key: 'destroyFocusMarker',
                    value: function () {
                      this.focusMarker && (Fu(this.focusMarker), (this.focusMarker = null))
                    },
                  },
                  {
                    key: 'setFocusMarkerVisibility',
                    value: function (e) {
                      this.focusMarker.visible = e
                    },
                  },
                  {
                    key: 'setFocusMarkerOpacity',
                    value: function (e) {
                      ;((this.focusMarker.material.uniforms.opacity.value = e),
                        (this.focusMarker.material.uniformsNeedUpdate = !0))
                    },
                  },
                  {
                    key: 'getFocusMarkerOpacity',
                    value: function () {
                      return this.focusMarker.material.uniforms.opacity.value
                    },
                  },
                  {
                    key: 'setupControlPlane',
                    value: function () {
                      if (!this.controlPlane) {
                        var e = new Qp(1, 1)
                        e.rotateX(-Math.PI / 2)
                        var t = new Wh({ color: 16777215 })
                        ;((t.transparent = !0),
                          (t.opacity = 0.6),
                          (t.depthTest = !1),
                          (t.depthWrite = !1),
                          (t.side = 2))
                        var n = new _f(e, t),
                          r = new gd(0, 1, 0)
                        r.normalize()
                        var i = new gd(0, 0, 0),
                          a = new _b(r, i, 0.5, 0.01, 56576, 0.1, 0.03)
                        ;((this.controlPlane = new _h()),
                          this.controlPlane.add(n),
                          this.controlPlane.add(a))
                      }
                    },
                  },
                  {
                    key: 'destroyControlPlane',
                    value: function () {
                      this.controlPlane && (Fu(this.controlPlane), (this.controlPlane = null))
                    },
                  },
                  {
                    key: 'setControlPlaneVisibility',
                    value: function (e) {
                      this.controlPlane.visible = e
                    },
                  },
                  {
                    key: 'addDebugMeshes',
                    value: function () {
                      ;((this.debugRoot = this.createDebugMeshes()),
                        (this.secondaryDebugRoot = this.createSecondaryDebugMeshes()),
                        this.threeScene.add(this.debugRoot),
                        this.threeScene.add(this.secondaryDebugRoot))
                    },
                  },
                  {
                    key: 'destroyDebugMeshes',
                    value: function () {
                      for (
                        var e = 0, t = [this.debugRoot, this.secondaryDebugRoot];
                        e < t.length;
                        e++
                      ) {
                        var n = t[e]
                        n && (Fu(n), this.threeScene.remove(n))
                      }
                      ;((this.debugRoot = null), (this.secondaryDebugRoot = null))
                    },
                  },
                  {
                    key: 'createDebugMeshes',
                    value: function (t) {
                      var n = new qp(1, 32, 32),
                        r = new _h(),
                        i = function (i, a) {
                          var o = new _f(n, e.buildDebugMaterial(i))
                          ;((o.renderOrder = t), r.add(o), o.position.fromArray(a))
                        }
                      return (
                        i(16711680, [-50, 0, 0]),
                        i(16711680, [50, 0, 0]),
                        i(65280, [0, 0, -50]),
                        i(65280, [0, 0, 50]),
                        i(16755200, [5, 0, 5]),
                        r
                      )
                    },
                  },
                  {
                    key: 'createSecondaryDebugMeshes',
                    value: function (t) {
                      var n = new Sf(3, 3, 3),
                        r = new _h(),
                        i = function (i) {
                          var a = new _f(n, e.buildDebugMaterial(12303291))
                          ;((a.renderOrder = t), r.add(a), a.position.fromArray(i))
                        },
                        a = 10
                      return (i([-10, 0, -10]), i([-10, 0, a]), i([a, 0, -10]), i([a, 0, a]), r)
                    },
                  },
                  {
                    key: 'dispose',
                    value: function () {
                      ;(this.destroyMeshCursor(),
                        this.destroyFocusMarker(),
                        this.destroyDebugMeshes(),
                        this.destroyControlPlane(),
                        this.destroyRenderTargetCopyObjects(),
                        this.destroySplatRendertarget())
                    },
                  },
                ],
                [
                  {
                    key: 'buildDebugMaterial',
                    value: function (e) {
                      var t = { color: { type: 'v3', value: new Uh(e) } },
                        n = new Ef({
                          uniforms: t,
                          vertexShader:
                            '\n            #include <common>\n            varying float ndcDepth;\n\n            void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);\n                ndcDepth = gl_Position.z / gl_Position.w;\n                gl_Position.x = gl_Position.x / gl_Position.w;\n                gl_Position.y = gl_Position.y / gl_Position.w;\n                gl_Position.z = 0.0;\n                gl_Position.w = 1.0;\n    \n            }\n        ',
                          fragmentShader:
                            '\n            #include <common>\n            uniform vec3 color;\n            varying float ndcDepth;\n            void main() {\n                gl_FragDepth = (ndcDepth + 1.0) / 2.0;\n                gl_FragColor = vec4(color.rgb, 0.0);\n            }\n        ',
                          transparent: !1,
                          depthTest: !0,
                          depthWrite: !0,
                          side: 0,
                        })
                      return ((n.extensions.fragDepth = !0), n)
                    },
                  },
                  {
                    key: 'buildFocusMarkerMaterial',
                    value: function (e) {
                      var t = {
                        color: { type: 'v3', value: new Uh(e) },
                        realFocusPosition: { type: 'v3', value: new gd() },
                        viewport: { type: 'v2', value: new Gc() },
                        opacity: { value: 0 },
                      }
                      return new Ef({
                        uniforms: t,
                        vertexShader:
                          '\n            #include <common>\n\n            uniform vec2 viewport;\n            uniform vec3 realFocusPosition;\n\n            varying vec4 ndcPosition;\n            varying vec4 ndcCenter;\n            varying vec4 ndcFocusPosition;\n\n            void main() {\n                float radius = 0.01;\n\n                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);\n                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);\n\n                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);\n\n                ndcPosition = projectionMatrix * viewPosition;\n                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);\n                ndcCenter = projectionMatrix * viewCenter;\n                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);\n\n                ndcFocusPosition = projectionMatrix * viewFocusPosition;\n                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);\n\n                gl_Position = projectionMatrix * viewPosition;\n\n            }\n        ',
                        fragmentShader:
                          '\n            #include <common>\n            uniform vec3 color;\n            uniform vec2 viewport;\n            uniform float opacity;\n\n            varying vec4 ndcPosition;\n            varying vec4 ndcCenter;\n            varying vec4 ndcFocusPosition;\n\n            void main() {\n                vec2 screenPosition = vec2(ndcPosition) * viewport;\n                vec2 screenCenter = vec2(ndcCenter) * viewport;\n\n                vec2 screenVec = screenPosition - screenCenter;\n\n                float projectedRadius = length(screenVec);\n\n                float lineWidth = 0.0005 * viewport.y;\n                float aaRange = 0.0025 * viewport.y;\n                float radius = 0.06 * viewport.y;\n                float radDiff = abs(projectedRadius - radius) - lineWidth;\n                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); \n\n                gl_FragColor = vec4(color.rgb, alpha * opacity);\n            }\n        ',
                        transparent: !0,
                        depthTest: !1,
                        depthWrite: !1,
                        side: 0,
                      })
                    },
                  },
                ]
              )
            })(),
            Sb = new gd(1, 0, 0),
            wb = new gd(0, 1, 0),
            Ab = new gd(0, 0, 1),
            Tb = (function () {
              return T(
                function e() {
                  var t,
                    n,
                    r,
                    i,
                    a,
                    o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new gd(),
                    s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new gd()
                  ;(w(this, e),
                    M(
                      this,
                      'intersectBox',
                      ((t = new gd()),
                      (n = []),
                      (r = []),
                      (i = []),
                      function (e, a) {
                        if (
                          ((r[0] = this.origin.x),
                          (r[1] = this.origin.y),
                          (r[2] = this.origin.z),
                          (i[0] = this.direction.x),
                          (i[1] = this.direction.y),
                          (i[2] = this.direction.z),
                          this.boxContainsPoint(e, this.origin, 1e-4))
                        )
                          return (
                            a &&
                              (a.origin.copy(this.origin),
                              a.normal.set(0, 0, 0),
                              (a.distance = -1)),
                            !0
                          )
                        for (var o = 0; o < 3; o++)
                          if (0 != i[o]) {
                            var s = 0 == o ? Sb : 1 == o ? wb : Ab,
                              u = i[o] < 0 ? e.max : e.min,
                              l = -Math.sign(i[o])
                            n[0] = 0 == o ? u.x : 1 == o ? u.y : u.z
                            var c = n[0] - r[o]
                            if (c * l < 0) {
                              var d = (o + 1) % 3,
                                h = (o + 2) % 3
                              if (
                                ((n[2] = (i[d] / i[o]) * c + r[d]),
                                (n[1] = (i[h] / i[o]) * c + r[h]),
                                t.set(n[o], n[h], n[d]),
                                this.boxContainsPoint(e, t, 1e-4))
                              )
                                return (
                                  a &&
                                    (a.origin.copy(t),
                                    a.normal.copy(s).multiplyScalar(l),
                                    (a.distance = t.sub(this.origin).length())),
                                  !0
                                )
                            }
                          }
                        return !1
                      })
                    ),
                    M(
                      this,
                      'intersectSphere',
                      ((a = new gd()),
                      function (e, t, n) {
                        a.copy(e).sub(this.origin)
                        var r = a.dot(this.direction),
                          i = r * r,
                          o = a.dot(a) - i,
                          s = t * t
                        if (o > s) return !1
                        var u = Math.sqrt(s - o),
                          l = r - u,
                          c = r + u
                        if (c < 0) return !1
                        var d = l < 0 ? c : l
                        return (
                          n &&
                            (n.origin.copy(this.origin).addScaledVector(this.direction, d),
                            n.normal.copy(n.origin).sub(e).normalize(),
                            (n.distance = d)),
                          !0
                        )
                      })
                    ),
                    (this.origin = new gd()),
                    (this.direction = new gd()),
                    this.setParameters(o, s))
                },
                [
                  {
                    key: 'setParameters',
                    value: function (e, t) {
                      ;(this.origin.copy(e), this.direction.copy(t).normalize())
                    },
                  },
                  {
                    key: 'boxContainsPoint',
                    value: function (e, t, n) {
                      return !(
                        t.x < e.min.x - n ||
                        t.x > e.max.x + n ||
                        t.y < e.min.y - n ||
                        t.y > e.max.y + n ||
                        t.z < e.min.z - n ||
                        t.z > e.max.z + n
                      )
                    },
                  },
                ]
              )
            })(),
            Mb = (function () {
              function e() {
                ;(w(this, e),
                  (this.origin = new gd()),
                  (this.normal = new gd()),
                  (this.distance = 0),
                  (this.splatIndex = 0))
              }
              return T(e, [
                {
                  key: 'set',
                  value: function (e, t, n, r) {
                    ;(this.origin.copy(e),
                      this.normal.copy(t),
                      (this.distance = n),
                      (this.splatIndex = r))
                  },
                },
                {
                  key: 'clone',
                  value: function () {
                    var t = new e()
                    return (
                      t.origin.copy(this.origin),
                      t.normal.copy(this.normal),
                      (t.distance = this.distance),
                      (t.splatIndex = this.splatIndex),
                      t
                    )
                  },
                },
              ])
            })(),
            Eb = 0,
            Cb = 1,
            kb = T(function e(t, n) {
              var r,
                i,
                a,
                o,
                s,
                u = this,
                l = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
              ;(w(this, e),
                M(this, 'ndcCoords', new Gc()),
                M(this, 'setFromCameraAndScreenPosition', function (e, t, n) {
                  if (
                    ((u.ndcCoords.x = (t.x / n.x) * 2 - 1),
                    (u.ndcCoords.y = ((n.y - t.y) / n.y) * 2 - 1),
                    e.isPerspectiveCamera)
                  )
                    (u.ray.origin.setFromMatrixPosition(e.matrixWorld),
                      u.ray.direction
                        .set(u.ndcCoords.x, u.ndcCoords.y, 0.5)
                        .unproject(e)
                        .sub(u.ray.origin)
                        .normalize(),
                      (u.camera = e))
                  else {
                    if (!e.isOrthographicCamera)
                      throw new Error(
                        'Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type'
                      )
                    ;(u.ray.origin
                      .set(u.ndcCoords.x, u.ndcCoords.y, (e.near + e.far) / (e.near - e.far))
                      .unproject(e),
                      u.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld),
                      (u.camera = e))
                  }
                }),
                M(
                  this,
                  'intersectSplatMesh',
                  ((r = new qd()),
                  (i = new qd()),
                  (a = new qd()),
                  (o = new Tb()),
                  (s = new gd()),
                  function (e) {
                    var t = this,
                      n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                      u = e.getSplatTree()
                    if (u) {
                      for (var l = 0; l < u.subTrees.length; l++) {
                        var c = u.subTrees[l]
                        ;(i.copy(e.matrixWorld),
                          e.dynamicMode && (e.getSceneTransform(l, a), i.multiply(a)),
                          r.copy(i).invert(),
                          o.origin.copy(this.ray.origin).applyMatrix4(r),
                          o.direction.copy(this.ray.origin).add(this.ray.direction),
                          o.direction.applyMatrix4(r).sub(o.origin).normalize())
                        var d = []
                        ;(c.rootNode && this.castRayAtSplatTreeNode(o, u, c.rootNode, d),
                          d.forEach(function (e) {
                            ;(e.origin.applyMatrix4(i),
                              e.normal.applyMatrix4(i).normalize(),
                              (e.distance = s.copy(e.origin).sub(t.ray.origin).length()))
                          }),
                          n.push.apply(n, d))
                      }
                      return (
                        n.sort(function (e, t) {
                          return e.distance > t.distance ? 1 : -1
                        }),
                        n
                      )
                    }
                  })
                ),
                M(
                  this,
                  'castRayAtSplatTreeNode',
                  (function () {
                    var e = new dd(),
                      t = new gd(),
                      n = new gd(),
                      r = new md(),
                      i = new Mb(),
                      a = 1e-7,
                      o = new gd(0, 0, 0),
                      s = new qd(),
                      u = new qd(),
                      l = new qd(),
                      c = new qd(),
                      d = new qd(),
                      h = new Tb()
                    return function (f, p, v) {
                      var m = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : []
                      if (f.intersectBox(v.boundingBox)) {
                        if (v.data && v.data.indexes && v.data.indexes.length > 0)
                          for (var g = 0; g < v.data.indexes.length; g++) {
                            var y = v.data.indexes[g],
                              x = p.splatMesh.getSceneIndexForSplat(y)
                            if (
                              p.splatMesh.getScene(x).visible &&
                              (p.splatMesh.getSplatColor(y, e),
                              p.splatMesh.getSplatCenter(y, t),
                              p.splatMesh.getSplatScaleAndRotation(y, n, r),
                              !(
                                n.x <= a ||
                                n.y <= a ||
                                (p.splatMesh.splatRenderMode === Eb && n.z <= a)
                              ))
                            )
                              if (this.raycastAgainstTrueSplatEllipsoid) {
                                ;(u.makeScale(n.x, n.y, n.z), l.makeRotationFromQuaternion(r))
                                var _ = 2 * Math.log10(e.w)
                                if (
                                  (s.makeScale(_, _, _),
                                  d.copy(s).multiply(l).multiply(u),
                                  c.copy(d).invert(),
                                  h.origin.copy(f.origin).sub(t).applyMatrix4(c),
                                  h.direction.copy(f.origin).add(f.direction).sub(t),
                                  h.direction.applyMatrix4(c).sub(h.origin).normalize(),
                                  h.intersectSphere(o, 1, i))
                                ) {
                                  var b = i.clone()
                                  ;((b.splatIndex = y), b.origin.applyMatrix4(d).add(t), m.push(b))
                                }
                              } else {
                                var S = n.x + n.y,
                                  w = 2
                                if (
                                  (p.splatMesh.splatRenderMode === Eb && ((S += n.z), (w = 3)),
                                  (S /= w),
                                  f.intersectSphere(t, S, i))
                                ) {
                                  var A = i.clone()
                                  ;((A.splatIndex = y), m.push(A))
                                }
                              }
                          }
                        if (v.children && v.children.length > 0) {
                          var T,
                            M = L(v.children)
                          try {
                            for (M.s(); !(T = M.n()).done; ) {
                              var E = T.value
                              this.castRayAtSplatTreeNode(f, p, E, m)
                            }
                          } catch (C) {
                            M.e(C)
                          } finally {
                            M.f()
                          }
                        }
                        return m
                      }
                    }
                  })()
                ),
                (this.ray = new Tb(t, n)),
                (this.raycastAgainstTrueSplatEllipsoid = l))
            }),
            Rb = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'buildVertexShaderBase',
                    value: function () {
                      var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                        t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : '',
                        i = ''
                      return (
                        (i +=
                          1 == (!(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4])
                            ? '#define USE_FLAME'
                            : '#define USE_SKINNING'),
                        (i +=
                          '\n        precision highp float;\n        #include <common>\n\n        attribute uint splatIndex;\n        uniform highp usampler2D flameModelTexture;\n        uniform highp usampler2D boneTexture;\n        uniform highp usampler2D boneWeightTexture;\n\n\n        uniform highp usampler2D centersColorsTexture;\n        uniform highp sampler2D sphericalHarmonicsTexture;\n        uniform highp sampler2D sphericalHarmonicsTextureR;\n        uniform highp sampler2D sphericalHarmonicsTextureG;\n        uniform highp sampler2D sphericalHarmonicsTextureB;\n\n        uniform highp usampler2D sceneIndexesTexture;\n        uniform vec2 sceneIndexesTextureSize;\n        uniform int sceneCount;\n        uniform int gaussianSplatCount;\n        uniform int bsCount;\n        uniform float headBoneIndex;\n        #ifdef USE_SKINNING\n            attribute vec4 skinIndex;\n            attribute vec4 skinWeight;\n        #endif\n    '),
                        t &&
                          (i += '\n            uniform float sceneOpacity['
                            .concat(Wy.MaxScenes, '];\n            uniform int sceneVisibility[')
                            .concat(Wy.MaxScenes, '];\n        ')),
                        e &&
                          (i += '\n            uniform highp mat4 transforms['.concat(
                            Wy.MaxScenes,
                            '];\n        '
                          )),
                        (i += '\n        '
                          .concat(
                            r,
                            '\n        uniform vec2 focal;\n        uniform float orthoZoom;\n        uniform int orthographicMode;\n        uniform int pointCloudModeEnabled;\n        uniform float inverseFocalAdjustment;\n        uniform vec2 viewport;\n        uniform vec2 basisViewport;\n        uniform vec2 centersColorsTextureSize;\n        uniform vec2 flameModelTextureSize;\n        uniform vec2 boneWeightTextureSize;\n        uniform vec2 boneTextureSize;\n\n        uniform int sphericalHarmonicsDegree;\n        uniform vec2 sphericalHarmonicsTextureSize;\n        uniform int sphericalHarmonics8BitMode;\n        uniform int sphericalHarmonicsMultiTextureMode;\n        uniform float visibleRegionRadius;\n        uniform float visibleRegionFadeStartRadius;\n        uniform float firstRenderTime;\n        uniform float currentTime;\n        uniform int fadeInComplete;\n        uniform vec3 sceneCenter;\n        uniform float splatScale;\n        uniform float sphericalHarmonics8BitCompressionRangeMin['
                          )
                          .concat(
                            Wy.MaxScenes,
                            '];\n        uniform float sphericalHarmonics8BitCompressionRangeMax['
                          )
                          .concat(
                            Wy.MaxScenes,
                            '];\n\n        varying vec4 vColor;\n        varying vec2 vUv;\n        varying vec2 vPosition;\n        varying vec2 vSplatIndex;\n        #ifdef USE_SKINNING\n            uniform mat4 bindMatrix;\n            uniform mat4 bindMatrixInverse;\n            uniform highp sampler2D boneTexture0;\n            mat4 getBoneMatrix0( const in float i ) {\n                int size = textureSize( boneTexture0, 0 ).x;\n                int j = int( i ) * 4;\n                int x = j % size;\n                int y = j / size;\n                vec4 v1 = texelFetch( boneTexture0, ivec2( x, y ), 0 );\n                vec4 v2 = texelFetch( boneTexture0, ivec2( x + 1, y ), 0 );\n                vec4 v3 = texelFetch( boneTexture0, ivec2( x + 2, y ), 0 );\n                vec4 v4 = texelFetch( boneTexture0, ivec2( x + 3, y ), 0 );\n                return mat4( v1, v2, v3, v4 );\n            }\n        #endif\n\n        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {\n            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);\n        \n            return mat3(\n                1. - 2. * (y * y + z * z),\n                2. * (x * y + w * z),\n                2. * (x * z - w * y),\n                2. * (x * y - w * z),\n                1. - 2. * (x * x + z * z),\n                2. * (y * z + w * x),\n                2. * (x * z + w * y),\n                2. * (y * z - w * x),\n                1. - 2. * (x * x + y * y)\n            );\n        }\n\n        const float sqrt8 = sqrt(8.0);\n        const float minAlpha = 1.0 / 255.0;\n\n        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\n        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));\n        const uvec4 shift4 = uvec4(0, 8, 16, 24);\n        int internal = 1;//show a gaussian splatting point every internal points.\n        vec4 uintToRGBAVec (uint u) {\n           uvec4 urgba = mask4 & u;\n           urgba = urgba >> shift4;\n           vec4 rgba = vec4(urgba) * encodeNorm4;\n           return rgba;\n        }\n        float getRealIndex(int sIndex, int reducedFactor) {\n            int remainder = sIndex % reducedFactor;\n\n            if(remainder == int(0)) {\n                return float(sIndex);\n            }\n            else\n            {\n                return float(sIndex - remainder);\n            }\n        }\n\n        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(uint(getRealIndex(int(splatIndex), internal)) * uint(stride) + uint(offset)) / dimensions.x;\n            samplerUV.y = float(floor(d)) / dimensions.y;\n            samplerUV.x = fract(d);\n            return samplerUV;\n        }\n\n        vec2 getFlameDataUV(in int stride, in int offset, in vec2 dimensions) {\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(uint(int(splatIndex) / internal) * uint(stride) + uint(offset) + uint(gaussianSplatCount * bsCount)) / dimensions.x;\n            samplerUV.y = float(floor(d)) / dimensions.y;\n            samplerUV.x = fract(d);\n            return samplerUV;\n        }\n\n        vec2 getBoneWeightUV(in int stride, in int offset, in vec2 dimensions) {\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(uint(int(splatIndex) / internal) * uint(stride) + uint(offset)) / dimensions.x;\n            samplerUV.y = float(floor(d)) / dimensions.y;\n            samplerUV.x = fract(d);\n            return samplerUV;\n        }\n\n        vec2 getBSFlameDataUV(in int bsInedex, in int stride, in int offset, in vec2 dimensions) {\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(uint(int(splatIndex) / internal) * uint(stride) + uint(offset) + uint(gaussianSplatCount * bsInedex)) / dimensions.x;\n            samplerUV.y = float(floor(d)) / dimensions.y;\n            samplerUV.x = fract(d);\n            return samplerUV;\n        }\n\n        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(uint(float(getRealIndex(int(sIndex), internal)) * stride) + offset) / dimensions.x;\n            samplerUV.y = float(floor(d)) / dimensions.y;\n            samplerUV.x = fract(d);\n            return samplerUV;\n        }\n\n        const float SH_C1 = 0.4886025119029199f;\n        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);\n\n        mat4 getBoneMatrix( float i ) {\n            float y = i;\n            float x = 0.0;\n\n            vec2 samplerUV = vec2(0.0, 0.0);\n            float d = float(i * 4.0) / boneTextureSize.x;//4\n            samplerUV.y = float(floor(d)) / boneTextureSize.y;//5\n            samplerUV.x = fract(d);\n\n            vec4 v1 = uintBitsToFloat(texture( boneTexture, samplerUV ));\n            vec4 v2 = uintBitsToFloat(texture( boneTexture, vec2(samplerUV.x + 1.0 / boneTextureSize.x, samplerUV.y)));\n            vec4 v3 = uintBitsToFloat(texture( boneTexture, vec2(samplerUV.x + 2.0 / boneTextureSize.x, samplerUV.y) ));\n            vec4 v4 = uintBitsToFloat(texture( boneTexture, vec2(samplerUV.x + 3.0 / boneTextureSize.x, samplerUV.y)));\n\n            return mat4( v1, v2, v3, v4 );\n        }\n\n        void main () {\n\n            uint oddOffset = splatIndex & uint(0x00000001);\n            uint doubleOddOffset = oddOffset * uint(2);\n            bool isEven = oddOffset == uint(0);\n            uint nearestEvenIndex = splatIndex - oddOffset;\n            float fOddOffset = float(oddOffset);\n\n            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));\n            // vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));\n\n            uvec3 sampledCenter = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize)).gba;\n            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenter));\n\n            vec2 flameTextureUV = getBSFlameDataUV(bsCount, 1, 0, flameModelTextureSize);\n            uvec3 sampledflamePos = texture(flameModelTexture, flameTextureUV).rgb;\n            // splatCenter += uintBitsToFloat(uvec3(sampledflamePos.rgb));\n\n            for(int i = 0; i < bsCount; ++i) {\n                vec2 flameBSTextureUV = getBSFlameDataUV(i, 1, 0, flameModelTextureSize);\n                uvec3 sampledBSPos = texture(flameModelTexture, flameBSTextureUV).rgb;\n\n                vec2 samplerUV = vec2(0.0, 0.0);\n                float d = float(i / 4 + 5 * 4) / boneTextureSize.x;//4\n                samplerUV.y = float(floor(d)) / boneTextureSize.y;//32\n                samplerUV.x = fract(d);\n\n                vec4 bsWeight = uintBitsToFloat(texture(boneTexture, samplerUV));\n                float weight = bsWeight.r;\n                if(i % 4 == 1) {\n                    weight = bsWeight.g;\n                }\n                if(i % 4 == 2) {\n                    weight = bsWeight.b;\n                }\n                if(i % 4 == 3) {\n                    weight = bsWeight.a;\n                }\n\n                splatCenter = splatCenter + weight * uintBitsToFloat(sampledBSPos);\n            }\n\n\n            #ifdef USE_SKINNING\n                mat4 boneMatX = getBoneMatrix0( skinIndex.x );\n                mat4 boneMatY = getBoneMatrix0( skinIndex.y );\n                mat4 boneMatZ = getBoneMatrix0( skinIndex.z );\n                mat4 boneMatW = getBoneMatrix0( skinIndex.w );\n            #endif\n            #ifdef USE_SKINNING\n                mat4 skinMatrix = mat4( 0.0 );\n                skinMatrix += skinWeight.x * boneMatX;\n                skinMatrix += skinWeight.y * boneMatY;\n                skinMatrix += skinWeight.z * boneMatZ;\n                skinMatrix += skinWeight.w * boneMatW;\n                // skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n            #endif\n            vec3 transformed = vec3(splatCenter.xyz);\n            #ifdef USE_SKINNING\n                // vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n                vec4 skinVertex = vec4( transformed, 1.0 );\n\n                vec4 skinned = vec4( 0.0 );\n                // There is an offset between the Gaussian point and the mesh vertex,\n                // which will cause defects in the skeletal animation driving the Gaussian point. \n                //In order to circumvent this problem, only the head bone(index is 110 currently) is used to drive\n\n                if (headBoneIndex >= 0.0)\n                {\n                    mat4 boneMat = getBoneMatrix0( headBoneIndex );\n                    skinned += boneMat * skinVertex * 1.0;\n                }\n\n                // skinned += boneMatX * skinVertex * skinWeight.x;\n                // skinned += boneMatY * skinVertex * skinWeight.y;\n                // skinned += boneMatZ * skinVertex * skinWeight.z;\n                // skinned += boneMatW * skinVertex * skinWeight.w;\n\n                // transformed = ( bindMatrixInverse * skinned ).xyz;\n                transformed = skinned.xyz;\n\n            #endif\n            splatCenter = transformed.xyz;\n\n            #ifdef USE_FLAME\n                mat4 boneMatX = getBoneMatrix( 0.0 );\n                mat4 boneMatY = getBoneMatrix( 1.0 );\n                mat4 boneMatZ = getBoneMatrix( 2.0 );\n                mat4 boneMatW = getBoneMatrix( 3.0 );   \n                mat4 boneMat0 = getBoneMatrix( 4.0 );   \n                \n                vec2 boneWeightUV0 = getBoneWeightUV(2, 0, boneWeightTextureSize);\n                vec2 boneWeightUV1 = getBoneWeightUV(2, 1, boneWeightTextureSize);\n\n                uvec4 sampledBoneMatrixValue = texture(boneWeightTexture, boneWeightUV0);\n                uvec4 sampledBoneMatrixValue0 = texture(boneWeightTexture, boneWeightUV1);\n\n                vec4 boneMatrixValue = uintBitsToFloat(sampledBoneMatrixValue);\n                vec4 boneMatrixValue0 = uintBitsToFloat(sampledBoneMatrixValue0);\n\n                vec4 skinVertex = vec4( splatCenter, 1.0 );\n                vec4 skinned = vec4( 0.0 );\n                float minWeight = min(boneMatrixValue.x,min(boneMatrixValue.y, min(boneMatrixValue.z, min(boneMatrixValue.w, boneMatrixValue0.x))));\n                \n                if(boneMatrixValue.x > 0.0 && boneMatrixValue.x > minWeight)\n                    skinned += boneMatX * skinVertex * boneMatrixValue.x;\n                \n                if(boneMatrixValue.y > 0.0 && boneMatrixValue.y > minWeight)\n                    skinned += boneMatY * skinVertex * boneMatrixValue.y;\n                \n                if(boneMatrixValue.z > 0.0 && boneMatrixValue.z > minWeight)\n                    skinned += boneMatZ * skinVertex * boneMatrixValue.z;\n                \n                if(boneMatrixValue.w > 0.0 && boneMatrixValue.w > minWeight)\n                    skinned += boneMatW * skinVertex * boneMatrixValue.w;\n                \n                if(boneMatrixValue0.x > 0.0 && boneMatrixValue0.x > minWeight)\n                    skinned += boneMat0 * skinVertex * boneMatrixValue0.x;\n                \n                splatCenter = skinned.xyz;\n            #endif\n\n            uint sceneIndex = uint(0);\n            if (sceneCount > 1) {\n                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;\n            }\n            '
                          )),
                        t &&
                          (i +=
                            '\n                float splatOpacityFromScene = sceneOpacity[sceneIndex];\n                int sceneVisible = sceneVisibility[sceneIndex];\n                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {\n                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n                    return;\n                }\n            '),
                        (i += e
                          ? '\n                mat4 transform = transforms[sceneIndex];\n                mat4 transformModelViewMatrix = viewMatrix * transform;\n                #ifdef USE_SKINNING\n                    transformModelViewMatrix = transformModelViewMatrix * skinMatrix;\n                #endif\n            '
                          : 'mat4 transformModelViewMatrix = modelViewMatrix;'),
                        (i +=
                          '\n            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];\n            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];\n            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;\n            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;\n            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);\n\n            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);\n\n            vec4 clipCenter = projectionMatrix * viewCenter;\n\n            float clip = 1.2 * clipCenter.w;\n            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {\n                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\n                return;\n            }\n\n            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;\n\n            vPosition = position.xy;\n            vSplatIndex = vec2(splatIndex, splatIndex);\n\n            vColor = uintToRGBAVec(sampledCenterColor.r);\n        '),
                        n >= 1 &&
                          ((i +=
                            '   \n            if (sphericalHarmonicsDegree >= 1) {\n            '),
                          (i += e
                            ? '\n                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));\n                '
                            : '\n                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);\n                '),
                          (i +=
                            '\n                vec3 sh1;\n                vec3 sh2;\n                vec3 sh3;\n            '),
                          n >= 2 &&
                            (i +=
                              '\n                    vec3 sh4;\n                    vec3 sh5;\n                    vec3 sh6;\n                    vec3 sh7;\n                    vec3 sh8;\n                '),
                          1 === n
                            ? (i +=
                                '\n                    if (sphericalHarmonicsMultiTextureMode == 0) {\n                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);\n                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);\n                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);\n                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);\n                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);\n                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);\n                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;\n                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;\n                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;\n                    } else {\n                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;\n                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;\n                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;\n                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;\n                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;\n                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;\n                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);\n                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);\n                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);\n                    }\n                ')
                            : 2 === n &&
                              (i +=
                                '\n                    vec4 sampledSH0123;\n                    vec4 sampledSH4567;\n                    vec4 sampledSH891011;\n\n                    vec4 sampledSH0123R;\n                    vec4 sampledSH0123G;\n                    vec4 sampledSH0123B;\n\n                    if (sphericalHarmonicsMultiTextureMode == 0) {\n                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));\n                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));\n                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));\n                        sh1 = sampledSH0123.rgb;\n                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);\n                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);\n                    } else {\n                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));\n                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));\n                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));\n                        sh1 = vec3(sampledSH0123R.rgb);\n                        sh2 = vec3(sampledSH0123G.rgb);\n                        sh3 = vec3(sampledSH0123B.rgb);\n                    }\n                '),
                          (i +=
                            '\n                    if (sphericalHarmonics8BitMode == 1) {\n                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                    }\n                    float x = worldViewDir.x;\n                    float y = worldViewDir.y;\n                    float z = worldViewDir.z;\n                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);\n            '),
                          n >= 2 &&
                            ((i +=
                              '\n                    if (sphericalHarmonicsDegree >= 2) {\n                        float xx = x * x;\n                        float yy = y * y;\n                        float zz = z * z;\n                        float xy = x * y;\n                        float yz = y * z;\n                        float xz = x * z;\n                '),
                            2 === n &&
                              (i +=
                                '\n                        if (sphericalHarmonicsMultiTextureMode == 0) {\n                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));\n                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));\n                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));\n                            sh4 = sampledSH891011.gba;\n                            sh5 = sampledSH12131415.rgb;\n                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);\n                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);\n                            sh8 = sampledSH20212223.gba;\n                        } else {\n                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));\n                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));\n                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));\n                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);\n                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);\n                            sh6 = vec3(sampledSH4567G.rgb);\n                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);\n                            sh8 = vec3(sampledSH4567B.gba);\n                        }\n                    '),
                            (i +=
                              '\n                        if (sphericalHarmonics8BitMode == 1) {\n                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;\n                        }\n\n                        vColor.rgb +=\n                            (SH_C2[0] * xy) * sh4 +\n                            (SH_C2[1] * yz) * sh5 +\n                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +\n                            (SH_C2[3] * xz) * sh7 +\n                            (SH_C2[4] * (xx - yy)) * sh8;\n                    }\n                ')),
                          (i +=
                            '\n\n                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));\n\n            }\n\n            ')),
                        i
                      )
                    },
                  },
                  {
                    key: 'getVertexShaderFadeIn',
                    value: function () {
                      return '\n            if (fadeInComplete == 0) {\n                float opacityAdjust = 1.0;\n                float centerDist = length(splatCenter - sceneCenter);\n                float renderTime = max(currentTime - firstRenderTime, 0.0);\n\n                float fadeDistance = 0.75;\n                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);\n                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +\n                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *\n                                        distanceLoadFadeInFactor;\n                opacityAdjust *= distanceLoadFadeInFactor;\n                vColor.a *= opacityAdjust;\n            }\n        '
                    },
                  },
                  {
                    key: 'getUniforms',
                    value: function () {
                      for (
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                          t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                          n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                          r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                          i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                          a = {
                            sceneCenter: { type: 'v3', value: new gd() },
                            fadeInComplete: { type: 'i', value: 0 },
                            orthographicMode: { type: 'i', value: 0 },
                            visibleRegionFadeStartRadius: { type: 'f', value: 0 },
                            visibleRegionRadius: { type: 'f', value: 0 },
                            bindMatrix: { type: 'm4', value: new qd() },
                            bindMatrixInverse: { type: 'm4', value: new qd() },
                            currentTime: { type: 'f', value: 0 },
                            firstRenderTime: { type: 'f', value: 0 },
                            centersColorsTexture: { type: 't', value: null },
                            flameModelTexture: { type: 't', value: null },
                            boneTexture: { type: 't', value: null },
                            boneTexture0: { type: 't', value: null },
                            boneWeightTexture: { type: 't', value: null },
                            sphericalHarmonicsTexture: { type: 't', value: null },
                            sphericalHarmonicsTextureR: { type: 't', value: null },
                            sphericalHarmonicsTextureG: { type: 't', value: null },
                            sphericalHarmonicsTextureB: { type: 't', value: null },
                            sphericalHarmonics8BitCompressionRangeMin: { type: 'f', value: [] },
                            sphericalHarmonics8BitCompressionRangeMax: { type: 'f', value: [] },
                            focal: { type: 'v2', value: new Gc() },
                            orthoZoom: { type: 'f', value: 1 },
                            inverseFocalAdjustment: { type: 'f', value: 1 },
                            viewport: { type: 'v2', value: new Gc() },
                            basisViewport: { type: 'v2', value: new Gc() },
                            debugColor: { type: 'v3', value: new Uh() },
                            centersColorsTextureSize: { type: 'v2', value: new Gc(1024, 1024) },
                            flameModelTextureSize: { type: 'v2', value: new Gc(4096, 2048) },
                            boneTextureSize: { type: 'v2', value: new Gc(4, 32) },
                            boneWeightTextureSize: { type: 'v2', value: new Gc(512, 512) },
                            sphericalHarmonicsDegree: { type: 'i', value: n },
                            sphericalHarmonicsTextureSize: {
                              type: 'v2',
                              value: new Gc(1024, 1024),
                            },
                            sphericalHarmonics8BitMode: { type: 'i', value: 0 },
                            sphericalHarmonicsMultiTextureMode: { type: 'i', value: 0 },
                            splatScale: { type: 'f', value: r },
                            pointCloudModeEnabled: { type: 'i', value: i ? 1 : 0 },
                            sceneIndexesTexture: { type: 't', value: null },
                            sceneIndexesTextureSize: { type: 'v2', value: new Gc(1024, 1024) },
                            sceneCount: { type: 'i', value: 1 },
                            gaussianSplatCount: { type: 'i', value: 1 },
                            bsCount: { type: 'i', value: 1 },
                            headBoneIndex: { type: 'f', value: -1 },
                          },
                          o = 0;
                        o < Wy.MaxScenes;
                        o++
                      )
                        (a.sphericalHarmonics8BitCompressionRangeMin.value.push(-1.5),
                          a.sphericalHarmonics8BitCompressionRangeMax.value.push(
                            Wy.SphericalHarmonics8BitCompressionRange / 2
                          ))
                      if (t) {
                        for (var s = [], u = 0; u < Wy.MaxScenes; u++) s.push(1)
                        a.sceneOpacity = { type: 'f', value: s }
                        for (var l = [], c = 0; c < Wy.MaxScenes; c++) l.push(1)
                        a.sceneVisibility = { type: 'i', value: l }
                      }
                      if (e) {
                        for (var d = [], h = 0; h < Wy.MaxScenes; h++) d.push(new qd())
                        a.transforms = { type: 'mat4', value: d }
                      }
                      return a
                    },
                  },
                ]
              )
            })(),
            Ib = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'build',
                  value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                      n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                      r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                      i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 2048,
                      a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                      o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5],
                      s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                      u = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0.3,
                      l = !(arguments.length > 8 && void 0 !== arguments[8]) || arguments[8],
                      c = Rb.buildVertexShaderBase(
                        t,
                        n,
                        s,
                        '\n            uniform vec2 covariancesTextureSize;\n            uniform highp sampler2D covariancesTexture;\n            uniform highp usampler2D covariancesTextureHalfFloat;\n            uniform int covariancesAreHalfFloat;\n\n            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {\n                vec2 r = unpackHalf2x16(val.r);\n                vec2 g = unpackHalf2x16(val.g);\n                vec2 b = unpackHalf2x16(val.b);\n\n                first = vec4(r.x, r.y, g.x, g.y);\n                second = vec4(b.x, b.y, 0.0, 0.0);\n            }\n        ',
                        l
                      )
                    c += e.buildVertexShaderProjection(r, n, i, u)
                    var d = e.buildFragmentShader(),
                      h = Rb.getUniforms(t, n, s, a, o)
                    return (
                      (h.covariancesTextureSize = { type: 'v2', value: new Gc(1024, 1024) }),
                      (h.covariancesTexture = { type: 't', value: null }),
                      (h.covariancesTextureHalfFloat = { type: 't', value: null }),
                      (h.covariancesAreHalfFloat = { type: 'i', value: 0 }),
                      new Ef({
                        uniforms: h,
                        vertexShader: c,
                        fragmentShader: d,
                        transparent: !0,
                        alphaTest: 1,
                        blending: 1,
                        depthTest: !0,
                        depthWrite: !1,
                        side: 2,
                      })
                    )
                  },
                },
                {
                  key: 'buildVertexShaderProjection',
                  value: function (e, t, n, r) {
                    var i =
                      "\n\n            vec4 sampledCovarianceA;\n            vec4 sampledCovarianceB;\n            vec3 cov3D_M11_M12_M13;\n            vec3 cov3D_M22_M23_M33;\n            if (covariancesAreHalfFloat == 0) {\n                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,\n                                                                            covariancesTextureSize));\n                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),\n                                                                            covariancesTextureSize));\n\n                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +\n                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;\n                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +\n                                    vec3(sampledCovarianceB.gba) * fOddOffset;\n            } else {\n                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));\n                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);\n                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;\n                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);\n            }\n        \n            // Construct the 3D covariance matrix\n            mat3 Vrk = mat3(\n                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,\n                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,\n                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z\n            );\n\n            mat3 J;\n            if (orthographicMode == 1) {\n                // Since the projection is linear, we don't need an approximation\n                J = transpose(mat3(orthoZoom, 0.0, 0.0,\n                                0.0, orthoZoom, 0.0,\n                                0.0, 0.0, 0.0));\n            } else {\n                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the\n                // 3D covariance matrix instead of using the actual projection matrix because that transformation would\n                // require a non-linear component (perspective division) which would yield a non-gaussian result.\n                float s = 1.0 / (viewCenter.z * viewCenter.z);\n                J = mat3(\n                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,\n                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,\n                    0., 0., 0.\n                );\n            }\n\n            // Concatenate the projection approximation with the model-view transformation\n            mat3 W = transpose(mat3(transformModelViewMatrix));\n            mat3 T = W * J;\n\n            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix\n            mat3 cov2Dm = transpose(T) * Vrk * T;\n            "
                    return (
                      (i += e
                        ? '\n                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];\n                cov2Dm[0][0] += '
                            .concat(r, ';\n                cov2Dm[1][1] += ')
                            .concat(
                              r,
                              ';\n                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];\n                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));\n                if (vColor.a < minAlpha) return;\n            '
                            )
                        : '\n                cov2Dm[0][0] += '
                            .concat(r, ';\n                cov2Dm[1][1] += ')
                            .concat(r, ';\n            ')),
                      (i +=
                        "\n\n            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because\n            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],\n            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't\n            // need cov2Dm[1][0] because it is a symetric matrix.\n            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);\n\n            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix\n            // so that we can determine the 2D basis for the splat. This is done using the method described\n            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html\n            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat\n            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is\n            // equal to scaling them by sqrt(8) standard deviations.\n            //\n            // This is a different approach than in the original work at INRIA. In that work they compute the\n            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle\n            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0\n            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse\n            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by\n            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity\n            float a = cov2Dv.x;\n            float d = cov2Dv.z;\n            float b = cov2Dv.y;\n            float D = a * d - b * b;\n            float trace = a + d;\n            float traceOver2 = 0.5 * trace;\n            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));\n            float eigenValue1 = traceOver2 + term2;\n            float eigenValue2 = traceOver2 - term2;\n\n            if (pointCloudModeEnabled == 1) {\n                eigenValue1 = eigenValue2 = 0.2;\n            }\n\n            if (eigenValue2 <= 0.0) return;\n\n            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));\n            // since the eigen vectors are orthogonal, we derive the second one from the first\n            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);\n\n            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.\n            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), "
                          .concat(
                            parseInt(n),
                            '.0);\n            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), '
                          )
                          .concat(parseInt(n), '.0);\n            ')),
                      t &&
                        (i += '\n                vColor.a *= splatOpacityFromScene;\n            '),
                      (i +=
                        '\n            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *\n                             basisViewport * 2.0 * inverseFocalAdjustment;\n\n            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            gl_Position = quadPos;\n\n            // Scale the position data we send to the fragment shader\n            vPosition *= sqrt8;\n        '),
                      (i += Rb.getVertexShaderFadeIn()),
                      (i += '}')
                    )
                  },
                },
                {
                  key: 'buildFragmentShader',
                  value: function () {
                    return "\n            precision highp float;\n            #include <common>\n \n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n            varying vec2 vPosition;\n            varying vec2 vSplatIndex;\n\n        \n            void main () {\n                // Compute the positional squared distance from the center of the splat to the current fragment.\n                float A = dot(vPosition, vPosition);\n                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be\n                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse\n                // defined by the rectangle formed by vPosition. It also means it's farther\n                // away than sqrt(8) standard deviations from the mean.\n\n                // if(vSplatIndex.x > 20000.0) discard;\n                // if (A > 8.0) discard;\n                vec3 color = vColor.rgb;\n\n                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of\n                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),\n                // and since 'mean' is zero, we have X * X, which is the same as A:\n                float opacity = exp( -0.5*A) * vColor.a;\n                if(opacity < 1.0 / 255.0)\n                    discard;\n\n                // uint a = uint(255);\n                // vec3 c = vec3(vSplatIndex.x / 256.0 / 256.0, float(uint(vSplatIndex.x / 256.0 )% a) / 256.0, float(uint(vSplatIndex.x)% a) / 256.0);\n                // gl_FragColor = vec4(c, 1.0);\n                gl_FragColor = vec4(color, opacity);\n\n\n            }\n        "
                  },
                },
              ])
            })(),
            Nb = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'build',
                  value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                      n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                      r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                      i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                      a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                      o = Rb.buildVertexShaderBase(
                        t,
                        n,
                        a,
                        '\n            uniform vec2 scaleRotationsTextureSize;\n            uniform highp sampler2D scaleRotationsTexture;\n            varying mat3 vT;\n            varying vec2 vQuadCenter;\n            varying vec2 vFragCoord;\n        '
                      )
                    o += e.buildVertexShaderProjection()
                    var s = e.buildFragmentShader(),
                      u = Rb.getUniforms(t, n, a, r, i)
                    return (
                      (u.scaleRotationsTexture = { type: 't', value: null }),
                      (u.scaleRotationsTextureSize = { type: 'v2', value: new Gc(1024, 1024) }),
                      new Ef({
                        uniforms: u,
                        vertexShader: o,
                        fragmentShader: s,
                        transparent: !0,
                        alphaTest: 1,
                        blending: 1,
                        depthTest: !0,
                        depthWrite: !1,
                        side: 2,
                      })
                    )
                  },
                },
                {
                  key: 'buildVertexShaderProjection',
                  value: function () {
                    var e =
                      '\n\n            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,\n                                                                            oddOffset, scaleRotationsTextureSize));\n            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,\n                                                                            oddOffset + uint(1), scaleRotationsTextureSize));\n\n            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +\n                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;\n            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +\n                                    vec3(scaleRotationB.gba) * fOddOffset;\n\n            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *\n                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);\n            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);\n            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,\n                            0.0, scaleRotation123.g, 0.0,\n                            0.0, 0.0, scaleRotation123.b);\n            \n            mat3 L = R * S;\n\n            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),\n                                        vec4(L[1], 0.0),\n                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));\n\n            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);\n\n            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),\n                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),\n                                    vec4(0.0, 0.0, 0.0, 1.0));\n\n            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;\n            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));\n        '
                    return (
                      (e +=
                        '\n\n                mat4 splat2World4 = mat4(vec4(L[0], 0.0),\n                                        vec4(L[1], 0.0),\n                                        vec4(L[2], 0.0),\n                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));\n\n                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);\n\n                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);\n                tempPoint1 /= tempPoint1.w;\n\n                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);\n                tempPoint2 /= tempPoint2.w;\n\n                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);\n                center /= center.w;\n\n                vec2 basisVector1 = tempPoint1.xy - center.xy;\n                vec2 basisVector2 = tempPoint2.xy - center.xy;\n\n                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;\n                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;\n\n                const float minPix = 1.;\n                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {\n                    '.concat(
                          '\n            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);\n            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);\n            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);\n\n            vec3 tempPoint = vec3(1.0, 1.0, -1.0);\n            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);\n            vec3 f = (1.0 / distance) * tempPoint;\n            if (abs(distance) < 0.00001) return;\n\n            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);\n            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);\n            vec2 pointImage = vec2(pointImageX, pointImageY);\n\n            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);\n            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);\n            vec2 temp = vec2(tempX, tempY);\n\n            vec2 halfExtend = pointImage * pointImage - temp;\n            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));\n            float radius = max(extent.x, extent.y);\n\n            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);\n\n            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            gl_Position = quadPos;\n\n            vT = T;\n            vQuadCenter = pointImage;\n            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;\n        ',
                          '\n                } else {\n                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;\n                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n                    gl_Position = quadPos;\n\n                    vT = T;\n                    vQuadCenter = center.xy;\n                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;\n                }\n            '
                        )),
                      (e += Rb.getVertexShaderFadeIn()),
                      (e += '}')
                    )
                  },
                },
                {
                  key: 'buildFragmentShader',
                  value: function () {
                    return '\n            precision highp float;\n            #include <common>\n\n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n            varying vec2 vPosition;\n            varying mat3 vT;\n            varying vec2 vQuadCenter;\n            varying vec2 vFragCoord;\n\n            void main () {\n\n                const float FilterInvSquare = 2.0;\n                const float near_n = 0.2;\n                const float T = 1.0;\n\n                vec2 xy = vQuadCenter;\n                vec3 Tu = vT[0];\n                vec3 Tv = vT[1];\n                vec3 Tw = vT[2];\n                vec3 k = vFragCoord.x * Tw - Tu;\n                vec3 l = vFragCoord.y * Tw - Tv;\n                vec3 p = cross(k, l);\n                if (p.z == 0.0) discard;\n                vec2 s = vec2(p.x / p.z, p.y / p.z);\n                float rho3d = (s.x * s.x + s.y * s.y); \n                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);\n                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); \n\n                // compute intersection and depth\n                float rho = min(rho3d, rho2d);\n                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; \n                if (depth < near_n) discard;\n                //  vec4 nor_o = collected_normal_opacity[j];\n                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};\n                float opa = vColor.a;\n\n                float power = -0.5f * rho;\n                if (power > 0.0f) discard;\n\n                // Eq. (2) from 3D Gaussian splatting paper.\n                // Obtain alpha by multiplying with Gaussian opacity\n                // and its exponential falloff from mean.\n                // Avoid numerical instabilities (see paper appendix). \n                float alpha = min(0.99f, opa * exp(power));\n                if (alpha < 1.0f / 255.0f) discard;\n                float test_T = T * (1.0 - alpha);\n                if (test_T < 0.0001)discard;\n\n                float w = alpha * T;\n                gl_FragColor = vec4(vColor.rgb, w);\n            }\n        '
                  },
                },
              ])
            })(),
            Pb = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'build',
                    value: function (e) {
                      var t = new uf()
                      t.setIndex([0, 1, 2, 0, 2, 3])
                      var n = new Float32Array(12),
                        r = new Kh(n, 3)
                      ;(t.setAttribute('position', r),
                        r.setXYZ(0, -1, -1, 0),
                        r.setXYZ(1, -1, 1, 0),
                        r.setXYZ(2, 1, 1, 0),
                        r.setXYZ(3, 1, -1, 0),
                        (r.needsUpdate = !0))
                      var i = new Vv().copy(t),
                        a = new Uint32Array(e),
                        o = new ap(a, 1, !1)
                      return (
                        o.setUsage(Cc),
                        i.setAttribute('splatIndex', o),
                        (i.instanceCount = 0),
                        i
                      )
                    },
                  },
                ]
              )
            })(),
            Lb = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new gd(),
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new md(),
                  a =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : new gd(1, 1, 1),
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1,
                  u = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6]
                return (
                  w(this, t),
                  ((n = y(this, t)).splatBuffer = e),
                  n.position.copy(r),
                  n.quaternion.copy(i),
                  n.scale.copy(a),
                  (n.transform = new qd()),
                  (n.minimumAlpha = o),
                  (n.opacity = s),
                  (n.visible = u),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copyTransformData',
                    value: function (e) {
                      ;(this.position.copy(e.position),
                        this.quaternion.copy(e.quaternion),
                        this.scale.copy(e.scale),
                        this.transform.copy(e.transform))
                    },
                  },
                  {
                    key: 'updateTransform',
                    value: function (e) {
                      e
                        ? (this.matrixWorldAutoUpdate && this.updateWorldMatrix(!0, !1),
                          this.transform.copy(this.matrixWorld))
                        : (this.matrixAutoUpdate && this.updateMatrix(),
                          this.transform.copy(this.matrix))
                    },
                  },
                ])
              )
            })(_h),
            Db = T(function e(t, n, r, i) {
              ;(w(this, e),
                (this.min = new gd().copy(t)),
                (this.max = new gd().copy(n)),
                (this.boundingBox = new _d(this.min, this.max)),
                (this.center = new gd()
                  .copy(this.max)
                  .sub(this.min)
                  .multiplyScalar(0.5)
                  .add(this.min)),
                (this.depth = r),
                (this.children = []),
                (this.data = null),
                (this.id = i || e.idGen++))
            })
          M(Db, 'idGen', 0)
          var Ob = (function () {
            function e(t, n) {
              ;(w(this, e),
                (this.maxDepth = t),
                (this.maxCentersPerNode = n),
                (this.sceneDimensions = new gd()),
                (this.sceneMin = new gd()),
                (this.sceneMax = new gd()),
                (this.rootNode = null),
                (this.nodesWithIndexes = []),
                (this.splatMesh = null))
            }
            return T(e, null, [
              {
                key: 'convertWorkerSubTreeNode',
                value: function (t) {
                  var n = new gd().fromArray(t.min),
                    r = new gd().fromArray(t.max),
                    i = new Db(n, r, t.depth, t.id)
                  if (t.data.indexes) {
                    i.data = { indexes: [] }
                    var a,
                      o = L(t.data.indexes)
                    try {
                      for (o.s(); !(a = o.n()).done; ) {
                        var s = a.value
                        i.data.indexes.push(s)
                      }
                    } catch (d) {
                      o.e(d)
                    } finally {
                      o.f()
                    }
                  }
                  if (t.children) {
                    var u,
                      l = L(t.children)
                    try {
                      for (l.s(); !(u = l.n()).done; ) {
                        var c = u.value
                        i.children.push(e.convertWorkerSubTreeNode(c))
                      }
                    } catch (d) {
                      l.e(d)
                    } finally {
                      l.f()
                    }
                  }
                  return i
                },
              },
              {
                key: 'convertWorkerSubTree',
                value: function (t, n) {
                  var r = new e(t.maxDepth, t.maxCentersPerNode)
                  ;((r.sceneMin = new gd().fromArray(t.sceneMin)),
                    (r.sceneMax = new gd().fromArray(t.sceneMax)),
                    (r.splatMesh = n),
                    (r.rootNode = e.convertWorkerSubTreeNode(t.rootNode)))
                  var i = function (e, t) {
                    0 === e.children.length && t(e)
                    var n,
                      r = L(e.children)
                    try {
                      for (r.s(); !(n = r.n()).done; ) {
                        var a = n.value
                        i(a, t)
                      }
                    } catch (o) {
                      r.e(o)
                    } finally {
                      r.f()
                    }
                  }
                  return (
                    (r.nodesWithIndexes = []),
                    i(r.rootNode, function (e) {
                      e.data &&
                        e.data.indexes &&
                        e.data.indexes.length > 0 &&
                        r.nodesWithIndexes.push(e)
                    }),
                    r
                  )
                },
              },
            ])
          })()
          function Fb(e) {
            var t = 0,
              n = (function () {
                return T(
                  function e(t, n) {
                    ;(w(this, e), (this.min = [t[0], t[1], t[2]]), (this.max = [n[0], n[1], n[2]]))
                  },
                  [
                    {
                      key: 'containsPoint',
                      value: function (e) {
                        return (
                          e[0] >= this.min[0] &&
                          e[0] <= this.max[0] &&
                          e[1] >= this.min[1] &&
                          e[1] <= this.max[1] &&
                          e[2] >= this.min[2] &&
                          e[2] <= this.max[2]
                        )
                      },
                    },
                  ]
                )
              })(),
              r = T(function e(t, n) {
                ;(w(this, e),
                  (this.maxDepth = t),
                  (this.maxCentersPerNode = n),
                  (this.sceneDimensions = []),
                  (this.sceneMin = []),
                  (this.sceneMax = []),
                  (this.rootNode = null),
                  (this.addedIndexes = {}),
                  (this.nodesWithIndexes = []),
                  (this.splatMesh = null),
                  (this.disposed = !1))
              }),
              i = T(function e(n, r, i, a) {
                ;(w(this, e),
                  (this.min = [n[0], n[1], n[2]]),
                  (this.max = [r[0], r[1], r[2]]),
                  (this.center = [
                    0.5 * (r[0] - n[0]) + n[0],
                    0.5 * (r[1] - n[1]) + n[1],
                    0.5 * (r[2] - n[2]) + n[2],
                  ]),
                  (this.depth = i),
                  (this.children = []),
                  (this.data = null),
                  (this.id = a || t++))
              })
            processSplatTreeNode = (function (e) {
              function t(t, n, r, i) {
                return e.apply(this, arguments)
              }
              return (
                (t.toString = function () {
                  return e.toString()
                }),
                t
              )
            })(function (e, t, r, a) {
              var o = t.data.indexes.length
              if (o < e.maxCentersPerNode || t.depth > e.maxDepth) {
                for (var s = [], u = 0; u < t.data.indexes.length; u++)
                  e.addedIndexes[t.data.indexes[u]] ||
                    (s.push(t.data.indexes[u]), (e.addedIndexes[t.data.indexes[u]] = !0))
                return (
                  (t.data.indexes = s),
                  t.data.indexes.sort(function (e, t) {
                    return e > t ? 1 : -1
                  }),
                  void e.nodesWithIndexes.push(t)
                )
              }
              for (
                var l = [t.max[0] - t.min[0], t.max[1] - t.min[1], t.max[2] - t.min[2]],
                  c = [0.5 * l[0], 0.5 * l[1], 0.5 * l[2]],
                  d = [t.min[0] + c[0], t.min[1] + c[1], t.min[2] + c[2]],
                  h = [
                    new n([d[0] - c[0], d[1], d[2] - c[2]], [d[0], d[1] + c[1], d[2]]),
                    new n([d[0], d[1], d[2] - c[2]], [d[0] + c[0], d[1] + c[1], d[2]]),
                    new n([d[0], d[1], d[2]], [d[0] + c[0], d[1] + c[1], d[2] + c[2]]),
                    new n([d[0] - c[0], d[1], d[2]], [d[0], d[1] + c[1], d[2] + c[2]]),
                    new n([d[0] - c[0], d[1] - c[1], d[2] - c[2]], [d[0], d[1], d[2]]),
                    new n([d[0], d[1] - c[1], d[2] - c[2]], [d[0] + c[0], d[1], d[2]]),
                    new n([d[0], d[1] - c[1], d[2]], [d[0] + c[0], d[1], d[2] + c[2]]),
                    new n([d[0] - c[0], d[1] - c[1], d[2]], [d[0], d[1], d[2] + c[2]]),
                  ],
                  f = [],
                  p = 0;
                p < h.length;
                p++
              )
                f[p] = []
              for (var v = [0, 0, 0], m = 0; m < o; m++) {
                var g = t.data.indexes[m],
                  y = r[g]
                ;((v[0] = a[y]), (v[1] = a[y + 1]), (v[2] = a[y + 2]))
                for (var x = 0; x < h.length; x++) h[x].containsPoint(v) && f[x].push(g)
              }
              for (var _ = 0; _ < h.length; _++) {
                var b = new i(h[_].min, h[_].max, t.depth + 1)
                ;((b.data = { indexes: f[_] }), t.children.push(b))
              }
              t.data = {}
              var S,
                w = L(t.children)
              try {
                for (w.s(); !(S = w.n()).done; ) {
                  var A = S.value
                  processSplatTreeNode(e, A, r, a)
                }
              } catch (T) {
                w.e(T)
              } finally {
                w.f()
              }
            })
            var a = function (e, t, n) {
              for (
                var a = [0, 0, 0], o = [0, 0, 0], s = [], u = Math.floor(e.length / 4), l = 0;
                l < u;
                l++
              ) {
                var c = 4 * l,
                  d = e[c],
                  h = e[c + 1],
                  f = e[c + 2],
                  p = Math.round(e[c + 3])
                ;((0 === l || d < a[0]) && (a[0] = d),
                  (0 === l || d > o[0]) && (o[0] = d),
                  (0 === l || h < a[1]) && (a[1] = h),
                  (0 === l || h > o[1]) && (o[1] = h),
                  (0 === l || f < a[2]) && (a[2] = f),
                  (0 === l || f > o[2]) && (o[2] = f),
                  s.push(p))
              }
              var v = new r(t, n)
              return (
                (v.sceneMin = a),
                (v.sceneMax = o),
                (v.rootNode = new i(v.sceneMin, v.sceneMax, 0)),
                (v.rootNode.data = { indexes: s }),
                v
              )
            }
            e.onmessage = function (t) {
              t.data.process &&
                (function (t, n, r) {
                  var i,
                    o = [],
                    s = L(t)
                  try {
                    for (s.s(); !(i = s.n()).done; )
                      for (var u = i.value, l = Math.floor(u.length / 4), c = 0; c < l; c++) {
                        var d = 4 * c
                        o[Math.round(u[d + 3])] = d
                      }
                  } catch (g) {
                    s.e(g)
                  } finally {
                    s.f()
                  }
                  var h,
                    f = [],
                    p = L(t)
                  try {
                    for (p.s(); !(h = p.n()).done; ) {
                      var v = h.value,
                        m = a(v, n, r)
                      ;(f.push(m), processSplatTreeNode(m, m.rootNode, o, v))
                    }
                  } catch (g) {
                    p.e(g)
                  } finally {
                    p.f()
                  }
                  e.postMessage({ subTrees: f })
                })(
                  t.data.process.centers,
                  t.data.process.maxDepth,
                  t.data.process.maxCentersPerNode
                )
            }
          }
          var Bb = (function () {
            return T(
              function e(t, n) {
                var r = this
                ;(w(this, e),
                  M(this, 'processSplatMesh', function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : function () {
                              return !0
                            },
                      n = arguments.length > 2 ? arguments[2] : void 0,
                      i = arguments.length > 3 ? arguments[3] : void 0
                    ;(r.splatTreeWorker ||
                      (r.splatTreeWorker = new Worker(
                        URL.createObjectURL(
                          new Blob(['(', Fb.toString(), ')(self)'], {
                            type: 'application/javascript',
                          })
                        )
                      )),
                      (r.splatMesh = e),
                      (r.subTrees = []))
                    var a = new gd(),
                      o = function (n, r) {
                        for (var i = new Float32Array(4 * r), o = 0, s = 0; s < r; s++) {
                          var u = s + n
                          if (t(u)) {
                            e.getSplatCenter(u, a)
                            var l = 4 * o
                            ;((i[l] = a.x), (i[l + 1] = a.y), (i[l + 2] = a.z), (i[l + 3] = u), o++)
                          }
                        }
                        return i
                      }
                    return new Promise(function (t) {
                      var a = function () {
                        return !!r.disposed && (r.diposeSplatTreeWorker(), t(), !0)
                      }
                      ;(n && n(!1),
                        Bu(function () {
                          if (!a()) {
                            var s = []
                            if (e.dynamicMode)
                              for (var u = 0, l = 0; l < e.scenes.length; l++) {
                                var c = e.getScene(l).splatBuffer.getSplatCount(),
                                  d = o(u, c)
                                ;(s.push(d), (u += c))
                              }
                            else {
                              var h = o(0, e.getSplatCount())
                              s.push(h)
                            }
                            ;((r.splatTreeWorker.onmessage = function (n) {
                              a() ||
                                (n.data.subTrees &&
                                  (i && i(!1),
                                  Bu(function () {
                                    if (!a()) {
                                      var o,
                                        s = L(n.data.subTrees)
                                      try {
                                        for (s.s(); !(o = s.n()).done; ) {
                                          var u = o.value,
                                            l = Ob.convertWorkerSubTree(u, e)
                                          r.subTrees.push(l)
                                        }
                                      } catch (c) {
                                        s.e(c)
                                      } finally {
                                        s.f()
                                      }
                                      ;(r.diposeSplatTreeWorker(),
                                        i && i(!0),
                                        Bu(function () {
                                          t()
                                        }))
                                    }
                                  })))
                            }),
                              Bu(function () {
                                if (!a()) {
                                  n && n(!0)
                                  var e = s.map(function (e) {
                                    return e.buffer
                                  })
                                  !(function (e, t, n, r, i) {
                                    e.postMessage(
                                      {
                                        process: { centers: t, maxDepth: r, maxCentersPerNode: i },
                                      },
                                      n
                                    )
                                  })(r.splatTreeWorker, s, e, r.maxDepth, r.maxCentersPerNode)
                                }
                              }))
                          }
                        }))
                    })
                  }),
                  (this.maxDepth = t),
                  (this.maxCentersPerNode = n),
                  (this.subTrees = []),
                  (this.splatMesh = null))
              },
              [
                {
                  key: 'dispose',
                  value: function () {
                    ;(this.diposeSplatTreeWorker(), (this.disposed = !0))
                  },
                },
                {
                  key: 'diposeSplatTreeWorker',
                  value: function () {
                    ;(this.splatTreeWorker && this.splatTreeWorker.terminate(),
                      (this.splatTreeWorker = null))
                  },
                },
                {
                  key: 'countLeaves',
                  value: function () {
                    var e = 0
                    return (
                      this.visitLeaves(function () {
                        e++
                      }),
                      e
                    )
                  },
                },
                {
                  key: 'visitLeaves',
                  value: function (e) {
                    var t,
                      n = function (e, t) {
                        0 === e.children.length && t(e)
                        var r,
                          i = L(e.children)
                        try {
                          for (i.s(); !(r = i.n()).done; ) {
                            var a = r.value
                            n(a, t)
                          }
                        } catch (o) {
                          i.e(o)
                        } finally {
                          i.f()
                        }
                      },
                      r = L(this.subTrees)
                    try {
                      for (r.s(); !(t = r.n()).done; ) {
                        var i = t.value
                        n(i.rootNode, e)
                      }
                    } catch (a) {
                      r.e(a)
                    } finally {
                      r.f()
                    }
                  },
                },
              ]
            )
          })()
          function Ub(e) {
            var t = {}
            function n(n) {
              if (void 0 !== t[n]) return t[n]
              var r
              switch (n) {
                case 'WEBGL_depth_texture':
                  r =
                    e.getExtension('WEBGL_depth_texture') ||
                    e.getExtension('MOZ_WEBGL_depth_texture') ||
                    e.getExtension('WEBKIT_WEBGL_depth_texture')
                  break
                case 'EXT_texture_filter_anisotropic':
                  r =
                    e.getExtension('EXT_texture_filter_anisotropic') ||
                    e.getExtension('MOZ_EXT_texture_filter_anisotropic') ||
                    e.getExtension('WEBKIT_EXT_texture_filter_anisotropic')
                  break
                case 'WEBGL_compressed_texture_s3tc':
                  r =
                    e.getExtension('WEBGL_compressed_texture_s3tc') ||
                    e.getExtension('MOZ_WEBGL_compressed_texture_s3tc') ||
                    e.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc')
                  break
                case 'WEBGL_compressed_texture_pvrtc':
                  r =
                    e.getExtension('WEBGL_compressed_texture_pvrtc') ||
                    e.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc')
                  break
                default:
                  r = e.getExtension(n)
              }
              return ((t[n] = r), r)
            }
            return {
              has: function (e) {
                return null !== n(e)
              },
              init: function (e) {
                ;(e.isWebGL2
                  ? (n('EXT_color_buffer_float'), n('WEBGL_clip_cull_distance'))
                  : (n('WEBGL_depth_texture'),
                    n('OES_texture_float'),
                    n('OES_texture_half_float'),
                    n('OES_texture_half_float_linear'),
                    n('OES_standard_derivatives'),
                    n('OES_element_index_uint'),
                    n('OES_vertex_array_object'),
                    n('ANGLE_instanced_arrays')),
                  n('OES_texture_float_linear'),
                  n('EXT_color_buffer_half_float'),
                  n('WEBGL_multisampled_render_to_texture'))
              },
              get: function (e) {
                var t = n(e)
                return (
                  null === t &&
                    console.warn('THREE.WebGLRenderer: ' + e + ' extension not supported.'),
                  t
                )
              },
            }
          }
          function zb(e, t, n) {
            var r
            function i(t) {
              if ('highp' === t) {
                if (
                  e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision > 0 &&
                  e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision > 0
                )
                  return 'highp'
                t = 'mediump'
              }
              return 'mediump' === t &&
                e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision > 0 &&
                e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision > 0
                ? 'mediump'
                : 'lowp'
            }
            var a =
                'undefined' != typeof WebGL2RenderingContext &&
                'WebGL2RenderingContext' === e.constructor.name,
              o = void 0 !== n.precision ? n.precision : 'highp',
              s = i(o)
            s !== o &&
              (console.warn('THREE.WebGLRenderer:', o, 'not supported, using', s, 'instead.'),
              (o = s))
            var u = a || t.has('WEBGL_draw_buffers'),
              l = !0 === n.logarithmicDepthBuffer,
              c = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
              d = e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
              h = e.getParameter(e.MAX_TEXTURE_SIZE),
              f = e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),
              p = e.getParameter(e.MAX_VERTEX_ATTRIBS),
              v = e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),
              m = e.getParameter(e.MAX_VARYING_VECTORS),
              g = e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),
              y = d > 0,
              x = a || t.has('OES_texture_float')
            return {
              isWebGL2: a,
              drawBuffers: u,
              getMaxAnisotropy: function () {
                if (void 0 !== r) return r
                if (!0 === t.has('EXT_texture_filter_anisotropic')) {
                  var n = t.get('EXT_texture_filter_anisotropic')
                  r = e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
                } else r = 0
                return r
              },
              getMaxPrecision: i,
              precision: o,
              logarithmicDepthBuffer: l,
              maxTextures: c,
              maxVertexTextures: d,
              maxTextureSize: h,
              maxCubemapSize: f,
              maxAttributes: p,
              maxVertexUniforms: v,
              maxVaryings: m,
              maxFragmentUniforms: g,
              vertexTextures: y,
              floatFragmentTextures: x,
              floatVertexTextures: y && x,
              maxSamples: a ? e.getParameter(e.MAX_SAMPLES) : 0,
            }
          }
          var Vb = 0,
            Hb = 2,
            Wb = 0,
            Gb = 3,
            jb = new uf(),
            Qb = new Wh(),
            qb = 16777216,
            Xb = (function (e) {
              function t() {
                var e,
                  n,
                  r,
                  i,
                  a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Eb,
                  o = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                  s = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                  u = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                  l = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1,
                  c = !(arguments.length > 5 && void 0 !== arguments[5]) || arguments[5],
                  d = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
                  h = arguments.length > 7 && void 0 !== arguments[7] && arguments[7],
                  f = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 1024,
                  p = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : Wb,
                  v = arguments.length > 10 && void 0 !== arguments[10] ? arguments[10] : 0,
                  m = arguments.length > 11 && void 0 !== arguments[11] ? arguments[11] : 1,
                  g = arguments.length > 12 && void 0 !== arguments[12] ? arguments[12] : 0.3
                return (
                  w(this, t),
                  M((e = y(this, t, [jb, Qb])), 'buildSplatTree', function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                      n = arguments.length > 1 ? arguments[1] : void 0,
                      r = arguments.length > 2 ? arguments[2] : void 0
                    return new Promise(function (i) {
                      ;(e.disposeSplatTree(), (e.baseSplatTree = new Bb(8, 1e3)))
                      var a = performance.now(),
                        o = new dd()
                      e.baseSplatTree
                        .processSplatMesh(
                          e,
                          function (n) {
                            e.getSplatColor(n, o)
                            var r = e.getSceneIndexForSplat(n),
                              i = t[r] || 1
                            return o.w >= i
                          },
                          n,
                          r
                        )
                        .then(function () {
                          var t = performance.now() - a
                          if (
                            (e.logLevel >= Gb && console.log('SplatTree build: ' + t + ' ms'),
                            e.disposed)
                          )
                            i()
                          else {
                            ;((e.splatTree = e.baseSplatTree), (e.baseSplatTree = null))
                            var n = 0,
                              r = 0,
                              o = 0
                            ;(e.splatTree.visitLeaves(function (e) {
                              var t = e.data.indexes.length
                              t > 0 && ((r += t), o++, n++)
                            }),
                              e.logLevel >= Gb &&
                                (console.log(
                                  'SplatTree leaves: '.concat(e.splatTree.countLeaves())
                                ),
                                console.log('SplatTree leaves with splats:'.concat(n)),
                                (r /= o),
                                console.log('Avg splat count per node: '.concat(r)),
                                console.log('Total splat count: '.concat(e.getSplatCount()))),
                              i())
                          }
                        })
                    })
                  }),
                  M(
                    e,
                    'updateUniforms',
                    ((n = new Gc()),
                    function (e, t, r, i, a, o) {
                      if (this.getSplatCount() > 0) {
                        if (
                          (n.set(e.x * this.devicePixelRatio, e.y * this.devicePixelRatio),
                          this.material.uniforms.viewport.value.copy(n),
                          this.material.uniforms.basisViewport.value.set(1 / n.x, 1 / n.y),
                          this.material.uniforms.focal.value.set(t, r),
                          (this.material.uniforms.orthographicMode.value = i ? 1 : 0),
                          (this.material.uniforms.orthoZoom.value = a),
                          (this.material.uniforms.inverseFocalAdjustment.value = o),
                          this.dynamicMode)
                        )
                          for (var s = 0; s < this.scenes.length; s++)
                            this.material.uniforms.transforms.value[s].copy(
                              this.getScene(s).transform
                            )
                        if (this.enableOptionalEffects)
                          for (var u = 0; u < this.scenes.length; u++)
                            ((this.material.uniforms.sceneOpacity.value[u] = Du(
                              this.getScene(u).opacity,
                              0,
                              1
                            )),
                              (this.material.uniforms.sceneVisibility.value[u] = this.getScene(u)
                                .visible
                                ? 1
                                : 0),
                              (this.material.uniformsNeedUpdate = !0))
                        this.material.uniformsNeedUpdate = !0
                      }
                    })
                  ),
                  M(
                    e,
                    'setupDistancesComputationTransformFeedback',
                    (function () {
                      var e,
                        t = this
                      return function () {
                        var n = t.getMaxSplatCount()
                        if (t.renderer) {
                          var r = t.lastRenderer !== t.renderer,
                            i = e !== n
                          if (r || i) {
                            r
                              ? t.disposeDistancesComputationGPUResources()
                              : i && t.disposeDistancesComputationGPUBufferResources()
                            var a,
                              o = t.renderer.getContext(),
                              s = function (e, t, n) {
                                var r = e.createShader(t)
                                if (!r)
                                  return (
                                    console.error(
                                      'Fatal error: gl could not create a shader object.'
                                    ),
                                    null
                                  )
                                if (
                                  (e.shaderSource(r, n),
                                  e.compileShader(r),
                                  !e.getShaderParameter(r, e.COMPILE_STATUS))
                                ) {
                                  var i = 'unknown'
                                  t === e.VERTEX_SHADER
                                    ? (i = 'vertex shader')
                                    : t === e.FRAGMENT_SHADER && (i = 'fragement shader')
                                  var a = e.getShaderInfoLog(r)
                                  return (
                                    console.error(
                                      'Failed to compile ' + i + ' with these errors:' + a
                                    ),
                                    e.deleteShader(r),
                                    null
                                  )
                                }
                                return r
                              }
                            t.integerBasedDistancesComputation
                              ? ((a =
                                  '#version 300 es\n                in ivec4 center;\n                flat out int distance;'),
                                t.dynamicMode
                                  ? (a +=
                                      '\n                        in uint sceneIndex;\n                        uniform ivec4 transforms['.concat(
                                        Wy.MaxScenes,
                                        '];\n                        void main(void) {\n                            ivec4 transform = transforms[sceneIndex];\n                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;\n                        }\n                    '
                                      ))
                                  : (a +=
                                      '\n                        uniform ivec3 modelViewProj;\n                        void main(void) {\n                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;\n                        }\n                    '))
                              : ((a =
                                  '#version 300 es\n                in vec4 center;\n                flat out float distance;'),
                                t.dynamicMode
                                  ? (a +=
                                      '\n                        in uint sceneIndex;\n                        uniform mat4 transforms['.concat(
                                        Wy.MaxScenes,
                                        '];\n                        void main(void) {\n                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);\n                            distance = transformedCenter.z;\n                        }\n                    '
                                      ))
                                  : (a +=
                                      '\n                        uniform vec3 modelViewProj;\n                        void main(void) {\n                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;\n                        }\n                    '))
                            var u = o.getParameter(o.VERTEX_ARRAY_BINDING),
                              l = o.getParameter(o.CURRENT_PROGRAM),
                              c = !!l && o.getProgramParameter(l, o.DELETE_STATUS)
                            if (
                              (r && (t.distancesTransformFeedback.vao = o.createVertexArray()),
                              o.bindVertexArray(t.distancesTransformFeedback.vao),
                              r)
                            ) {
                              var d = o.createProgram(),
                                h = s(o, o.VERTEX_SHADER, a),
                                f = s(
                                  o,
                                  o.FRAGMENT_SHADER,
                                  '#version 300 es\n                precision lowp float;\n                out vec4 fragColor;\n                void main(){}\n            '
                                )
                              if (!h || !f)
                                throw new Error(
                                  'Could not compile shaders for distances computation on GPU.'
                                )
                              if (
                                (o.attachShader(d, h),
                                o.attachShader(d, f),
                                o.transformFeedbackVaryings(d, ['distance'], o.SEPARATE_ATTRIBS),
                                o.linkProgram(d),
                                !o.getProgramParameter(d, o.LINK_STATUS))
                              ) {
                                var p = o.getProgramInfoLog(d)
                                throw (
                                  console.error('Fatal error: Failed to link program: ' + p),
                                  o.deleteProgram(d),
                                  o.deleteShader(f),
                                  o.deleteShader(h),
                                  new Error(
                                    'Could not link shaders for distances computation on GPU.'
                                  )
                                )
                              }
                              ;((t.distancesTransformFeedback.program = d),
                                (t.distancesTransformFeedback.vertexShader = h),
                                (t.distancesTransformFeedback.vertexShader = f))
                            }
                            if (
                              (o.useProgram(t.distancesTransformFeedback.program),
                              (t.distancesTransformFeedback.centersLoc = o.getAttribLocation(
                                t.distancesTransformFeedback.program,
                                'center'
                              )),
                              t.dynamicMode)
                            ) {
                              t.distancesTransformFeedback.sceneIndexesLoc = o.getAttribLocation(
                                t.distancesTransformFeedback.program,
                                'sceneIndex'
                              )
                              for (var v = 0; v < t.scenes.length; v++)
                                t.distancesTransformFeedback.transformsLocs[v] =
                                  o.getUniformLocation(
                                    t.distancesTransformFeedback.program,
                                    'transforms['.concat(v, ']')
                                  )
                            } else
                              t.distancesTransformFeedback.modelViewProjLoc = o.getUniformLocation(
                                t.distancesTransformFeedback.program,
                                'modelViewProj'
                              )
                            ;((r || i) &&
                              ((t.distancesTransformFeedback.centersBuffer = o.createBuffer()),
                              o.bindBuffer(
                                o.ARRAY_BUFFER,
                                t.distancesTransformFeedback.centersBuffer
                              ),
                              o.enableVertexAttribArray(t.distancesTransformFeedback.centersLoc),
                              t.integerBasedDistancesComputation
                                ? o.vertexAttribIPointer(
                                    t.distancesTransformFeedback.centersLoc,
                                    4,
                                    o.INT,
                                    0,
                                    0
                                  )
                                : o.vertexAttribPointer(
                                    t.distancesTransformFeedback.centersLoc,
                                    4,
                                    o.FLOAT,
                                    !1,
                                    0,
                                    0
                                  ),
                              t.dynamicMode &&
                                ((t.distancesTransformFeedback.sceneIndexesBuffer =
                                  o.createBuffer()),
                                o.bindBuffer(
                                  o.ARRAY_BUFFER,
                                  t.distancesTransformFeedback.sceneIndexesBuffer
                                ),
                                o.enableVertexAttribArray(
                                  t.distancesTransformFeedback.sceneIndexesLoc
                                ),
                                o.vertexAttribIPointer(
                                  t.distancesTransformFeedback.sceneIndexesLoc,
                                  1,
                                  o.UNSIGNED_INT,
                                  0,
                                  0
                                ))),
                              (r || i) &&
                                (t.distancesTransformFeedback.outDistancesBuffer =
                                  o.createBuffer()),
                              o.bindBuffer(
                                o.ARRAY_BUFFER,
                                t.distancesTransformFeedback.outDistancesBuffer
                              ),
                              o.bufferData(o.ARRAY_BUFFER, 4 * n, o.STATIC_READ),
                              r && (t.distancesTransformFeedback.id = o.createTransformFeedback()),
                              o.bindTransformFeedback(
                                o.TRANSFORM_FEEDBACK,
                                t.distancesTransformFeedback.id
                              ),
                              o.bindBufferBase(
                                o.TRANSFORM_FEEDBACK_BUFFER,
                                0,
                                t.distancesTransformFeedback.outDistancesBuffer
                              ),
                              l && !0 !== c && o.useProgram(l),
                              u && o.bindVertexArray(u),
                              (t.lastRenderer = t.renderer),
                              (e = n))
                          }
                        }
                      }
                    })()
                  ),
                  M(
                    e,
                    'fillTransformsArray',
                    ((r = []),
                    function (e) {
                      r.length !== e.length && (r.length = e.length)
                      for (var t = 0; t < this.scenes.length; t++)
                        for (var n = this.getScene(t).transform.elements, i = 0; i < 16; i++)
                          r[16 * t + i] = n[i]
                      e.set(r)
                    })
                  ),
                  M(
                    e,
                    'computeDistancesOnGPU',
                    (function () {
                      var e = this,
                        n = new qd()
                      return function (r, i) {
                        if (e.renderer) {
                          var a = e.renderer.getContext(),
                            o = a.getParameter(a.VERTEX_ARRAY_BINDING),
                            s = a.getParameter(a.CURRENT_PROGRAM),
                            u = !!s && a.getProgramParameter(s, a.DELETE_STATUS)
                          if (
                            (a.bindVertexArray(e.distancesTransformFeedback.vao),
                            a.useProgram(e.distancesTransformFeedback.program),
                            a.enable(a.RASTERIZER_DISCARD),
                            e.dynamicMode)
                          )
                            for (var l = 0; l < e.scenes.length; l++)
                              if (
                                (n.copy(e.getScene(l).transform),
                                n.premultiply(r),
                                e.integerBasedDistancesComputation)
                              ) {
                                var c = t.getIntegerMatrixArray(n),
                                  d = [c[2], c[6], c[10], c[14]]
                                a.uniform4i(
                                  e.distancesTransformFeedback.transformsLocs[l],
                                  d[0],
                                  d[1],
                                  d[2],
                                  d[3]
                                )
                              } else
                                a.uniformMatrix4fv(
                                  e.distancesTransformFeedback.transformsLocs[l],
                                  !1,
                                  n.elements
                                )
                          else if (e.integerBasedDistancesComputation) {
                            var h = t.getIntegerMatrixArray(r),
                              f = [h[2], h[6], h[10]]
                            a.uniform3i(
                              e.distancesTransformFeedback.modelViewProjLoc,
                              f[0],
                              f[1],
                              f[2]
                            )
                          } else {
                            var p = [r.elements[2], r.elements[6], r.elements[10]]
                            a.uniform3f(
                              e.distancesTransformFeedback.modelViewProjLoc,
                              p[0],
                              p[1],
                              p[2]
                            )
                          }
                          ;(a.bindBuffer(
                            a.ARRAY_BUFFER,
                            e.distancesTransformFeedback.centersBuffer
                          ),
                            a.enableVertexAttribArray(e.distancesTransformFeedback.centersLoc),
                            e.integerBasedDistancesComputation
                              ? a.vertexAttribIPointer(
                                  e.distancesTransformFeedback.centersLoc,
                                  4,
                                  a.INT,
                                  0,
                                  0
                                )
                              : a.vertexAttribPointer(
                                  e.distancesTransformFeedback.centersLoc,
                                  4,
                                  a.FLOAT,
                                  !1,
                                  0,
                                  0
                                ),
                            e.dynamicMode &&
                              (a.bindBuffer(
                                a.ARRAY_BUFFER,
                                e.distancesTransformFeedback.sceneIndexesBuffer
                              ),
                              a.enableVertexAttribArray(
                                e.distancesTransformFeedback.sceneIndexesLoc
                              ),
                              a.vertexAttribIPointer(
                                e.distancesTransformFeedback.sceneIndexesLoc,
                                1,
                                a.UNSIGNED_INT,
                                0,
                                0
                              )),
                            a.bindTransformFeedback(
                              a.TRANSFORM_FEEDBACK,
                              e.distancesTransformFeedback.id
                            ),
                            a.bindBufferBase(
                              a.TRANSFORM_FEEDBACK_BUFFER,
                              0,
                              e.distancesTransformFeedback.outDistancesBuffer
                            ),
                            a.beginTransformFeedback(a.POINTS),
                            a.drawArrays(a.POINTS, 0, e.getSplatCount()),
                            a.endTransformFeedback(),
                            a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER, 0, null),
                            a.bindTransformFeedback(a.TRANSFORM_FEEDBACK, null),
                            a.disable(a.RASTERIZER_DISCARD))
                          var v = a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE, 0)
                          a.flush()
                          var m = new Promise(function (t) {
                            var n = function () {
                              if (e.disposed) t()
                              else {
                                switch (a.clientWaitSync(v, 0, 0)) {
                                  case a.TIMEOUT_EXPIRED:
                                    return (
                                      (e.computeDistancesOnGPUSyncTimeout = setTimeout(n)),
                                      e.computeDistancesOnGPUSyncTimeout
                                    )
                                  case a.WAIT_FAILED:
                                    throw new Error('should never get here')
                                  default:
                                    ;((e.computeDistancesOnGPUSyncTimeout = null), a.deleteSync(v))
                                    var r = a.getParameter(a.VERTEX_ARRAY_BINDING)
                                    ;(a.bindVertexArray(e.distancesTransformFeedback.vao),
                                      a.bindBuffer(
                                        a.ARRAY_BUFFER,
                                        e.distancesTransformFeedback.outDistancesBuffer
                                      ),
                                      a.getBufferSubData(a.ARRAY_BUFFER, 0, i),
                                      a.bindBuffer(a.ARRAY_BUFFER, null),
                                      r && a.bindVertexArray(r),
                                      t())
                                }
                              }
                            }
                            e.computeDistancesOnGPUSyncTimeout = setTimeout(n)
                          })
                          return (s && !0 !== u && a.useProgram(s), o && a.bindVertexArray(o), m)
                        }
                      }
                    })()
                  ),
                  M(e, 'morphedMesh', void 0),
                  M(
                    e,
                    'getSplatCenter',
                    ((i = {}),
                    function (e, t, n, r) {
                      ;(this.getLocalSplatParameters(t, i, r),
                        i.splatBuffer.getSplatCenter(e, i.localIndex, n, i.sceneTransform))
                    })
                  ),
                  M(
                    e,
                    'getSplatScaleAndRotation',
                    (function () {
                      var e = {},
                        t = new gd()
                      return function (n, r, i, a) {
                        ;(this.getLocalSplatParameters(n, e, a),
                          (t.x = void 0),
                          (t.y = void 0),
                          (t.z = void 0),
                          this.splatRenderMode === Cb && (t.z = 0),
                          e.splatBuffer.getSplatScaleAndRotation(
                            e.localIndex,
                            r,
                            i,
                            e.sceneTransform,
                            t
                          ))
                      }
                    })()
                  ),
                  M(
                    e,
                    'getSplatColor',
                    (function () {
                      var e = {}
                      return function (t, n) {
                        ;(this.getLocalSplatParameters(t, e),
                          e.splatBuffer.getSplatColor(e.localIndex, n))
                      }
                    })()
                  ),
                  (e.renderer = void 0),
                  (e.splatRenderMode = a),
                  (e.dynamicMode = o),
                  (e.enableOptionalEffects = s),
                  (e.halfPrecisionCovariancesOnGPU = u),
                  (e.devicePixelRatio = l),
                  (e.enableDistancesComputationOnGPU = c),
                  (e.integerBasedDistancesComputation = d),
                  (e.antialiased = h),
                  (e.kernel2DSize = g),
                  (e.maxScreenSpaceSplatSize = f),
                  (e.logLevel = p),
                  (e.sphericalHarmonicsDegree = v),
                  (e.minSphericalHarmonicsDegree = 0),
                  (e.sceneFadeInRateMultiplier = m),
                  (e.scenes = []),
                  (e.splatTree = null),
                  (e.baseSplatTree = null),
                  (e.splatDataTextures = {}),
                  (e.flameModel = null),
                  (e.expressionBSNum = 0),
                  (e.bsWeight = []),
                  (e.bonesMatrix = null),
                  (e.bonesNum = null),
                  (e.bonesWeight = null),
                  (e.gaussianSplatCount = null),
                  (e.useFlameModel = !0),
                  (e.morphTargetDictionary = null),
                  (e.distancesTransformFeedback = {
                    id: null,
                    vertexShader: null,
                    fragmentShader: null,
                    program: null,
                    centersBuffer: null,
                    sceneIndexesBuffer: null,
                    outDistancesBuffer: null,
                    centersLoc: -1,
                    modelViewProjLoc: -1,
                    sceneIndexesLoc: -1,
                    transformsLocs: [],
                  }),
                  (e.globalSplatIndexToLocalSplatIndexMap = []),
                  (e.globalSplatIndexToSceneIndexMap = []),
                  (e.lastBuildSplatCount = 0),
                  (e.lastBuildScenes = []),
                  (e.lastBuildMaxSplatCount = 0),
                  (e.lastBuildSceneCount = 0),
                  (e.firstRenderTime = -1),
                  (e.finalBuild = !1),
                  (e.webGLUtils = null),
                  (e.boundingBox = new _d()),
                  (e.calculatedSceneCenter = new gd()),
                  (e.maxSplatDistanceFromSceneCenter = 0),
                  (e.visibleRegionBufferRadius = 0),
                  (e.visibleRegionRadius = 0),
                  (e.visibleRegionFadeStartRadius = 0),
                  (e.visibleRegionChanging = !1),
                  (e.splatScale = 1),
                  (e.pointCloudModeEnabled = !1),
                  (e.disposed = !1),
                  (e.lastRenderer = null),
                  (e.visible = !1),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'build',
                      value: function (e, n) {
                        var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                          i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                          a = !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6]
                        ;((this.sceneOptions = n), (this.finalBuild = i))
                        var o = t.getTotalMaxSplatCountForSplatBuffers(e),
                          s = t.buildScenes(this, e, n)
                        if (r)
                          for (var u = 0; u < this.scenes.length && u < s.length; u++) {
                            var l = s[u],
                              c = this.getScene(u)
                            l.copyTransformData(c)
                          }
                        this.scenes = s
                        var d,
                          h = 3,
                          f = L(e)
                        try {
                          for (f.s(); !(d = f.n()).done; ) {
                            var p = d.value.getMinSphericalHarmonicsDegree()
                            p < h && (h = p)
                          }
                        } catch (S) {
                          f.e(S)
                        } finally {
                          f.f()
                        }
                        this.minSphericalHarmonicsDegree = Math.min(
                          h,
                          this.sphericalHarmonicsDegree
                        )
                        var v = !1
                        if (e.length !== this.lastBuildScenes.length) v = !0
                        else
                          for (var m = 0; m < e.length; m++) {
                            if (e[m] !== this.lastBuildScenes[m].splatBuffer) {
                              v = !0
                              break
                            }
                          }
                        var g = !0
                        if (
                          ((1 !== this.scenes.length ||
                            this.lastBuildSceneCount !== this.scenes.length ||
                            this.lastBuildMaxSplatCount !== o ||
                            v) &&
                            (g = !1),
                          !g)
                        ) {
                          ;((this.boundingBox = new _d()),
                            a ||
                              ((this.maxSplatDistanceFromSceneCenter = 0),
                              (this.visibleRegionBufferRadius = 0),
                              (this.visibleRegionRadius = 0),
                              (this.visibleRegionFadeStartRadius = 0),
                              (this.firstRenderTime = -1)),
                            (this.lastBuildScenes = []),
                            (this.lastBuildSplatCount = 0),
                            (this.lastBuildMaxSplatCount = 0),
                            this.disposeMeshData(),
                            (this.geometry = Pb.build(o)),
                            this.splatRenderMode === Eb
                              ? (this.material = Ib.build(
                                  this.dynamicMode,
                                  this.enableOptionalEffects,
                                  this.antialiased,
                                  this.maxScreenSpaceSplatSize,
                                  this.splatScale,
                                  this.pointCloudModeEnabled,
                                  this.minSphericalHarmonicsDegree,
                                  this.kernel2DSize,
                                  this.useFlameModel
                                ))
                              : (this.material = Nb.build(
                                  this.dynamicMode,
                                  this.enableOptionalEffects,
                                  this.splatScale,
                                  this.pointCloudModeEnabled,
                                  this.minSphericalHarmonicsDegree
                                )))
                          var y = t.buildSplatIndexMaps(e)
                          ;((this.globalSplatIndexToLocalSplatIndexMap = y.localSplatIndexMap),
                            (this.globalSplatIndexToSceneIndexMap = y.sceneIndexMap))
                        }
                        var x = this.getSplatCount(!0)
                        this.enableDistancesComputationOnGPU &&
                          this.setupDistancesComputationTransformFeedback()
                        for (
                          var _ = this.refreshGPUDataFromSplatBuffers(g), b = 0;
                          b < this.scenes.length;
                          b++
                        )
                          this.lastBuildScenes[b] = this.scenes[b]
                        return (
                          (this.lastBuildSplatCount = x),
                          (this.lastBuildMaxSplatCount = this.getMaxSplatCount()),
                          (this.lastBuildSceneCount = this.scenes.length),
                          (this.visible = this.scenes.length > 0),
                          _
                        )
                      },
                    },
                    {
                      key: 'freeIntermediateSplatData',
                      value: function () {
                        var e = this,
                          t = function (e) {
                            ;(delete e.source.data, delete e.image, (e.onUpdate = null))
                          }
                        ;(delete this.splatDataTextures.baseData.covariances,
                          delete this.splatDataTextures.baseData.centers,
                          delete this.splatDataTextures.baseData.colors,
                          delete this.splatDataTextures.baseData.sphericalHarmonics,
                          delete this.splatDataTextures.centerColors.data,
                          delete this.splatDataTextures.covariances.data,
                          this.splatDataTextures.sphericalHarmonics &&
                            delete this.splatDataTextures.sphericalHarmonics.data,
                          this.splatDataTextures.sceneIndexes &&
                            delete this.splatDataTextures.sceneIndexes.data,
                          (this.splatDataTextures.centerColors.texture.needsUpdate = !0),
                          (this.splatDataTextures.centerColors.texture.onUpdate = function () {
                            t(e.splatDataTextures.centerColors.texture)
                          }),
                          (this.splatDataTextures.flameModelPosTexture.texture.needsUpdate = !0),
                          (this.splatDataTextures.flameModelPosTexture.texture.onUpdate =
                            function () {
                              t(e.splatDataTextures.flameModelPosTexture.texture)
                            }),
                          (this.splatDataTextures.covariances.texture.needsUpdate = !0),
                          (this.splatDataTextures.covariances.texture.onUpdate = function () {
                            t(e.splatDataTextures.covariances.texture)
                          }),
                          this.splatDataTextures.sphericalHarmonics &&
                            (this.splatDataTextures.sphericalHarmonics.texture
                              ? ((this.splatDataTextures.sphericalHarmonics.texture.needsUpdate =
                                  !0),
                                (this.splatDataTextures.sphericalHarmonics.texture.onUpdate =
                                  function () {
                                    t(e.splatDataTextures.sphericalHarmonics.texture)
                                  }))
                              : this.splatDataTextures.sphericalHarmonics.textures.forEach(
                                  function (e) {
                                    ;((e.needsUpdate = !0),
                                      (e.onUpdate = function () {
                                        t(e)
                                      }))
                                  }
                                )),
                          this.splatDataTextures.sceneIndexes &&
                            ((this.splatDataTextures.sceneIndexes.texture.needsUpdate = !0),
                            (this.splatDataTextures.sceneIndexes.texture.onUpdate = function () {
                              t(e.splatDataTextures.sceneIndexes.texture)
                            })))
                      },
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        ;(this.disposeMeshData(),
                          this.disposeTextures(),
                          this.disposeSplatTree(),
                          this.enableDistancesComputationOnGPU &&
                            (this.computeDistancesOnGPUSyncTimeout &&
                              (clearTimeout(this.computeDistancesOnGPUSyncTimeout),
                              (this.computeDistancesOnGPUSyncTimeout = null)),
                            this.disposeDistancesComputationGPUResources()),
                          (this.scenes = []),
                          (this.distancesTransformFeedback = {
                            id: null,
                            vertexShader: null,
                            fragmentShader: null,
                            program: null,
                            centersBuffer: null,
                            sceneIndexesBuffer: null,
                            outDistancesBuffer: null,
                            centersLoc: -1,
                            modelViewProjLoc: -1,
                            sceneIndexesLoc: -1,
                            transformsLocs: [],
                          }),
                          (this.renderer = null),
                          (this.globalSplatIndexToLocalSplatIndexMap = []),
                          (this.globalSplatIndexToSceneIndexMap = []),
                          (this.lastBuildSplatCount = 0),
                          (this.lastBuildScenes = []),
                          (this.lastBuildMaxSplatCount = 0),
                          (this.lastBuildSceneCount = 0),
                          (this.firstRenderTime = -1),
                          (this.finalBuild = !1),
                          (this.webGLUtils = null),
                          (this.boundingBox = new _d()),
                          (this.calculatedSceneCenter = new gd()),
                          (this.maxSplatDistanceFromSceneCenter = 0),
                          (this.visibleRegionBufferRadius = 0),
                          (this.visibleRegionRadius = 0),
                          (this.visibleRegionFadeStartRadius = 0),
                          (this.visibleRegionChanging = !1),
                          (this.splatScale = 1),
                          (this.pointCloudModeEnabled = !1),
                          (this.disposed = !0),
                          (this.lastRenderer = null),
                          (this.visible = !1))
                      },
                    },
                    {
                      key: 'disposeMeshData',
                      value: function () {
                        ;(this.geometry &&
                          this.geometry !== jb &&
                          (this.geometry.dispose(), (this.geometry = null)),
                          this.material && (this.material.dispose(), (this.material = null)))
                      },
                    },
                    {
                      key: 'disposeTextures',
                      value: function () {
                        for (var e in this.splatDataTextures)
                          if (this.splatDataTextures.hasOwnProperty(e)) {
                            var t = this.splatDataTextures[e]
                            t.texture && (t.texture.dispose(), (t.texture = null))
                          }
                        this.splatDataTextures = null
                      },
                    },
                    {
                      key: 'disposeSplatTree',
                      value: function () {
                        ;(this.splatTree && (this.splatTree.dispose(), (this.splatTree = null)),
                          this.baseSplatTree &&
                            (this.baseSplatTree.dispose(), (this.baseSplatTree = null)))
                      },
                    },
                    {
                      key: 'getSplatTree',
                      value: function () {
                        return this.splatTree
                      },
                    },
                    {
                      key: 'onSplatTreeReady',
                      value: function (e) {
                        this.onSplatTreeReadyCallback = e
                      },
                    },
                    {
                      key: 'getDataForDistancesComputation',
                      value: function (e, t) {
                        return {
                          centers: this.integerBasedDistancesComputation
                            ? this.getIntegerCenters(e, t, !0)
                            : this.getFloatCenters(e, t, !0),
                          sceneIndexes: this.getSceneIndexes(e, t),
                        }
                      },
                    },
                    {
                      key: 'refreshGPUDataFromSplatBuffers',
                      value: function (e) {
                        var t = this.getSplatCount(!0)
                        this.refreshDataTexturesFromSplatBuffers(e)
                        var n = e ? this.lastBuildSplatCount : 0,
                          r = this.getDataForDistancesComputation(n, t - 1),
                          i = r.centers,
                          a = r.sceneIndexes
                        return (
                          this.enableDistancesComputationOnGPU &&
                            this.refreshGPUBuffersForDistancesComputation(i, a, e),
                          { from: n, to: t - 1, count: t - n, centers: i, sceneIndexes: a }
                        )
                      },
                    },
                    {
                      key: 'refreshGPUBuffersForDistancesComputation',
                      value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                          r = n ? this.lastBuildSplatCount : 0
                        ;(this.updateGPUCentersBufferForDistancesComputation(n, e, r),
                          this.updateGPUTransformIndexesBufferForDistancesComputation(n, t, r))
                      },
                    },
                    {
                      key: 'refreshDataTexturesFromSplatBuffers',
                      value: function (e) {
                        var t = this.getSplatCount(!0),
                          n = this.lastBuildSplatCount,
                          r = t - 1
                        ;(e
                          ? this.updateBaseDataFromSplatBuffers(n, r)
                          : (this.setupDataTextures(), this.updateBaseDataFromSplatBuffers()),
                          this.updateDataTexturesFromBaseData(n, r),
                          this.updateVisibleRegion(e))
                      },
                    },
                    {
                      key: 'setupDataTextures',
                      value: function () {
                        var e = this,
                          n = this.getMaxSplatCount(),
                          r = this.getSplatCount(!0)
                        this.disposeTextures()
                        var i,
                          a,
                          o,
                          s = function (e, t) {
                            for (var r = new Gc(4096, 1024); r.x * r.y * e < n * t; ) r.y *= 2
                            return r
                          },
                          u = function (e) {
                            var t = (function (e) {
                              return e >= 1 ? 6 : 4
                            })(e)
                            return { elementsPerTexelStored: t, texSize: s(t, 6) }
                          },
                          l = this.getTargetCovarianceCompressionLevel(),
                          c = this.getTargetSphericalHarmonicsCompressionLevel()
                        if (this.splatRenderMode === Eb) {
                          var d = u(l)
                          ;(d.texSize.x * d.texSize.y > qb && 0 === l && (l = 1),
                            (i = new Float32Array(6 * n)))
                        } else ((a = new Float32Array(3 * n)), (o = new Float32Array(4 * n)))
                        var h = new Float32Array(3 * n),
                          f = new Uint8Array(4 * n),
                          p = Float32Array
                        1 === c ? (p = Uint16Array) : 2 === c && (p = Uint8Array)
                        var v = Uu(this.minSphericalHarmonicsDegree),
                          m = this.minSphericalHarmonicsDegree ? new p(n * v) : void 0,
                          g = s(4, 4),
                          y = new Uint32Array(g.x * g.y * 4)
                        t.updateCenterColorsPaddedData(0, r - 1, h, f, y)
                        var x = new tp(y, g.x, g.y, Ll, _l)
                        if (
                          ((x.internalFormat = 'RGBA32UI'),
                          (x.needsUpdate = !0),
                          (this.material.uniforms.centersColorsTexture.value = x),
                          this.material.uniforms.centersColorsTextureSize.value.copy(g),
                          (this.material.uniformsNeedUpdate = !0),
                          (this.splatDataTextures = {
                            baseData: {
                              covariances: i,
                              scales: a,
                              rotations: o,
                              centers: h,
                              colors: f,
                              sphericalHarmonics: m,
                            },
                            centerColors: { data: y, texture: x, size: g },
                          }),
                          this.splatRenderMode === Eb)
                        ) {
                          var _,
                            b = u(l),
                            S = b.elementsPerTexelStored,
                            w = b.texSize,
                            A = l >= 1 ? 8 : 4,
                            T = new (l >= 1 ? Uint32Array : Float32Array)(w.x * w.y * A)
                          if (
                            (0 === l
                              ? T.set(i)
                              : t.updatePaddedCompressedCovariancesTextureData(
                                  i,
                                  T,
                                  0,
                                  0,
                                  i.length
                                ),
                            l >= 1)
                          )
                            (((_ = new tp(T, w.x, w.y, Ll, _l)).internalFormat = 'RGBA32UI'),
                              (this.material.uniforms.covariancesTextureHalfFloat.value = _))
                          else {
                            ;((_ = new tp(T, w.x, w.y, El, bl)),
                              (this.material.uniforms.covariancesTexture.value = _))
                            var M = new tp(new Uint32Array(32), 2, 2, Ll, _l)
                            ;((M.internalFormat = 'RGBA32UI'),
                              (this.material.uniforms.covariancesTextureHalfFloat.value = M),
                              (M.needsUpdate = !0))
                          }
                          ;((_.needsUpdate = !0),
                            (this.material.uniforms.covariancesAreHalfFloat.value = l >= 1 ? 1 : 0),
                            this.material.uniforms.covariancesTextureSize.value.copy(w),
                            (this.splatDataTextures.covariances = {
                              data: T,
                              texture: _,
                              size: w,
                              compressionLevel: l,
                              elementsPerTexelStored: S,
                              elementsPerTexelAllocated: A,
                            }))
                        } else {
                          var E = s(4, 6),
                            C = Float32Array,
                            k = new C(E.x * E.y * 4)
                          t.updateScaleRotationsPaddedData(0, r - 1, a, o, k)
                          var R = new tp(k, E.x, E.y, El, 1015)
                          ;((R.needsUpdate = !0),
                            (this.material.uniforms.scaleRotationsTexture.value = R),
                            this.material.uniforms.scaleRotationsTextureSize.value.copy(E),
                            (this.splatDataTextures.scaleRotations = {
                              data: k,
                              texture: R,
                              size: E,
                              compressionLevel: 0,
                            }))
                        }
                        if (m) {
                          var I = 2 === c ? vl : Sl,
                            N = v
                          N % 2 != 0 && N++
                          var P = 2 === this.minSphericalHarmonicsDegree ? 4 : 2,
                            L = 4 === P ? El : Nl,
                            D = s(P, N)
                          if (D.x * D.y <= qb) {
                            for (var O = new p(D.x * D.y * P), F = 0; F < r; F++)
                              for (var B = v * F, U = N * F, z = 0; z < v; z++) O[U + z] = m[B + z]
                            var V = new tp(O, D.x, D.y, L, I)
                            ;((V.needsUpdate = !0),
                              (this.material.uniforms.sphericalHarmonicsTexture.value = V),
                              (this.splatDataTextures.sphericalHarmonics = {
                                componentCount: v,
                                paddedComponentCount: N,
                                data: O,
                                textureCount: 1,
                                texture: V,
                                size: D,
                                compressionLevel: c,
                                elementsPerTexel: P,
                              }))
                          } else {
                            var H = v / 3
                            ;(N = H) % 2 != 0 && N++
                            for (
                              var W = (D = s(P, N)).x * D.y * P,
                                G = [
                                  this.material.uniforms.sphericalHarmonicsTextureR,
                                  this.material.uniforms.sphericalHarmonicsTextureG,
                                  this.material.uniforms.sphericalHarmonicsTextureB,
                                ],
                                j = [],
                                Q = [],
                                q = 0;
                              q < 3;
                              q++
                            ) {
                              var X = new p(W)
                              j.push(X)
                              for (var Y = 0; Y < r; Y++) {
                                var K = v * Y,
                                  Z = N * Y
                                if (H >= 3) {
                                  for (var J = 0; J < 3; J++) X[Z + J] = m[K + 3 * q + J]
                                  if (H >= 8)
                                    for (var $ = 0; $ < 5; $++) X[Z + 3 + $] = m[K + 9 + 5 * q + $]
                                }
                              }
                              var ee = new tp(X, D.x, D.y, L, I)
                              ;(Q.push(ee), (ee.needsUpdate = !0), (G[q].value = ee))
                            }
                            ;((this.material.uniforms.sphericalHarmonicsMultiTextureMode.value = 1),
                              (this.splatDataTextures.sphericalHarmonics = {
                                componentCount: v,
                                componentCountPerChannel: H,
                                paddedComponentCount: N,
                                data: j,
                                textureCount: 3,
                                textures: Q,
                                size: D,
                                compressionLevel: c,
                                elementsPerTexel: P,
                              }))
                          }
                          ;(this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(D),
                            (this.material.uniforms.sphericalHarmonics8BitMode.value =
                              2 === c ? 1 : 0))
                          for (var te = 0; te < this.scenes.length; te++) {
                            var ne = this.scenes[te].splatBuffer
                            ;((this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[
                              te
                            ] = ne.minSphericalHarmonicsCoeff),
                              (this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[
                                te
                              ] = ne.maxSphericalHarmonicsCoeff))
                          }
                          this.material.uniformsNeedUpdate = !0
                        }
                        for (
                          var re = s(1, 4), ie = new Uint32Array(re.x * re.y * 1), ae = 0;
                          ae < r;
                          ae++
                        )
                          ie[ae] = this.globalSplatIndexToSceneIndexMap[ae]
                        var oe = new tp(ie, re.x, re.y, Il, _l)
                        ;((oe.internalFormat = 'R32UI'),
                          (oe.needsUpdate = !0),
                          (this.material.uniforms.sceneIndexesTexture.value = oe),
                          this.material.uniforms.sceneIndexesTextureSize.value.copy(re),
                          (this.material.uniformsNeedUpdate = !0),
                          (this.splatDataTextures.sceneIndexes = {
                            data: ie,
                            texture: oe,
                            size: re,
                          }),
                          (this.material.uniforms.sceneCount.value = this.scenes.length),
                          (this.expressionBSNum =
                            this.flameModel.geometry.morphAttributes.position.length),
                          (this.material.uniforms.bsCount.value = this.expressionBSNum),
                          this.flameModel.skeleton.bones.forEach(function (t, n) {
                            'head' == t.name && (e.material.uniforms.headBoneIndex.value = n)
                          }),
                          this.buildModelTexture(this.flameModel),
                          this.buildBoneMatrixTexture(),
                          this.useFlameModel && this.buildBoneWeightTexture(this.flameModel))
                      },
                    },
                    {
                      key: 'buildBoneMatrixTexture',
                      value: function () {
                        if (this.bsWeight) {
                          var e = new Gc(4, 32),
                            t = new Float32Array(this.bonesMatrix),
                            n = new Uint32Array(e.x * e.y * 4)
                          if (
                            ((this.morphTargetDictionary = this.flameModel.morphTargetDictionary),
                            this.useFlameModel)
                          ) {
                            for (var r = 0; r < 16 * this.bonesNum; r++) n[r] = Nu(t[r])
                            this.flameModel &&
                              this.flameModel.skeleton &&
                              ((this.material.uniforms.boneTexture0.value =
                                this.flameModel.skeleton.boneTexture),
                              (this.material.uniforms.bindMatrix.value =
                                this.flameModel.bindMatrix),
                              (this.material.uniforms.bindMatrixInverse.value =
                                this.flameModel.bindMatrixInverse))
                          }
                          for (var i in this.bsWeight)
                            if (this.bsWeight.hasOwnProperty(i)) {
                              var a = this.bsWeight[i]
                              n[this.morphTargetDictionary[i] + 16 * this.bonesNum] = Nu(a)
                            }
                          var o = new tp(n, e.x, e.y, Ll, _l)
                          ;((o.internalFormat = 'RGBA32UI'),
                            (o.needsUpdate = !0),
                            (this.material.uniforms.boneTexture.value = o),
                            this.material.uniforms.boneTextureSize.value.copy(e),
                            (this.material.uniformsNeedUpdate = !0),
                            (this.splatDataTextures.boneMatrix = { data: n, texture: o, size: e }),
                            (this.splatDataTextures.baseData.boneMatrix = n))
                        }
                      },
                    },
                    {
                      key: 'updateBoneMatrixTexture',
                      value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                        if (this.bsWeight && this.morphTargetDictionary) {
                          if (1 == e)
                            for (
                              var t = new Float32Array(this.bonesMatrix), n = 0;
                              n < 16 * this.bonesNum;
                              n++
                            )
                              this.splatDataTextures.baseData.boneMatrix[n] = Nu(t[n])
                          for (var r in this.bsWeight)
                            if (this.bsWeight.hasOwnProperty(r)) {
                              var i = this.bsWeight[r],
                                a = this.morphTargetDictionary[r]
                              this.splatDataTextures.baseData.boneMatrix[a + 16 * this.bonesNum] =
                                Nu(i)
                            }
                          ;((this.splatDataTextures.boneMatrix.texture.data =
                            this.splatDataTextures.baseData.boneMatrix),
                            (this.splatDataTextures.boneMatrix.texture.needsUpdate = !0),
                            (this.material.uniforms.boneTexture.value =
                              this.splatDataTextures.boneMatrix.texture),
                            this.flameModel.skeleton &&
                              ((this.material.uniforms.boneTexture0.value =
                                this.flameModel.skeleton.boneTexture),
                              (this.material.uniforms.bindMatrix.value =
                                this.flameModel.bindMatrix),
                              (this.material.uniforms.bindMatrixInverse.value =
                                this.flameModel.bindMatrixInverse)),
                            (this.material.uniformsNeedUpdate = !0))
                        }
                      },
                    },
                    {
                      key: 'buildBoneWeightTexture',
                      value: function (e) {
                        for (
                          var t = e.geometry.attributes.position.array.length / 3,
                            n = new Gc(512, 512),
                            r = new Float32Array(n.x * n.y * 4),
                            i = new Uint32Array(n.x * n.y * 4),
                            a = 0;
                          a < t;
                          a++
                        )
                          ((r[8 * a + 0] = this.bonesWeight[a][0]),
                            (r[8 * a + 1] = this.bonesWeight[a][1]),
                            (r[8 * a + 2] = this.bonesWeight[a][2]),
                            (r[8 * a + 3] = this.bonesWeight[a][3]),
                            (r[8 * a + 4] = this.bonesWeight[a][4]),
                            (i[8 * a + 0] = Nu(this.bonesWeight[a][0])),
                            (i[8 * a + 1] = Nu(this.bonesWeight[a][1])),
                            (i[8 * a + 2] = Nu(this.bonesWeight[a][2])),
                            (i[8 * a + 3] = Nu(this.bonesWeight[a][3])),
                            (i[8 * a + 4] = Nu(this.bonesWeight[a][4])))
                        var o = new tp(i, n.x, n.y, Ll, _l)
                        ;((o.internalFormat = 'RGBA32UI'),
                          (o.needsUpdate = !0),
                          (this.material.uniforms.boneWeightTexture.value = o),
                          this.material.uniforms.boneWeightTextureSize.value.copy(n),
                          (this.material.uniformsNeedUpdate = !0),
                          (this.splatDataTextures.boneWeight = { data: i, texture: o, size: n }),
                          (this.splatDataTextures.baseData.boneWeight = i))
                      },
                    },
                    {
                      key: 'buildModelTexture',
                      value: function (e) {
                        var t = new Gc(4096, 2048),
                          n = e.geometry.attributes.position.array,
                          r = [],
                          i = n.length / 3,
                          a = e.geometry.morphAttributes.position.length
                        ;(Object.keys(e.morphTargetDictionary).forEach(function (t, n) {
                          var i = e.morphTargetDictionary[t],
                            a = e.geometry.morphAttributes.position[i]
                          r = r.concat(Array.from(a.array))
                        }),
                          (r = r.concat(Array.from(n))))
                        for (
                          var o = new Float32Array(t.x * t.y * 4),
                            s = new Uint32Array(t.x * t.y * 4),
                            u = 0;
                          u < i * (a + 1);
                          u++
                        )
                          ((o[4 * u + 0] = r[3 * u + 0]),
                            (o[4 * u + 1] = r[3 * u + 1]),
                            (o[4 * u + 2] = r[3 * u + 2]),
                            (s[4 * u + 0] = Nu(o[4 * u + 0])),
                            (s[4 * u + 1] = Nu(o[4 * u + 1])),
                            (s[4 * u + 2] = Nu(o[4 * u + 2])))
                        var l = new tp(s, t.x, t.y, Ll, _l)
                        ;((l.internalFormat = 'RGBA32UI'),
                          (l.needsUpdate = !0),
                          (this.material.uniforms.flameModelTexture.value = l),
                          this.material.uniforms.flameModelTextureSize.value.copy(t),
                          (this.material.uniformsNeedUpdate = !0),
                          (this.material.uniforms.gaussianSplatCount.value =
                            this.gaussianSplatCount),
                          (this.splatDataTextures.flameModel = { data: s, texture: l, size: t }),
                          (this.splatDataTextures.baseData.flameModelPos = o))
                      },
                    },
                    {
                      key: 'updateTetureAfterBSAndSkeleton',
                      value: function (e, n) {
                        var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                          i = new qd()
                        ;(this.getSceneTransform(0, i),
                          this.getScene(0).splatBuffer.fillSplatCenterArray(
                            this.morphedMesh,
                            this.splatDataTextures.baseData.centers,
                            i,
                            e,
                            n,
                            0
                          ))
                        var a = this.splatDataTextures.centerColors,
                          o = a.data,
                          s = a.texture
                        t.updateCenterColorsPaddedData(
                          e,
                          n,
                          this.splatDataTextures.baseData.centers,
                          this.splatDataTextures.baseData.colors,
                          o
                        )
                        var u = this.renderer ? this.renderer.properties.get(s) : null
                        ;(u && u.__webglTexture
                          ? this.updateDataTexture(o, a.texture, a.size, u, 4, 4, 4, e, n)
                          : (s.needsUpdate = !0),
                          this.updateBoneMatrixTexture(r))
                      },
                    },
                    {
                      key: 'updateBaseDataFromSplatBuffers',
                      value: function (e, t) {
                        var n = this.splatDataTextures.covariances,
                          r = n ? n.compressionLevel : void 0,
                          i = this.splatDataTextures.scaleRotations,
                          a = i ? i.compressionLevel : void 0,
                          o = this.splatDataTextures.sphericalHarmonics,
                          s = o ? o.compressionLevel : 0
                        this.fillSplatDataArrays(
                          this.splatDataTextures.baseData.covariances,
                          this.splatDataTextures.baseData.scales,
                          this.splatDataTextures.baseData.rotations,
                          this.splatDataTextures.baseData.centers,
                          this.splatDataTextures.baseData.colors,
                          this.splatDataTextures.baseData.sphericalHarmonics,
                          this.splatDataTextures.baseData.flameModelPos,
                          void 0,
                          r,
                          a,
                          s,
                          e,
                          t,
                          e
                        )
                      },
                    },
                    {
                      key: 'updateDataTexturesFromBaseData',
                      value: function (e, n) {
                        var r = this,
                          i = this.splatDataTextures.covariances,
                          a = i ? i.compressionLevel : void 0,
                          o = this.splatDataTextures.scaleRotations,
                          s = o ? o.compressionLevel : void 0,
                          u = this.splatDataTextures.sphericalHarmonics,
                          l = u ? u.compressionLevel : 0,
                          c = this.splatDataTextures.flameModel,
                          d = c.data,
                          h = c.texture,
                          f = this.renderer ? this.renderer.properties.get(h) : null
                        f && f.__webglTexture
                          ? this.updateDataTexture(d, c.texture, c.size, f, 4, 4, 3, e, n)
                          : (h.needsUpdate = !0)
                        var p = this.splatDataTextures.centerColors,
                          v = p.data,
                          m = p.texture
                        t.updateCenterColorsPaddedData(
                          e,
                          n,
                          this.splatDataTextures.baseData.centers,
                          this.splatDataTextures.baseData.colors,
                          v
                        )
                        var g = this.renderer ? this.renderer.properties.get(m) : null
                        if (
                          (g && g.__webglTexture
                            ? this.updateDataTexture(v, p.texture, p.size, g, 4, 4, 4, e, n)
                            : (m.needsUpdate = !0),
                          i)
                        ) {
                          var y = i.texture,
                            x = 6 * e,
                            _ = 6 * n
                          if (0 === a)
                            for (var b = x; b <= _; b++) {
                              var S = this.splatDataTextures.baseData.covariances[b]
                              i.data[b] = S
                            }
                          else
                            t.updatePaddedCompressedCovariancesTextureData(
                              this.splatDataTextures.baseData.covariances,
                              i.data,
                              e * i.elementsPerTexelAllocated,
                              x,
                              _
                            )
                          var w = this.renderer ? this.renderer.properties.get(y) : null
                          w && w.__webglTexture
                            ? 0 === a
                              ? this.updateDataTexture(
                                  i.data,
                                  i.texture,
                                  i.size,
                                  w,
                                  i.elementsPerTexelStored,
                                  6,
                                  4,
                                  e,
                                  n
                                )
                              : this.updateDataTexture(
                                  i.data,
                                  i.texture,
                                  i.size,
                                  w,
                                  i.elementsPerTexelAllocated,
                                  i.elementsPerTexelAllocated,
                                  2,
                                  e,
                                  n
                                )
                            : (y.needsUpdate = !0)
                        }
                        if (o) {
                          var A = o.data,
                            T = o.texture,
                            M = 0 === s ? 4 : 2
                          t.updateScaleRotationsPaddedData(
                            e,
                            n,
                            this.splatDataTextures.baseData.scales,
                            this.splatDataTextures.baseData.rotations,
                            A
                          )
                          var E = this.renderer ? this.renderer.properties.get(T) : null
                          E && E.__webglTexture
                            ? this.updateDataTexture(A, o.texture, o.size, E, 4, 6, M, e, n)
                            : (T.needsUpdate = !0)
                        }
                        var C = this.splatDataTextures.baseData.sphericalHarmonics
                        if (C) {
                          var k = 4
                          1 === l ? (k = 2) : 2 === l && (k = 1)
                          var R = function (t, i, a, o, s) {
                              var u = r.renderer ? r.renderer.properties.get(t) : null
                              u && u.__webglTexture
                                ? r.updateDataTexture(o, t, i, u, a, s, k, e, n)
                                : (t.needsUpdate = !0)
                            },
                            I = u.componentCount,
                            N = u.paddedComponentCount
                          if (1 === u.textureCount) {
                            for (var P = u.data, L = e; L <= n; L++)
                              for (var D = I * L, O = N * L, F = 0; F < I; F++) P[O + F] = C[D + F]
                            R(u.texture, u.size, u.elementsPerTexel, P, N)
                          } else
                            for (var B = u.componentCountPerChannel, U = 0; U < 3; U++) {
                              for (var z = u.data[U], V = e; V <= n; V++) {
                                var H = I * V,
                                  W = N * V
                                if (B >= 3) {
                                  for (var G = 0; G < 3; G++) z[W + G] = C[H + 3 * U + G]
                                  if (B >= 8)
                                    for (var j = 0; j < 5; j++) z[W + 3 + j] = C[H + 9 + 5 * U + j]
                                }
                              }
                              R(u.textures[U], u.size, u.elementsPerTexel, z, N)
                            }
                        }
                        for (
                          var Q = this.splatDataTextures.sceneIndexes,
                            q = Q.data,
                            X = this.lastBuildSplatCount;
                          X <= n;
                          X++
                        )
                          q[X] = this.globalSplatIndexToSceneIndexMap[X]
                        var Y = Q.texture,
                          K = this.renderer ? this.renderer.properties.get(Y) : null
                        K && K.__webglTexture
                          ? this.updateDataTexture(
                              q,
                              Q.texture,
                              Q.size,
                              K,
                              1,
                              1,
                              1,
                              this.lastBuildSplatCount,
                              n
                            )
                          : (Y.needsUpdate = !0)
                      },
                    },
                    {
                      key: 'getTargetCovarianceCompressionLevel',
                      value: function () {
                        return this.halfPrecisionCovariancesOnGPU ? 1 : 0
                      },
                    },
                    {
                      key: 'getTargetSphericalHarmonicsCompressionLevel',
                      value: function () {
                        return Math.max(1, this.getMaximumSplatBufferCompressionLevel())
                      },
                    },
                    {
                      key: 'getMaximumSplatBufferCompressionLevel',
                      value: function () {
                        for (var e, t = 0; t < this.scenes.length; t++) {
                          var n = this.getScene(t).splatBuffer
                          ;(0 === t || n.compressionLevel > e) && (e = n.compressionLevel)
                        }
                        return e
                      },
                    },
                    {
                      key: 'getMinimumSplatBufferCompressionLevel',
                      value: function () {
                        for (var e, t = 0; t < this.scenes.length; t++) {
                          var n = this.getScene(t).splatBuffer
                          ;(0 === t || n.compressionLevel < e) && (e = n.compressionLevel)
                        }
                        return e
                      },
                    },
                    {
                      key: 'updateDataTexture',
                      value: function (e, n, r, i, a, o, s, u, l) {
                        var c = this.renderer.getContext(),
                          d = t.computeTextureUpdateRegion(u, l, r.x, a, o),
                          h = d.dataEnd - d.dataStart,
                          f = new e.constructor(e.buffer, d.dataStart * s, h),
                          p = d.endRow - d.startRow + 1,
                          v = this.webGLUtils.convert(n.type),
                          m = this.webGLUtils.convert(n.format, n.colorSpace),
                          g = c.getParameter(c.TEXTURE_BINDING_2D)
                        ;(c.bindTexture(c.TEXTURE_2D, i.__webglTexture),
                          c.texSubImage2D(c.TEXTURE_2D, 0, 0, d.startRow, r.x, p, m, v, f),
                          c.bindTexture(c.TEXTURE_2D, g))
                      },
                    },
                    {
                      key: 'updateVisibleRegion',
                      value: function (e) {
                        var t = this.getSplatCount(!0),
                          n = new gd()
                        if (!e) {
                          var r = new gd()
                          ;(this.scenes.forEach(function (e) {
                            r.add(e.splatBuffer.sceneCenter)
                          }),
                            r.multiplyScalar(1 / this.scenes.length),
                            this.calculatedSceneCenter.copy(r),
                            this.material.uniforms.sceneCenter.value.copy(
                              this.calculatedSceneCenter
                            ),
                            (this.material.uniformsNeedUpdate = !0))
                        }
                        for (var i = e ? this.lastBuildSplatCount : 0; i < t; i++) {
                          this.getSplatCenter(this.morphedMesh, i, n, !0)
                          var a = n.sub(this.calculatedSceneCenter).length()
                          a > this.maxSplatDistanceFromSceneCenter &&
                            (this.maxSplatDistanceFromSceneCenter = a)
                        }
                        ;(this.maxSplatDistanceFromSceneCenter - this.visibleRegionBufferRadius >
                          1 &&
                          ((this.visibleRegionBufferRadius = this.maxSplatDistanceFromSceneCenter),
                          (this.visibleRegionRadius = Math.max(
                            this.visibleRegionBufferRadius - 1,
                            0
                          ))),
                          this.finalBuild &&
                            (this.visibleRegionRadius = this.visibleRegionBufferRadius =
                              this.maxSplatDistanceFromSceneCenter),
                          this.updateVisibleRegionFadeDistance())
                      },
                    },
                    {
                      key: 'updateVisibleRegionFadeDistance',
                      value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Vb,
                          t = 0.012 * this.sceneFadeInRateMultiplier,
                          n = 0.003 * this.sceneFadeInRateMultiplier,
                          r = this.finalBuild ? t : n,
                          i = e === Vb ? r : n
                        this.visibleRegionFadeStartRadius =
                          (this.visibleRegionRadius - this.visibleRegionFadeStartRadius) * i +
                          this.visibleRegionFadeStartRadius
                        var a =
                            (this.visibleRegionBufferRadius > 0
                              ? this.visibleRegionFadeStartRadius / this.visibleRegionBufferRadius
                              : 0) > 0.99,
                          o = a || e === Hb ? 1 : 0
                        ;((this.material.uniforms.visibleRegionFadeStartRadius.value =
                          this.visibleRegionFadeStartRadius),
                          (this.material.uniforms.visibleRegionRadius.value =
                            this.visibleRegionRadius),
                          (this.material.uniforms.firstRenderTime.value = this.firstRenderTime),
                          (this.material.uniforms.currentTime.value = performance.now()),
                          (this.material.uniforms.fadeInComplete.value = o),
                          (this.material.uniformsNeedUpdate = !0),
                          (this.visibleRegionChanging = !a))
                      },
                    },
                    {
                      key: 'updateRenderIndexes',
                      value: function (e, t) {
                        var n = this.geometry
                        ;(n.attributes.splatIndex.set(e),
                          (n.attributes.splatIndex.needsUpdate = !0),
                          t > 0 &&
                            -1 === this.firstRenderTime &&
                            (this.firstRenderTime = performance.now()),
                          (n.instanceCount = t),
                          n.setDrawRange(0, t))
                      },
                    },
                    {
                      key: 'updateTransforms',
                      value: function () {
                        for (var e = 0; e < this.scenes.length; e++) {
                          this.getScene(e).updateTransform(this.dynamicMode)
                        }
                      },
                    },
                    {
                      key: 'setSplatScale',
                      value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                        ;((this.splatScale = e),
                          (this.material.uniforms.splatScale.value = e),
                          (this.material.uniformsNeedUpdate = !0))
                      },
                    },
                    {
                      key: 'getSplatScale',
                      value: function () {
                        return this.splatScale
                      },
                    },
                    {
                      key: 'setPointCloudModeEnabled',
                      value: function (e) {
                        ;((this.pointCloudModeEnabled = e),
                          (this.material.uniforms.pointCloudModeEnabled.value = e ? 1 : 0),
                          (this.material.uniformsNeedUpdate = !0))
                      },
                    },
                    {
                      key: 'getPointCloudModeEnabled',
                      value: function () {
                        return this.pointCloudModeEnabled
                      },
                    },
                    {
                      key: 'getSplatDataTextures',
                      value: function () {
                        return this.splatDataTextures
                      },
                    },
                    {
                      key: 'getSplatCount',
                      value: function () {
                        return arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                          ? t.getTotalSplatCountForScenes(this.scenes)
                          : this.lastBuildSplatCount
                      },
                    },
                    {
                      key: 'getMaxSplatCount',
                      value: function () {
                        return t.getTotalMaxSplatCountForScenes(this.scenes)
                      },
                    },
                    {
                      key: 'disposeDistancesComputationGPUResources',
                      value: function () {
                        if (this.renderer) {
                          var e = this.renderer.getContext()
                          ;(this.distancesTransformFeedback.vao &&
                            (e.deleteVertexArray(this.distancesTransformFeedback.vao),
                            (this.distancesTransformFeedback.vao = null)),
                            this.distancesTransformFeedback.program &&
                              (e.deleteProgram(this.distancesTransformFeedback.program),
                              e.deleteShader(this.distancesTransformFeedback.vertexShader),
                              e.deleteShader(this.distancesTransformFeedback.fragmentShader),
                              (this.distancesTransformFeedback.program = null),
                              (this.distancesTransformFeedback.vertexShader = null),
                              (this.distancesTransformFeedback.fragmentShader = null)),
                            this.disposeDistancesComputationGPUBufferResources(),
                            this.distancesTransformFeedback.id &&
                              (e.deleteTransformFeedback(this.distancesTransformFeedback.id),
                              (this.distancesTransformFeedback.id = null)))
                        }
                      },
                    },
                    {
                      key: 'disposeDistancesComputationGPUBufferResources',
                      value: function () {
                        if (this.renderer) {
                          var e = this.renderer.getContext()
                          ;(this.distancesTransformFeedback.centersBuffer &&
                            ((this.distancesTransformFeedback.centersBuffer = null),
                            e.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),
                            this.distancesTransformFeedback.outDistancesBuffer &&
                              (e.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),
                              (this.distancesTransformFeedback.outDistancesBuffer = null)))
                        }
                      },
                    },
                    {
                      key: 'setRenderer',
                      value: function (e) {
                        if (e !== this.renderer) {
                          this.renderer = e
                          var t = this.renderer.getContext(),
                            n = new Ub(t),
                            r = new zb(t, n, {})
                          if (
                            (n.init(r),
                            (this.webGLUtils = new Dy(t, n)),
                            this.enableDistancesComputationOnGPU && this.getSplatCount() > 0)
                          ) {
                            this.setupDistancesComputationTransformFeedback()
                            var i = this.getDataForDistancesComputation(
                                0,
                                this.getSplatCount() - 1
                              ),
                              a = i.centers,
                              o = i.sceneIndexes
                            this.refreshGPUBuffersForDistancesComputation(a, o)
                          }
                        }
                      },
                    },
                    {
                      key: 'updateGPUCentersBufferForDistancesComputation',
                      value: function (e, t, n) {
                        if (this.renderer) {
                          var r = this.renderer.getContext(),
                            i = r.getParameter(r.VERTEX_ARRAY_BINDING)
                          r.bindVertexArray(this.distancesTransformFeedback.vao)
                          var a = this.integerBasedDistancesComputation
                              ? Uint32Array
                              : Float32Array,
                            o = 16 * n
                          if (
                            (r.bindBuffer(
                              r.ARRAY_BUFFER,
                              this.distancesTransformFeedback.centersBuffer
                            ),
                            e)
                          )
                            r.bufferSubData(r.ARRAY_BUFFER, o, t)
                          else {
                            var s = new a(16 * this.getMaxSplatCount())
                            ;(s.set(t), r.bufferData(r.ARRAY_BUFFER, s, r.STATIC_DRAW))
                          }
                          ;(r.bindBuffer(r.ARRAY_BUFFER, null), i && r.bindVertexArray(i))
                        }
                      },
                    },
                    {
                      key: 'updateGPUTransformIndexesBufferForDistancesComputation',
                      value: function (e, t, n) {
                        if (this.renderer && this.dynamicMode) {
                          var r = this.renderer.getContext(),
                            i = r.getParameter(r.VERTEX_ARRAY_BINDING)
                          r.bindVertexArray(this.distancesTransformFeedback.vao)
                          var a = 4 * n
                          if (
                            (r.bindBuffer(
                              r.ARRAY_BUFFER,
                              this.distancesTransformFeedback.sceneIndexesBuffer
                            ),
                            e)
                          )
                            r.bufferSubData(r.ARRAY_BUFFER, a, t)
                          else {
                            var o = new Uint32Array(4 * this.getMaxSplatCount())
                            ;(o.set(t), r.bufferData(r.ARRAY_BUFFER, o, r.STATIC_DRAW))
                          }
                          ;(r.bindBuffer(r.ARRAY_BUFFER, null), i && r.bindVertexArray(i))
                        }
                      },
                    },
                    {
                      key: 'getSceneIndexes',
                      value: function (e, t) {
                        var n
                        n = new Uint32Array(t - e + 1)
                        for (var r = e; r <= t; r++) n[r] = this.globalSplatIndexToSceneIndexMap[r]
                        return n
                      },
                    },
                    {
                      key: 'getLocalSplatParameters',
                      value: function (e, t, n) {
                        ;(null == n && (n = !this.dynamicMode),
                          (t.splatBuffer = this.getSplatBufferForSplat(e)),
                          (t.localIndex = this.getSplatLocalIndex(e)),
                          (t.sceneTransform = n ? this.getSceneTransformForSplat(e) : null))
                      },
                    },
                    {
                      key: 'fillSplatDataArrays',
                      value: function (e, t, n, r, i, a, o, s) {
                        var u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0,
                          l = arguments.length > 9 && void 0 !== arguments[9] ? arguments[9] : 0,
                          c = arguments.length > 10 && void 0 !== arguments[10] ? arguments[10] : 1,
                          d = arguments.length > 11 ? arguments[11] : void 0,
                          h = arguments.length > 12 ? arguments[12] : void 0,
                          f = arguments.length > 13 && void 0 !== arguments[13] ? arguments[13] : 0,
                          p = arguments.length > 14 ? arguments[14] : void 0,
                          v = new gd()
                        ;((v.x = void 0),
                          (v.y = void 0),
                          this.splatRenderMode === Eb ? (v.z = void 0) : (v.z = 1))
                        var m = new qd(),
                          g = 0,
                          y = this.scenes.length - 1
                        null != p && p >= 0 && p <= this.scenes.length && ((g = p), (y = p))
                        for (var x = g; x <= y; x++) {
                          null == s && (s = !this.dynamicMode)
                          var _ = this.getScene(x),
                            b = _.splatBuffer,
                            S = void 0
                          if (
                            (s && (this.getSceneTransform(x, m), (S = m)),
                            e && b.fillSplatCovarianceArray(e, S, d, h, f, u),
                            t || n)
                          ) {
                            if (!t || !n)
                              throw new Error(
                                'SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.'
                              )
                            b.fillSplatScaleRotationArray(t, n, S, d, h, f, l, v)
                          }
                          ;(r && b.fillSplatCenterArray(this.morphedMesh, r, S, d, h, f),
                            i && b.fillSplatColorArray(i, _.minimumAlpha, d, h, f),
                            a &&
                              b.fillSphericalHarmonicsArray(
                                a,
                                this.minSphericalHarmonicsDegree,
                                S,
                                d,
                                h,
                                f,
                                c
                              ),
                            (f += b.getSplatCount()))
                        }
                      },
                    },
                    {
                      key: 'getIntegerCenters',
                      value: function (e, t) {
                        var n,
                          r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                          i = t - e + 1,
                          a = new Float32Array(3 * i)
                        this.fillSplatDataArrays(
                          null,
                          null,
                          null,
                          a,
                          null,
                          null,
                          void 0,
                          void 0,
                          void 0,
                          void 0,
                          e
                        )
                        var o = r ? 4 : 3
                        n = new Int32Array(i * o)
                        for (var s = 0; s < i; s++) {
                          for (var u = 0; u < 3; u++) n[s * o + u] = Math.round(1e3 * a[3 * s + u])
                          r && (n[s * o + 3] = 1e3)
                        }
                        return n
                      },
                    },
                    {
                      key: 'getFloatCenters',
                      value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                          r = t - e + 1,
                          i = new Float32Array(3 * r)
                        if (
                          (this.fillSplatDataArrays(
                            null,
                            null,
                            null,
                            i,
                            null,
                            null,
                            void 0,
                            void 0,
                            void 0,
                            void 0,
                            e
                          ),
                          !n)
                        )
                          return i
                        for (var a = new Float32Array(4 * r), o = 0; o < r; o++) {
                          for (var s = 0; s < 3; s++) a[4 * o + s] = i[3 * o + s]
                          a[4 * o + 3] = 1
                        }
                        return a
                      },
                    },
                    {
                      key: 'getSceneTransform',
                      value: function (e, t) {
                        var n = this.getScene(e)
                        ;(n.updateTransform(this.dynamicMode), t.copy(n.transform))
                      },
                    },
                    {
                      key: 'getScene',
                      value: function (e) {
                        if (e < 0 || e >= this.scenes.length)
                          throw new Error('SplatMesh::getScene() -> Invalid scene index.')
                        return this.scenes[e]
                      },
                    },
                    {
                      key: 'getSceneCount',
                      value: function () {
                        return this.scenes.length
                      },
                    },
                    {
                      key: 'getSplatBufferForSplat',
                      value: function (e) {
                        return this.getScene(this.globalSplatIndexToSceneIndexMap[e]).splatBuffer
                      },
                    },
                    {
                      key: 'getSceneIndexForSplat',
                      value: function (e) {
                        return this.globalSplatIndexToSceneIndexMap[e]
                      },
                    },
                    {
                      key: 'getSceneTransformForSplat',
                      value: function (e) {
                        return this.getScene(this.globalSplatIndexToSceneIndexMap[e]).transform
                      },
                    },
                    {
                      key: 'getSplatLocalIndex',
                      value: function (e) {
                        return this.globalSplatIndexToLocalSplatIndexMap[e]
                      },
                    },
                    {
                      key: 'computeBoundingBox',
                      value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                          t = arguments.length > 1 ? arguments[1] : void 0,
                          n = this.getSplatCount()
                        if (null != t) {
                          if (t < 0 || t >= this.scenes.length)
                            throw new Error(
                              'SplatMesh::computeBoundingBox() -> Invalid scene index.'
                            )
                          n = this.scenes[t].splatBuffer.getSplatCount()
                        }
                        var r = new Float32Array(3 * n)
                        this.fillSplatDataArrays(
                          null,
                          null,
                          null,
                          r,
                          null,
                          null,
                          e,
                          void 0,
                          void 0,
                          void 0,
                          void 0,
                          t
                        )
                        for (var i = new gd(), a = new gd(), o = 0; o < n; o++) {
                          var s = 3 * o,
                            u = r[s],
                            l = r[s + 1],
                            c = r[s + 2]
                          ;((0 === o || u < i.x) && (i.x = u),
                            (0 === o || l < i.y) && (i.y = l),
                            (0 === o || c < i.z) && (i.z = c),
                            (0 === o || u > a.x) && (a.x = u),
                            (0 === o || l > a.y) && (a.y = l),
                            (0 === o || c > a.z) && (a.z = c))
                        }
                        return new _d(i, a)
                      },
                    },
                  ],
                  [
                    {
                      key: 'buildScenes',
                      value: function (e, n, r) {
                        var i = []
                        i.length = n.length
                        for (var a = 0; a < n.length; a++) {
                          var o = n[a],
                            s = r[a] || {},
                            u = s.position || [0, 0, 0],
                            l = s.rotation || [0, 0, 0, 1],
                            c = s.scale || [1, 1, 1],
                            d = new gd().fromArray(u),
                            h = new md().fromArray(l),
                            f = new gd().fromArray(c),
                            p = t.createScene(
                              o,
                              d,
                              h,
                              f,
                              s.splatAlphaRemovalThreshold || 1,
                              s.opacity,
                              s.visible
                            )
                          ;(e.add(p), (i[a] = p))
                        }
                        return i
                      },
                    },
                    {
                      key: 'createScene',
                      value: function (e, t, n, r, i) {
                        return new Lb(
                          e,
                          t,
                          n,
                          r,
                          i,
                          arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1,
                          !(arguments.length > 6 && void 0 !== arguments[6]) || arguments[6]
                        )
                      },
                    },
                    {
                      key: 'buildSplatIndexMaps',
                      value: function (e) {
                        for (var t = [], n = [], r = 0, i = 0; i < e.length; i++)
                          for (var a = e[i].getMaxSplatCount(), o = 0; o < a; o++)
                            ((t[r] = o), (n[r] = i), r++)
                        return { localSplatIndexMap: t, sceneIndexMap: n }
                      },
                    },
                    {
                      key: 'computeTextureUpdateRegion',
                      value: function (e, t, n, r, i) {
                        var a = i / r,
                          o = e * a,
                          s = Math.floor(o / n),
                          u = s * n * r,
                          l = t * a,
                          c = Math.floor(l / n)
                        return { dataStart: u, dataEnd: c * n * r + n * r, startRow: s, endRow: c }
                      },
                    },
                    {
                      key: 'updatePaddedCompressedCovariancesTextureData',
                      value: function (e, t, n, r, i) {
                        for (var a = new DataView(t.buffer), o = n, s = 0, u = r; u <= i; u += 2)
                          (a.setUint16(2 * o, e[u], !0),
                            a.setUint16(2 * o + 2, e[u + 1], !0),
                            (o += 2),
                            ++s >= 3 && ((o += 2), (s = 0)))
                      },
                    },
                    {
                      key: 'updateCenterColorsPaddedData',
                      value: function (e, t, n, r, i) {
                        for (var a = e; a <= t; a++) {
                          var o = 4 * a,
                            s = 3 * a,
                            u = 4 * a
                          ;((i[u] = Pu(r, o)),
                            (i[u + 1] = Nu(n[s])),
                            (i[u + 2] = Nu(n[s + 1])),
                            (i[u + 3] = Nu(n[s + 2])))
                        }
                      },
                    },
                    {
                      key: 'updateScaleRotationsPaddedData',
                      value: function (e, t, n, r, i) {
                        for (var a = e; a <= t; a++) {
                          var o = 3 * a,
                            s = 4 * a,
                            u = 6 * a
                          ;((i[u] = n[o]),
                            (i[u + 1] = n[o + 1]),
                            (i[u + 2] = n[o + 2]),
                            (i[u + 3] = r[s]),
                            (i[u + 4] = r[s + 1]),
                            (i[u + 5] = r[s + 2]))
                        }
                      },
                    },
                    {
                      key: 'getTotalSplatCountForScenes',
                      value: function (e) {
                        var t,
                          n = 0,
                          r = L(e)
                        try {
                          for (r.s(); !(t = r.n()).done; ) {
                            var i = t.value
                            i && i.splatBuffer && (n += i.splatBuffer.getSplatCount())
                          }
                        } catch (a) {
                          r.e(a)
                        } finally {
                          r.f()
                        }
                        return n
                      },
                    },
                    {
                      key: 'getTotalSplatCountForSplatBuffers',
                      value: function (e) {
                        var t,
                          n = 0,
                          r = L(e)
                        try {
                          for (r.s(); !(t = r.n()).done; ) {
                            n += t.value.getSplatCount()
                          }
                        } catch (i) {
                          r.e(i)
                        } finally {
                          r.f()
                        }
                        return n
                      },
                    },
                    {
                      key: 'getTotalMaxSplatCountForScenes',
                      value: function (e) {
                        var t,
                          n = 0,
                          r = L(e)
                        try {
                          for (r.s(); !(t = r.n()).done; ) {
                            var i = t.value
                            i && i.splatBuffer && (n += i.splatBuffer.getMaxSplatCount())
                          }
                        } catch (a) {
                          r.e(a)
                        } finally {
                          r.f()
                        }
                        return n
                      },
                    },
                    {
                      key: 'getTotalMaxSplatCountForSplatBuffers',
                      value: function (e) {
                        var t,
                          n = 0,
                          r = L(e)
                        try {
                          for (r.s(); !(t = r.n()).done; ) {
                            n += t.value.getMaxSplatCount()
                          }
                        } catch (i) {
                          r.e(i)
                        } finally {
                          r.f()
                        }
                        return n
                      },
                    },
                    {
                      key: 'getIntegerMatrixArray',
                      value: function (e) {
                        for (var t = e.elements, n = [], r = 0; r < 16; r++)
                          n[r] = Math.round(1e3 * t[r])
                        return n
                      },
                    },
                  ]
                )
              )
            })(_f),
            Yb =
              'AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws='
          function Kb(e) {
            var t, n, r, i, a, o, s, u, l, c, d, h, f, p, v, m, g, y, x, _
            e.onmessage = function (b) {
              if (b.data.centers)
                ((centers = b.data.centers),
                  (sceneIndexes = b.data.sceneIndexes),
                  i
                    ? new Int32Array(
                        n,
                        p + b.data.range.from * _.BytesPerInt * 4,
                        4 * b.data.range.count
                      ).set(new Int32Array(centers))
                    : new Float32Array(
                        n,
                        p + b.data.range.from * _.BytesPerFloat * 4,
                        4 * b.data.range.count
                      ).set(new Float32Array(centers)),
                  a &&
                    new Uint32Array(n, l + 4 * b.data.range.from, b.data.range.count).set(
                      new Uint32Array(sceneIndexes)
                    ),
                  (x = b.data.range.from + b.data.range.count))
              else if (b.data.sort) {
                var S,
                  w,
                  A,
                  T = Math.min(b.data.sort.splatRenderCount || 0, x),
                  M = Math.min(b.data.sort.splatSortCount || 0, x),
                  E = b.data.sort.usePrecomputedDistances
                ;(r ||
                  ((S = b.data.sort.indexesToSort),
                  (A = b.data.sort.transforms),
                  E && (w = b.data.sort.precomputedDistances)),
                  (function (x, b, S, w, A, T, M) {
                    var E = performance.now()
                    ;(r ||
                      (new Uint32Array(n, s, A.byteLength / _.BytesPerInt).set(A),
                      new Float32Array(n, c, M.byteLength / _.BytesPerFloat).set(M),
                      w &&
                        (i
                          ? new Int32Array(n, d, T.byteLength / _.BytesPerInt)
                          : new Float32Array(n, d, T.byteLength / _.BytesPerFloat)
                        ).set(T)),
                      m || (m = new Uint32Array(y)),
                      new Float32Array(n, v, 16).set(S),
                      new Uint32Array(n, f, y).set(m),
                      t.exports.sortIndexes(s, p, d, h, f, v, u, l, c, y, x, b, o, w, i, a))
                    var C = { sortDone: !0, splatSortCount: x, splatRenderCount: b, sortTime: 0 }
                    if (!r) {
                      var k = new Uint32Array(n, u, b)
                      ;((!g || g.length < b) && (g = new Uint32Array(b)),
                        g.set(k),
                        (C.sortedIndexes = g))
                    }
                    var R = performance.now()
                    ;((C.sortTime = R - E), e.postMessage(C))
                  })(M, T, b.data.sort.modelViewProj, E, S, w, A))
              } else if (b.data.init) {
                ;((_ = b.data.init.Constants),
                  (o = b.data.init.splatCount),
                  (r = b.data.init.useSharedMemory),
                  (i = b.data.init.integerBasedSort),
                  (a = b.data.init.dynamicMode),
                  (y = b.data.init.distanceMapRange),
                  (x = 0))
                var C = i ? 4 * _.BytesPerInt : 4 * _.BytesPerFloat,
                  k = new Uint8Array(b.data.init.sorterWasmBytes),
                  R = 16 * _.BytesPerFloat,
                  I = o * _.BytesPerInt,
                  N = o * C,
                  P = R,
                  L = i ? o * _.BytesPerInt : o * _.BytesPerFloat,
                  D = o * _.BytesPerInt,
                  O = o * _.BytesPerInt,
                  F = i ? y * _.BytesPerInt * 2 : y * _.BytesPerFloat * 2,
                  B = a ? o * _.BytesPerInt : 0,
                  U = a ? _.MaxScenes * R : 0,
                  z = 32 * _.MemoryPageSize,
                  V = I + N + P + L + D + F + O + B + U + z,
                  H = Math.floor(V / _.MemoryPageSize) + 1,
                  W = {
                    module: {},
                    env: { memory: new WebAssembly.Memory({ initial: H, maximum: H, shared: !0 }) },
                  }
                WebAssembly.compile(k)
                  .then(function (e) {
                    return WebAssembly.instantiate(e, W)
                  })
                  .then(function (i) {
                    ;((t = i),
                      (c =
                        (l =
                          (u = (f = (h = (d = (v = (p = (s = 0) + I) + N) + P) + L) + D) + F) + O) +
                        B),
                      (n = W.env.memory.buffer),
                      r
                        ? e.postMessage({
                            sortSetupPhase1Complete: !0,
                            indexesToSortBuffer: n,
                            indexesToSortOffset: s,
                            sortedIndexesBuffer: n,
                            sortedIndexesOffset: u,
                            precomputedDistancesBuffer: n,
                            precomputedDistancesOffset: d,
                            transformsBuffer: n,
                            transformsOffset: c,
                          })
                        : e.postMessage({ sortSetupPhase1Complete: !0 }))
                  })
              }
            }
          }
          function Zb(e, t, n, r, i) {
            var a =
                arguments.length > 5 && void 0 !== arguments[5]
                  ? arguments[5]
                  : Wy.DefaultSplatSortDistanceMapPrecision,
              o = new Worker(
                URL.createObjectURL(
                  new Blob(['(', Kb.toString(), ')(self)'], { type: 'application/javascript' })
                )
              ),
              s =
                'AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==',
              u = Wu() ? Gu() : null
            n || t
              ? n
                ? t ||
                  (u &&
                    u.major <= 16 &&
                    u.minor < 4 &&
                    (s =
                      'AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL'))
                : (s = Yb)
              : ((s = Yb),
                u &&
                  u.major <= 16 &&
                  u.minor < 4 &&
                  (s =
                    'AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws='))
            for (var l = atob(s), c = new Uint8Array(l.length), d = 0; d < l.length; d++)
              c[d] = l.charCodeAt(d)
            return (
              o.postMessage({
                init: {
                  sorterWasmBytes: c.buffer,
                  splatCount: e,
                  useSharedMemory: t,
                  integerBasedSort: r,
                  dynamicMode: i,
                  distanceMapRange: 1 << a,
                  Constants: {
                    BytesPerFloat: Wy.BytesPerFloat,
                    BytesPerInt: Wy.BytesPerInt,
                    MemoryPageSize: Wy.MemoryPageSize,
                    MaxScenes: Wy.MaxScenes,
                  },
                },
              }),
              o
            )
          }
          var Jb = 0,
            $b = 1,
            eS = 2,
            tS = (function () {
              function e() {
                w(this, e)
              }
              return T(e, null, [
                {
                  key: 'createButton',
                  value: function (t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                      r = document.createElement('button')
                    function i() {
                      ;((r.style.display = ''),
                        (r.style.cursor = 'auto'),
                        (r.style.left = 'calc(50% - 75px)'),
                        (r.style.width = '150px'),
                        (r.onmouseenter = null),
                        (r.onmouseleave = null),
                        (r.onclick = null))
                    }
                    function a(e) {
                      ;((e.style.position = 'absolute'),
                        (e.style.bottom = '20px'),
                        (e.style.padding = '12px 6px'),
                        (e.style.border = '1px solid #fff'),
                        (e.style.borderRadius = '4px'),
                        (e.style.background = 'rgba(0,0,0,0.1)'),
                        (e.style.color = '#fff'),
                        (e.style.font = 'normal 13px sans-serif'),
                        (e.style.textAlign = 'center'),
                        (e.style.opacity = '0.5'),
                        (e.style.outline = 'none'),
                        (e.style.zIndex = '999'))
                    }
                    if ('xr' in navigator)
                      return (
                        (r.id = 'VRButton'),
                        (r.style.display = 'none'),
                        a(r),
                        navigator.xr
                          .isSessionSupported('immersive-vr')
                          .then(function (a) {
                            ;(a
                              ? (function () {
                                  var e = null
                                  function i(e) {
                                    return a.apply(this, arguments)
                                  }
                                  function a() {
                                    return (a = v(
                                      h().m(function n(i) {
                                        return h().w(function (n) {
                                          for (;;)
                                            switch (n.n) {
                                              case 0:
                                                return (
                                                  i.addEventListener('end', o),
                                                  (n.n = 1),
                                                  t.xr.setSession(i)
                                                )
                                              case 1:
                                                ;((r.textContent = 'EXIT VR'), (e = i))
                                              case 2:
                                                return n.a(2)
                                            }
                                        }, n)
                                      })
                                    )).apply(this, arguments)
                                  }
                                  function o() {
                                    ;(e.removeEventListener('end', o),
                                      (r.textContent = 'ENTER VR'),
                                      (e = null))
                                  }
                                  ;((r.style.display = ''),
                                    (r.style.cursor = 'pointer'),
                                    (r.style.left = 'calc(50% - 50px)'),
                                    (r.style.width = '100px'),
                                    (r.textContent = 'ENTER VR'))
                                  var u = s(
                                    s({}, n),
                                    {},
                                    {
                                      optionalFeatures: [
                                        'local-floor',
                                        'bounded-floor',
                                        'layers',
                                      ].concat(I(n.optionalFeatures || [])),
                                    }
                                  )
                                  ;((r.onmouseenter = function () {
                                    r.style.opacity = '1.0'
                                  }),
                                    (r.onmouseleave = function () {
                                      r.style.opacity = '0.5'
                                    }),
                                    (r.onclick = function () {
                                      null === e
                                        ? navigator.xr.requestSession('immersive-vr', u).then(i)
                                        : (e.end(),
                                          void 0 !== navigator.xr.offerSession &&
                                            navigator.xr
                                              .offerSession('immersive-vr', u)
                                              .then(i)
                                              .catch(function (e) {
                                                console.warn(e)
                                              }))
                                    }),
                                    void 0 !== navigator.xr.offerSession &&
                                      navigator.xr
                                        .offerSession('immersive-vr', u)
                                        .then(i)
                                        .catch(function (e) {
                                          console.warn(e)
                                        }))
                                })()
                              : (i(), (r.textContent = 'VR NOT SUPPORTED')),
                              a && e.xrSessionIsGranted && r.click())
                          })
                          .catch(function (e) {
                            ;(i(),
                              console.warn(
                                'Exception when trying to call xr.isSessionSupported',
                                e
                              ),
                              (r.textContent = 'VR NOT ALLOWED'))
                          }),
                        r
                      )
                    var o = document.createElement('a')
                    return (
                      !1 === window.isSecureContext
                        ? ((o.href = document.location.href.replace(/^http:/, 'https:')),
                          (o.innerHTML = 'WEBXR NEEDS HTTPS'))
                        : ((o.href = 'https://immersiveweb.dev/'),
                          (o.innerHTML = 'WEBXR NOT AVAILABLE')),
                      (o.style.left = 'calc(50% - 90px)'),
                      (o.style.width = '180px'),
                      (o.style.textDecoration = 'none'),
                      a(o),
                      o
                    )
                  },
                },
                {
                  key: 'registerSessionGrantedListener',
                  value: function () {
                    if ('undefined' != typeof navigator && 'xr' in navigator) {
                      if (/WebXRViewer\//i.test(navigator.userAgent)) return
                      navigator.xr.addEventListener('sessiongranted', function () {
                        e.xrSessionIsGranted = !0
                      })
                    }
                  },
                },
              ])
            })()
          ;((tS.xrSessionIsGranted = !1), tS.registerSessionGrantedListener())
          var nS = (function () {
              return T(
                function e() {
                  w(this, e)
                },
                null,
                [
                  {
                    key: 'createButton',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = document.createElement('button')
                      function r() {
                        ;((n.style.display = ''),
                          (n.style.cursor = 'auto'),
                          (n.style.left = 'calc(50% - 75px)'),
                          (n.style.width = '150px'),
                          (n.onmouseenter = null),
                          (n.onmouseleave = null),
                          (n.onclick = null))
                      }
                      function i(e) {
                        ;((e.style.position = 'absolute'),
                          (e.style.bottom = '20px'),
                          (e.style.padding = '12px 6px'),
                          (e.style.border = '1px solid #fff'),
                          (e.style.borderRadius = '4px'),
                          (e.style.background = 'rgba(0,0,0,0.1)'),
                          (e.style.color = '#fff'),
                          (e.style.font = 'normal 13px sans-serif'),
                          (e.style.textAlign = 'center'),
                          (e.style.opacity = '0.5'),
                          (e.style.outline = 'none'),
                          (e.style.zIndex = '999'))
                      }
                      if ('xr' in navigator)
                        return (
                          (n.id = 'ARButton'),
                          (n.style.display = 'none'),
                          i(n),
                          navigator.xr
                            .isSessionSupported('immersive-ar')
                            .then(function (i) {
                              i
                                ? (function () {
                                    if (void 0 === t.domOverlay) {
                                      var r = document.createElement('div')
                                      ;((r.style.display = 'none'), document.body.appendChild(r))
                                      var i = document.createElementNS(
                                        'http://www.w3.org/2000/svg',
                                        'svg'
                                      )
                                      ;(i.setAttribute('width', 38),
                                        i.setAttribute('height', 38),
                                        (i.style.position = 'absolute'),
                                        (i.style.right = '20px'),
                                        (i.style.top = '20px'),
                                        i.addEventListener('click', function () {
                                          o.end()
                                        }),
                                        r.appendChild(i))
                                      var a = document.createElementNS(
                                        'http://www.w3.org/2000/svg',
                                        'path'
                                      )
                                      ;(a.setAttribute('d', 'M 12,12 L 28,28 M 28,12 12,28'),
                                        a.setAttribute('stroke', '#fff'),
                                        a.setAttribute('stroke-width', 2),
                                        i.appendChild(a),
                                        void 0 === t.optionalFeatures && (t.optionalFeatures = []),
                                        t.optionalFeatures.push('dom-overlay'),
                                        (t.domOverlay = { root: r }))
                                    }
                                    var o = null
                                    function s(e) {
                                      return u.apply(this, arguments)
                                    }
                                    function u() {
                                      return (u = v(
                                        h().m(function r(i) {
                                          return h().w(function (r) {
                                            for (;;)
                                              switch (r.n) {
                                                case 0:
                                                  return (
                                                    i.addEventListener('end', l),
                                                    e.xr.setReferenceSpaceType('local'),
                                                    (r.n = 1),
                                                    e.xr.setSession(i)
                                                  )
                                                case 1:
                                                  ;((n.textContent = 'STOP AR'),
                                                    (t.domOverlay.root.style.display = ''),
                                                    (o = i))
                                                case 2:
                                                  return r.a(2)
                                              }
                                          }, r)
                                        })
                                      )).apply(this, arguments)
                                    }
                                    function l() {
                                      ;(o.removeEventListener('end', l),
                                        (n.textContent = 'START AR'),
                                        (t.domOverlay.root.style.display = 'none'),
                                        (o = null))
                                    }
                                    ;((n.style.display = ''),
                                      (n.style.cursor = 'pointer'),
                                      (n.style.left = 'calc(50% - 50px)'),
                                      (n.style.width = '100px'),
                                      (n.textContent = 'START AR'),
                                      (n.onmouseenter = function () {
                                        n.style.opacity = '1.0'
                                      }),
                                      (n.onmouseleave = function () {
                                        n.style.opacity = '0.5'
                                      }),
                                      (n.onclick = function () {
                                        null === o
                                          ? navigator.xr.requestSession('immersive-ar', t).then(s)
                                          : (o.end(),
                                            void 0 !== navigator.xr.offerSession &&
                                              navigator.xr
                                                .offerSession('immersive-ar', t)
                                                .then(s)
                                                .catch(function (e) {
                                                  console.warn(e)
                                                }))
                                      }),
                                      void 0 !== navigator.xr.offerSession &&
                                        navigator.xr
                                          .offerSession('immersive-ar', t)
                                          .then(s)
                                          .catch(function (e) {
                                            console.warn(e)
                                          }))
                                  })()
                                : (r(), (n.textContent = 'AR NOT SUPPORTED'))
                            })
                            .catch(function (e) {
                              ;(r(),
                                console.warn(
                                  'Exception when trying to call xr.isSessionSupported',
                                  e
                                ),
                                (n.textContent = 'AR NOT ALLOWED'))
                            }),
                          n
                        )
                      var a = document.createElement('a')
                      return (
                        !1 === window.isSecureContext
                          ? ((a.href = document.location.href.replace(/^http:/, 'https:')),
                            (a.innerHTML = 'WEBXR NEEDS HTTPS'))
                          : ((a.href = 'https://immersiveweb.dev/'),
                            (a.innerHTML = 'WEBXR NOT AVAILABLE')),
                        (a.style.left = 'calc(50% - 90px)'),
                        (a.style.width = '180px'),
                        (a.style.textDecoration = 'none'),
                        i(a),
                        a
                      )
                    },
                  },
                ]
              )
            })(),
            rS = 0,
            iS = 2,
            aS = [
              'alphaMap',
              'alphaTest',
              'anisotropy',
              'anisotropyMap',
              'anisotropyRotation',
              'aoMap',
              'attenuationColor',
              'attenuationDistance',
              'bumpMap',
              'clearcoat',
              'clearcoatMap',
              'clearcoatNormalMap',
              'clearcoatNormalScale',
              'clearcoatRoughness',
              'color',
              'dispersion',
              'displacementMap',
              'emissive',
              'emissiveMap',
              'envMap',
              'gradientMap',
              'ior',
              'iridescence',
              'iridescenceIOR',
              'iridescenceMap',
              'iridescenceThicknessMap',
              'lightMap',
              'map',
              'matcap',
              'metalness',
              'metalnessMap',
              'normalMap',
              'normalScale',
              'opacity',
              'roughness',
              'roughnessMap',
              'sheen',
              'sheenColor',
              'sheenColorMap',
              'sheenRoughnessMap',
              'shininess',
              'specular',
              'specularColor',
              'specularColorMap',
              'specularIntensity',
              'specularIntensityMap',
              'specularMap',
              'thickness',
              'transmission',
              'transmissionMap',
            ],
            oS = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.renderObjects = new WeakMap()),
                    (this.hasNode = this.containsNode(t)),
                    (this.hasAnimation = !0 === t.object.isSkinnedMesh),
                    (this.refreshUniforms = aS),
                    (this.renderId = 0))
                },
                [
                  {
                    key: 'firstInitialization',
                    value: function (e) {
                      return !1 === this.renderObjects.has(e) && (this.getRenderObjectData(e), !0)
                    },
                  },
                  {
                    key: 'getRenderObjectData',
                    value: function (e) {
                      var t = this.renderObjects.get(e)
                      if (void 0 === t) {
                        var n = e.geometry,
                          r = e.material,
                          i = e.object
                        if (
                          ((t = {
                            material: this.getMaterialData(r),
                            geometry: {
                              id: n.id,
                              attributes: this.getAttributesData(n.attributes),
                              indexVersion: n.index ? n.index.version : null,
                              drawRange: { start: n.drawRange.start, count: n.drawRange.count },
                            },
                            worldMatrix: i.matrixWorld.clone(),
                          }),
                          i.center && (t.center = i.center.clone()),
                          i.morphTargetInfluences &&
                            (t.morphTargetInfluences = i.morphTargetInfluences.slice()),
                          null !== e.bundle && (t.version = e.bundle.version),
                          t.material.transmission > 0)
                        ) {
                          var a = e.context,
                            o = a.width,
                            s = a.height
                          ;((t.bufferWidth = o), (t.bufferHeight = s))
                        }
                        this.renderObjects.set(e, t)
                      }
                      return t
                    },
                  },
                  {
                    key: 'getAttributesData',
                    value: function (e) {
                      var t = {}
                      for (var n in e) {
                        var r = e[n]
                        t[n] = { version: r.version }
                      }
                      return t
                    },
                  },
                  {
                    key: 'containsNode',
                    value: function (e) {
                      var t = e.material
                      for (var n in t) if (t[n] && t[n].isNode) return !0
                      return (
                        null !== e.renderer.nodes.modelViewMatrix ||
                        null !== e.renderer.nodes.modelNormalViewMatrix
                      )
                    },
                  },
                  {
                    key: 'getMaterialData',
                    value: function (e) {
                      var t,
                        n = {},
                        r = L(this.refreshUniforms)
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          var i = t.value,
                            a = e[i]
                          null != a &&
                            ('object' === P(a) && void 0 !== a.clone
                              ? !0 === a.isTexture
                                ? (n[i] = { id: a.id, version: a.version })
                                : (n[i] = a.clone())
                              : (n[i] = a))
                        }
                      } catch (o) {
                        r.e(o)
                      } finally {
                        r.f()
                      }
                      return n
                    },
                  },
                  {
                    key: 'equals',
                    value: function (e) {
                      var t = e.object,
                        n = e.material,
                        r = e.geometry,
                        i = this.getRenderObjectData(e)
                      if (!0 !== i.worldMatrix.equals(t.matrixWorld))
                        return (i.worldMatrix.copy(t.matrixWorld), !1)
                      var a = i.material
                      for (var o in a) {
                        var s = a[o],
                          u = n[o]
                        if (void 0 !== s.equals) {
                          if (!1 === s.equals(u)) return (s.copy(u), !1)
                        } else if (!0 === u.isTexture) {
                          if (s.id !== u.id || s.version !== u.version)
                            return ((s.id = u.id), (s.version = u.version), !1)
                        } else if (s !== u) return ((a[o] = u), !1)
                      }
                      if (a.transmission > 0) {
                        var l = e.context,
                          c = l.width,
                          d = l.height
                        if (i.bufferWidth !== c || i.bufferHeight !== d)
                          return ((i.bufferWidth = c), (i.bufferHeight = d), !1)
                      }
                      var h = i.geometry,
                        f = r.attributes,
                        p = h.attributes,
                        v = Object.keys(p),
                        m = Object.keys(f)
                      if (h.id !== r.id) return ((h.id = r.id), !1)
                      if (v.length !== m.length)
                        return ((i.geometry.attributes = this.getAttributesData(f)), !1)
                      for (var g = 0, y = v; g < y.length; g++) {
                        var x = y[g],
                          _ = p[x],
                          b = f[x]
                        if (void 0 === b) return (delete p[x], !1)
                        if (_.version !== b.version) return ((_.version = b.version), !1)
                      }
                      var S = r.index,
                        w = h.indexVersion,
                        A = S ? S.version : null
                      if (w !== A) return ((h.indexVersion = A), !1)
                      if (
                        h.drawRange.start !== r.drawRange.start ||
                        h.drawRange.count !== r.drawRange.count
                      )
                        return (
                          (h.drawRange.start = r.drawRange.start),
                          (h.drawRange.count = r.drawRange.count),
                          !1
                        )
                      if (i.morphTargetInfluences) {
                        for (var T = !1, M = 0; M < i.morphTargetInfluences.length; M++)
                          i.morphTargetInfluences[M] !== t.morphTargetInfluences[M] && (T = !0)
                        if (T) return !0
                      }
                      return i.center && !1 === i.center.equals(t.center)
                        ? (i.center.copy(t.center), !0)
                        : (null !== e.bundle && (i.version = e.bundle.version), !0)
                    },
                  },
                  {
                    key: 'needsRefresh',
                    value: function (e, t) {
                      if (this.hasNode || this.hasAnimation || this.firstInitialization(e))
                        return !0
                      var n = t.renderId
                      if (this.renderId !== n) return ((this.renderId = n), !0)
                      var r = !0 === e.object.static,
                        i =
                          null !== e.bundle &&
                          !0 === e.bundle.static &&
                          this.getRenderObjectData(e).version === e.bundle.version
                      return !r && !i && !0 !== this.equals(e)
                    },
                  },
                ]
              )
            })()
          function sS(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              n = 3735928559 ^ t,
              r = 1103547991 ^ t
            if (e instanceof Array)
              for (var i, a = 0; a < e.length; a++)
                ((i = e[a]), (n = Math.imul(n ^ i, 2654435761)), (r = Math.imul(r ^ i, 1597334677)))
            else
              for (var o, s = 0; s < e.length; s++)
                ((o = e.charCodeAt(s)),
                  (n = Math.imul(n ^ o, 2654435761)),
                  (r = Math.imul(r ^ o, 1597334677)))
            return (
              (n = Math.imul(n ^ (n >>> 16), 2246822507)),
              (n ^= Math.imul(r ^ (r >>> 13), 3266489909)),
              (r = Math.imul(r ^ (r >>> 16), 2246822507)),
              4294967296 * (2097151 & (r ^= Math.imul(n ^ (n >>> 13), 3266489909))) + (n >>> 0)
            )
          }
          var uS = function (e) {
              return sS(e)
            },
            lS = function () {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
              return sS(t)
            }
          function cS(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              n = []
            !0 === e.isNode && (n.push(e.id), (e = e.getSelf()))
            var r,
              i = L(dS(e))
            try {
              for (i.s(); !(r = i.n()).done; ) {
                var a = r.value,
                  o = a.property,
                  s = a.childNode
                n.push(sS(o.slice(0, -4)), s.getCacheKey(t))
              }
            } catch (u) {
              i.e(u)
            } finally {
              i.f()
            }
            return sS(n)
          }
          function dS(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
            return h().m(function r() {
              var i, a, o, s, u, l, c, d, f, p
              return h().w(function (r) {
                for (;;)
                  switch (r.n) {
                    case 0:
                      c = t(e)
                    case 1:
                      if ((d = c()).done) {
                        r.n = 12
                        break
                      }
                      if (!0 !== (i = d.value).startsWith('_')) {
                        r.n = 2
                        break
                      }
                      return r.a(3, 1)
                    case 2:
                      if (((a = e[i]), !0 !== Array.isArray(a))) {
                        r.n = 6
                        break
                      }
                      o = 0
                    case 3:
                      if (!(o < a.length)) {
                        r.n = 5
                        break
                      }
                      if (
                        !(s = a[o]) ||
                        !(!0 === s.isNode || (n && 'function' == typeof s.toJSON))
                      ) {
                        r.n = 4
                        break
                      }
                      return ((r.n = 4), { property: i, index: o, childNode: s })
                    case 4:
                      ;(o++, (r.n = 3))
                      break
                    case 5:
                      r.n = 11
                      break
                    case 6:
                      if (!a || !0 !== a.isNode) {
                        r.n = 8
                        break
                      }
                      return ((r.n = 7), { property: i, childNode: a })
                    case 7:
                      r.n = 11
                      break
                    case 8:
                      if ('object' !== P(a)) {
                        r.n = 11
                        break
                      }
                      f = t(a)
                    case 9:
                      if ((p = f()).done) {
                        r.n = 11
                        break
                      }
                      if (
                        ((u = p.value),
                        !(l = a[u]) || !(!0 === l.isNode || (n && 'function' == typeof l.toJSON)))
                      ) {
                        r.n = 10
                        break
                      }
                      return ((r.n = 10), { property: i, index: u, childNode: l })
                    case 10:
                      r.n = 9
                      break
                    case 11:
                      r.n = 1
                      break
                    case 12:
                      return r.a(2)
                  }
              }, r)
            })()
          }
          var hS = new Map([
              [1, 'float'],
              [2, 'vec2'],
              [3, 'vec3'],
              [4, 'vec4'],
              [9, 'mat3'],
              [16, 'mat4'],
            ]),
            fS = new WeakMap()
          function pS(e) {
            if (/[iu]?vec\d/.test(e))
              return e.startsWith('ivec')
                ? Int32Array
                : e.startsWith('uvec')
                  ? Uint32Array
                  : Float32Array
            if (/mat\d/.test(e)) return Float32Array
            if (/float/.test(e)) return Float32Array
            if (/uint/.test(e)) return Uint32Array
            if (/int/.test(e)) return Int32Array
            throw new Error('THREE.NodeUtils: Unsupported type: '.concat(e))
          }
          function vS(e) {
            return /float|int|uint/.test(e)
              ? 1
              : /vec2/.test(e)
                ? 2
                : /vec3/.test(e)
                  ? 3
                  : /vec4/.test(e) || /mat2/.test(e)
                    ? 4
                    : /mat3/.test(e)
                      ? 9
                      : /mat4/.test(e)
                        ? 16
                        : void console.error('THREE.TSL: Unsupported type:', e)
          }
          function mS(e) {
            if (null == e) return null
            var t = P(e)
            return !0 === e.isNode
              ? 'node'
              : 'number' === t
                ? 'float'
                : 'boolean' === t
                  ? 'bool'
                  : 'string' === t
                    ? 'string'
                    : 'function' === t
                      ? 'shader'
                      : !0 === e.isVector2
                        ? 'vec2'
                        : !0 === e.isVector3
                          ? 'vec3'
                          : !0 === e.isVector4
                            ? 'vec4'
                            : !0 === e.isMatrix2
                              ? 'mat2'
                              : !0 === e.isMatrix3
                                ? 'mat3'
                                : !0 === e.isMatrix4
                                  ? 'mat4'
                                  : !0 === e.isColor
                                    ? 'color'
                                    : e instanceof ArrayBuffer
                                      ? 'ArrayBuffer'
                                      : null
          }
          function gS(e) {
            for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
              n[r - 1] = arguments[r]
            var i = e ? e.slice(-4) : void 0
            return (
              1 === n.length &&
                ('vec2' === i
                  ? (n = [n[0], n[0]])
                  : 'vec3' === i
                    ? (n = [n[0], n[0], n[0]])
                    : 'vec4' === i && (n = [n[0], n[0], n[0], n[0]])),
              'color' === e
                ? g(Uh, I(n))
                : 'vec2' === i
                  ? g(Gc, I(n))
                  : 'vec3' === i
                    ? g(gd, I(n))
                    : 'vec4' === i
                      ? g(dd, I(n))
                      : 'mat2' === i
                        ? g(om, I(n))
                        : 'mat3' === i
                          ? g(jc, I(n))
                          : 'mat4' === i
                            ? g(qd, I(n))
                            : 'bool' === e
                              ? n[0] || !1
                              : 'float' === e || 'int' === e || 'uint' === e
                                ? n[0] || 0
                                : 'string' === e
                                  ? n[0] || ''
                                  : 'ArrayBuffer' === e
                                    ? _S(n[0])
                                    : null
            )
          }
          function yS(e) {
            var t = fS.get(e)
            return (void 0 === t && ((t = {}), fS.set(e, t)), t)
          }
          function xS(e) {
            for (var t = '', n = new Uint8Array(e), r = 0; r < n.length; r++)
              t += String.fromCharCode(n[r])
            return btoa(t)
          }
          function _S(e) {
            return Uint8Array.from(atob(e), function (e) {
              return e.charCodeAt(0)
            }).buffer
          }
          var bS = { VERTEX: 'vertex', FRAGMENT: 'fragment' },
            SS = { NONE: 'none', FRAME: 'frame', RENDER: 'render', OBJECT: 'object' },
            wS = { READ_ONLY: 'readOnly', WRITE_ONLY: 'writeOnly', READ_WRITE: 'readWrite' },
            AS = ['fragment', 'vertex'],
            TS = [].concat(AS, ['compute']),
            MS = ['x', 'y', 'z', 'w'],
            ES = 0,
            CS = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (
                  w(this, t),
                  ((e = y(this, t)).nodeType = n),
                  (e.updateType = SS.NONE),
                  (e.updateBeforeType = SS.NONE),
                  (e.updateAfterType = SS.NONE),
                  (e.uuid = Wc.generateUUID()),
                  (e.version = 0),
                  (e.global = !1),
                  (e.isNode = !0),
                  (e._cacheKey = null),
                  (e._cacheKeyVersion = 0),
                  Object.defineProperty(e, 'id', { value: ES++ }),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'needsUpdate',
                      set: function (e) {
                        !0 === e && this.version++
                      },
                    },
                    {
                      key: 'type',
                      get: function () {
                        return this.constructor.type
                      },
                    },
                    {
                      key: 'onUpdate',
                      value: function (e, t) {
                        return ((this.updateType = t), (this.update = e.bind(this.getSelf())), this)
                      },
                    },
                    {
                      key: 'onFrameUpdate',
                      value: function (e) {
                        return this.onUpdate(e, SS.FRAME)
                      },
                    },
                    {
                      key: 'onRenderUpdate',
                      value: function (e) {
                        return this.onUpdate(e, SS.RENDER)
                      },
                    },
                    {
                      key: 'onObjectUpdate',
                      value: function (e) {
                        return this.onUpdate(e, SS.OBJECT)
                      },
                    },
                    {
                      key: 'onReference',
                      value: function (e) {
                        return ((this.updateReference = e.bind(this.getSelf())), this)
                      },
                    },
                    {
                      key: 'getSelf',
                      value: function () {
                        return this.self || this
                      },
                    },
                    {
                      key: 'updateReference',
                      value: function () {
                        return this
                      },
                    },
                    {
                      key: 'isGlobal',
                      value: function () {
                        return this.global
                      },
                    },
                    {
                      key: 'getChildren',
                      value: h().m(function e() {
                        var t, n, r, i
                        return h().w(
                          function (e) {
                            for (;;)
                              switch ((e.p = e.n)) {
                                case 0:
                                  ;((t = L(dS(this))), (e.p = 1), t.s())
                                case 2:
                                  if ((n = t.n()).done) {
                                    e.n = 4
                                    break
                                  }
                                  return ((r = n.value.childNode), (e.n = 3), r)
                                case 3:
                                  e.n = 2
                                  break
                                case 4:
                                  e.n = 6
                                  break
                                case 5:
                                  ;((e.p = 5), (i = e.v), t.e(i))
                                case 6:
                                  return ((e.p = 6), t.f(), e.f(6))
                                case 7:
                                  return e.a(2)
                              }
                          },
                          e,
                          this,
                          [[1, 5, 6, 7]]
                        )
                      }),
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        this.dispatchEvent({ type: 'dispose' })
                      },
                    },
                    {
                      key: 'traverse',
                      value: function (e) {
                        e(this)
                        var t,
                          n = L(this.getChildren())
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            t.value.traverse(e)
                          }
                        } catch (r) {
                          n.e(r)
                        } finally {
                          n.f()
                        }
                      },
                    },
                    {
                      key: 'getCacheKey',
                      value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                        return (
                          (!0 !== (e = e || this.version !== this._cacheKeyVersion) &&
                            null !== this._cacheKey) ||
                            ((this._cacheKey = lS(cS(this, e), this.customCacheKey())),
                            (this._cacheKeyVersion = this.version)),
                          this._cacheKey
                        )
                      },
                    },
                    {
                      key: 'customCacheKey',
                      value: function () {
                        return 0
                      },
                    },
                    {
                      key: 'getScope',
                      value: function () {
                        return this
                      },
                    },
                    {
                      key: 'getHash',
                      value: function () {
                        return this.uuid
                      },
                    },
                    {
                      key: 'getUpdateType',
                      value: function () {
                        return this.updateType
                      },
                    },
                    {
                      key: 'getUpdateBeforeType',
                      value: function () {
                        return this.updateBeforeType
                      },
                    },
                    {
                      key: 'getUpdateAfterType',
                      value: function () {
                        return this.updateAfterType
                      },
                    },
                    {
                      key: 'getElementType',
                      value: function (e) {
                        var t = this.getNodeType(e)
                        return e.getElementType(t)
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function () {
                        return 'void'
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = e.getNodeProperties(this)
                        return t.outputNode ? t.outputNode.getNodeType(e) : this.nodeType
                      },
                    },
                    {
                      key: 'getShared',
                      value: function (e) {
                        var t = this.getHash(e)
                        return e.getNodeFromHash(t) || this
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t,
                          n = e.getNodeProperties(this),
                          r = 0,
                          i = L(this.getChildren())
                        try {
                          for (i.s(); !(t = i.n()).done; ) {
                            var a = t.value
                            n['node' + r++] = a
                          }
                        } catch (o) {
                          i.e(o)
                        } finally {
                          i.f()
                        }
                        return n.outputNode || null
                      },
                    },
                    {
                      key: 'analyze',
                      value: function (e) {
                        if (1 === e.increaseUsage(this))
                          for (
                            var t = e.getNodeProperties(this), n = 0, r = Object.values(t);
                            n < r.length;
                            n++
                          ) {
                            var i = r[n]
                            i && !0 === i.isNode && i.build(e)
                          }
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = e.getNodeProperties(this).outputNode
                        if (n && !0 === n.isNode) return n.build(e, t)
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function () {
                        console.warn('Abstract function.')
                      },
                    },
                    {
                      key: 'updateAfter',
                      value: function () {
                        console.warn('Abstract function.')
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        console.warn('Abstract function.')
                      },
                    },
                    {
                      key: 'build',
                      value: function (e) {
                        var t =
                            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                          n = this.getShared(e)
                        if (this !== n) return n.build(e, t)
                        ;(e.addNode(this), e.addChain(this))
                        var r = null,
                          i = e.getBuildStage()
                        if ('setup' === i) {
                          this.updateReference(e)
                          var a = e.getNodeProperties(this)
                          if (!0 !== a.initialized) {
                            a.initialized = !0
                            for (
                              var o = this.setup(e),
                                s = o && !0 === o.isNode,
                                u = 0,
                                l = Object.values(a);
                              u < l.length;
                              u++
                            ) {
                              var c = l[u]
                              c && !0 === c.isNode && c.build(e)
                            }
                            ;(s && o.build(e), (a.outputNode = o))
                          }
                        } else if ('analyze' === i) this.analyze(e)
                        else if ('generate' === i) {
                          if (1 === this.generate.length) {
                            var d = this.getNodeType(e),
                              h = e.getDataFromNode(this)
                            ;(void 0 === (r = h.snippet)
                              ? ((r = this.generate(e) || ''), (h.snippet = r))
                              : void 0 !== h.flowCodes &&
                                void 0 !== e.context.nodeBlock &&
                                e.addFlowCodeHierarchy(this, e.context.nodeBlock),
                              (r = e.format(r, d, t)))
                          } else r = this.generate(e, t) || ''
                        }
                        return (e.removeChain(this), e.addSequentialNode(this), r)
                      },
                    },
                    {
                      key: 'getSerializeChildren',
                      value: function () {
                        return dS(this)
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        var t,
                          n = {},
                          r = L(this.getSerializeChildren())
                        try {
                          for (r.s(); !(t = r.n()).done; ) {
                            var i = t.value,
                              a = i.property,
                              o = i.index,
                              s = i.childNode
                            void 0 !== o
                              ? (void 0 === n[a] && (n[a] = Number.isInteger(o) ? [] : {}),
                                (n[a][o] = s.toJSON(e.meta).uuid))
                              : (n[a] = s.toJSON(e.meta).uuid)
                          }
                        } catch (u) {
                          r.e(u)
                        } finally {
                          r.f()
                        }
                        Object.keys(n).length > 0 && (e.inputNodes = n)
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        if (void 0 !== e.inputNodes) {
                          var t = e.meta.nodes
                          for (var n in e.inputNodes)
                            if (Array.isArray(e.inputNodes[n])) {
                              var r,
                                i = [],
                                a = L(e.inputNodes[n])
                              try {
                                for (a.s(); !(r = a.n()).done; ) {
                                  var o = r.value
                                  i.push(t[o])
                                }
                              } catch (d) {
                                a.e(d)
                              } finally {
                                a.f()
                              }
                              this[n] = i
                            } else if ('object' === P(e.inputNodes[n])) {
                              var s = {}
                              for (var u in e.inputNodes[n]) {
                                var l = e.inputNodes[n][u]
                                s[u] = t[l]
                              }
                              this[n] = s
                            } else {
                              var c = e.inputNodes[n]
                              this[n] = t[c]
                            }
                        }
                      },
                    },
                    {
                      key: 'toJSON',
                      value: function (e) {
                        var t = this.uuid,
                          n = this.type,
                          r = void 0 === e || 'string' == typeof e
                        r && (e = { textures: {}, images: {}, nodes: {} })
                        var i = e.nodes[t]
                        function a(e) {
                          var t = []
                          for (var n in e) {
                            var r = e[n]
                            ;(delete r.metadata, t.push(r))
                          }
                          return t
                        }
                        if (
                          (void 0 === i &&
                            ((i = {
                              uuid: t,
                              type: n,
                              meta: e,
                              metadata: { version: 4.6, type: 'Node', generator: 'Node.toJSON' },
                            }),
                            !0 !== r && (e.nodes[i.uuid] = i),
                            this.serialize(i),
                            delete i.meta),
                          r)
                        ) {
                          var o = a(e.textures),
                            s = a(e.images),
                            u = a(e.nodes)
                          ;(o.length > 0 && (i.textures = o),
                            s.length > 0 && (i.images = s),
                            u.length > 0 && (i.nodes = u))
                        }
                        return i
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'Node'
                      },
                    },
                  ]
                )
              )
            })(Nc),
            kS = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t)).node = e),
                  (r.indexNode = n),
                  (r.isArrayElementNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.node.getElementType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.node.build(e),
                          n = this.indexNode.build(e, 'uint')
                        return ''.concat(t, '[ ').concat(n, ' ]')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ArrayElementNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            RS = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t)).node = e), (r.convertTo = n), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t,
                          n = this.node.getNodeType(e),
                          r = null,
                          i = L(this.convertTo.split('|'))
                        try {
                          for (i.s(); !(t = i.n()).done; ) {
                            var a = t.value
                            ;(null !== r && e.getTypeLength(n) !== e.getTypeLength(a)) || (r = a)
                          }
                        } catch (o) {
                          i.e(o)
                        } finally {
                          i.f()
                        }
                        return r
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]), (e.convertTo = this.convertTo))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]), (this.convertTo = e.convertTo))
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.node,
                          r = this.getNodeType(e),
                          i = n.build(e, r)
                        return e.format(i, r, t)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ConvertNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            IS = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (w(this, t), ((e = y(this, t, [n])).isTempNode = !0), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'hasDependencies',
                      value: function (e) {
                        return e.getDataFromNode(this).usageCount > 1
                      },
                    },
                    {
                      key: 'build',
                      value: function (e, r) {
                        if ('generate' === e.getBuildStage()) {
                          var i = e.getVectorType(this.getNodeType(e, r)),
                            a = e.getDataFromNode(this)
                          if (void 0 !== a.propertyName) return e.format(a.propertyName, i, r)
                          if ('void' !== i && 'void' !== r && this.hasDependencies(e)) {
                            var o = n(t, 'build', this, 3)([e, i]),
                              s = e.getVarFromNode(this, null, i),
                              u = e.getPropertyName(s)
                            return (
                              e.addLineFlowCode(''.concat(u, ' = ').concat(o), this),
                              (a.snippet = o),
                              (a.propertyName = u),
                              e.format(a.propertyName, i, r)
                            )
                          }
                        }
                        return n(t, 'build', this, 3)([e, r])
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'TempNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            NS = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), ((e = y(this, t, [r])).nodes = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return null !== this.nodeType
                          ? e.getVectorType(this.nodeType)
                          : e.getTypeFromLength(
                              this.nodes.reduce(function (t, n) {
                                return t + e.getTypeLength(n.getNodeType(e))
                              }, 0)
                            )
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n,
                          r = this.getNodeType(e),
                          i = this.nodes,
                          a = e.getComponentType(r),
                          o = [],
                          s = L(i)
                        try {
                          for (s.s(); !(n = s.n()).done; ) {
                            var u = n.value,
                              l = u.build(e),
                              c = e.getComponentType(u.getNodeType(e))
                            ;(c !== a && (l = e.format(l, c, a)), o.push(l))
                          }
                        } catch (h) {
                          s.e(h)
                        } finally {
                          s.f()
                        }
                        var d = ''.concat(e.getType(r), '( ').concat(o.join(', '), ' )')
                        return e.format(d, r, t)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'JoinNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            PS = MS.join(''),
            LS = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 'x'
                return (
                  w(this, t),
                  ((n = y(this, t)).node = e),
                  (n.components = r),
                  (n.isSplitNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getVectorLength',
                      value: function () {
                        var e,
                          t = this.components.length,
                          n = L(this.components)
                        try {
                          for (n.s(); !(e = n.n()).done; ) {
                            var r = e.value
                            t = Math.max(MS.indexOf(r) + 1, t)
                          }
                        } catch (i) {
                          n.e(i)
                        } finally {
                          n.f()
                        }
                        return t
                      },
                    },
                    {
                      key: 'getComponentType',
                      value: function (e) {
                        return e.getComponentType(this.node.getNodeType(e))
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return e.getTypeFromLength(this.components.length, this.getComponentType(e))
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.node,
                          r = e.getTypeLength(n.getNodeType(e)),
                          i = null
                        if (r > 1) {
                          var a = null
                          this.getVectorLength() >= r &&
                            (a = e.getTypeFromLength(
                              this.getVectorLength(),
                              this.getComponentType(e)
                            ))
                          var o = n.build(e, a)
                          i =
                            this.components.length === r &&
                            this.components === PS.slice(0, this.components.length)
                              ? e.format(o, a, t)
                              : e.format(
                                  ''.concat(o, '.').concat(this.components),
                                  this.getNodeType(e),
                                  t
                                )
                        } else i = n.build(e, t)
                        return i
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]), (e.components = this.components))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]), (this.components = e.components))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'SplitNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            DS = (function (e) {
              function t(e, n, r) {
                var i
                return (
                  w(this, t),
                  ((i = y(this, t)).sourceNode = e),
                  (i.components = n),
                  (i.targetNode = r),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.sourceNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        for (
                          var t = this.sourceNode,
                            n = this.components,
                            r = this.targetNode,
                            i = this.getNodeType(e),
                            a = e.getComponentType(r.getNodeType(e)),
                            o = e.getTypeFromLength(n.length, a),
                            s = r.build(e, o),
                            u = t.build(e, i),
                            l = e.getTypeLength(i),
                            c = [],
                            d = 0;
                          d < l;
                          d++
                        ) {
                          var h = MS[d]
                          h === n[0] ? (c.push(s), (d += n.length - 1)) : c.push(u + '.' + h)
                        }
                        return ''.concat(e.getType(i), '( ').concat(c.join(', '), ' )')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'SetNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            OS = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t)).sourceNode = e), (r.components = n), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.sourceNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.components,
                          n = this.sourceNode,
                          r = this.getNodeType(e),
                          i = n.build(e),
                          a = e.getVarFromNode(this),
                          o = e.getPropertyName(a)
                        e.addLineFlowCode(o + ' = ' + i, this)
                        for (var s = e.getTypeLength(r), u = [], l = 0, c = 0; c < s; c++) {
                          var d = MS[c]
                          d === t[l] ? (u.push('1.0 - ' + o + '.' + d), l++) : u.push(o + '.' + d)
                        }
                        return ''.concat(e.getType(r), '( ').concat(u.join(', '), ' )')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'FlipNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            FS = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [r])).isInputNode = !0),
                  (n.value = e),
                  (n.precision = null),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return null === this.nodeType ? mS(this.value) : this.nodeType
                      },
                    },
                    {
                      key: 'getInputType',
                      value: function (e) {
                        return this.getNodeType(e)
                      },
                    },
                    {
                      key: 'setPrecision',
                      value: function (e) {
                        return ((this.precision = e), this)
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.value = this.value),
                          this.value && this.value.toArray && (e.value = this.value.toArray()),
                          (e.valueType = mS(this.value)),
                          (e.nodeType = this.nodeType),
                          'ArrayBuffer' === e.valueType && (e.value = xS(e.value)),
                          (e.precision = this.precision))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.nodeType = e.nodeType),
                          (this.value = Array.isArray(e.value)
                            ? gS.apply(void 0, [e.valueType].concat(I(e.value)))
                            : e.value),
                          (this.precision = e.precision || null),
                          this.value &&
                            this.value.fromArray &&
                            (this.value = this.value.fromArray(e.value)))
                      },
                    },
                    {
                      key: 'generate',
                      value: function () {
                        console.warn('Abstract function.')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'InputNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            BS = /float|u?int/,
            US = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), ((n = y(this, t, [e, r])).isConstNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generateConst',
                      value: function (e) {
                        return e.generateConst(this.getNodeType(e), this.value)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.getNodeType(e)
                        return BS.test(n) && BS.test(t)
                          ? e.generateConst(t, this.value)
                          : e.format(this.generateConst(e), n, t)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ConstNode'
                      },
                    },
                  ]
                )
              )
            })(FS),
            zS = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t)).node = e),
                  (r.property = n),
                  (r.isMemberNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.node.getMemberType(e, this.property)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        return this.node.build(e) + '.' + this.property
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MemberNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            VS = null,
            HS = new Map()
          function WS(e, t) {
            if (HS.has(e)) console.warn('Redefinition of method chaining '.concat(e))
            else {
              if ('function' != typeof t)
                throw new Error('Node element '.concat(e, ' is not a function'))
              HS.set(e, t)
            }
          }
          for (
            var GS = function (e) {
                return e
                  .replace(/r|s/g, 'x')
                  .replace(/g|t/g, 'y')
                  .replace(/b|p/g, 'z')
                  .replace(/a|q/g, 'w')
              },
              jS = function (e) {
                return GS(e).split('').sort().join('')
              },
              QS = {
                setup: function (e, t) {
                  var n = t.shift()
                  return e.apply(void 0, [Rw(n)].concat(I(t)))
                },
                get: function (e, t, n) {
                  if ('string' == typeof t && void 0 === e[t]) {
                    if (!0 !== e.isStackNode && 'assign' === t)
                      return function () {
                        for (var e, t = arguments.length, r = new Array(t), i = 0; i < t; i++)
                          r[i] = arguments[i]
                        return ((e = VS).assign.apply(e, [n].concat(r)), n)
                      }
                    if (HS.has(t)) {
                      var r = HS.get(t)
                      return e.isStackNode
                        ? function () {
                            return n.add(r.apply(void 0, arguments))
                          }
                        : function () {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++)
                              t[i] = arguments[i]
                            return r.apply(void 0, [n].concat(t))
                          }
                    }
                    if ('self' === t) return e
                    if (t.endsWith('Assign') && HS.has(t.slice(0, t.length - 6))) {
                      var i = HS.get(t.slice(0, t.length - 6))
                      return e.isStackNode
                        ? function () {
                            return n.assign(
                              arguments.length <= 0 ? void 0 : arguments[0],
                              i.apply(void 0, arguments)
                            )
                          }
                        : function () {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
                              t[r] = arguments[r]
                            return n.assign(i.apply(void 0, [n].concat(t)))
                          }
                    }
                    if (!0 === /^[xyzwrgbastpq]{1,4}$/.test(t))
                      return ((t = GS(t)), kw(new LS(n, t)))
                    if (!0 === /^set[XYZWRGBASTPQ]{1,4}$/.test(t))
                      return (
                        (t = jS(t.slice(3).toLowerCase())),
                        function (n) {
                          return kw(new DS(e, t, n))
                        }
                      )
                    if (!0 === /^flip[XYZWRGBASTPQ]{1,4}$/.test(t))
                      return (
                        (t = jS(t.slice(4).toLowerCase())),
                        function () {
                          return kw(new OS(kw(e), t))
                        }
                      )
                    if ('width' === t || 'height' === t || 'depth' === t)
                      return (
                        'width' === t
                          ? (t = 'x')
                          : 'height' === t
                            ? (t = 'y')
                            : 'depth' === t && (t = 'z'),
                        kw(new LS(e, t))
                      )
                    if (!0 === /^\d+$/.test(t)) return kw(new kS(n, new US(Number(t), 'uint')))
                    if (!0 === /^get$/.test(t))
                      return function (e) {
                        return kw(new zS(n, e))
                      }
                  }
                  return Reflect.get(e, t, n)
                },
                set: function (e, t, n, r) {
                  return 'string' != typeof t ||
                    void 0 !== e[t] ||
                    (!0 !== /^[xyzwrgbastpq]{1,4}$/.test(t) &&
                      'width' !== t &&
                      'height' !== t &&
                      'depth' !== t &&
                      !0 !== /^\d+$/.test(t))
                    ? Reflect.set(e, t, n, r)
                    : (r[t].assign(n), !0)
                },
              },
              qS = new WeakMap(),
              XS = new WeakMap(),
              YS = function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  n = mS(e)
                if ('node' === n) {
                  var r = qS.get(e)
                  return (void 0 === r && ((r = new Proxy(e, QS)), qS.set(e, r), qS.set(r, r)), r)
                }
                return (null === t && ('float' === n || 'boolean' === n)) ||
                  (n && 'shader' !== n && 'string' !== n)
                  ? kw(Aw(e, t))
                  : 'shader' === n
                    ? Lw(e)
                    : e
              },
              KS = function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                for (var n in e) e[n] = kw(e[n], t)
                return e
              },
              ZS = function (e) {
                for (
                  var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    n = e.length,
                    r = 0;
                  r < n;
                  r++
                )
                  e[r] = kw(e[r], t)
                return e
              },
              JS = function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null,
                  i = function (e) {
                    return kw(null !== r ? Object.assign(e, r) : e)
                  }
                return null === t
                  ? function () {
                      for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                        n[r] = arguments[r]
                      return i(g(e, I(Iw(n))))
                    }
                  : null !== n
                    ? ((n = kw(n)),
                      function () {
                        for (var r = arguments.length, a = new Array(r), o = 0; o < r; o++)
                          a[o] = arguments[o]
                        return i(g(e, [t].concat(I(Iw(a)), [n])))
                      })
                    : function () {
                        for (var n = arguments.length, r = new Array(n), a = 0; a < n; a++)
                          r[a] = arguments[a]
                        return i(g(e, [t].concat(I(Iw(r)))))
                      }
              },
              $S = function (e) {
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                  n[r - 1] = arguments[r]
                return kw(g(e, I(Iw(n))))
              },
              ew = (function (e) {
                function t(e, n) {
                  var r
                  return (w(this, t), ((r = y(this, t)).shaderNode = e), (r.inputNodes = n), r)
                }
                return (
                  b(t, e),
                  T(t, [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.shaderNode.nodeType || this.getOutputNode(e).getNodeType(e)
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        return this.getOutputNode(e).getMemberType(e, t)
                      },
                    },
                    {
                      key: 'call',
                      value: function (e) {
                        var t = this.shaderNode,
                          n = this.inputNodes,
                          r = e.getNodeProperties(t)
                        if (r.onceOutput) return r.onceOutput
                        var i = null
                        if (t.layout) {
                          var a = XS.get(e.constructor)
                          void 0 === a && ((a = new WeakMap()), XS.set(e.constructor, a))
                          var o = a.get(t)
                          ;(void 0 === o && ((o = kw(e.buildFunctionNode(t))), a.set(t, o)),
                            null !== e.currentFunctionNode &&
                              e.currentFunctionNode.includes.push(o),
                            (i = kw(o.call(n))))
                        } else {
                          var s = t.jsFunc,
                            u = null !== n || s.length > 1 ? s(n || [], e) : s(e)
                          i = kw(u)
                        }
                        return (t.once && (r.onceOutput = i), i)
                      },
                    },
                    {
                      key: 'getOutputNode',
                      value: function (e) {
                        var t = e.getNodeProperties(this)
                        return (
                          null === t.outputNode && (t.outputNode = this.setupOutput(e)),
                          t.outputNode
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return this.getOutputNode(e)
                      },
                    },
                    {
                      key: 'setupOutput',
                      value: function (e) {
                        return (e.addStack(), (e.stack.outputNode = this.call(e)), e.removeStack())
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        return this.getOutputNode(e).build(e, t)
                      },
                    },
                  ])
                )
              })(CS),
              tw = (function (e) {
                function t(e, n) {
                  var r
                  return (
                    w(this, t),
                    ((r = y(this, t, [n])).jsFunc = e),
                    (r.layout = null),
                    (r.global = !0),
                    (r.once = !1),
                    r
                  )
                }
                return (
                  b(t, e),
                  T(t, [
                    {
                      key: 'setLayout',
                      value: function (e) {
                        return ((this.layout = e), this)
                      },
                    },
                    {
                      key: 'call',
                      value: function () {
                        var e =
                          arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                        return (Rw(e), kw(new ew(this, e)))
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        return this.call()
                      },
                    },
                  ])
                )
              })(CS),
              nw = [
                0.5,
                1.5,
                1 / 3,
                1e-6,
                1e6,
                Math.PI,
                2 * Math.PI,
                1 / Math.PI,
                2 / Math.PI,
                1 / (2 * Math.PI),
                Math.PI / 2,
              ],
              rw = new Map(),
              iw = 0,
              aw = [!1, !0];
            iw < aw.length;
            iw++
          ) {
            var ow = aw[iw]
            rw.set(ow, new US(ow))
          }
          for (var sw = new Map(), uw = 0, lw = [0, 1, 2, 3]; uw < lw.length; uw++) {
            var cw = lw[uw]
            sw.set(cw, new US(cw, 'uint'))
          }
          for (
            var dw = new Map(
                I(sw).map(function (e) {
                  return new US(e.value, 'int')
                })
              ),
              hw = 0,
              fw = [-1, -2];
            hw < fw.length;
            hw++
          ) {
            var pw = fw[hw]
            dw.set(pw, new US(pw, 'int'))
          }
          for (
            var vw = new Map(
                I(dw).map(function (e) {
                  return new US(e.value)
                })
              ),
              mw = 0,
              gw = nw;
            mw < gw.length;
            mw++
          ) {
            var yw = gw[mw]
            vw.set(yw, new US(yw))
          }
          for (var xw = 0, _w = nw; xw < _w.length; xw++) {
            var bw = _w[xw]
            vw.set(-bw, new US(-bw))
          }
          var Sw = { bool: rw, uint: sw, ints: dw, float: vw },
            ww = new Map([].concat(I(rw), I(vw))),
            Aw = function (e, t) {
              return ww.has(e) ? ww.get(e) : !0 === e.isNode ? e : new US(e, t)
            },
            Tw = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
              return function () {
                for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                  r[i] = arguments[i]
                if (
                  ((0 === r.length ||
                    (!['bool', 'float', 'int', 'uint'].includes(e) &&
                      r.every(function (e) {
                        return 'object' !== P(e)
                      }))) &&
                    (r = [gS.apply(void 0, [e].concat(I(r)))]),
                  1 === r.length && null !== t && t.has(r[0]))
                )
                  return kw(t.get(r[0]))
                if (1 === r.length) {
                  var a = Aw(r[0], e)
                  return (function (e) {
                    try {
                      return e.getNodeType()
                    } catch (QG) {
                      return
                    }
                  })(a) === e
                    ? kw(a)
                    : kw(new RS(a, e))
                }
                var o = r.map(function (e) {
                  return Aw(e)
                })
                return kw(new NS(o, e))
              }
            },
            Mw = function (e) {
              return 'object' === P(e) && null !== e ? e.value : e
            },
            Ew = function (e) {
              return null != e
                ? e.nodeType || e.convertTo || ('string' == typeof e ? e : null)
                : null
            }
          function Cw(e, t) {
            return new Proxy(new tw(e, t), QS)
          }
          var kw = function (e) {
              return YS(e, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null)
            },
            Rw = function (e) {
              return new KS(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
              )
            },
            Iw = function (e) {
              return new ZS(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
              )
            },
            Nw = function () {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
              return g(JS, t)
            },
            Pw = function () {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
              return g($S, t)
            },
            Lw = function (e, t) {
              var n = new Cw(e, t),
                r = function () {
                  for (var e, t = arguments.length, r = new Array(t), i = 0; i < t; i++)
                    r[i] = arguments[i]
                  return (Rw(r), (e = r[0] && r[0].isNode ? [].concat(r) : r[0]), n.call(e))
                }
              return (
                (r.shaderNode = n),
                (r.setLayout = function (e) {
                  return (n.setLayout(e), r)
                }),
                (r.once = function () {
                  return ((n.once = !0), r)
                }),
                r
              )
            }
          WS('toGlobal', function (e) {
            return ((e.global = !0), e)
          })
          var Dw = function (e) {
              VS = e
            },
            Ow = function () {
              return VS
            },
            Fw = function () {
              var e
              return (e = VS).If.apply(e, arguments)
            }
          function Bw(e) {
            return (VS && VS.add(e), e)
          }
          WS('append', Bw)
          var Uw = new Tw('color'),
            zw = new Tw('float', Sw.float),
            Vw = new Tw('int', Sw.ints),
            Hw = new Tw('uint', Sw.uint),
            Ww = new Tw('bool', Sw.bool),
            Gw = new Tw('vec2'),
            jw = new Tw('ivec2'),
            Qw = new Tw('uvec2'),
            qw = new Tw('bvec2'),
            Xw = new Tw('vec3'),
            Yw = new Tw('ivec3'),
            Kw = new Tw('uvec3'),
            Zw = new Tw('bvec3'),
            Jw = new Tw('vec4'),
            $w = new Tw('ivec4'),
            eA = new Tw('uvec4'),
            tA = new Tw('bvec4'),
            nA = new Tw('mat2'),
            rA = new Tw('mat3'),
            iA = new Tw('mat4')
          ;(WS('toColor', Uw),
            WS('toFloat', zw),
            WS('toInt', Vw),
            WS('toUint', Hw),
            WS('toBool', Ww),
            WS('toVec2', Gw),
            WS('toIVec2', jw),
            WS('toUVec2', Qw),
            WS('toBVec2', qw),
            WS('toVec3', Xw),
            WS('toIVec3', Yw),
            WS('toUVec3', Kw),
            WS('toBVec3', Zw),
            WS('toVec4', Jw),
            WS('toIVec4', $w),
            WS('toUVec4', eA),
            WS('toBVec4', tA),
            WS('toMat2', nA),
            WS('toMat3', rA),
            WS('toMat4', iA))
          var aA = Nw(kS),
            oA = function (e, t) {
              return kw(new RS(kw(e), t))
            }
          ;(WS('element', aA), WS('convert', oA))
          var sA = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  ((r = y(this, t, [e])).count = n),
                  (r.values = i),
                  (r.isArrayNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return (
                          null === this.nodeType && (this.nodeType = this.values[0].getNodeType(e)),
                          this.nodeType
                        )
                      },
                    },
                    {
                      key: 'getElementType',
                      value: function (e) {
                        return this.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.getNodeType(e)
                        return e.generateArray(t, this.count, this.values)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ArrayNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            uA = function () {
              var e
              if (1 === arguments.length) {
                var t = arguments.length <= 0 ? void 0 : arguments[0]
                e = new sA(null, t.length, t)
              } else {
                e = new sA(
                  arguments.length <= 0 ? void 0 : arguments[0],
                  arguments.length <= 1 ? void 0 : arguments[1]
                )
              }
              return kw(e)
            }
          WS('toArray', function (e, t) {
            return uA(Array(t).fill(e))
          })
          var lA = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
                return (
                  w(this, t),
                  ((n = y(this, t, ['string'])).name = e),
                  (n.shared = r),
                  (n.order = i),
                  (n.isUniformGroup = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.name = this.name),
                          (e.version = this.version),
                          (e.shared = this.shared))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.name = e.name),
                          (this.version = e.version),
                          (this.shared = e.shared))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'UniformGroupNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            cA = function (e) {
              return new lA(e)
            },
            dA = function (e) {
              return new lA(
                e,
                !0,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
              )
            },
            hA = dA('frame'),
            fA = dA('render'),
            pA = cA('object'),
            vA = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [e, r])).isUniformNode = !0),
                  (n.name = ''),
                  (n.groupNode = pA),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'label',
                      value: function (e) {
                        return ((this.name = e), this)
                      },
                    },
                    {
                      key: 'setGroup',
                      value: function (e) {
                        return ((this.groupNode = e), this)
                      },
                    },
                    {
                      key: 'getGroup',
                      value: function () {
                        return this.groupNode
                      },
                    },
                    {
                      key: 'getUniformHash',
                      value: function (e) {
                        return this.getHash(e)
                      },
                    },
                    {
                      key: 'onUpdate',
                      value: function (e, r) {
                        var i = this,
                          a = this.getSelf()
                        return (
                          (e = e.bind(a)),
                          n(
                            t,
                            'onUpdate',
                            this,
                            3
                          )([
                            function (t) {
                              var n = e(t, a)
                              void 0 !== n && (i.value = n)
                            },
                            r,
                          ])
                        )
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.getNodeType(e),
                          r = this.getUniformHash(e),
                          i = e.getNodeFromHash(r)
                        void 0 === i && (e.setHashNode(this, r), (i = this))
                        var a = i.getInputType(e),
                          o = e.getUniformFromNode(
                            i,
                            a,
                            e.shaderStage,
                            this.name || e.context.label
                          ),
                          s = e.getPropertyName(o)
                        return (
                          void 0 !== e.context.label && delete e.context.label,
                          e.format(s, n, t)
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'UniformNode'
                      },
                    },
                  ]
                )
              )
            })(FS),
            mA = function (e, t) {
              var n = Ew(t || e),
                r = e && !0 === e.isNode ? (e.node && e.node.value) || e.value : e
              return kw(new vA(r, n))
            },
            gA = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                return (
                  w(this, t),
                  ((n = y(this, t, [e])).name = r),
                  (n.varying = i),
                  (n.isPropertyNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        return this.name || n(t, 'getHash', this, 3)([e])
                      },
                    },
                    {
                      key: 'isGlobal',
                      value: function () {
                        return !0
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t
                        return (
                          !0 === this.varying
                            ? ((t = e.getVaryingFromNode(this, this.name)).needsInterpolation = !0)
                            : (t = e.getVarFromNode(this, this.name)),
                          e.getPropertyName(t)
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'PropertyNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            yA = function (e, t) {
              return kw(new gA(e, t))
            },
            xA = function (e, t) {
              return kw(new gA(e, t, !0))
            },
            _A = Pw(gA, 'vec4', 'DiffuseColor'),
            bA = Pw(gA, 'vec3', 'EmissiveColor'),
            SA = Pw(gA, 'float', 'Roughness'),
            wA = Pw(gA, 'float', 'Metalness'),
            AA = Pw(gA, 'float', 'Clearcoat'),
            TA = Pw(gA, 'float', 'ClearcoatRoughness'),
            MA = Pw(gA, 'vec3', 'Sheen'),
            EA = Pw(gA, 'float', 'SheenRoughness'),
            CA = Pw(gA, 'float', 'Iridescence'),
            kA = Pw(gA, 'float', 'IridescenceIOR'),
            RA = Pw(gA, 'float', 'IridescenceThickness'),
            IA = Pw(gA, 'float', 'AlphaT'),
            NA = Pw(gA, 'float', 'Anisotropy'),
            PA = Pw(gA, 'vec3', 'AnisotropyT'),
            LA = Pw(gA, 'vec3', 'AnisotropyB'),
            DA = Pw(gA, 'color', 'SpecularColor'),
            OA = Pw(gA, 'float', 'SpecularF90'),
            FA = Pw(gA, 'float', 'Shininess'),
            BA = Pw(gA, 'vec4', 'Output'),
            UA = Pw(gA, 'float', 'dashSize'),
            zA = Pw(gA, 'float', 'gapSize'),
            VA = Pw(gA, 'float', 'pointWidth'),
            HA = Pw(gA, 'float', 'IOR'),
            WA = Pw(gA, 'float', 'Transmission'),
            GA = Pw(gA, 'float', 'Thickness'),
            jA = Pw(gA, 'float', 'AttenuationDistance'),
            QA = Pw(gA, 'color', 'AttenuationColor'),
            qA = Pw(gA, 'float', 'Dispersion'),
            XA = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t)).targetNode = e), (r.sourceNode = n), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'hasDependencies',
                      value: function () {
                        return !1
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e, t) {
                        return 'void' !== t ? this.targetNode.getNodeType(e) : 'void'
                      },
                    },
                    {
                      key: 'needsSplitAssign',
                      value: function (e) {
                        var t = this.targetNode
                        if (
                          !1 === e.isAvailable('swizzleAssign') &&
                          t.isSplitNode &&
                          t.components.length > 1
                        ) {
                          var n = e.getTypeLength(t.node.getNodeType(e))
                          return MS.join('').slice(0, n) !== t.components
                        }
                        return !1
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n,
                          r = this.targetNode,
                          i = this.sourceNode,
                          a = this.needsSplitAssign(e),
                          o = r.getNodeType(e),
                          s = r.context({ assign: !0 }).build(e),
                          u = i.build(e, o),
                          l = i.getNodeType(e),
                          c = e.getDataFromNode(this)
                        if (!0 === c.initialized) 'void' !== t && (n = s)
                        else if (a) {
                          var d = e.getVarFromNode(this, null, o),
                            h = e.getPropertyName(d)
                          e.addLineFlowCode(''.concat(h, ' = ').concat(u), this)
                          for (
                            var f = r.node.context({ assign: !0 }).build(e), p = 0;
                            p < r.components.length;
                            p++
                          ) {
                            var v = r.components[p]
                            e.addLineFlowCode(
                              ''.concat(f, '.').concat(v, ' = ').concat(h, '[ ').concat(p, ' ]'),
                              this
                            )
                          }
                          'void' !== t && (n = s)
                        } else
                          ((n = ''.concat(s, ' = ').concat(u)),
                            ('void' !== t && 'void' !== l) ||
                              (e.addLineFlowCode(n, this), 'void' !== t && (n = s)))
                        return ((c.initialized = !0), e.format(n, o, t))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'AssignNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            YA = Nw(XA)
          WS('assign', YA)
          var KA = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                return (w(this, t), ((e = y(this, t)).functionNode = n), (e.parameters = r), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setParameters',
                      value: function (e) {
                        return ((this.parameters = e), this)
                      },
                    },
                    {
                      key: 'getParameters',
                      value: function () {
                        return this.parameters
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.functionNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = [],
                          n = this.functionNode,
                          r = n.getInputs(e),
                          i = this.parameters,
                          a = function (t, n) {
                            var r = n.type
                            return 'pointer' === r ? '&' + t.build(e) : t.build(e, r)
                          }
                        if (Array.isArray(i))
                          for (var o = 0; o < i.length; o++) t.push(a(i[o], r[o]))
                        else {
                          var s,
                            u = L(r)
                          try {
                            for (u.s(); !(s = u.n()).done; ) {
                              var l = s.value,
                                c = i[l.name]
                              if (void 0 === c)
                                throw new Error(
                                  "FunctionCallNode: Input '".concat(
                                    l.name,
                                    "' not found in FunctionNode."
                                  )
                                )
                              t.push(a(c, l))
                            }
                          } catch (h) {
                            u.e(h)
                          } finally {
                            u.f()
                          }
                        }
                        var d = n.build(e, 'property')
                        return ''.concat(d, '( ').concat(t.join(', '), ' )')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'FunctionCallNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            ZA = function (e) {
              for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                n[r - 1] = arguments[r]
              return (
                (n = n.length > 1 || (n[0] && !0 === n[0].isNode) ? Iw(n) : Rw(n[0])),
                kw(new KA(kw(e), n))
              )
            }
          WS('call', ZA)
          var JA = (function (e) {
              function t(e, n, r) {
                var i
                if (
                  (w(this, t),
                  (i = y(this, t)),
                  (arguments.length <= 3 ? 0 : arguments.length - 3) > 0)
                ) {
                  for (
                    var a, o = new t(e, n, r), s = 0;
                    s < (arguments.length <= 3 ? 0 : arguments.length - 3) - 1;
                    s++
                  )
                    o = new t(
                      e,
                      o,
                      s + 3 < 3 || arguments.length <= s + 3 ? void 0 : arguments[s + 3]
                    )
                  ;((n = o),
                    (r =
                      (a = (arguments.length <= 3 ? 0 : arguments.length - 3) - 1 + 3) < 3 ||
                      arguments.length <= a
                        ? void 0
                        : arguments[a]))
                }
                return ((i.op = e), (i.aNode = n), (i.bNode = r), (i.isOperatorNode = !0), i)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e, t) {
                        var n = this.op,
                          r = this.aNode,
                          i = this.bNode,
                          a = r.getNodeType(e),
                          o = void 0 !== i ? i.getNodeType(e) : null
                        if ('void' === a || 'void' === o) return 'void'
                        if ('%' === n) return a
                        if (
                          '~' === n ||
                          '&' === n ||
                          '|' === n ||
                          '^' === n ||
                          '>>' === n ||
                          '<<' === n
                        )
                          return e.getIntegerType(a)
                        if ('!' === n || '==' === n || '&&' === n || '||' === n || '^^' === n)
                          return 'bool'
                        if ('<' === n || '>' === n || '<=' === n || '>=' === n) {
                          var s = t
                            ? e.getTypeLength(t)
                            : Math.max(e.getTypeLength(a), e.getTypeLength(o))
                          return s > 1 ? 'bvec'.concat(s) : 'bool'
                        }
                        if (e.isMatrix(a)) {
                          if ('float' === o) return a
                          if (e.isVector(o)) return e.getVectorFromMatrix(a)
                          if (e.isMatrix(o)) return a
                        } else if (e.isMatrix(o)) {
                          if ('float' === a) return o
                          if (e.isVector(a)) return e.getVectorFromMatrix(o)
                        }
                        return e.getTypeLength(o) > e.getTypeLength(a) ? o : a
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.op,
                          r = this.aNode,
                          i = this.bNode,
                          a = this.getNodeType(e, t),
                          o = null,
                          s = null
                        'void' !== a
                          ? ((o = r.getNodeType(e)),
                            (s = void 0 !== i ? i.getNodeType(e) : null),
                            '<' === n || '>' === n || '<=' === n || '>=' === n || '==' === n
                              ? e.isVector(o)
                                ? (s = o)
                                : o !== s && (o = s = 'float')
                              : '>>' === n || '<<' === n
                                ? ((o = a), (s = e.changeComponentType(s, 'uint')))
                                : e.isMatrix(o)
                                  ? 'float' === s
                                    ? (s = 'float')
                                    : e.isVector(s)
                                      ? (s = e.getVectorFromMatrix(o))
                                      : e.isMatrix(s) || (o = s = a)
                                  : (o = e.isMatrix(s)
                                      ? 'float' === o
                                        ? 'float'
                                        : e.isVector(o)
                                          ? e.getVectorFromMatrix(s)
                                          : (s = a)
                                      : (s = a)))
                          : (o = s = a)
                        var u = r.build(e, o),
                          l = void 0 !== i ? i.build(e, s) : null,
                          c = e.getTypeLength(t),
                          d = e.getFunctionOperator(n)
                        return 'void' !== t
                          ? '<' === n && c > 1
                            ? e.useComparisonMethod
                              ? e.format(
                                  ''
                                    .concat(e.getMethod('lessThan', t), '( ')
                                    .concat(u, ', ')
                                    .concat(l, ' )'),
                                  a,
                                  t
                                )
                              : e.format('( '.concat(u, ' < ').concat(l, ' )'), a, t)
                            : '<=' === n && c > 1
                              ? e.useComparisonMethod
                                ? e.format(
                                    ''
                                      .concat(e.getMethod('lessThanEqual', t), '( ')
                                      .concat(u, ', ')
                                      .concat(l, ' )'),
                                    a,
                                    t
                                  )
                                : e.format('( '.concat(u, ' <= ').concat(l, ' )'), a, t)
                              : '>' === n && c > 1
                                ? e.useComparisonMethod
                                  ? e.format(
                                      ''
                                        .concat(e.getMethod('greaterThan', t), '( ')
                                        .concat(u, ', ')
                                        .concat(l, ' )'),
                                      a,
                                      t
                                    )
                                  : e.format('( '.concat(u, ' > ').concat(l, ' )'), a, t)
                                : '>=' === n && c > 1
                                  ? e.useComparisonMethod
                                    ? e.format(
                                        ''
                                          .concat(e.getMethod('greaterThanEqual', t), '( ')
                                          .concat(u, ', ')
                                          .concat(l, ' )'),
                                        a,
                                        t
                                      )
                                    : e.format('( '.concat(u, ' >= ').concat(l, ' )'), a, t)
                                  : '!' === n || '~' === n
                                    ? e.format('('.concat(n).concat(u, ')'), o, t)
                                    : d
                                      ? e.format(
                                          ''.concat(d, '( ').concat(u, ', ').concat(l, ' )'),
                                          a,
                                          t
                                        )
                                      : e.isMatrix(o) && 'float' === s
                                        ? e.format(
                                            '( '.concat(l, ' ').concat(n, ' ').concat(u, ' )'),
                                            a,
                                            t
                                          )
                                        : 'float' === o && e.isMatrix(s)
                                          ? e.format(
                                              ''.concat(u, ' ').concat(n, ' ').concat(l),
                                              a,
                                              t
                                            )
                                          : e.format(
                                              '( '.concat(u, ' ').concat(n, ' ').concat(l, ' )'),
                                              a,
                                              t
                                            )
                          : 'void' !== o
                            ? d
                              ? e.format(''.concat(d, '( ').concat(u, ', ').concat(l, ' )'), a, t)
                              : e.isMatrix(o) && 'float' === s
                                ? e.format(''.concat(l, ' ').concat(n, ' ').concat(u), a, t)
                                : e.format(''.concat(u, ' ').concat(n, ' ').concat(l), a, t)
                            : void 0
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]), (e.op = this.op))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]), (this.op = e.op))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'OperatorNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            $A = Nw(JA, '+'),
            eT = Nw(JA, '-'),
            tT = Nw(JA, '*'),
            nT = Nw(JA, '/'),
            rT = Nw(JA, '%'),
            iT = Nw(JA, '=='),
            aT = Nw(JA, '!='),
            oT = Nw(JA, '<'),
            sT = Nw(JA, '>'),
            uT = Nw(JA, '<='),
            lT = Nw(JA, '>='),
            cT = Nw(JA, '&&'),
            dT = Nw(JA, '||'),
            hT = Nw(JA, '!'),
            fT = Nw(JA, '^^'),
            pT = Nw(JA, '&'),
            vT = Nw(JA, '~'),
            mT = Nw(JA, '|'),
            gT = Nw(JA, '^'),
            yT = Nw(JA, '<<'),
            xT = Nw(JA, '>>')
          ;(WS('add', $A),
            WS('sub', eT),
            WS('mul', tT),
            WS('div', nT),
            WS('modInt', rT),
            WS('equal', iT),
            WS('notEqual', aT),
            WS('lessThan', oT),
            WS('greaterThan', sT),
            WS('lessThanEqual', uT),
            WS('greaterThanEqual', lT),
            WS('and', cT),
            WS('or', dT),
            WS('not', hT),
            WS('xor', fT),
            WS('bitAnd', pT),
            WS('bitNot', vT),
            WS('bitOr', mT),
            WS('bitXor', gT),
            WS('shiftLeft', yT),
            WS('shiftRight', xT))
          var _T = function () {
            return (
              console.warn('TSL.OperatorNode: .remainder() has been renamed to .modInt().'),
              rT.apply(void 0, arguments)
            )
          }
          WS('remainder', _T)
          var bT = (function (e) {
            function t(e, n) {
              var r,
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
              return (
                w(this, t),
                ((r = y(this, t)).method = e),
                (r.aNode = n),
                (r.bNode = i),
                (r.cNode = a),
                (r.isMathNode = !0),
                r
              )
            }
            return (
              b(t, e),
              T(
                t,
                [
                  {
                    key: 'getInputType',
                    value: function (e) {
                      var t = this.aNode.getNodeType(e),
                        n = this.bNode ? this.bNode.getNodeType(e) : null,
                        r = this.cNode ? this.cNode.getNodeType(e) : null,
                        i = e.isMatrix(t) ? 0 : e.getTypeLength(t),
                        a = e.isMatrix(n) ? 0 : e.getTypeLength(n),
                        o = e.isMatrix(r) ? 0 : e.getTypeLength(r)
                      return i > a && i > o ? t : a > o ? n : o > i ? r : t
                    },
                  },
                  {
                    key: 'getNodeType',
                    value: function (e) {
                      var n = this.method
                      return n === t.LENGTH || n === t.DISTANCE || n === t.DOT
                        ? 'float'
                        : n === t.CROSS
                          ? 'vec3'
                          : n === t.ALL
                            ? 'bool'
                            : n === t.EQUALS
                              ? e.changeComponentType(this.aNode.getNodeType(e), 'bool')
                              : n === t.MOD
                                ? this.aNode.getNodeType(e)
                                : this.getInputType(e)
                    },
                  },
                  {
                    key: 'generate',
                    value: function (e, n) {
                      var r = this.method,
                        i = this.getNodeType(e),
                        a = this.getInputType(e),
                        o = this.aNode,
                        s = this.bNode,
                        u = this.cNode,
                        l = e.renderer.coordinateSystem
                      if (r === t.TRANSFORM_DIRECTION) {
                        var c = o,
                          d = s
                        e.isMatrix(c.getNodeType(e)) ? (d = Jw(Xw(d), 0)) : (c = Jw(Xw(c), 0))
                        var h = tT(c, d).xyz
                        return BT(h).build(e, n)
                      }
                      if (r === t.NEGATE) return e.format('( - ' + o.build(e, a) + ' )', i, n)
                      if (r === t.ONE_MINUS) return eT(1, o).build(e, n)
                      if (r === t.RECIPROCAL) return nT(1, o).build(e, n)
                      if (r === t.DIFFERENCE) return QT(eT(o, s)).build(e, n)
                      var f = []
                      return (
                        r === t.CROSS || r === t.MOD
                          ? f.push(o.build(e, i), s.build(e, i))
                          : l === Rc && r === t.STEP
                            ? f.push(
                                o.build(e, 1 === e.getTypeLength(o.getNodeType(e)) ? 'float' : a),
                                s.build(e, a)
                              )
                            : (l === Rc && (r === t.MIN || r === t.MAX)) || r === t.MOD
                              ? f.push(
                                  o.build(e, a),
                                  s.build(e, 1 === e.getTypeLength(s.getNodeType(e)) ? 'float' : a)
                                )
                              : r === t.REFRACT
                                ? f.push(o.build(e, a), s.build(e, a), u.build(e, 'float'))
                                : r === t.MIX
                                  ? f.push(
                                      o.build(e, a),
                                      s.build(e, a),
                                      u.build(
                                        e,
                                        1 === e.getTypeLength(u.getNodeType(e)) ? 'float' : a
                                      )
                                    )
                                  : (l === Ic && r === t.ATAN && null !== s && (r = 'atan2'),
                                    f.push(o.build(e, a)),
                                    null !== s && f.push(s.build(e, a)),
                                    null !== u && f.push(u.build(e, a))),
                        e.format(
                          ''.concat(e.getMethod(r, i), '( ').concat(f.join(', '), ' )'),
                          i,
                          n
                        )
                      )
                    },
                  },
                  {
                    key: 'serialize',
                    value: function (e) {
                      ;(n(t, 'serialize', this, 3)([e]), (e.method = this.method))
                    },
                  },
                  {
                    key: 'deserialize',
                    value: function (e) {
                      ;(n(t, 'deserialize', this, 3)([e]), (this.method = e.method))
                    },
                  },
                ],
                [
                  {
                    key: 'type',
                    get: function () {
                      return 'MathNode'
                    },
                  },
                ]
              )
            )
          })(IS)
          ;((bT.ALL = 'all'),
            (bT.ANY = 'any'),
            (bT.RADIANS = 'radians'),
            (bT.DEGREES = 'degrees'),
            (bT.EXP = 'exp'),
            (bT.EXP2 = 'exp2'),
            (bT.LOG = 'log'),
            (bT.LOG2 = 'log2'),
            (bT.SQRT = 'sqrt'),
            (bT.INVERSE_SQRT = 'inversesqrt'),
            (bT.FLOOR = 'floor'),
            (bT.CEIL = 'ceil'),
            (bT.NORMALIZE = 'normalize'),
            (bT.FRACT = 'fract'),
            (bT.SIN = 'sin'),
            (bT.COS = 'cos'),
            (bT.TAN = 'tan'),
            (bT.ASIN = 'asin'),
            (bT.ACOS = 'acos'),
            (bT.ATAN = 'atan'),
            (bT.ABS = 'abs'),
            (bT.SIGN = 'sign'),
            (bT.LENGTH = 'length'),
            (bT.NEGATE = 'negate'),
            (bT.ONE_MINUS = 'oneMinus'),
            (bT.DFDX = 'dFdx'),
            (bT.DFDY = 'dFdy'),
            (bT.ROUND = 'round'),
            (bT.RECIPROCAL = 'reciprocal'),
            (bT.TRUNC = 'trunc'),
            (bT.FWIDTH = 'fwidth'),
            (bT.TRANSPOSE = 'transpose'),
            (bT.BITCAST = 'bitcast'),
            (bT.EQUALS = 'equals'),
            (bT.MIN = 'min'),
            (bT.MAX = 'max'),
            (bT.MOD = 'mod'),
            (bT.STEP = 'step'),
            (bT.REFLECT = 'reflect'),
            (bT.DISTANCE = 'distance'),
            (bT.DIFFERENCE = 'difference'),
            (bT.DOT = 'dot'),
            (bT.CROSS = 'cross'),
            (bT.POW = 'pow'),
            (bT.TRANSFORM_DIRECTION = 'transformDirection'),
            (bT.MIX = 'mix'),
            (bT.CLAMP = 'clamp'),
            (bT.REFRACT = 'refract'),
            (bT.SMOOTHSTEP = 'smoothstep'),
            (bT.FACEFORWARD = 'faceforward'))
          var ST = zw(1e-6),
            wT = zw(1e6),
            AT = zw(Math.PI),
            TT = zw(2 * Math.PI),
            MT = Nw(bT, bT.ALL),
            ET = Nw(bT, bT.ANY),
            CT = Nw(bT, bT.RADIANS),
            kT = Nw(bT, bT.DEGREES),
            RT = Nw(bT, bT.EXP),
            IT = Nw(bT, bT.EXP2),
            NT = Nw(bT, bT.LOG),
            PT = Nw(bT, bT.LOG2),
            LT = Nw(bT, bT.SQRT),
            DT = Nw(bT, bT.INVERSE_SQRT),
            OT = Nw(bT, bT.FLOOR),
            FT = Nw(bT, bT.CEIL),
            BT = Nw(bT, bT.NORMALIZE),
            UT = Nw(bT, bT.FRACT),
            zT = Nw(bT, bT.SIN),
            VT = Nw(bT, bT.COS),
            HT = Nw(bT, bT.TAN),
            WT = Nw(bT, bT.ASIN),
            GT = Nw(bT, bT.ACOS),
            jT = Nw(bT, bT.ATAN),
            QT = Nw(bT, bT.ABS),
            qT = Nw(bT, bT.SIGN),
            XT = Nw(bT, bT.LENGTH),
            YT = Nw(bT, bT.NEGATE),
            KT = Nw(bT, bT.ONE_MINUS),
            ZT = Nw(bT, bT.DFDX),
            JT = Nw(bT, bT.DFDY),
            $T = Nw(bT, bT.ROUND),
            eM = Nw(bT, bT.RECIPROCAL),
            tM = Nw(bT, bT.TRUNC),
            nM = Nw(bT, bT.FWIDTH),
            rM = Nw(bT, bT.TRANSPOSE),
            iM = Nw(bT, bT.BITCAST),
            aM = Nw(bT, bT.EQUALS),
            oM = Nw(bT, bT.MIN),
            sM = Nw(bT, bT.MAX),
            uM = Nw(bT, bT.MOD),
            lM = Nw(bT, bT.STEP),
            cM = Nw(bT, bT.REFLECT),
            dM = Nw(bT, bT.DISTANCE),
            hM = Nw(bT, bT.DIFFERENCE),
            fM = Nw(bT, bT.DOT),
            pM = Nw(bT, bT.CROSS),
            vM = Nw(bT, bT.POW),
            mM = Nw(bT, bT.POW, 2),
            gM = Nw(bT, bT.POW, 3),
            yM = Nw(bT, bT.POW, 4),
            xM = Nw(bT, bT.TRANSFORM_DIRECTION),
            _M = function (e) {
              return tT(qT(e), vM(QT(e), 1 / 3))
            },
            bM = function (e) {
              return fM(e, e)
            },
            SM = Nw(bT, bT.MIX),
            wM = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
              return kw(new bT(bT.CLAMP, kw(e), kw(t), kw(n)))
            },
            AM = function (e) {
              return wM(e)
            },
            TM = Nw(bT, bT.REFRACT),
            MM = Nw(bT, bT.SMOOTHSTEP),
            EM = Nw(bT, bT.FACEFORWARD),
            CM = Lw(function (e) {
              var t = C(e, 1)[0],
                n = fM(t.xy, Gw(12.9898, 78.233)),
                r = uM(n, AT)
              return UT(zT(r).mul(43758.5453))
            }),
            kM = function (e, t, n) {
              return SM(t, n, e)
            },
            RM = function (e, t, n) {
              return MM(t, n, e)
            },
            IM = function (e, t) {
              return (
                console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),
                jT(e, t)
              )
            },
            NM = EM,
            PM = DT
          ;(WS('all', MT),
            WS('any', ET),
            WS('equals', aM),
            WS('radians', CT),
            WS('degrees', kT),
            WS('exp', RT),
            WS('exp2', IT),
            WS('log', NT),
            WS('log2', PT),
            WS('sqrt', LT),
            WS('inverseSqrt', DT),
            WS('floor', OT),
            WS('ceil', FT),
            WS('normalize', BT),
            WS('fract', UT),
            WS('sin', zT),
            WS('cos', VT),
            WS('tan', HT),
            WS('asin', WT),
            WS('acos', GT),
            WS('atan', jT),
            WS('abs', QT),
            WS('sign', qT),
            WS('length', XT),
            WS('lengthSq', bM),
            WS('negate', YT),
            WS('oneMinus', KT),
            WS('dFdx', ZT),
            WS('dFdy', JT),
            WS('round', $T),
            WS('reciprocal', eM),
            WS('trunc', tM),
            WS('fwidth', nM),
            WS('atan2', IM),
            WS('min', oM),
            WS('max', sM),
            WS('mod', uM),
            WS('step', lM),
            WS('reflect', cM),
            WS('distance', dM),
            WS('dot', fM),
            WS('cross', pM),
            WS('pow', vM),
            WS('pow2', mM),
            WS('pow3', gM),
            WS('pow4', yM),
            WS('transformDirection', xM),
            WS('mix', kM),
            WS('clamp', wM),
            WS('refract', TM),
            WS('smoothstep', RM),
            WS('faceForward', EM),
            WS('difference', hM),
            WS('saturate', AM),
            WS('cbrt', _M),
            WS('transpose', rM),
            WS('rand', CM))
          var LM = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  ((r = y(this, t)).condNode = e),
                  (r.ifNode = n),
                  (r.elseNode = i),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = e.getNodeProperties(this),
                          n = t.ifNode,
                          r = t.elseNode
                        if (void 0 === n) return (this.setup(e), this.getNodeType(e))
                        var i = n.getNodeType(e)
                        if (null !== r) {
                          var a = r.getNodeType(e)
                          if (e.getTypeLength(a) > e.getTypeLength(i)) return a
                        }
                        return i
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.condNode.cache(),
                          n = this.ifNode.cache(),
                          r = this.elseNode ? this.elseNode.cache() : null,
                          i = e.context.nodeBlock
                        ;((e.getDataFromNode(n).parentNodeBlock = i),
                          null !== r && (e.getDataFromNode(r).parentNodeBlock = i))
                        var a = e.getNodeProperties(this)
                        ;((a.condNode = t),
                          (a.ifNode = n.context({ nodeBlock: n })),
                          (a.elseNode = r ? r.context({ nodeBlock: r }) : null))
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.getNodeType(e),
                          r = e.getDataFromNode(this)
                        if (void 0 !== r.nodeProperty) return r.nodeProperty
                        var i = e.getNodeProperties(this),
                          a = i.condNode,
                          o = i.ifNode,
                          s = i.elseNode,
                          u = 'void' !== t,
                          l = u ? yA(n).build(e) : ''
                        r.nodeProperty = l
                        var c = a.build(e, 'bool')
                        e.addFlowCode(
                          '\n'.concat(e.tab, 'if ( ').concat(c, ' ) {\n\n')
                        ).addFlowTab()
                        var d = o.build(e, n)
                        if (
                          (d && (d = u ? l + ' = ' + d + ';' : 'return ' + d + ';'),
                          e.removeFlowTab().addFlowCode(e.tab + '\t' + d + '\n\n' + e.tab + '}'),
                          null !== s)
                        ) {
                          e.addFlowCode(' else {\n\n').addFlowTab()
                          var h = s.build(e, n)
                          ;(h && (h = u ? l + ' = ' + h + ';' : 'return ' + h + ';'),
                            e
                              .removeFlowTab()
                              .addFlowCode(e.tab + '\t' + h + '\n\n' + e.tab + '}\n\n'))
                        } else e.addFlowCode('\n\n')
                        return e.format(l, n, t)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ConditionalNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            DM = Nw(LM)
          WS('select', DM)
          var OM = function () {
            return (
              console.warn('TSL.ConditionalNode: cond() has been renamed to select().'),
              DM.apply(void 0, arguments)
            )
          }
          WS('cond', OM)
          var FM = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                return (
                  w(this, t),
                  ((n = y(this, t)).isContextNode = !0),
                  (n.node = e),
                  (n.value = r),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getScope',
                      value: function () {
                        return this.node.getScope()
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.node.getNodeType(e)
                      },
                    },
                    {
                      key: 'analyze',
                      value: function (e) {
                        this.node.build(e)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = e.getContext()
                        e.setContext(s(s({}, e.context), this.value))
                        var n = this.node.build(e)
                        return (e.setContext(t), n)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = e.getContext()
                        e.setContext(s(s({}, e.context), this.value))
                        var r = this.node.build(e, t)
                        return (e.setContext(n), r)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ContextNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            BM = Nw(FM),
            UM = function (e, t) {
              return BM(e, { label: t })
            }
          ;(WS('context', BM), WS('label', UM))
          var zM = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                return (
                  w(this, t),
                  ((n = y(this, t)).node = e),
                  (n.name = r),
                  (n.global = !0),
                  (n.isVarNode = !0),
                  (n.readOnly = i),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        return this.name || n(t, 'getHash', this, 3)([e])
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        return this.node.getMemberType(e, t)
                      },
                    },
                    {
                      key: 'getElementType',
                      value: function (e) {
                        return this.node.getElementType(e)
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.node.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.node,
                          n = this.name,
                          r = this.readOnly,
                          i = !0 === e.renderer.backend.isWebGPUBackend,
                          a = !1,
                          o = !1
                        r && ((a = e.isDeterministic(t)), (o = i ? r : a))
                        var s = e.getVectorType(this.getNodeType(e)),
                          u = t.build(e, s),
                          l = e.getVarFromNode(this, n, s, void 0, o),
                          c = e.getPropertyName(l),
                          d = c
                        if (o)
                          if (i) d = a ? 'const '.concat(c) : 'let '.concat(c)
                          else {
                            var h = e.getArrayCount(t)
                            d = 'const '.concat(e.getVar(l.type, c, h))
                          }
                        return (e.addLineFlowCode(''.concat(d, ' = ').concat(u), this), c)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'VarNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            VM = Nw(zM),
            HM = function (e) {
              return VM(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
              ).append()
            },
            WM = function (e) {
              return VM(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                !0
              ).append()
            }
          ;(WS('toVar', HM), WS('toConst', WM))
          var GM = function (e) {
            return (
              console.warn(
                'TSL: "temp( node )" is deprecated. Use "Var( node )" or "node.toVar()" instead.'
              ),
              VM(e)
            )
          }
          WS('temp', GM)
          var jM = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t)).node = e),
                  (n.name = r),
                  (n.isVaryingNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'isGlobal',
                      value: function () {
                        return !0
                      },
                    },
                    {
                      key: 'getHash',
                      value: function (e) {
                        return this.name || n(t, 'getHash', this, 3)([e])
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.node.getNodeType(e)
                      },
                    },
                    {
                      key: 'setupVarying',
                      value: function (e) {
                        var t = e.getNodeProperties(this),
                          n = t.varying
                        if (void 0 === n) {
                          var r = this.name,
                            i = this.getNodeType(e)
                          ;((t.varying = n = e.getVaryingFromNode(this, r, i)),
                            (t.node = this.node))
                        }
                        return (
                          n.needsInterpolation ||
                            (n.needsInterpolation = 'fragment' === e.shaderStage),
                          n
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        this.setupVarying(e)
                      },
                    },
                    {
                      key: 'analyze',
                      value: function (e) {
                        return (this.setupVarying(e), this.node.analyze(e))
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = e.getNodeProperties(this),
                          n = this.setupVarying(e),
                          r =
                            'fragment' === e.shaderStage &&
                            !0 === t.reassignPosition &&
                            e.context.needsPositionReassign
                        if (void 0 === t.propertyName || r) {
                          var i = this.getNodeType(e),
                            a = e.getPropertyName(n, bS.VERTEX)
                          ;(e.flowNodeFromShaderStage(bS.VERTEX, this.node, i, a),
                            (t.propertyName = a),
                            r
                              ? (t.reassignPosition = !1)
                              : void 0 === t.reassignPosition &&
                                e.context.isPositionNodeInput &&
                                (t.reassignPosition = !0))
                        }
                        return e.getPropertyName(n)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'VaryingNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            QM = Nw(jM),
            qM = function (e) {
              return QM(e)
            }
          ;(WS('toVarying', QM),
            WS('toVertexStage', qM),
            WS('varying', function () {
              return (
                console.warn('TSL.VaryingNode: .varying() has been renamed to .toVarying().'),
                QM.apply(void 0, arguments)
              )
            }),
            WS('vertexStage', function () {
              return (
                console.warn(
                  'TSL.VaryingNode: .vertexStage() has been renamed to .toVertexStage().'
                ),
                QM.apply(void 0, arguments)
              )
            }))
          var XM = Lw(function (e) {
              var t = C(e, 1)[0],
                n = t.mul(0.9478672986).add(0.0521327014).pow(2.4),
                r = t.mul(0.0773993808),
                i = t.lessThanEqual(0.04045)
              return SM(n, r, i)
            }).setLayout({
              name: 'sRGBTransferEOTF',
              type: 'vec3',
              inputs: [{ name: 'color', type: 'vec3' }],
            }),
            YM = Lw(function (e) {
              var t = C(e, 1)[0],
                n = t.pow(0.41666).mul(1.055).sub(0.055),
                r = t.mul(12.92),
                i = t.lessThanEqual(0.0031308)
              return SM(n, r, i)
            }).setLayout({
              name: 'sRGBTransferOETF',
              type: 'vec3',
              inputs: [{ name: 'color', type: 'vec3' }],
            }),
            KM = 'WorkingColorSpace',
            ZM = 'OutputColorSpace',
            JM = (function (e) {
              function t(e, n, r) {
                var i
                return (
                  w(this, t),
                  ((i = y(this, t, ['vec4'])).colorNode = e),
                  (i.source = n),
                  (i.target = r),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'resolveColorSpace',
                      value: function (e, t) {
                        return t === KM
                          ? nd.workingColorSpace
                          : t === ZM
                            ? e.context.outputColorSpace || e.renderer.outputColorSpace
                            : t
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.colorNode,
                          n = this.resolveColorSpace(e, this.source),
                          r = this.resolveColorSpace(e, this.target),
                          i = t
                        return !1 !== nd.enabled && n !== r && n && r
                          ? (nd.getTransfer(n) === Tc && (i = Jw(XM(i.rgb), i.a)),
                            nd.getPrimaries(n) !== nd.getPrimaries(r) &&
                              (i = Jw(rA(nd._getMatrix(new jc(), n, r)).mul(i.rgb), i.a)),
                            nd.getTransfer(r) === Tc && (i = Jw(YM(i.rgb), i.a)),
                            i)
                          : i
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ColorSpaceNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            $M = function (e) {
              return kw(new JM(kw(e), KM, ZM))
            },
            eE = function (e) {
              return kw(new JM(kw(e), ZM, KM))
            },
            tE = function (e, t) {
              return kw(new JM(kw(e), KM, t))
            },
            nE = function (e, t) {
              return kw(new JM(kw(e), t, KM))
            }
          ;(WS('toOutputColorSpace', $M),
            WS('toWorkingColorSpace', eE),
            WS('workingToColorSpace', tE),
            WS('colorSpaceToWorking', nE))
          var rE = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).referenceNode = e),
                  (r.isReferenceElementNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.referenceNode.uniformType
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var r = n(t, 'generate', this, 3)([e]),
                          i = this.referenceNode.getNodeType(),
                          a = this.getNodeType()
                        return e.format(r, i, a)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReferenceElementNode'
                      },
                    },
                  ]
                )
              )
            })(kS),
            iE = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (
                  w(this, t),
                  ((r = y(this, t)).property = e),
                  (r.uniformType = n),
                  (r.object = i),
                  (r.count = a),
                  (r.properties = e.split('.')),
                  (r.reference = i),
                  (r.node = null),
                  (r.group = null),
                  (r.updateType = SS.OBJECT),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setGroup',
                      value: function (e) {
                        return ((this.group = e), this)
                      },
                    },
                    {
                      key: 'element',
                      value: function (e) {
                        return kw(new rE(this, kw(e)))
                      },
                    },
                    {
                      key: 'setNodeType',
                      value: function (e) {
                        var t = mA(null, e).getSelf()
                        ;(null !== this.group && t.setGroup(this.group), (this.node = t))
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return (
                          null === this.node && (this.updateReference(e), this.updateValue()),
                          this.node.getNodeType(e)
                        )
                      },
                    },
                    {
                      key: 'getValueFromReference',
                      value: function () {
                        for (
                          var e =
                              arguments.length > 0 && void 0 !== arguments[0]
                                ? arguments[0]
                                : this.reference,
                            t = this.properties,
                            n = e[t[0]],
                            r = 1;
                          r < t.length;
                          r++
                        )
                          n = n[t[r]]
                        return n
                      },
                    },
                    {
                      key: 'updateReference',
                      value: function (e) {
                        return (
                          (this.reference = null !== this.object ? this.object : e.object),
                          this.reference
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        return (this.updateValue(), this.node)
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        this.updateValue()
                      },
                    },
                    {
                      key: 'updateValue',
                      value: function () {
                        null === this.node && this.setNodeType(this.uniformType)
                        var e = this.getValueFromReference()
                        Array.isArray(e) ? (this.node.array = e) : (this.node.value = e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReferenceBaseNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            aE = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (w(this, t), ((r = y(this, t, [e, n, i])).renderer = i), r.setGroup(fA), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateReference',
                      value: function (e) {
                        return (
                          (this.reference = null !== this.renderer ? this.renderer : e.renderer),
                          this.reference
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'RendererReferenceNode'
                      },
                    },
                  ]
                )
              )
            })(iE),
            oE = function (e, t) {
              return kw(
                new aE(e, t, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null)
              )
            },
            sE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : lE,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['vec3'])).toneMapping = e),
                  (n.exposureNode = r),
                  (n.colorNode = i),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'customCacheKey',
                      value: function () {
                        return lS(this.toneMapping)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.colorNode || e.context.color,
                          n = this.toneMapping
                        if (0 === n) return t
                        var r = null,
                          i = e.renderer.library.getToneMappingFunction(n)
                        return (
                          null !== i
                            ? (r = Jw(i(t.rgb, this.exposureNode), t.a))
                            : (console.error(
                                'ToneMappingNode: Unsupported Tone Mapping configuration.',
                                n
                              ),
                              (r = t)),
                          r
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ToneMappingNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            uE = function (e, t, n) {
              return kw(new sE(e, kw(t), kw(n)))
            },
            lE = oE('toneMappingExposure', 'float')
          WS('toneMapping', function (e, t, n) {
            return uE(t, n, e)
          })
          var cE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                return (
                  w(this, t),
                  ((n = y(this, t, [e, r])).isBufferNode = !0),
                  (n.bufferType = r),
                  (n.bufferStride = i),
                  (n.bufferOffset = a),
                  (n.usage = Ec),
                  (n.instanced = !1),
                  (n.attribute = null),
                  (n.global = !0),
                  e &&
                    !0 === e.isBufferAttribute &&
                    ((n.attribute = e),
                    (n.usage = e.usage),
                    (n.instanced = e.isInstancedBufferAttribute)),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        if (0 === this.bufferStride && 0 === this.bufferOffset) {
                          var t = e.globalCache.getData(this.value)
                          return (
                            void 0 === t &&
                              ((t = { node: this }), e.globalCache.setData(this.value, t)),
                            t.node.uuid
                          )
                        }
                        return this.uuid
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return (
                          null === this.bufferType &&
                            (this.bufferType = e.getTypeFromAttribute(this.attribute)),
                          this.bufferType
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        if (null === this.attribute) {
                          var t = this.getNodeType(e),
                            n = this.value,
                            r = e.getTypeLength(t),
                            i = this.bufferStride || r,
                            a = this.bufferOffset,
                            o = !0 === n.isInterleavedBuffer ? n : new Vf(n, i),
                            s = new Wf(o, r, a)
                          ;(o.setUsage(this.usage),
                            (this.attribute = s),
                            (this.attribute.isInstancedBufferAttribute = this.instanced))
                        }
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.getNodeType(e),
                          n = e.getBufferAttributeFromNode(this, t),
                          r = e.getPropertyName(n),
                          i = null
                        'vertex' === e.shaderStage || 'compute' === e.shaderStage
                          ? ((this.name = r), (i = r))
                          : (i = QM(this).build(e, t))
                        return i
                      },
                    },
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'bufferAttribute'
                      },
                    },
                    {
                      key: 'setUsage',
                      value: function (e) {
                        return (
                          (this.usage = e),
                          this.attribute &&
                            !0 === this.attribute.isBufferAttribute &&
                            (this.attribute.usage = e),
                          this
                        )
                      },
                    },
                    {
                      key: 'setInstanced',
                      value: function (e) {
                        return ((this.instanced = e), this)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'BufferAttributeNode'
                      },
                    },
                  ]
                )
              )
            })(FS),
            dE = function (e) {
              return kw(
                new cE(
                  e,
                  arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                  arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                )
              )
            },
            hE = function (e) {
              return dE(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              ).setUsage(Cc)
            },
            fE = function (e) {
              return dE(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              ).setInstanced(!0)
            },
            pE = function (e) {
              return hE(
                e,
                arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              ).setInstanced(!0)
            }
          WS('toAttribute', function (e) {
            return dE(e.value)
          })
          var vE = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [64]
                return (
                  w(this, t),
                  ((r = y(this, t, ['void'])).isComputeNode = !0),
                  (r.computeNode = e),
                  (r.count = n),
                  (r.workgroupSize = i),
                  (r.dispatchCount = 0),
                  (r.version = 1),
                  (r.name = ''),
                  (r.updateBeforeType = SS.OBJECT),
                  (r.onInitFunction = null),
                  r.updateDispatchCount(),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'dispose',
                      value: function () {
                        this.dispatchEvent({ type: 'dispose' })
                      },
                    },
                    {
                      key: 'label',
                      value: function (e) {
                        return ((this.name = e), this)
                      },
                    },
                    {
                      key: 'updateDispatchCount',
                      value: function () {
                        for (
                          var e = this.count, t = this.workgroupSize, n = t[0], r = 1;
                          r < t.length;
                          r++
                        )
                          n *= t[r]
                        this.dispatchCount = Math.ceil(e / n)
                      },
                    },
                    {
                      key: 'onInit',
                      value: function (e) {
                        return ((this.onInitFunction = e), this)
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        e.renderer.compute(this)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        if ('compute' === e.shaderStage) {
                          var t = this.computeNode.build(e, 'void')
                          '' !== t && e.addLineFlowCode(t, this)
                        }
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ComputeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            mE = function (e, t, n) {
              return kw(new vE(kw(e), t, n))
            }
          WS('compute', mE)
          var gE = (function (e) {
              function t(e) {
                var n,
                  r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                return (
                  w(this, t),
                  ((n = y(this, t)).node = e),
                  (n.parent = r),
                  (n.isCacheNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = e.getCache(),
                          n = e.getCacheFromNode(this, this.parent)
                        e.setCache(n)
                        var r = this.node.getNodeType(e)
                        return (e.setCache(t), r)
                      },
                    },
                    {
                      key: 'build',
                      value: function (e) {
                        var t,
                          n = e.getCache(),
                          r = e.getCacheFromNode(this, this.parent)
                        e.setCache(r)
                        for (
                          var i = arguments.length, a = new Array(i > 1 ? i - 1 : 0), o = 1;
                          o < i;
                          o++
                        )
                          a[o - 1] = arguments[o]
                        var s = (t = this.node).build.apply(t, [e].concat(a))
                        return (e.setCache(n), s)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'CacheNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            yE = function (e, t) {
              return kw(new gE(kw(e), t))
            }
          WS('cache', yE)
          var xE = Nw(
            (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t)).isBypassNode = !0),
                  (r.outputNode = e),
                  (r.callNode = n),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.outputNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.callNode.build(e, 'void')
                        return ('' !== t && e.addLineFlowCode(t, this), this.outputNode.build(e))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'BypassNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          )
          WS('bypass', xE)
          var _E = (function (e) {
              function t(e, n, r) {
                var i,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : zw(0),
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : zw(1)
                return (
                  w(this, t),
                  ((i = y(this, t)).node = e),
                  (i.inLowNode = n),
                  (i.inHighNode = r),
                  (i.outLowNode = a),
                  (i.outHighNode = o),
                  (i.doClamp = !0),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = this.node,
                          t = this.inLowNode,
                          n = this.inHighNode,
                          r = this.outLowNode,
                          i = this.outHighNode,
                          a = this.doClamp,
                          o = e.sub(t).div(n.sub(t))
                        return (!0 === a && (o = o.clamp()), o.mul(i.sub(r)).add(r))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'RemapNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            bE = Nw(_E, null, null, { doClamp: !1 }),
            SE = Nw(_E)
          ;(WS('remap', bE), WS('remapClamp', SE))
          var wE = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 'void'
                return (w(this, t), ((e = y(this, t, [r])).snippet = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.getNodeType(e),
                          r = this.snippet
                        if ('void' !== n) return e.format('( '.concat(r, ' )'), n, t)
                        e.addLineFlowCode(r, this)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ExpressionNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            AE = Nw(wE),
            TE = function (e) {
              return (e ? DM(e, AE('discard')) : AE('discard')).append()
            }
          WS('discard', TE)
          var ME = (function (e) {
              function t(e, n, r) {
                var i
                return (
                  w(this, t),
                  ((i = y(this, t, ['vec4'])).colorNode = e),
                  (i.toneMapping = n),
                  (i.outputColorSpace = r),
                  (i.isRenderOutputNode = !0),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = e.context,
                          n = this.colorNode || t.color,
                          r = (null !== this.toneMapping ? this.toneMapping : t.toneMapping) || 0,
                          i =
                            (null !== this.outputColorSpace
                              ? this.outputColorSpace
                              : t.outputColorSpace) || bc
                        return (
                          0 !== r && (n = n.toneMapping(r)),
                          i !== bc && i !== nd.workingColorSpace && (n = n.workingToColorSpace(i)),
                          n
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'RenderOutputNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            EE = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
              return kw(new ME(kw(e), t, n))
            }
          WS('renderOutput', EE)
          var CE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), ((n = y(this, t, [r])).global = !0), (n._attributeName = e), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        return this.getAttributeName(e)
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = this.nodeType
                        if (null === t) {
                          var n = this.getAttributeName(e)
                          if (e.hasGeometryAttribute(n)) {
                            var r = e.geometry.getAttribute(n)
                            t = e.getTypeFromAttribute(r)
                          } else t = 'float'
                        }
                        return t
                      },
                    },
                    {
                      key: 'setAttributeName',
                      value: function (e) {
                        return ((this._attributeName = e), this)
                      },
                    },
                    {
                      key: 'getAttributeName',
                      value: function () {
                        return this._attributeName
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.getAttributeName(e),
                          n = this.getNodeType(e)
                        if (!0 === e.hasGeometryAttribute(t)) {
                          var r = e.geometry.getAttribute(t),
                            i = e.getTypeFromAttribute(r),
                            a = e.getAttribute(t, i)
                          return 'vertex' === e.shaderStage
                            ? e.format(a.name, i, n)
                            : QM(this).build(e, n)
                        }
                        return (
                          console.warn(
                            'AttributeNode: Vertex attribute "'.concat(
                              t,
                              '" not found on geometry.'
                            )
                          ),
                          e.generateConst(n)
                        )
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.global = this.global),
                          (e._attributeName = this._attributeName))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.global = e.global),
                          (this._attributeName = e._attributeName))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'AttributeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            kE = function (e, t) {
              return kw(new CE(e, t))
            },
            RE = function () {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
              return kE('uv' + (e > 0 ? e : ''), 'vec2')
            },
            IE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['uvec2'])).isTextureSizeNode = !0),
                  (n.textureNode = e),
                  (n.levelNode = r),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.textureNode.build(e, 'property'),
                          r = null === this.levelNode ? '0' : this.levelNode.build(e, 'int')
                        return e.format(
                          ''
                            .concat(e.getMethod('textureDimensions'), '( ')
                            .concat(n, ', ')
                            .concat(r, ' )'),
                          this.getNodeType(e),
                          t
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'TextureSizeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            NE = Nw(IE),
            PE = Nw(
              (function (e) {
                function t(e) {
                  var n
                  return (
                    w(this, t),
                    ((n = y(this, t, [0]))._textureNode = e),
                    (n.updateType = SS.FRAME),
                    n
                  )
                }
                return (
                  b(t, e),
                  T(
                    t,
                    [
                      {
                        key: 'textureNode',
                        get: function () {
                          return this._textureNode
                        },
                      },
                      {
                        key: 'texture',
                        get: function () {
                          return this._textureNode.value
                        },
                      },
                      {
                        key: 'update',
                        value: function () {
                          var e = this.texture,
                            t = e.images,
                            n = t && t.length > 0 ? (t[0] && t[0].image) || t[0] : e.image
                          if (n && void 0 !== n.width) {
                            var r = n.width,
                              i = n.height
                            this.value = Math.log2(Math.max(r, i))
                          }
                        },
                      },
                    ],
                    [
                      {
                        key: 'type',
                        get: function () {
                          return 'MaxMipLevelNode'
                        },
                      },
                    ]
                  )
                )
              })(vA)
            ),
            LE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [e])).isTextureNode = !0),
                  (n.uvNode = r),
                  (n.levelNode = i),
                  (n.biasNode = a),
                  (n.compareNode = null),
                  (n.depthNode = null),
                  (n.gradNode = null),
                  (n.sampler = !0),
                  (n.updateMatrix = !1),
                  (n.updateType = SS.NONE),
                  (n.referenceNode = null),
                  (n._value = e),
                  (n._matrixUniform = null),
                  n.setUpdateMatrix(null === r),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'value',
                      get: function () {
                        return this.referenceNode ? this.referenceNode.value : this._value
                      },
                      set: function (e) {
                        this.referenceNode ? (this.referenceNode.value = e) : (this._value = e)
                      },
                    },
                    {
                      key: 'getUniformHash',
                      value: function () {
                        return this.value.uuid
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function () {
                        return !0 === this.value.isDepthTexture
                          ? 'float'
                          : this.value.type === _l
                            ? 'uvec4'
                            : this.value.type === xl
                              ? 'ivec4'
                              : 'vec4'
                      },
                    },
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'texture'
                      },
                    },
                    {
                      key: 'getDefaultUV',
                      value: function () {
                        return RE(this.value.channel)
                      },
                    },
                    {
                      key: 'updateReference',
                      value: function () {
                        return this.value
                      },
                    },
                    {
                      key: 'getTransformedUV',
                      value: function (e) {
                        return (
                          null === this._matrixUniform &&
                            (this._matrixUniform = mA(this.value.matrix)),
                          this._matrixUniform.mul(Xw(e, 1)).xy
                        )
                      },
                    },
                    {
                      key: 'setUpdateMatrix',
                      value: function (e) {
                        return (
                          (this.updateMatrix = e),
                          (this.updateType = e ? SS.RENDER : SS.NONE),
                          this
                        )
                      },
                    },
                    {
                      key: 'setupUV',
                      value: function (e, t) {
                        var n = this.value
                        return (
                          e.isFlipY() &&
                            ((n.image instanceof ImageBitmap && !0 === n.flipY) ||
                              !0 === n.isRenderTargetTexture ||
                              !0 === n.isFramebufferTexture ||
                              !0 === n.isDepthTexture) &&
                            (t = this.sampler
                              ? t.flipY()
                              : t.setY(Vw(NE(this, this.levelNode).y).sub(t.y).sub(1))),
                          t
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = e.getNodeProperties(this)
                        t.referenceNode = this.referenceNode
                        var n = this.value
                        if (!n || !0 !== n.isTexture)
                          throw new Error(
                            'THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().'
                          )
                        var r = this.uvNode
                        ;((null !== r && !0 !== e.context.forceUVContext) ||
                          !e.context.getUV ||
                          (r = e.context.getUV(this)),
                          r || (r = this.getDefaultUV()),
                          !0 === this.updateMatrix && (r = this.getTransformedUV(r)),
                          (r = this.setupUV(e, r)))
                        var i = this.levelNode
                        ;(null === i &&
                          e.context.getTextureLevel &&
                          (i = e.context.getTextureLevel(this)),
                          (t.uvNode = r),
                          (t.levelNode = i),
                          (t.biasNode = this.biasNode),
                          (t.compareNode = this.compareNode),
                          (t.gradNode = this.gradNode),
                          (t.depthNode = this.depthNode))
                      },
                    },
                    {
                      key: 'generateUV',
                      value: function (e, t) {
                        return t.build(e, !0 === this.sampler ? 'vec2' : 'ivec2')
                      },
                    },
                    {
                      key: 'generateSnippet',
                      value: function (e, t, n, r, i, a, o, s) {
                        var u = this.value
                        return r
                          ? e.generateTextureLevel(u, t, n, r, a)
                          : i
                            ? e.generateTextureBias(u, t, n, i, a)
                            : s
                              ? e.generateTextureGrad(u, t, n, s, a)
                              : o
                                ? e.generateTextureCompare(u, t, n, o, a)
                                : !1 === this.sampler
                                  ? e.generateTextureLoad(u, t, n, a)
                                  : e.generateTexture(u, t, n, a)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, r) {
                        var i = this.value,
                          a = e.getNodeProperties(this),
                          o = n(t, 'generate', this, 3)([e, 'property'])
                        if ('sampler' === r) return o + '_sampler'
                        if (e.isReference(r)) return o
                        var s = e.getDataFromNode(this),
                          u = s.propertyName
                        if (void 0 === u) {
                          var l = a.uvNode,
                            c = a.levelNode,
                            d = a.biasNode,
                            h = a.compareNode,
                            f = a.depthNode,
                            p = a.gradNode,
                            v = this.generateUV(e, l),
                            m = c ? c.build(e, 'float') : null,
                            g = d ? d.build(e, 'float') : null,
                            y = f ? f.build(e, 'int') : null,
                            x = h ? h.build(e, 'float') : null,
                            _ = p ? [p[0].build(e, 'vec2'), p[1].build(e, 'vec2')] : null,
                            b = e.getVarFromNode(this)
                          u = e.getPropertyName(b)
                          var S = this.generateSnippet(e, o, v, m, g, y, x, _)
                          ;(e.addLineFlowCode(''.concat(u, ' = ').concat(S), this),
                            (s.snippet = S),
                            (s.propertyName = u))
                        }
                        var w = u,
                          A = this.getNodeType(e)
                        return (
                          e.needsToWorkingColorSpace(i) &&
                            (w = nE(AE(w, A), i.colorSpace).setup(e).build(e, A)),
                          e.format(w, A, r)
                        )
                      },
                    },
                    {
                      key: 'setSampler',
                      value: function (e) {
                        return ((this.sampler = e), this)
                      },
                    },
                    {
                      key: 'getSampler',
                      value: function () {
                        return this.sampler
                      },
                    },
                    {
                      key: 'uv',
                      value: function (e) {
                        return (
                          console.warn(
                            'THREE.TextureNode: .uv() has been renamed. Use .sample() instead.'
                          ),
                          this.sample(e)
                        )
                      },
                    },
                    {
                      key: 'sample',
                      value: function (e) {
                        var t = this.clone()
                        return ((t.uvNode = kw(e)), (t.referenceNode = this.getSelf()), kw(t))
                      },
                    },
                    {
                      key: 'blur',
                      value: function (e) {
                        var t = this.clone()
                        return (
                          (t.biasNode = kw(e).mul(PE(t))),
                          (t.referenceNode = this.getSelf()),
                          kw(t)
                        )
                      },
                    },
                    {
                      key: 'level',
                      value: function (e) {
                        var t = this.clone()
                        return ((t.levelNode = kw(e)), (t.referenceNode = this.getSelf()), kw(t))
                      },
                    },
                    {
                      key: 'size',
                      value: function (e) {
                        return NE(this, e)
                      },
                    },
                    {
                      key: 'bias',
                      value: function (e) {
                        var t = this.clone()
                        return ((t.biasNode = kw(e)), (t.referenceNode = this.getSelf()), kw(t))
                      },
                    },
                    {
                      key: 'compare',
                      value: function (e) {
                        var t = this.clone()
                        return ((t.compareNode = kw(e)), (t.referenceNode = this.getSelf()), kw(t))
                      },
                    },
                    {
                      key: 'grad',
                      value: function (e, t) {
                        var n = this.clone()
                        return (
                          (n.gradNode = [kw(e), kw(t)]),
                          (n.referenceNode = this.getSelf()),
                          kw(n)
                        )
                      },
                    },
                    {
                      key: 'depth',
                      value: function (e) {
                        var t = this.clone()
                        return ((t.depthNode = kw(e)), (t.referenceNode = this.getSelf()), kw(t))
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.value = this.value.toJSON(e.meta).uuid),
                          (e.sampler = this.sampler),
                          (e.updateMatrix = this.updateMatrix),
                          (e.updateType = this.updateType))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.value = e.meta.textures[e.value]),
                          (this.sampler = e.sampler),
                          (this.updateMatrix = e.updateMatrix),
                          (this.updateType = e.updateType))
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        var e = this.value,
                          t = this._matrixUniform
                        ;(null !== t && (t.value = e.matrix),
                          !0 === e.matrixAutoUpdate && e.updateMatrix())
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        var e = new this.constructor(
                          this.value,
                          this.uvNode,
                          this.levelNode,
                          this.biasNode
                        )
                        return ((e.sampler = this.sampler), e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'TextureNode'
                      },
                    },
                  ]
                )
              )
            })(vA),
            DE = Nw(LE),
            OE = function () {
              return DE.apply(void 0, arguments).setSampler(!1)
            },
            FE = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).isBufferNode = !0),
                  (r.bufferType = n),
                  (r.bufferCount = i),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getElementType',
                      value: function (e) {
                        return this.getNodeType(e)
                      },
                    },
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'buffer'
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'BufferNode'
                      },
                    },
                  ]
                )
              )
            })(vA),
            BE = function (e, t, n) {
              return kw(new FE(e, t, n))
            },
            UE = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [e, n])).isArrayBufferElementNode = !0), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e) {
                        var r = n(t, 'generate', this, 3)([e]),
                          i = this.getNodeType(),
                          a = this.node.getPaddedType()
                        return e.format(r, a, i)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'UniformArrayElementNode'
                      },
                    },
                  ]
                )
              )
            })(kS),
            zE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [null])).array = e),
                  (n.elementType = null === r ? mS(e[0]) : r),
                  (n.paddedType = n.getPaddedType()),
                  (n.updateType = SS.RENDER),
                  (n.isArrayBufferNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.paddedType
                      },
                    },
                    {
                      key: 'getElementType',
                      value: function () {
                        return this.elementType
                      },
                    },
                    {
                      key: 'getPaddedType',
                      value: function () {
                        var e = this.elementType,
                          t = 'vec4'
                        return (
                          'mat2' === e
                            ? (t = 'mat2')
                            : !0 === /mat/.test(e)
                              ? (t = 'mat4')
                              : 'i' === e.charAt(0)
                                ? (t = 'ivec4')
                                : 'u' === e.charAt(0) && (t = 'uvec4'),
                          t
                        )
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        var e = this.array,
                          t = this.value,
                          n = this.elementType
                        if ('float' === n || 'int' === n || 'uint' === n)
                          for (var r = 0; r < e.length; r++) {
                            t[4 * r] = e[r]
                          }
                        else if ('color' === n)
                          for (var i = 0; i < e.length; i++) {
                            var a = 4 * i,
                              o = e[i]
                            ;((t[a] = o.r), (t[a + 1] = o.g), (t[a + 2] = o.b || 0))
                          }
                        else if ('mat2' === n)
                          for (var s = 0; s < e.length; s++) {
                            var u = 4 * s,
                              l = e[s]
                            ;((t[u] = l.elements[0]),
                              (t[u + 1] = l.elements[1]),
                              (t[u + 2] = l.elements[2]),
                              (t[u + 3] = l.elements[3]))
                          }
                        else if ('mat3' === n)
                          for (var c = 0; c < e.length; c++) {
                            var d = 16 * c,
                              h = e[c]
                            ;((t[d] = h.elements[0]),
                              (t[d + 1] = h.elements[1]),
                              (t[d + 2] = h.elements[2]),
                              (t[d + 4] = h.elements[3]),
                              (t[d + 5] = h.elements[4]),
                              (t[d + 6] = h.elements[5]),
                              (t[d + 8] = h.elements[6]),
                              (t[d + 9] = h.elements[7]),
                              (t[d + 10] = h.elements[8]),
                              (t[d + 15] = 1))
                          }
                        else if ('mat4' === n)
                          for (var f = 0; f < e.length; f++)
                            for (var p = 16 * f, v = e[f], m = 0; m < v.elements.length; m++)
                              t[p + m] = v.elements[m]
                        else
                          for (var g = 0; g < e.length; g++) {
                            var y = 4 * g,
                              x = e[g]
                            ;((t[y] = x.x),
                              (t[y + 1] = x.y),
                              (t[y + 2] = x.z || 0),
                              (t[y + 3] = x.w || 0))
                          }
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var r = this.array.length,
                          i = this.elementType,
                          a = Float32Array,
                          o = this.paddedType,
                          s = e.getTypeLength(o)
                        return (
                          'i' === i.charAt(0) && (a = Int32Array),
                          'u' === i.charAt(0) && (a = Uint32Array),
                          (this.value = new a(r * s)),
                          (this.bufferCount = r),
                          (this.bufferType = o),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                    {
                      key: 'element',
                      value: function (e) {
                        return kw(new UE(this, kw(e)))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'UniformArrayNode'
                      },
                    },
                  ]
                )
              )
            })(FE),
            VE = function (e, t) {
              return kw(new zE(e, t))
            },
            HE = mA(0, 'uint').setGroup(dA('cameraIndex')).toVarying('v_cameraIndex'),
            WE = mA('float')
              .label('cameraNear')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.camera.near
              }),
            GE = mA('float')
              .label('cameraFar')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.camera.far
              }),
            jE = Lw(function (e) {
              var t,
                n = e.camera
              if (n.isArrayCamera && n.cameras.length > 0) {
                var r,
                  i = [],
                  a = L(n.cameras)
                try {
                  for (a.s(); !(r = a.n()).done; ) {
                    var o = r.value
                    i.push(o.projectionMatrix)
                  }
                } catch (s) {
                  a.e(s)
                } finally {
                  a.f()
                }
                t = VE(i)
                  .setGroup(fA)
                  .label('cameraProjectionMatrices')
                  .element(HE)
                  .toVar('cameraProjectionMatrix')
              } else
                t = mA('mat4')
                  .label('cameraProjectionMatrix')
                  .setGroup(fA)
                  .onRenderUpdate(function (e) {
                    return e.camera.projectionMatrix
                  })
              return t
            }).once()(),
            QE = mA('mat4')
              .label('cameraProjectionMatrixInverse')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.camera.projectionMatrixInverse
              }),
            qE = Lw(function (e) {
              var t,
                n = e.camera
              if (n.isArrayCamera && n.cameras.length > 0) {
                var r,
                  i = [],
                  a = L(n.cameras)
                try {
                  for (a.s(); !(r = a.n()).done; ) {
                    var o = r.value
                    i.push(o.matrixWorldInverse)
                  }
                } catch (s) {
                  a.e(s)
                } finally {
                  a.f()
                }
                t = VE(i)
                  .setGroup(fA)
                  .label('cameraViewMatrices')
                  .element(HE)
                  .toVar('cameraViewMatrix')
              } else
                t = mA('mat4')
                  .label('cameraViewMatrix')
                  .setGroup(fA)
                  .onRenderUpdate(function (e) {
                    return e.camera.matrixWorldInverse
                  })
              return t
            }).once()(),
            XE = mA('mat4')
              .label('cameraWorldMatrix')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.camera.matrixWorld
              }),
            YE = mA('mat3')
              .label('cameraNormalMatrix')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.camera.normalMatrix
              }),
            KE = mA(new gd())
              .label('cameraPosition')
              .setGroup(fA)
              .onRenderUpdate(function (e, t) {
                var n = e.camera
                return t.value.setFromMatrixPosition(n.matrixWorld)
              }),
            ZE = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t)).scope = e),
                  (n.object3d = r),
                  (n.updateType = SS.OBJECT),
                  (n._uniformNode = new vA(null)),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        var e = this.scope
                        return e === t.WORLD_MATRIX
                          ? 'mat4'
                          : e === t.POSITION ||
                              e === t.VIEW_POSITION ||
                              e === t.DIRECTION ||
                              e === t.SCALE
                            ? 'vec3'
                            : void 0
                      },
                    },
                    {
                      key: 'update',
                      value: function (e) {
                        var n = this.object3d,
                          r = this._uniformNode,
                          i = this.scope
                        if (i === t.WORLD_MATRIX) r.value = n.matrixWorld
                        else if (i === t.POSITION)
                          ((r.value = r.value || new gd()),
                            r.value.setFromMatrixPosition(n.matrixWorld))
                        else if (i === t.SCALE)
                          ((r.value = r.value || new gd()),
                            r.value.setFromMatrixScale(n.matrixWorld))
                        else if (i === t.DIRECTION)
                          ((r.value = r.value || new gd()), n.getWorldDirection(r.value))
                        else if (i === t.VIEW_POSITION) {
                          var a = e.camera
                          ;((r.value = r.value || new gd()),
                            r.value.setFromMatrixPosition(n.matrixWorld),
                            r.value.applyMatrix4(a.matrixWorldInverse))
                        }
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var n = this.scope
                        return (
                          n === t.WORLD_MATRIX
                            ? (this._uniformNode.nodeType = 'mat4')
                            : (n !== t.POSITION &&
                                n !== t.VIEW_POSITION &&
                                n !== t.DIRECTION &&
                                n !== t.SCALE) ||
                              (this._uniformNode.nodeType = 'vec3'),
                          this._uniformNode.build(e)
                        )
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]), (e.scope = this.scope))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]), (this.scope = e.scope))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'Object3DNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((ZE.WORLD_MATRIX = 'worldMatrix'),
            (ZE.POSITION = 'position'),
            (ZE.SCALE = 'scale'),
            (ZE.VIEW_POSITION = 'viewPosition'),
            (ZE.DIRECTION = 'direction'))
          var JE = Nw(ZE, ZE.DIRECTION),
            $E = Nw(ZE, ZE.WORLD_MATRIX),
            eC = Nw(ZE, ZE.POSITION),
            tC = Nw(ZE, ZE.SCALE),
            nC = Nw(ZE, ZE.VIEW_POSITION),
            rC = (function (e) {
              function t(e) {
                return (w(this, t), y(this, t, [e]))
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'update',
                      value: function (e) {
                        ;((this.object3d = e.object), n(t, 'update', this, 3)([e]))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ModelNode'
                      },
                    },
                  ]
                )
              )
            })(ZE),
            iC = Pw(rC, rC.DIRECTION),
            aC = Pw(rC, rC.WORLD_MATRIX),
            oC = Pw(rC, rC.POSITION),
            sC = Pw(rC, rC.SCALE),
            uC = Pw(rC, rC.VIEW_POSITION),
            lC = mA(new jc()).onObjectUpdate(function (e, t) {
              var n = e.object
              return t.value.getNormalMatrix(n.matrixWorld)
            }),
            cC = mA(new qd()).onObjectUpdate(function (e, t) {
              var n = e.object
              return t.value.copy(n.matrixWorld).invert()
            }),
            dC = Lw(function (e) {
              return e.renderer.nodes.modelViewMatrix || hC
            })
              .once()()
              .toVar('modelViewMatrix'),
            hC = qE.mul(aC),
            fC = Lw(function (e) {
              return (
                (e.context.isHighPrecisionModelViewMatrix = !0),
                mA('mat4').onObjectUpdate(function (e) {
                  var t = e.object,
                    n = e.camera
                  return t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, t.matrixWorld)
                })
              )
            })
              .once()()
              .toVar('highpModelViewMatrix'),
            pC = Lw(function (e) {
              var t = e.context.isHighPrecisionModelViewMatrix
              return mA('mat3').onObjectUpdate(function (e) {
                var n = e.object,
                  r = e.camera
                return (
                  !0 !== t &&
                    n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse, n.matrixWorld),
                  n.normalMatrix.getNormalMatrix(n.modelViewMatrix)
                )
              })
            })
              .once()()
              .toVar('highpModelNormalViewMatrix'),
            vC = kE('position', 'vec3'),
            mC = vC.toVarying('positionLocal'),
            gC = vC.toVarying('positionPrevious'),
            yC = aC.mul(mC).xyz.toVarying('v_positionWorld').context({ needsPositionReassign: !0 }),
            xC = mC
              .transformDirection(aC)
              .toVarying('v_positionWorldDirection')
              .normalize()
              .toVar('positionWorldDirection')
              .context({ needsPositionReassign: !0 }),
            _C = Lw(function (e) {
              return e.context.setupPositionView()
            }, 'vec3')
              .once()()
              .toVarying('v_positionView')
              .context({ needsPositionReassign: !0 }),
            bC = _C
              .negate()
              .toVarying('v_positionViewDirection')
              .normalize()
              .toVar('positionViewDirection'),
            SC = (function (e) {
              function t() {
                var e
                return (w(this, t), ((e = y(this, t, ['bool'])).isFrontFacingNode = !0), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = e.renderer,
                          n = e.material
                        return t.coordinateSystem === Rc && 1 === n.side
                          ? 'false'
                          : e.getFrontFacing()
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'FrontFacingNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            wC = Pw(SC),
            AC = zw(wC).mul(2).sub(1),
            TC = kE('normal', 'vec3'),
            MC = Lw(function (e) {
              return !1 === e.geometry.hasAttribute('normal')
                ? (console.warn('TSL.NormalNode: Vertex attribute "normal" not found on geometry.'),
                  Xw(0, 1, 0))
                : TC
            }, 'vec3')
              .once()()
              .toVar('normalLocal'),
            EC = _C.dFdx().cross(_C.dFdy()).normalize().toVar('normalFlat'),
            CC = Lw(function (e) {
              return !0 === e.material.flatShading ? EC : QM(LC(MC), 'v_normalView').normalize()
            }, 'vec3')
              .once()()
              .toVar('normalView'),
            kC = QM(CC.transformDirection(qE), 'v_normalWorld').normalize().toVar('normalWorld'),
            RC = Lw(function (e) {
              return e.context.setupNormal().context({ getUV: null })
            }, 'vec3')
              .once()()
              .mul(AC)
              .toVar('transformedNormalView'),
            IC = RC.transformDirection(qE).toVar('transformedNormalWorld'),
            NC = Lw(function (e) {
              return e.context.setupClearcoatNormal().context({ getUV: null })
            }, 'vec3')
              .once()()
              .mul(AC)
              .toVar('transformedClearcoatNormalView'),
            PC = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = rA(void 0 === r ? aC : r),
                a = n.div(Xw(i[0].dot(i[0]), i[1].dot(i[1]), i[2].dot(i[2])))
              return i.mul(a).xyz
            }),
            LC = Lw(function (e, t) {
              var n = C(e, 1)[0],
                r = t.renderer.nodes.modelNormalViewMatrix
              if (null !== r) return r.transformDirection(n)
              var i = lC.mul(n)
              return qE.transformDirection(i)
            }),
            DC = mA(0)
              .onReference(function (e) {
                return e.material
              })
              .onRenderUpdate(function (e) {
                return e.material.refractionRatio
              }),
            OC = bC.negate().reflect(RC),
            FC = bC.negate().refract(RC, DC),
            BC = OC.transformDirection(qE).toVar('reflectVector'),
            UC = FC.transformDirection(qE).toVar('reflectVector'),
            zC = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (w(this, t), ((n = y(this, t, [e, r, i, a])).isCubeTextureNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'cubeTexture'
                      },
                    },
                    {
                      key: 'getDefaultUV',
                      value: function () {
                        var e = this.value
                        return e.mapping === il
                          ? BC
                          : e.mapping === al
                            ? UC
                            : (console.error(
                                'THREE.CubeTextureNode: Mapping "%s" not supported.',
                                e.mapping
                              ),
                              Xw(0, 0, 0))
                      },
                    },
                    { key: 'setUpdateMatrix', value: function () {} },
                    {
                      key: 'setupUV',
                      value: function (e, t) {
                        var n = this.value
                        return e.renderer.coordinateSystem !== Ic && n.isRenderTargetTexture
                          ? t
                          : Xw(t.x.negate(), t.yz)
                      },
                    },
                    {
                      key: 'generateUV',
                      value: function (e, t) {
                        return t.build(e, 'vec3')
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'CubeTextureNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            VC = Nw(zC),
            HC = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).referenceNode = e),
                  (r.isReferenceElementNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.referenceNode.uniformType
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var r = n(t, 'generate', this, 3)([e]),
                          i = this.referenceNode.getNodeType(),
                          a = this.getNodeType()
                        return e.format(r, i, a)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReferenceElementNode'
                      },
                    },
                  ]
                )
              )
            })(kS),
            WC = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (
                  w(this, t),
                  ((r = y(this, t)).property = e),
                  (r.uniformType = n),
                  (r.object = i),
                  (r.count = a),
                  (r.properties = e.split('.')),
                  (r.reference = i),
                  (r.node = null),
                  (r.group = null),
                  (r.name = null),
                  (r.updateType = SS.OBJECT),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'element',
                      value: function (e) {
                        return kw(new HC(this, kw(e)))
                      },
                    },
                    {
                      key: 'setGroup',
                      value: function (e) {
                        return ((this.group = e), this)
                      },
                    },
                    {
                      key: 'label',
                      value: function (e) {
                        return ((this.name = e), this)
                      },
                    },
                    {
                      key: 'setNodeType',
                      value: function (e) {
                        var t = null
                        ;((t =
                          null !== this.count
                            ? BE(null, e, this.count)
                            : Array.isArray(this.getValueFromReference())
                              ? VE(null, e)
                              : 'texture' === e
                                ? DE(null)
                                : 'cubeTexture' === e
                                  ? VC(null)
                                  : mA(null, e)),
                          null !== this.group && t.setGroup(this.group),
                          null !== this.name && t.label(this.name),
                          (this.node = t.getSelf()))
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return (
                          null === this.node && (this.updateReference(e), this.updateValue()),
                          this.node.getNodeType(e)
                        )
                      },
                    },
                    {
                      key: 'getValueFromReference',
                      value: function () {
                        for (
                          var e =
                              arguments.length > 0 && void 0 !== arguments[0]
                                ? arguments[0]
                                : this.reference,
                            t = this.properties,
                            n = e[t[0]],
                            r = 1;
                          r < t.length;
                          r++
                        )
                          n = n[t[r]]
                        return n
                      },
                    },
                    {
                      key: 'updateReference',
                      value: function (e) {
                        return (
                          (this.reference = null !== this.object ? this.object : e.object),
                          this.reference
                        )
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        return (this.updateValue(), this.node)
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        this.updateValue()
                      },
                    },
                    {
                      key: 'updateValue',
                      value: function () {
                        null === this.node && this.setNodeType(this.uniformType)
                        var e = this.getValueFromReference()
                        Array.isArray(e) ? (this.node.array = e) : (this.node.value = e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReferenceNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            GC = function (e, t, n) {
              return kw(new WC(e, t, n))
            },
            jC = function (e, t, n, r) {
              return kw(new WC(e, t, r, n))
            },
            QC = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n, i])).material = i),
                  (r.isMaterialReferenceNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateReference',
                      value: function (e) {
                        return (
                          (this.reference = null !== this.material ? this.material : e.material),
                          this.reference
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MaterialReferenceNode'
                      },
                    },
                  ]
                )
              )
            })(WC),
            qC = function (e, t) {
              return kw(
                new QC(e, t, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null)
              )
            },
            XC = Lw(function (e) {
              return (
                !1 === e.geometry.hasAttribute('tangent') && e.geometry.computeTangents(),
                kE('tangent', 'vec4')
              )
            })(),
            YC = XC.xyz.toVar('tangentLocal'),
            KC = dC.mul(Jw(YC, 0)).xyz.toVarying('v_tangentView').normalize().toVar('tangentView'),
            ZC = KC.transformDirection(qE)
              .toVarying('v_tangentWorld')
              .normalize()
              .toVar('tangentWorld'),
            JC = KC.toVar('transformedTangentView'),
            $C = JC.transformDirection(qE).normalize().toVar('transformedTangentWorld'),
            ek = function (e) {
              return e.mul(XC.w).xyz
            },
            tk = QM(ek(TC.cross(XC)), 'v_bitangentGeometry')
              .normalize()
              .toVar('bitangentGeometry'),
            nk = QM(ek(MC.cross(YC)), 'v_bitangentLocal')
              .normalize()
              .toVar('bitangentLocal'),
            rk = QM(ek(CC.cross(KC)), 'v_bitangentView')
              .normalize()
              .toVar('bitangentView'),
            ik = QM(ek(kC.cross(ZC)), 'v_bitangentWorld')
              .normalize()
              .toVar('bitangentWorld'),
            ak = ek(RC.cross(JC)).normalize().toVar('transformedBitangentView'),
            ok = ak.transformDirection(qE).normalize().toVar('transformedBitangentWorld'),
            sk = rA(KC, rk, CC),
            uk = bC.mul(sk),
            lk = (function () {
              var e = LA.cross(bC)
              return (
                (e = e.cross(LA).normalize()),
                (e = SM(e, RC, NA.mul(SA.oneMinus()).oneMinus().pow2().pow2()).normalize())
              )
            })(),
            ck = Lw(function (e) {
              var t = e.eye_pos,
                n = e.surf_norm,
                r = e.mapN,
                i = e.uv,
                a = t.dFdx(),
                o = t.dFdy(),
                s = i.dFdx(),
                u = i.dFdy(),
                l = n,
                c = o.cross(l),
                d = l.cross(a),
                h = c.mul(s.x).add(d.mul(u.x)),
                f = c.mul(s.y).add(d.mul(u.y)),
                p = h.dot(h).max(f.dot(f)),
                v = AC.mul(p.inverseSqrt())
              return $A(h.mul(r.x, v), f.mul(r.y, v), l.mul(r.z)).normalize()
            }),
            dk = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['vec3'])).node = e),
                  (n.scaleNode = r),
                  (n.normalMapType = 0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.normalMapType,
                          n = this.scaleNode,
                          r = this.node.mul(2).sub(1)
                        null !== n && (r = Xw(r.xy.mul(n), r.z))
                        var i = null
                        if (1 === t) i = LC(r)
                        else if (0 === t) {
                          i =
                            !0 === e.hasGeometryAttribute('tangent')
                              ? sk.mul(r).normalize()
                              : ck({ eye_pos: _C, surf_norm: CC, mapN: r, uv: RE() })
                        }
                        return i
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'NormalMapNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            hk = Nw(dk),
            fk = Lw(function (e) {
              var t = e.textureNode,
                n = e.bumpScale,
                r = function (e) {
                  return t.cache().context({
                    getUV: function (t) {
                      return e(t.uvNode || RE())
                    },
                    forceUVContext: !0,
                  })
                },
                i = zw(
                  r(function (e) {
                    return e
                  })
                )
              return Gw(
                zw(
                  r(function (e) {
                    return e.add(e.dFdx())
                  })
                ).sub(i),
                zw(
                  r(function (e) {
                    return e.add(e.dFdy())
                  })
                ).sub(i)
              ).mul(n)
            }),
            pk = Lw(function (e) {
              var t = e.surf_pos,
                n = e.surf_norm,
                r = e.dHdxy,
                i = t.dFdx().normalize(),
                a = n,
                o = t.dFdy().normalize().cross(a),
                s = a.cross(i),
                u = i.dot(o).mul(AC),
                l = u.sign().mul(r.x.mul(o).add(r.y.mul(s)))
              return u.abs().mul(n).sub(l).normalize()
            }),
            vk = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['vec3'])).textureNode = e),
                  (n.scaleNode = r),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = null !== this.scaleNode ? this.scaleNode : 1,
                          t = fk({ textureNode: this.textureNode, bumpScale: e })
                        return pk({ surf_pos: _C, surf_norm: CC, dHdxy: t })
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'BumpMapNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            mk = Nw(vk),
            gk = new Map(),
            yk = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).scope = e), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getCache',
                      value: function (e, t) {
                        var n = gk.get(e)
                        return (void 0 === n && ((n = qC(e, t)), gk.set(e, n)), n)
                      },
                    },
                    {
                      key: 'getFloat',
                      value: function (e) {
                        return this.getCache(e, 'float')
                      },
                    },
                    {
                      key: 'getColor',
                      value: function (e) {
                        return this.getCache(e, 'color')
                      },
                    },
                    {
                      key: 'getTexture',
                      value: function (e) {
                        return this.getCache('map' === e ? 'map' : e + 'Map', 'texture')
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var n = e.context.material,
                          r = this.scope,
                          i = null
                        if (r === t.COLOR) {
                          var a = void 0 !== n.color ? this.getColor(r) : Xw()
                          i = n.map && !0 === n.map.isTexture ? a.mul(this.getTexture('map')) : a
                        } else if (r === t.OPACITY) {
                          var o = this.getFloat(r)
                          i =
                            n.alphaMap && !0 === n.alphaMap.isTexture
                              ? o.mul(this.getTexture('alpha'))
                              : o
                        } else if (r === t.SPECULAR_STRENGTH)
                          i =
                            n.specularMap && !0 === n.specularMap.isTexture
                              ? this.getTexture('specular').r
                              : zw(1)
                        else if (r === t.SPECULAR_INTENSITY) {
                          var s = this.getFloat(r)
                          i =
                            n.specularIntensityMap && !0 === n.specularIntensityMap.isTexture
                              ? s.mul(this.getTexture(r).a)
                              : s
                        } else if (r === t.SPECULAR_COLOR) {
                          var u = this.getColor(r)
                          i =
                            n.specularColorMap && !0 === n.specularColorMap.isTexture
                              ? u.mul(this.getTexture(r).rgb)
                              : u
                        } else if (r === t.ROUGHNESS) {
                          var l = this.getFloat(r)
                          i =
                            n.roughnessMap && !0 === n.roughnessMap.isTexture
                              ? l.mul(this.getTexture(r).g)
                              : l
                        } else if (r === t.METALNESS) {
                          var c = this.getFloat(r)
                          i =
                            n.metalnessMap && !0 === n.metalnessMap.isTexture
                              ? c.mul(this.getTexture(r).b)
                              : c
                        } else if (r === t.EMISSIVE) {
                          var d = this.getFloat('emissiveIntensity'),
                            h = this.getColor(r).mul(d)
                          i =
                            n.emissiveMap && !0 === n.emissiveMap.isTexture
                              ? h.mul(this.getTexture(r))
                              : h
                        } else if (r === t.NORMAL)
                          n.normalMap
                            ? ((i = hk(
                                this.getTexture('normal'),
                                this.getCache('normalScale', 'vec2')
                              )).normalMapType = n.normalMapType)
                            : (i = n.bumpMap
                                ? mk(this.getTexture('bump').r, this.getFloat('bumpScale'))
                                : CC)
                        else if (r === t.CLEARCOAT) {
                          var f = this.getFloat(r)
                          i =
                            n.clearcoatMap && !0 === n.clearcoatMap.isTexture
                              ? f.mul(this.getTexture(r).r)
                              : f
                        } else if (r === t.CLEARCOAT_ROUGHNESS) {
                          var p = this.getFloat(r)
                          i =
                            n.clearcoatRoughnessMap && !0 === n.clearcoatRoughnessMap.isTexture
                              ? p.mul(this.getTexture(r).r)
                              : p
                        } else if (r === t.CLEARCOAT_NORMAL)
                          i = n.clearcoatNormalMap
                            ? hk(this.getTexture(r), this.getCache(r + 'Scale', 'vec2'))
                            : CC
                        else if (r === t.SHEEN) {
                          var v = this.getColor('sheenColor').mul(this.getFloat('sheen'))
                          i =
                            n.sheenColorMap && !0 === n.sheenColorMap.isTexture
                              ? v.mul(this.getTexture('sheenColor').rgb)
                              : v
                        } else if (r === t.SHEEN_ROUGHNESS) {
                          var m = this.getFloat(r)
                          i = (i =
                            n.sheenRoughnessMap && !0 === n.sheenRoughnessMap.isTexture
                              ? m.mul(this.getTexture(r).a)
                              : m).clamp(0.07, 1)
                        } else if (r === t.ANISOTROPY)
                          if (n.anisotropyMap && !0 === n.anisotropyMap.isTexture) {
                            var g = this.getTexture(r)
                            i = nA(nR.x, nR.y, nR.y.negate(), nR.x).mul(
                              g.rg.mul(2).sub(Gw(1)).normalize().mul(g.b)
                            )
                          } else i = nR
                        else if (r === t.IRIDESCENCE_THICKNESS) {
                          var y = GC('1', 'float', n.iridescenceThicknessRange)
                          if (n.iridescenceThicknessMap) {
                            var x = GC('0', 'float', n.iridescenceThicknessRange)
                            i = y.sub(x).mul(this.getTexture(r).g).add(x)
                          } else i = y
                        } else if (r === t.TRANSMISSION) {
                          var _ = this.getFloat(r)
                          i = n.transmissionMap ? _.mul(this.getTexture(r).r) : _
                        } else if (r === t.THICKNESS) {
                          var b = this.getFloat(r)
                          i = n.thicknessMap ? b.mul(this.getTexture(r).g) : b
                        } else if (r === t.IOR) i = this.getFloat(r)
                        else if (r === t.LIGHT_MAP)
                          i = this.getTexture(r).rgb.mul(this.getFloat('lightMapIntensity'))
                        else if (r === t.AO)
                          i = this.getTexture(r)
                            .r.sub(1)
                            .mul(this.getFloat('aoMapIntensity'))
                            .add(1)
                        else {
                          var S = this.getNodeType(e)
                          i = this.getCache(r, S)
                        }
                        return i
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MaterialNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((yk.ALPHA_TEST = 'alphaTest'),
            (yk.COLOR = 'color'),
            (yk.OPACITY = 'opacity'),
            (yk.SHININESS = 'shininess'),
            (yk.SPECULAR = 'specular'),
            (yk.SPECULAR_STRENGTH = 'specularStrength'),
            (yk.SPECULAR_INTENSITY = 'specularIntensity'),
            (yk.SPECULAR_COLOR = 'specularColor'),
            (yk.REFLECTIVITY = 'reflectivity'),
            (yk.ROUGHNESS = 'roughness'),
            (yk.METALNESS = 'metalness'),
            (yk.NORMAL = 'normal'),
            (yk.CLEARCOAT = 'clearcoat'),
            (yk.CLEARCOAT_ROUGHNESS = 'clearcoatRoughness'),
            (yk.CLEARCOAT_NORMAL = 'clearcoatNormal'),
            (yk.EMISSIVE = 'emissive'),
            (yk.ROTATION = 'rotation'),
            (yk.SHEEN = 'sheen'),
            (yk.SHEEN_ROUGHNESS = 'sheenRoughness'),
            (yk.ANISOTROPY = 'anisotropy'),
            (yk.IRIDESCENCE = 'iridescence'),
            (yk.IRIDESCENCE_IOR = 'iridescenceIOR'),
            (yk.IRIDESCENCE_THICKNESS = 'iridescenceThickness'),
            (yk.IOR = 'ior'),
            (yk.TRANSMISSION = 'transmission'),
            (yk.THICKNESS = 'thickness'),
            (yk.ATTENUATION_DISTANCE = 'attenuationDistance'),
            (yk.ATTENUATION_COLOR = 'attenuationColor'),
            (yk.LINE_SCALE = 'scale'),
            (yk.LINE_DASH_SIZE = 'dashSize'),
            (yk.LINE_GAP_SIZE = 'gapSize'),
            (yk.LINE_WIDTH = 'linewidth'),
            (yk.LINE_DASH_OFFSET = 'dashOffset'),
            (yk.POINT_SIZE = 'size'),
            (yk.DISPERSION = 'dispersion'),
            (yk.LIGHT_MAP = 'light'),
            (yk.AO = 'ao'))
          var xk = Pw(yk, yk.ALPHA_TEST),
            _k = Pw(yk, yk.COLOR),
            bk = Pw(yk, yk.SHININESS),
            Sk = Pw(yk, yk.EMISSIVE),
            wk = Pw(yk, yk.OPACITY),
            Ak = Pw(yk, yk.SPECULAR),
            Tk = Pw(yk, yk.SPECULAR_INTENSITY),
            Mk = Pw(yk, yk.SPECULAR_COLOR),
            Ek = Pw(yk, yk.SPECULAR_STRENGTH),
            Ck = Pw(yk, yk.REFLECTIVITY),
            kk = Pw(yk, yk.ROUGHNESS),
            Rk = Pw(yk, yk.METALNESS),
            Ik = Pw(yk, yk.NORMAL),
            Nk = Pw(yk, yk.CLEARCOAT),
            Pk = Pw(yk, yk.CLEARCOAT_ROUGHNESS),
            Lk = Pw(yk, yk.CLEARCOAT_NORMAL),
            Dk = Pw(yk, yk.ROTATION),
            Ok = Pw(yk, yk.SHEEN),
            Fk = Pw(yk, yk.SHEEN_ROUGHNESS),
            Bk = Pw(yk, yk.ANISOTROPY),
            Uk = Pw(yk, yk.IRIDESCENCE),
            zk = Pw(yk, yk.IRIDESCENCE_IOR),
            Vk = Pw(yk, yk.IRIDESCENCE_THICKNESS),
            Hk = Pw(yk, yk.TRANSMISSION),
            Wk = Pw(yk, yk.THICKNESS),
            Gk = Pw(yk, yk.IOR),
            jk = Pw(yk, yk.ATTENUATION_DISTANCE),
            Qk = Pw(yk, yk.ATTENUATION_COLOR),
            qk = Pw(yk, yk.LINE_SCALE),
            Xk = Pw(yk, yk.LINE_DASH_SIZE),
            Yk = Pw(yk, yk.LINE_GAP_SIZE),
            Kk = Pw(yk, yk.LINE_WIDTH),
            Zk = Pw(yk, yk.LINE_DASH_OFFSET),
            Jk = Pw(yk, yk.POINT_SIZE),
            $k = Pw(yk, yk.DISPERSION),
            eR = Pw(yk, yk.LIGHT_MAP),
            tR = Pw(yk, yk.AO),
            nR = mA(new Gc())
              .onReference(function (e) {
                return e.material
              })
              .onRenderUpdate(function (e) {
                var t = e.material
                this.value.set(
                  t.anisotropy * Math.cos(t.anisotropyRotation),
                  t.anisotropy * Math.sin(t.anisotropyRotation)
                )
              }),
            rR = Lw(function (e) {
              return e.context.setupModelViewProjection()
            }, 'vec4')
              .once()()
              .toVarying('v_modelViewProjection'),
            iR = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t, ['uint'])).scope = e), (n.isIndexNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e) {
                        var n,
                          r,
                          i = this.getNodeType(e),
                          a = this.scope
                        if (a === t.VERTEX) n = e.getVertexIndex()
                        else if (a === t.INSTANCE) n = e.getInstanceIndex()
                        else if (a === t.DRAW) n = e.getDrawIndex()
                        else if (a === t.INVOCATION_LOCAL) n = e.getInvocationLocalIndex()
                        else if (a === t.INVOCATION_SUBGROUP) n = e.getInvocationSubgroupIndex()
                        else {
                          if (a !== t.SUBGROUP)
                            throw new Error('THREE.IndexNode: Unknown scope: ' + a)
                          n = e.getSubgroupIndex()
                        }
                        'vertex' === e.shaderStage || 'compute' === e.shaderStage
                          ? (r = n)
                          : (r = QM(this).build(e, i))
                        return r
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'IndexNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((iR.VERTEX = 'vertex'),
            (iR.INSTANCE = 'instance'),
            (iR.SUBGROUP = 'subgroup'),
            (iR.INVOCATION_LOCAL = 'invocationLocal'),
            (iR.INVOCATION_SUBGROUP = 'invocationSubgroup'),
            (iR.DRAW = 'draw'))
          var aR = Pw(iR, iR.VERTEX),
            oR = Pw(iR, iR.INSTANCE),
            sR = Pw(iR, iR.SUBGROUP),
            uR = Pw(iR, iR.INVOCATION_SUBGROUP),
            lR = Pw(iR, iR.INVOCATION_LOCAL),
            cR = Pw(iR, iR.DRAW),
            dR = (function (e) {
              function t(e, n, r) {
                var i
                return (
                  w(this, t),
                  ((i = y(this, t, ['void'])).count = e),
                  (i.instanceMatrix = n),
                  (i.instanceColor = r),
                  (i.instanceMatrixNode = null),
                  (i.instanceColorNode = null),
                  (i.updateType = SS.FRAME),
                  (i.buffer = null),
                  (i.bufferColor = null),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.count,
                          n = this.instanceMatrix,
                          r = this.instanceColor,
                          i = this.instanceMatrixNode,
                          a = this.instanceColorNode
                        if (null === i) {
                          if (t <= 1e3) i = BE(n.array, 'mat4', Math.max(t, 1)).element(oR)
                          else {
                            var o = new im(n.array, 16, 1)
                            this.buffer = o
                            var s = n.usage === Cc ? pE : fE,
                              u = [
                                s(o, 'vec4', 16, 0),
                                s(o, 'vec4', 16, 4),
                                s(o, 'vec4', 16, 8),
                                s(o, 'vec4', 16, 12),
                              ]
                            i = iA.apply(void 0, u)
                          }
                          this.instanceMatrixNode = i
                        }
                        if (r && null === a) {
                          var l = new ap(r.array, 3),
                            c = r.usage === Cc ? pE : fE
                          ;((this.bufferColor = l),
                            (a = Xw(c(l, 'vec3', 3, 0))),
                            (this.instanceColorNode = a))
                        }
                        var d = i.mul(mC).xyz
                        if ((mC.assign(d), e.hasGeometryAttribute('normal'))) {
                          var h = PC(MC, i)
                          MC.assign(h)
                        }
                        null !== this.instanceColorNode &&
                          xA('vec3', 'vInstanceColor').assign(this.instanceColorNode)
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        ;(this.instanceMatrix.usage !== Cc &&
                          null !== this.buffer &&
                          this.instanceMatrix.version !== this.buffer.version &&
                          (this.buffer.version = this.instanceMatrix.version),
                          this.instanceColor &&
                            this.instanceColor.usage !== Cc &&
                            null !== this.bufferColor &&
                            this.instanceColor.version !== this.bufferColor.version &&
                            (this.bufferColor.version = this.instanceColor.version))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'InstanceNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            hR = Nw(dR),
            fR = Nw(
              (function (e) {
                function t(e) {
                  var n
                  return (
                    w(this, t),
                    ((n = y(this, t, [e.count, e.instanceMatrix, e.instanceColor])).instancedMesh =
                      e),
                    n
                  )
                }
                return (
                  b(t, e),
                  T(t, null, [
                    {
                      key: 'type',
                      get: function () {
                        return 'InstancedMeshNode'
                      },
                    },
                  ])
                )
              })(dR)
            ),
            pR = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t, ['void'])).batchMesh = e),
                  (n.batchingIdNode = null),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this
                        null === this.batchingIdNode &&
                          (null === e.getDrawIndex()
                            ? (this.batchingIdNode = oR)
                            : (this.batchingIdNode = cR))
                        var n = Lw(function (e) {
                            var n = C(e, 1)[0],
                              r = Vw(NE(OE(t.batchMesh._indirectTexture), 0)),
                              i = Vw(n).modInt(r),
                              a = Vw(n).div(r)
                            return OE(t.batchMesh._indirectTexture, jw(i, a)).x
                          }).setLayout({
                            name: 'getIndirectIndex',
                            type: 'uint',
                            inputs: [{ name: 'id', type: 'int' }],
                          }),
                          r = n(Vw(this.batchingIdNode)),
                          i = this.batchMesh._matricesTexture,
                          a = NE(OE(i), 0),
                          o = zw(r).mul(4).toInt().toVar(),
                          s = o.modInt(a),
                          u = o.div(Vw(a)),
                          l = iA(
                            OE(i, jw(s, u)),
                            OE(i, jw(s.add(1), u)),
                            OE(i, jw(s.add(2), u)),
                            OE(i, jw(s.add(3), u))
                          ),
                          c = this.batchMesh._colorsTexture
                        if (null !== c) {
                          var d = Lw(function (e) {
                              var t = C(e, 1)[0],
                                n = NE(OE(c), 0).x,
                                r = t,
                                i = r.modInt(n),
                                a = r.div(n)
                              return OE(c, jw(i, a)).rgb
                            }).setLayout({
                              name: 'getBatchingColor',
                              type: 'vec3',
                              inputs: [{ name: 'id', type: 'int' }],
                            }),
                            h = d(r)
                          xA('vec3', 'vBatchColor').assign(h)
                        }
                        var f = rA(l)
                        mC.assign(l.mul(mC))
                        var p = MC.div(Xw(f[0].dot(f[0]), f[1].dot(f[1]), f[2].dot(f[2]))),
                          v = f.mul(p).xyz
                        ;(MC.assign(v), e.hasGeometryAttribute('tangent') && YC.mulAssign(f))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'BatchNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            vR = Nw(pR),
            mR = new WeakMap(),
            gR = (function (e) {
              function t(e) {
                var n,
                  r,
                  i,
                  a,
                  o = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                return (
                  w(this, t),
                  ((n = y(this, t, ['void'])).skinnedMesh = e),
                  (n.useReference = o),
                  (n.updateType = SS.OBJECT),
                  (n.skinIndexNode = kE('skinIndex', 'uvec4')),
                  (n.skinWeightNode = kE('skinWeight', 'vec4')),
                  o
                    ? ((r = GC('bindMatrix', 'mat4')),
                      (i = GC('bindMatrixInverse', 'mat4')),
                      (a = jC('skeleton.boneMatrices', 'mat4', e.skeleton.bones.length)))
                    : ((r = mA(e.bindMatrix, 'mat4')),
                      (i = mA(e.bindMatrixInverse, 'mat4')),
                      (a = BE(e.skeleton.boneMatrices, 'mat4', e.skeleton.bones.length))),
                  (n.bindMatrixNode = r),
                  (n.bindMatrixInverseNode = i),
                  (n.boneMatricesNode = a),
                  (n.previousBoneMatricesNode = null),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getSkinnedPosition',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : this.boneMatricesNode,
                          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : mC,
                          n = this.skinIndexNode,
                          r = this.skinWeightNode,
                          i = this.bindMatrixNode,
                          a = this.bindMatrixInverseNode,
                          o = e.element(n.x),
                          s = e.element(n.y),
                          u = e.element(n.z),
                          l = e.element(n.w),
                          c = i.mul(t),
                          d = $A(
                            o.mul(r.x).mul(c),
                            s.mul(r.y).mul(c),
                            u.mul(r.z).mul(c),
                            l.mul(r.w).mul(c)
                          )
                        return a.mul(d).xyz
                      },
                    },
                    {
                      key: 'getSkinnedNormal',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : this.boneMatricesNode,
                          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : MC,
                          n = this.skinIndexNode,
                          r = this.skinWeightNode,
                          i = this.bindMatrixNode,
                          a = this.bindMatrixInverseNode,
                          o = e.element(n.x),
                          s = e.element(n.y),
                          u = e.element(n.z),
                          l = e.element(n.w),
                          c = $A(r.x.mul(o), r.y.mul(s), r.z.mul(u), r.w.mul(l))
                        return (c = a.mul(c).mul(i)).transformDirection(t).xyz
                      },
                    },
                    {
                      key: 'getPreviousSkinnedPosition',
                      value: function (e) {
                        var t = e.object
                        return (
                          null === this.previousBoneMatricesNode &&
                            ((t.skeleton.previousBoneMatrices = new Float32Array(
                              t.skeleton.boneMatrices
                            )),
                            (this.previousBoneMatricesNode = jC(
                              'skeleton.previousBoneMatrices',
                              'mat4',
                              t.skeleton.bones.length
                            ))),
                          this.getSkinnedPosition(this.previousBoneMatricesNode, gC)
                        )
                      },
                    },
                    {
                      key: 'needsPreviousBoneMatrices',
                      value: function (e) {
                        var t = e.renderer.getMRT()
                        return (t && t.has('velocity')) || !0 === yS(e.object).useVelocity
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        this.needsPreviousBoneMatrices(e) &&
                          gC.assign(this.getPreviousSkinnedPosition(e))
                        var t = this.getSkinnedPosition()
                        if ((mC.assign(t), e.hasGeometryAttribute('normal'))) {
                          var n = this.getSkinnedNormal()
                          ;(MC.assign(n), e.hasGeometryAttribute('tangent') && YC.assign(n))
                        }
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        if ('void' !== t) return mC.build(e, t)
                      },
                    },
                    {
                      key: 'update',
                      value: function (e) {
                        var t = (this.useReference ? e.object : this.skinnedMesh).skeleton
                        mR.get(t) !== e.frameId &&
                          (mR.set(t, e.frameId),
                          null !== this.previousBoneMatricesNode &&
                            t.previousBoneMatrices.set(t.boneMatrices),
                          t.update())
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'SkinningNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            yR = function (e) {
              return kw(new gR(e, !0))
            },
            xR = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                return (w(this, t), ((e = y(this, t)).params = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getVarName',
                      value: function (e) {
                        return String.fromCharCode('i'.charCodeAt(0) + e)
                      },
                    },
                    {
                      key: 'getProperties',
                      value: function (e) {
                        var t = e.getNodeProperties(this)
                        if (void 0 !== t.stackNode) return t
                        for (var n = {}, r = 0, i = this.params.length - 1; r < i; r++) {
                          var a = this.params[r],
                            o = (!0 !== a.isNode && a.name) || this.getVarName(r),
                            s = (!0 !== a.isNode && a.type) || 'int'
                          n[o] = AE(o, s)
                        }
                        var u = e.addStack()
                        return (
                          (t.returnsNode = this.params[this.params.length - 1](n, u, e)),
                          (t.stackNode = u),
                          e.removeStack(),
                          t
                        )
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = this.getProperties(e).returnsNode
                        return t ? t.getNodeType(e) : 'void'
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        this.getProperties(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        for (
                          var t = this.getProperties(e),
                            n = this.params,
                            r = t.stackNode,
                            i = 0,
                            a = n.length - 1;
                          i < a;
                          i++
                        ) {
                          var o = n[i],
                            s = null,
                            u = null,
                            l = null,
                            c = null,
                            d = null,
                            h = null
                          o.isNode
                            ? ((c = 'int'),
                              (l = this.getVarName(i)),
                              (s = '0'),
                              (u = o.build(e, c)),
                              (d = '<'))
                            : ((c = o.type || 'int'),
                              (l = o.name || this.getVarName(i)),
                              (s = o.start),
                              (u = o.end),
                              (d = o.condition),
                              (h = o.update),
                              'number' == typeof s
                                ? (s = e.generateConst(c, s))
                                : s && s.isNode && (s = s.build(e, c)),
                              'number' == typeof u
                                ? (u = e.generateConst(c, u))
                                : u && u.isNode && (u = u.build(e, c)),
                              void 0 !== s && void 0 === u
                                ? ((s += ' - 1'), (u = '0'), (d = '>='))
                                : void 0 !== u && void 0 === s && ((s = '0'), (d = '<')),
                              void 0 === d && (d = Number(s) > Number(u) ? '>=' : '<'))
                          var f = { start: s, end: u },
                            p = f.start,
                            v = f.end,
                            m = '',
                            g = '',
                            y = ''
                          ;(h ||
                            (h =
                              'int' === c || 'uint' === c
                                ? d.includes('<')
                                  ? '++'
                                  : '--'
                                : d.includes('<')
                                  ? '+= 1.'
                                  : '-= 1.'),
                            (m += e.getVar(c, l) + ' = ' + p),
                            (g += l + ' ' + d + ' ' + v),
                            (y += l + ' ' + h))
                          var x = 'for ( '.concat(m, '; ').concat(g, '; ').concat(y, ' )')
                          e.addFlowCode((0 === i ? '\n' : '') + e.tab + x + ' {\n\n').addFlowTab()
                        }
                        var _ = r.build(e, 'void'),
                          b = t.returnsNode ? t.returnsNode.build(e) : ''
                        e.removeFlowTab().addFlowCode('\n' + e.tab + _)
                        for (var S = 0, w = this.params.length - 1; S < w; S++)
                          e.addFlowCode((0 === S ? '' : e.tab) + '}\n\n').removeFlowTab()
                        return (e.addFlowTab(), b)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'LoopNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            _R = function () {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
              return kw(new xR(Iw(t, 'int'))).append()
            },
            bR = function () {
              return AE('break').append()
            },
            SR = new WeakMap(),
            wR = new dd(),
            AR = Lw(function (e) {
              var t = e.bufferMap,
                n = e.influence,
                r = e.stride,
                i = e.width,
                a = e.depth,
                o = e.offset,
                s = Vw(aR).mul(r).add(o),
                u = s.div(i),
                l = s.sub(u.mul(i))
              return OE(t, jw(l, u)).depth(a).mul(n)
            })
          var TR,
            MR,
            ER = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t, ['void'])).mesh = e),
                  (n.morphBaseInfluence = mA(1)),
                  (n.updateType = SS.OBJECT),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this,
                          n = e.geometry,
                          r = void 0 !== n.morphAttributes.position,
                          i = n.hasAttribute('normal') && void 0 !== n.morphAttributes.normal,
                          a =
                            n.morphAttributes.position ||
                            n.morphAttributes.normal ||
                            n.morphAttributes.color,
                          o = void 0 !== a ? a.length : 0,
                          s = (function (e) {
                            var t = void 0 !== e.morphAttributes.position,
                              n = void 0 !== e.morphAttributes.normal,
                              r = void 0 !== e.morphAttributes.color,
                              i =
                                e.morphAttributes.position ||
                                e.morphAttributes.normal ||
                                e.morphAttributes.color,
                              a = void 0 !== i ? i.length : 0,
                              o = SR.get(e)
                            if (void 0 === o || o.count !== a) {
                              void 0 !== o && o.texture.dispose()
                              var s = e.morphAttributes.position || [],
                                u = e.morphAttributes.normal || [],
                                l = e.morphAttributes.color || [],
                                c = 0
                              ;(!0 === t && (c = 1), !0 === n && (c = 2), !0 === r && (c = 3))
                              var d = e.attributes.position.count * c,
                                h = 1,
                                f = 4096
                              d > f && ((h = Math.ceil(d / f)), (d = f))
                              var p = new Float32Array(d * h * 4 * a),
                                v = new pd(p, d, h, a)
                              ;((v.type = bl), (v.needsUpdate = !0))
                              for (var m = 4 * c, g = 0; g < a; g++)
                                for (
                                  var y = s[g], x = u[g], _ = l[g], b = d * h * 4 * g, S = 0;
                                  S < y.count;
                                  S++
                                ) {
                                  var w = S * m
                                  ;(!0 === t &&
                                    (wR.fromBufferAttribute(y, S),
                                    (p[b + w + 0] = wR.x),
                                    (p[b + w + 1] = wR.y),
                                    (p[b + w + 2] = wR.z),
                                    (p[b + w + 3] = 0)),
                                    !0 === n &&
                                      (wR.fromBufferAttribute(x, S),
                                      (p[b + w + 4] = wR.x),
                                      (p[b + w + 5] = wR.y),
                                      (p[b + w + 6] = wR.z),
                                      (p[b + w + 7] = 0)),
                                    !0 === r &&
                                      (wR.fromBufferAttribute(_, S),
                                      (p[b + w + 8] = wR.x),
                                      (p[b + w + 9] = wR.y),
                                      (p[b + w + 10] = wR.z),
                                      (p[b + w + 11] = 4 === _.itemSize ? wR.w : 1)))
                                }
                              function A() {
                                ;(v.dispose(), SR.delete(e), e.removeEventListener('dispose', A))
                              }
                              ;((o = { count: a, texture: v, stride: c, size: new Gc(d, h) }),
                                SR.set(e, o),
                                e.addEventListener('dispose', A))
                            }
                            return o
                          })(n),
                          u = s.texture,
                          l = s.stride,
                          c = s.size
                        ;(!0 === r && mC.mulAssign(this.morphBaseInfluence),
                          !0 === i && MC.mulAssign(this.morphBaseInfluence))
                        var d = Vw(c.width)
                        _R(o, function (e) {
                          var n = e.i,
                            a = zw(0).toVar()
                          ;(t.mesh.count > 1 &&
                          null !== t.mesh.morphTexture &&
                          void 0 !== t.mesh.morphTexture
                            ? a.assign(OE(t.mesh.morphTexture, jw(Vw(n).add(1), Vw(oR))).r)
                            : a.assign(GC('morphTargetInfluences', 'float').element(n).toVar()),
                            !0 === r &&
                              mC.addAssign(
                                AR({
                                  bufferMap: u,
                                  influence: a,
                                  stride: l,
                                  width: d,
                                  depth: n,
                                  offset: Vw(0),
                                })
                              ),
                            !0 === i &&
                              MC.addAssign(
                                AR({
                                  bufferMap: u,
                                  influence: a,
                                  stride: l,
                                  width: d,
                                  depth: n,
                                  offset: Vw(1),
                                })
                              ))
                        })
                      },
                    },
                    {
                      key: 'update',
                      value: function () {
                        var e = this.morphBaseInfluence
                        this.mesh.geometry.morphTargetsRelative
                          ? (e.value = 1)
                          : (e.value =
                              1 -
                              this.mesh.morphTargetInfluences.reduce(function (e, t) {
                                return e + t
                              }, 0))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MorphNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            CR = Nw(ER),
            kR = (function (e) {
              function t() {
                var e
                return (w(this, t), ((e = y(this, t, ['vec3'])).isLightingNode = !0), e)
              }
              return (
                b(t, e),
                T(t, null, [
                  {
                    key: 'type',
                    get: function () {
                      return 'LightingNode'
                    },
                  },
                ])
              )
            })(CS),
            RR = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (w(this, t), ((e = y(this, t)).aoNode = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        e.context.ambientOcclusion.mulAssign(this.aoNode)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'AONode'
                      },
                    },
                  ]
                )
              )
            })(kR),
            IR = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [e])).lightingModel = r),
                  (n.backdropNode = i),
                  (n.backdropAlphaNode = a),
                  (n._value = null),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getContext',
                      value: function () {
                        var e = this.backdropNode,
                          t = this.backdropAlphaNode,
                          n = {
                            directDiffuse: Xw().toVar('directDiffuse'),
                            directSpecular: Xw().toVar('directSpecular'),
                            indirectDiffuse: Xw().toVar('indirectDiffuse'),
                            indirectSpecular: Xw().toVar('indirectSpecular'),
                          }
                        return {
                          radiance: Xw().toVar('radiance'),
                          irradiance: Xw().toVar('irradiance'),
                          iblIrradiance: Xw().toVar('iblIrradiance'),
                          ambientOcclusion: zw(1).toVar('ambientOcclusion'),
                          reflectedLight: n,
                          backdrop: e,
                          backdropAlpha: t,
                        }
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (
                          (this.value = this._value || (this._value = this.getContext())),
                          (this.value.lightingModel =
                            this.lightingModel || e.context.lightingModel),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'LightingContextNode'
                      },
                    },
                  ]
                )
              )
            })(FM),
            NR = Nw(IR),
            PR = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).node = e), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        e.context.irradiance.addAssign(this.node)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'IrradianceNode'
                      },
                    },
                  ]
                )
              )
            })(kR),
            LR = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).scope = e), (n.isViewportNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.scope === t.VIEWPORT ? 'vec4' : 'vec2'
                      },
                    },
                    {
                      key: 'getUpdateType',
                      value: function () {
                        var e = SS.NONE
                        return (
                          (this.scope !== t.SIZE && this.scope !== t.VIEWPORT) || (e = SS.RENDER),
                          (this.updateType = e),
                          e
                        )
                      },
                    },
                    {
                      key: 'update',
                      value: function (e) {
                        var n = e.renderer,
                          r = n.getRenderTarget()
                        this.scope === t.VIEWPORT
                          ? null !== r
                            ? MR.copy(r.viewport)
                            : (n.getViewport(MR), MR.multiplyScalar(n.getPixelRatio()))
                          : null !== r
                            ? ((TR.width = r.width), (TR.height = r.height))
                            : n.getDrawingBufferSize(TR)
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        var e = this.scope
                        return e === t.SIZE
                          ? mA(TR || (TR = new Gc()))
                          : e === t.VIEWPORT
                            ? mA(MR || (MR = new dd()))
                            : Gw(FR.div(OR))
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        if (this.scope === t.COORDINATE) {
                          var r = e.getFragCoord()
                          if (e.isFlipY()) {
                            var i = e.getNodeProperties(OR).outputNode.build(e)
                            r = ''
                              .concat(e.getType('vec2'), '( ')
                              .concat(r, '.x, ')
                              .concat(i, '.y - ')
                              .concat(r, '.y )')
                          }
                          return r
                        }
                        return n(t, 'generate', this, 3)([e])
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ScreenNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((LR.COORDINATE = 'coordinate'),
            (LR.VIEWPORT = 'viewport'),
            (LR.SIZE = 'size'),
            (LR.UV = 'uv'))
          var DR = Pw(LR, LR.UV),
            OR = Pw(LR, LR.SIZE),
            FR = Pw(LR, LR.COORDINATE),
            BR = Pw(LR, LR.VIEWPORT),
            UR = BR.zw,
            zR = FR.sub(BR.xy),
            VR = zR.div(UR),
            HR = Lw(function () {
              return (
                console.warn(
                  'TSL.ViewportNode: "viewportResolution" is deprecated. Use "screenSize" instead.'
                ),
                OR
              )
            }, 'vec2').once()(),
            WR = Lw(function () {
              return (
                console.warn(
                  'TSL.ViewportNode: "viewportTopLeft" is deprecated. Use "screenUV" instead.'
                ),
                DR
              )
            }, 'vec2').once()(),
            GR = Lw(function () {
              return (
                console.warn(
                  'TSL.ViewportNode: "viewportBottomLeft" is deprecated. Use "screenUV.flipY()" instead.'
                ),
                DR.flipY()
              )
            }, 'vec2').once()(),
            jR = new Gc(),
            QR = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : DR,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  null === i && ((i = new Hp()).minFilter = pl),
                  ((e = y(this, t, [i, n, r])).generateMipmaps = !1),
                  (e.isOutputTextureNode = !0),
                  (e.updateBeforeType = SS.FRAME),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        var t = e.renderer
                        t.getDrawingBufferSize(jR)
                        var n = this.value
                        ;(n.image.width === jR.width && n.image.height === jR.height) ||
                          ((n.image.width = jR.width),
                          (n.image.height = jR.height),
                          (n.needsUpdate = !0))
                        var r = n.generateMipmaps
                        ;((n.generateMipmaps = this.generateMipmaps),
                          t.copyFramebufferToTexture(n),
                          (n.generateMipmaps = r))
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        var e = new this.constructor(this.uvNode, this.levelNode, this.value)
                        return ((e.generateMipmaps = this.generateMipmaps), e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ViewportTextureNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            qR = Nw(QR),
            XR = Nw(QR, null, null, { generateMipmaps: !0 }),
            YR = null,
            KR = (function (e) {
              function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : DR,
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), null === YR && (YR = new Wp()), y(this, t, [e, n, YR]))
              }
              return (
                b(t, e),
                T(t, null, [
                  {
                    key: 'type',
                    get: function () {
                      return 'ViewportDepthTextureNode'
                    },
                  },
                ])
              )
            })(QR),
            ZR = Nw(KR),
            JR = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['float'])).scope = e),
                  (n.valueNode = r),
                  (n.isViewportDepthNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'generate',
                      value: function (e) {
                        return this.scope === t.DEPTH_BASE
                          ? e.getFragDepth()
                          : n(t, 'generate', this, 3)([e])
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var n = e.camera,
                          r = this.scope,
                          i = this.valueNode,
                          a = null
                        if (r === t.DEPTH_BASE) null !== i && (a = rI().assign(i))
                        else if (r === t.DEPTH)
                          a = n.isPerspectiveCamera ? eI(_C.z, WE, GE) : $R(_C.z, WE, GE)
                        else if (r === t.LINEAR_DEPTH)
                          if (null !== i)
                            if (n.isPerspectiveCamera) {
                              var o = tI(i, WE, GE)
                              a = $R(o, WE, GE)
                            } else a = i
                          else a = $R(_C.z, WE, GE)
                        return a
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ViewportDepthNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((JR.DEPTH_BASE = 'depthBase'), (JR.DEPTH = 'depth'), (JR.LINEAR_DEPTH = 'linearDepth'))
          var $R = function (e, t, n) {
              return e.add(t).div(t.sub(n))
            },
            eI = function (e, t, n) {
              return t.add(e).mul(n).div(n.sub(t).mul(e))
            },
            tI = function (e, t, n) {
              return t.mul(n).div(n.sub(t).mul(e).sub(n))
            },
            nI = function (e, t, n) {
              t = t.max(1e-6).toVar()
              var r = PT(e.negate().div(t)),
                i = PT(n.div(t))
              return r.div(i)
            },
            rI = Nw(JR, JR.DEPTH_BASE),
            iI = Pw(JR, JR.DEPTH),
            aI = Nw(JR, JR.LINEAR_DEPTH),
            oI = aI(ZR())
          iI.assign = function (e) {
            return rI(e)
          }
          var sI = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t, ['float'])).name = e),
                  (n.isBuiltinNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'generate',
                    value: function () {
                      return this.name
                    },
                  },
                ])
              )
            })(CS),
            uI = Nw(sI),
            lI = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : t.DEFAULT
                return (w(this, t), ((e = y(this, t)).scope = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        n(t, 'setup', this, 3)([e])
                        var r = e.clippingContext,
                          i = r.intersectionPlanes,
                          a = r.unionPlanes
                        return (
                          (this.hardwareClipping = e.material.hardwareClipping),
                          this.scope === t.ALPHA_TO_COVERAGE
                            ? this.setupAlphaToCoverage(i, a)
                            : this.scope === t.HARDWARE
                              ? this.setupHardwareClipping(a, e)
                              : this.setupDefault(i, a)
                        )
                      },
                    },
                    {
                      key: 'setupAlphaToCoverage',
                      value: function (e, t) {
                        var n = this
                        return Lw(function () {
                          var r = zw().toVar('distanceToPlane'),
                            i = zw().toVar('distanceToGradient'),
                            a = zw(1).toVar('clipOpacity'),
                            o = t.length
                          if (!1 === n.hardwareClipping && o > 0) {
                            var s = VE(t)
                            _R(o, function (e) {
                              var t = e.i,
                                n = s.element(t)
                              ;(r.assign(_C.dot(n.xyz).negate().add(n.w)),
                                i.assign(r.fwidth().div(2)),
                                a.mulAssign(MM(i.negate(), i, r)))
                            })
                          }
                          var u = e.length
                          if (u > 0) {
                            var l = VE(e),
                              c = zw(1).toVar('intersectionClipOpacity')
                            ;(_R(u, function (e) {
                              var t = e.i,
                                n = l.element(t)
                              ;(r.assign(_C.dot(n.xyz).negate().add(n.w)),
                                i.assign(r.fwidth().div(2)),
                                c.mulAssign(MM(i.negate(), i, r).oneMinus()))
                            }),
                              a.mulAssign(c.oneMinus()))
                          }
                          ;(_A.a.mulAssign(a), _A.a.equal(0).discard())
                        })()
                      },
                    },
                    {
                      key: 'setupDefault',
                      value: function (e, t) {
                        var n = this
                        return Lw(function () {
                          var r = t.length
                          if (!1 === n.hardwareClipping && r > 0) {
                            var i = VE(t)
                            _R(r, function (e) {
                              var t = e.i,
                                n = i.element(t)
                              _C.dot(n.xyz).greaterThan(n.w).discard()
                            })
                          }
                          var a = e.length
                          if (a > 0) {
                            var o = VE(e),
                              s = Ww(!0).toVar('clipped')
                            ;(_R(a, function (e) {
                              var t = e.i,
                                n = o.element(t)
                              s.assign(_C.dot(n.xyz).greaterThan(n.w).and(s))
                            }),
                              s.discard())
                          }
                        })()
                      },
                    },
                    {
                      key: 'setupHardwareClipping',
                      value: function (e, t) {
                        var n = e.length
                        return (
                          t.enableHardwareClipping(n),
                          Lw(function () {
                            var r = VE(e),
                              i = uI(t.getClipDistance())
                            _R(n, function (e) {
                              var t = e.i,
                                n = r.element(t),
                                a = _C.dot(n.xyz).sub(n.w).negate()
                              i.element(t).assign(a)
                            })
                          })()
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ClippingNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((lI.ALPHA_TO_COVERAGE = 'alphaToCoverage'),
            (lI.DEFAULT = 'default'),
            (lI.HARDWARE = 'hardware'))
          var cI = Lw(function (e) {
              var t = C(e, 1)[0]
              return UT(
                tT(1e4, zT(tT(17, t.x).add(tT(0.1, t.y)))).mul(
                  $A(0.1, QT(zT(tT(13, t.y).add(t.x))))
                )
              )
            }),
            dI = Lw(function (e) {
              var t = C(e, 1)[0]
              return cI(Gw(cI(t.xy), t.z))
            }),
            hI = Lw(function (e) {
              var t = C(e, 1)[0],
                n = sM(XT(ZT(t.xyz)), XT(JT(t.xyz))),
                r = zw(1).div(zw(0.05).mul(n)).toVar('pixScale'),
                i = Gw(IT(OT(PT(r))), IT(FT(PT(r)))),
                a = Gw(dI(OT(i.x.mul(t.xyz))), dI(OT(i.y.mul(t.xyz)))),
                o = UT(PT(r)),
                s = $A(tT(o.oneMinus(), a.x), tT(o, a.y)),
                u = oM(o, o.oneMinus()),
                l = Xw(
                  s.mul(s).div(tT(2, u).mul(eT(1, u))),
                  s.sub(tT(0.5, u)).div(eT(1, u)),
                  eT(
                    1,
                    eT(1, s)
                      .mul(eT(1, s))
                      .div(tT(2, u).mul(eT(1, u)))
                  )
                ),
                c = s.lessThan(u.oneMinus()).select(s.lessThan(u).select(l.x, l.y), l.z)
              return wM(c, 1e-6, 1)
            }).setLayout({
              name: 'getAlphaHashThreshold',
              type: 'float',
              inputs: [{ name: 'position', type: 'vec3' }],
            }),
            fI = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t)).isNodeMaterial = !0),
                  (e.fog = !0),
                  (e.lights = !1),
                  (e.hardwareClipping = !1),
                  (e.lightsNode = null),
                  (e.envNode = null),
                  (e.aoNode = null),
                  (e.colorNode = null),
                  (e.normalNode = null),
                  (e.opacityNode = null),
                  (e.backdropNode = null),
                  (e.backdropAlphaNode = null),
                  (e.alphaTestNode = null),
                  (e.positionNode = null),
                  (e.geometryNode = null),
                  (e.depthNode = null),
                  (e.shadowPositionNode = null),
                  (e.receivedShadowNode = null),
                  (e.castShadowNode = null),
                  (e.outputNode = null),
                  (e.mrtNode = null),
                  (e.fragmentNode = null),
                  (e.vertexNode = null),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'type',
                      get: function () {
                        return this.constructor.type
                      },
                      set: function (e) {},
                    },
                    {
                      key: 'customProgramCacheKey',
                      value: function () {
                        return this.type + cS(this)
                      },
                    },
                    {
                      key: 'build',
                      value: function (e) {
                        this.setup(e)
                      },
                    },
                    {
                      key: 'setupObserver',
                      value: function (e) {
                        return new oS(e)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this
                        ;((e.context.setupNormal = function () {
                          return t.setupNormal(e)
                        }),
                          (e.context.setupPositionView = function () {
                            return t.setupPositionView(e)
                          }),
                          (e.context.setupModelViewProjection = function () {
                            return t.setupModelViewProjection(e)
                          }))
                        var n = e.renderer,
                          r = n.getRenderTarget()
                        e.addStack()
                        var i,
                          a = this.vertexNode || this.setupVertex(e)
                        ;((e.stack.outputNode = a),
                          this.setupHardwareClipping(e),
                          null !== this.geometryNode &&
                            (e.stack.outputNode = e.stack.outputNode.bypass(this.geometryNode)),
                          e.addFlow('vertex', e.removeStack()),
                          e.addStack())
                        var o = this.setupClipping(e)
                        if (
                          ((!0 !== this.depthWrite && !0 !== this.depthTest) ||
                            (null !== r
                              ? !0 === r.depthBuffer && this.setupDepth(e)
                              : !0 === n.depth && this.setupDepth(e)),
                          null === this.fragmentNode)
                        ) {
                          ;(this.setupDiffuseColor(e), this.setupVariants(e))
                          var s = this.setupLighting(e)
                          null !== o && e.stack.add(o)
                          var u = Jw(s, _A.a).max(0)
                          if (
                            ((i = this.setupOutput(e, u)),
                            BA.assign(i),
                            null !== this.outputNode && (i = this.outputNode),
                            null !== r)
                          ) {
                            var l = n.getMRT(),
                              c = this.mrtNode
                            null !== l
                              ? ((i = l), null !== c && (i = l.merge(c)))
                              : null !== c && (i = c)
                          }
                        } else {
                          var d = this.fragmentNode
                          ;(!0 !== d.isOutputStructNode && (d = Jw(d)),
                            (i = this.setupOutput(e, d)))
                        }
                        ;((e.stack.outputNode = i),
                          e.addFlow('fragment', e.removeStack()),
                          (e.observer = this.setupObserver(e)))
                      },
                    },
                    {
                      key: 'setupClipping',
                      value: function (e) {
                        if (null === e.clippingContext) return null
                        var t = e.clippingContext,
                          n = t.unionPlanes,
                          r = t.intersectionPlanes,
                          i = null
                        if (n.length > 0 || r.length > 0) {
                          var a = e.renderer.samples
                          this.alphaToCoverage && a > 1
                            ? (i = kw(new lI(lI.ALPHA_TO_COVERAGE)))
                            : e.stack.add(kw(new lI()))
                        }
                        return i
                      },
                    },
                    {
                      key: 'setupHardwareClipping',
                      value: function (e) {
                        if (((this.hardwareClipping = !1), null !== e.clippingContext)) {
                          var t = e.clippingContext.unionPlanes.length
                          t > 0 &&
                            t <= 8 &&
                            e.isAvailable('clipDistance') &&
                            (e.stack.add(kw(new lI(lI.HARDWARE))), (this.hardwareClipping = !0))
                        }
                      },
                    },
                    {
                      key: 'setupDepth',
                      value: function (e) {
                        var t = e.renderer,
                          n = e.camera,
                          r = this.depthNode
                        if (null === r) {
                          var i = t.getMRT()
                          i && i.has('depth')
                            ? (r = i.get('depth'))
                            : !0 === t.logarithmicDepthBuffer &&
                              (r = n.isPerspectiveCamera ? nI(_C.z, WE, GE) : $R(_C.z, WE, GE))
                        }
                        null !== r && iI.assign(r).append()
                      },
                    },
                    {
                      key: 'setupPositionView',
                      value: function () {
                        return dC.mul(mC).xyz
                      },
                    },
                    {
                      key: 'setupModelViewProjection',
                      value: function () {
                        return jE.mul(_C)
                      },
                    },
                    {
                      key: 'setupVertex',
                      value: function (e) {
                        return (
                          e.addStack(),
                          this.setupPosition(e),
                          (e.context.vertex = e.removeStack()),
                          rR
                        )
                      },
                    },
                    {
                      key: 'setupPosition',
                      value: function (e) {
                        var t = e.object,
                          n = e.geometry
                        if (
                          ((n.morphAttributes.position ||
                            n.morphAttributes.normal ||
                            n.morphAttributes.color) &&
                            CR(t).append(),
                          !0 === t.isSkinnedMesh && yR(t).append(),
                          this.displacementMap)
                        ) {
                          var r = qC('displacementMap', 'texture'),
                            i = qC('displacementScale', 'float'),
                            a = qC('displacementBias', 'float')
                          mC.addAssign(MC.normalize().mul(r.x.mul(i).add(a)))
                        }
                        return (
                          t.isBatchedMesh && vR(t).append(),
                          t.isInstancedMesh &&
                            t.instanceMatrix &&
                            !0 === t.instanceMatrix.isInstancedBufferAttribute &&
                            fR(t).append(),
                          null !== this.positionNode &&
                            mC.assign(this.positionNode.context({ isPositionNodeInput: !0 })),
                          mC
                        )
                      },
                    },
                    {
                      key: 'setupDiffuseColor',
                      value: function (e) {
                        var t = e.object,
                          n = e.geometry,
                          r = this.colorNode ? Jw(this.colorNode) : _k
                        ;(!0 === this.vertexColors &&
                          n.hasAttribute('color') &&
                          (r = Jw(r.xyz.mul(kE('color', 'vec3')), r.a)),
                        t.instanceColor) && (r = xA('vec3', 'vInstanceColor').mul(r))
                        t.isBatchedMesh &&
                          t._colorsTexture &&
                          (r = xA('vec3', 'vBatchColor').mul(r))
                        _A.assign(r)
                        var i = this.opacityNode ? zw(this.opacityNode) : wk
                        if (
                          (_A.a.assign(_A.a.mul(i)),
                          null !== this.alphaTestNode || this.alphaTest > 0)
                        ) {
                          var a = null !== this.alphaTestNode ? zw(this.alphaTestNode) : xk
                          _A.a.lessThanEqual(a).discard()
                        }
                        ;(!0 === this.alphaHash && _A.a.lessThan(hI(mC)).discard(),
                          !1 === this.transparent &&
                            1 === this.blending &&
                            !1 === this.alphaToCoverage &&
                            _A.a.assign(1))
                      },
                    },
                    { key: 'setupVariants', value: function () {} },
                    {
                      key: 'setupOutgoingLight',
                      value: function () {
                        return !0 === this.lights ? Xw(0) : _A.rgb
                      },
                    },
                    {
                      key: 'setupNormal',
                      value: function () {
                        return this.normalNode ? Xw(this.normalNode) : Ik
                      },
                    },
                    {
                      key: 'setupEnvironment',
                      value: function () {
                        var e = null
                        return (
                          this.envNode
                            ? (e = this.envNode)
                            : this.envMap &&
                              (e = this.envMap.isCubeTexture
                                ? qC('envMap', 'cubeTexture')
                                : qC('envMap', 'texture')),
                          e
                        )
                      },
                    },
                    {
                      key: 'setupLightMap',
                      value: function (e) {
                        var t = null
                        return (e.material.lightMap && (t = new PR(eR)), t)
                      },
                    },
                    {
                      key: 'setupLights',
                      value: function (e) {
                        var t = [],
                          n = this.setupEnvironment(e)
                        n && n.isLightingNode && t.push(n)
                        var r = this.setupLightMap(e)
                        if (
                          (r && r.isLightingNode && t.push(r),
                          null !== this.aoNode || e.material.aoMap)
                        ) {
                          var i = null !== this.aoNode ? this.aoNode : tR
                          t.push(new RR(i))
                        }
                        var a = this.lightsNode || e.lightsNode
                        return (
                          t.length > 0 &&
                            (a = e.renderer.lighting.createNode([].concat(I(a.getLights()), t))),
                          a
                        )
                      },
                    },
                    { key: 'setupLightingModel', value: function () {} },
                    {
                      key: 'setupLighting',
                      value: function (e) {
                        var t = e.material,
                          n = this.backdropNode,
                          r = this.backdropAlphaNode,
                          i = this.emissiveNode,
                          a =
                            !0 === this.lights || null !== this.lightsNode
                              ? this.setupLights(e)
                              : null,
                          o = this.setupOutgoingLight(e)
                        if (a && a.getScope().hasLights) {
                          var s = this.setupLightingModel(e)
                          o = NR(a, s, n, r)
                        } else null !== n && (o = Xw(null !== r ? SM(o, n, r) : n))
                        return (
                          ((i && !0 === i.isNode) || (t.emissive && !0 === t.emissive.isColor)) &&
                            (bA.assign(Xw(i || Sk)), (o = o.add(bA))),
                          o
                        )
                      },
                    },
                    {
                      key: 'setupOutput',
                      value: function (e, t) {
                        if (!0 === this.fog) {
                          var n = e.fogNode
                          n && (BA.assign(t), (t = Jw(n)))
                        }
                        return t
                      },
                    },
                    {
                      key: 'setDefaultValues',
                      value: function (e) {
                        for (var t in e) {
                          var n = e[t]
                          void 0 === this[t] &&
                            ((this[t] = n), n && n.clone && (this[t] = n.clone()))
                        }
                        var r = Object.getOwnPropertyDescriptors(e.constructor.prototype)
                        for (var i in r)
                          void 0 ===
                            Object.getOwnPropertyDescriptor(this.constructor.prototype, i) &&
                            void 0 !== r[i].get &&
                            Object.defineProperty(this.constructor.prototype, i, r[i])
                      },
                    },
                    {
                      key: 'toJSON',
                      value: function (e) {
                        var t = void 0 === e || 'string' == typeof e
                        t && (e = { textures: {}, images: {}, nodes: {} })
                        var n = Hh.prototype.toJSON.call(this, e),
                          r = dS(this)
                        n.inputNodes = {}
                        var i,
                          a = L(r)
                        try {
                          for (a.s(); !(i = a.n()).done; ) {
                            var o = i.value,
                              s = o.property,
                              u = o.childNode
                            n.inputNodes[s] = u.toJSON(e).uuid
                          }
                        } catch (f) {
                          a.e(f)
                        } finally {
                          a.f()
                        }
                        function l(e) {
                          var t = []
                          for (var n in e) {
                            var r = e[n]
                            ;(delete r.metadata, t.push(r))
                          }
                          return t
                        }
                        if (t) {
                          var c = l(e.textures),
                            d = l(e.images),
                            h = l(e.nodes)
                          ;(c.length > 0 && (n.textures = c),
                            d.length > 0 && (n.images = d),
                            h.length > 0 && (n.nodes = h))
                        }
                        return n
                      },
                    },
                    {
                      key: 'copy',
                      value: function (e) {
                        return (
                          (this.lightsNode = e.lightsNode),
                          (this.envNode = e.envNode),
                          (this.colorNode = e.colorNode),
                          (this.normalNode = e.normalNode),
                          (this.opacityNode = e.opacityNode),
                          (this.backdropNode = e.backdropNode),
                          (this.backdropAlphaNode = e.backdropAlphaNode),
                          (this.alphaTestNode = e.alphaTestNode),
                          (this.positionNode = e.positionNode),
                          (this.geometryNode = e.geometryNode),
                          (this.depthNode = e.depthNode),
                          (this.shadowPositionNode = e.shadowPositionNode),
                          (this.receivedShadowNode = e.receivedShadowNode),
                          (this.castShadowNode = e.castShadowNode),
                          (this.outputNode = e.outputNode),
                          (this.mrtNode = e.mrtNode),
                          (this.fragmentNode = e.fragmentNode),
                          (this.vertexNode = e.vertexNode),
                          n(t, 'copy', this, 3)([e])
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'NodeMaterial'
                      },
                    },
                  ]
                )
              )
            })(Hh),
            pI = null,
            vI = (function (e) {
              function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : DR,
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), null === pI && (pI = new Hp()), y(this, t, [e, n, pI]))
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateReference',
                      value: function () {
                        return this
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ViewportSharedTextureNode'
                      },
                    },
                  ]
                )
              )
            })(QR),
            mI = Nw(vI),
            gI = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : xC
                return (w(this, t), ((e = y(this, t, ['vec2'])).dirNode = n), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = this.dirNode,
                          t = e.z
                            .atan(e.x)
                            .mul(1 / (2 * Math.PI))
                            .add(0.5),
                          n = e.y
                            .clamp(-1, 1)
                            .asin()
                            .mul(1 / Math.PI)
                            .add(0.5)
                        return Gw(t, n)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'EquirectUVNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            yI = Nw(gI),
            xI = Lw(function (e) {
              var t = e.f0,
                n = e.f90,
                r = e.dotVH,
                i = r.mul(-5.55473).sub(6.98316).mul(r).exp2()
              return t.mul(i.oneMinus()).add(n.mul(i))
            }),
            _I = Lw(function (e) {
              return e.diffuseColor.mul(1 / Math.PI)
            }),
            bI = Lw(function (e) {
              if (!1 === e.geometry.hasAttribute('normal')) return zw(0)
              var t = CC.dFdx().abs().max(CC.dFdy().abs())
              return t.x.max(t.y).max(t.z)
            }),
            SI = Lw(function (e) {
              var t = e.roughness,
                n = bI(),
                r = t.max(0.0525)
              return (r = (r = r.add(n)).min(1))
            }),
            wI = Lw(function (e) {
              var t = e.alpha,
                n = e.dotNL,
                r = e.dotNV,
                i = t.pow2(),
                a = n.mul(i.add(i.oneMinus().mul(r.pow2())).sqrt()),
                o = r.mul(i.add(i.oneMinus().mul(n.pow2())).sqrt())
              return nT(0.5, a.add(o).max(ST))
            }).setLayout({
              name: 'V_GGX_SmithCorrelated',
              type: 'float',
              inputs: [
                { name: 'alpha', type: 'float' },
                { name: 'dotNL', type: 'float' },
                { name: 'dotNV', type: 'float' },
              ],
            }),
            AI = Lw(function (e) {
              var t = e.alphaT,
                n = e.alphaB,
                r = e.dotTV,
                i = e.dotBV,
                a = e.dotTL,
                o = e.dotBL,
                s = e.dotNV,
                u = e.dotNL,
                l = u.mul(Xw(t.mul(r), n.mul(i), s).length()),
                c = s.mul(Xw(t.mul(a), n.mul(o), u).length())
              return nT(0.5, l.add(c)).saturate()
            }).setLayout({
              name: 'V_GGX_SmithCorrelated_Anisotropic',
              type: 'float',
              inputs: [
                { name: 'alphaT', type: 'float', qualifier: 'in' },
                { name: 'alphaB', type: 'float', qualifier: 'in' },
                { name: 'dotTV', type: 'float', qualifier: 'in' },
                { name: 'dotBV', type: 'float', qualifier: 'in' },
                { name: 'dotTL', type: 'float', qualifier: 'in' },
                { name: 'dotBL', type: 'float', qualifier: 'in' },
                { name: 'dotNV', type: 'float', qualifier: 'in' },
                { name: 'dotNL', type: 'float', qualifier: 'in' },
              ],
            }),
            TI = Lw(function (e) {
              var t = e.alpha,
                n = e.dotNH,
                r = t.pow2(),
                i = n.pow2().mul(r.oneMinus()).oneMinus()
              return r.div(i.pow2()).mul(1 / Math.PI)
            }).setLayout({
              name: 'D_GGX',
              type: 'float',
              inputs: [
                { name: 'alpha', type: 'float' },
                { name: 'dotNH', type: 'float' },
              ],
            }),
            MI = zw(1 / Math.PI),
            EI = Lw(function (e) {
              var t = e.alphaT,
                n = e.alphaB,
                r = e.dotNH,
                i = e.dotTH,
                a = e.dotBH,
                o = t.mul(n),
                s = Xw(n.mul(i), t.mul(a), o.mul(r)),
                u = s.dot(s),
                l = o.div(u)
              return MI.mul(o.mul(l.pow2()))
            }).setLayout({
              name: 'D_GGX_Anisotropic',
              type: 'float',
              inputs: [
                { name: 'alphaT', type: 'float', qualifier: 'in' },
                { name: 'alphaB', type: 'float', qualifier: 'in' },
                { name: 'dotNH', type: 'float', qualifier: 'in' },
                { name: 'dotTH', type: 'float', qualifier: 'in' },
                { name: 'dotBH', type: 'float', qualifier: 'in' },
              ],
            }),
            CI = Lw(function (e) {
              var t,
                n,
                r = e.lightDirection,
                i = e.f0,
                a = e.f90,
                o = e.roughness,
                s = e.f,
                u = e.USE_IRIDESCENCE,
                l = e.USE_ANISOTROPY,
                c = e.normalView || RC,
                d = o.pow2(),
                h = r.add(bC).normalize(),
                f = c.dot(r).clamp(),
                p = c.dot(bC).clamp(),
                v = c.dot(h).clamp(),
                m = bC.dot(h).clamp(),
                g = xI({ f0: i, f90: a, dotVH: m })
              if ((Mw(u) && (g = CA.mix(g, s)), Mw(l))) {
                var y = PA.dot(r),
                  x = PA.dot(bC),
                  _ = PA.dot(h),
                  b = LA.dot(r),
                  S = LA.dot(bC),
                  w = LA.dot(h)
                ;((t = AI({
                  alphaT: IA,
                  alphaB: d,
                  dotTV: x,
                  dotBV: S,
                  dotTL: y,
                  dotBL: b,
                  dotNV: p,
                  dotNL: f,
                })),
                  (n = EI({ alphaT: IA, alphaB: d, dotNH: v, dotTH: _, dotBH: w })))
              } else ((t = wI({ alpha: d, dotNL: f, dotNV: p })), (n = TI({ alpha: d, dotNH: v })))
              return g.mul(t).mul(n)
            }),
            kI = Lw(function (e) {
              var t = e.roughness,
                n = e.dotNV,
                r = Jw(-1, -0.0275, -0.572, 0.022),
                i = Jw(1, 0.0425, 1.04, -0.04),
                a = t.mul(r).add(i),
                o = a.x.mul(a.x).min(n.mul(-9.28).exp2()).mul(a.x).add(a.y)
              return Gw(-1.04, 1.04).mul(o).add(a.zw)
            }).setLayout({
              name: 'DFGApprox',
              type: 'vec2',
              inputs: [
                { name: 'roughness', type: 'float' },
                { name: 'dotNV', type: 'vec3' },
              ],
            }),
            RI = Lw(function (e) {
              var t = e.f,
                n = e.f90,
                r = e.dotVH.oneMinus().saturate(),
                i = r.mul(r),
                a = r.mul(i, i).clamp(0, 0.9999)
              return t.sub(Xw(n).mul(a)).div(a.oneMinus())
            }).setLayout({
              name: 'Schlick_to_F0',
              type: 'vec3',
              inputs: [
                { name: 'f', type: 'vec3' },
                { name: 'f90', type: 'float' },
                { name: 'dotVH', type: 'float' },
              ],
            }),
            II = 1 / 6,
            NI = function (e) {
              return tT(II, tT(e, tT(e, e.negate().add(3)).sub(3)).add(1))
            },
            PI = function (e) {
              return tT(II, tT(e, tT(e, tT(3, e).sub(6))).add(4))
            },
            LI = function (e) {
              return tT(II, tT(e, tT(e, tT(-3, e).add(3)).add(3)).add(1))
            },
            DI = function (e) {
              return tT(II, vM(e, 3))
            },
            OI = function (e) {
              return NI(e).add(PI(e))
            },
            FI = function (e) {
              return LI(e).add(DI(e))
            },
            BI = function (e) {
              return $A(-1, PI(e).div(NI(e).add(PI(e))))
            },
            UI = function (e) {
              return $A(1, DI(e).div(LI(e).add(DI(e))))
            },
            zI = function (e, t, n) {
              var r = e.uvNode,
                i = tT(r, t.zw).add(0.5),
                a = OT(i),
                o = UT(i),
                s = OI(o.x),
                u = FI(o.x),
                l = BI(o.x),
                c = UI(o.x),
                d = BI(o.y),
                h = UI(o.y),
                f = Gw(a.x.add(l), a.y.add(d)).sub(0.5).mul(t.xy),
                p = Gw(a.x.add(c), a.y.add(d)).sub(0.5).mul(t.xy),
                v = Gw(a.x.add(l), a.y.add(h)).sub(0.5).mul(t.xy),
                m = Gw(a.x.add(c), a.y.add(h)).sub(0.5).mul(t.xy),
                g = OI(o.y).mul($A(s.mul(e.sample(f).level(n)), u.mul(e.sample(p).level(n)))),
                y = FI(o.y).mul($A(s.mul(e.sample(v).level(n)), u.mul(e.sample(m).level(n))))
              return g.add(y)
            },
            VI = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = void 0 === r ? zw(3) : r,
                a = Gw(n.size(Vw(i))),
                o = Gw(n.size(Vw(i.add(1)))),
                s = nT(1, a),
                u = nT(1, o),
                l = zI(n, Jw(s, a), OT(i)),
                c = zI(n, Jw(u, o), FT(i))
              return UT(i).mix(l, c)
            })
          ;(Xw(0.04), zw(1))
          var HI = zw(1),
            WI = zw(-2),
            GI = zw(0.8),
            jI = zw(-1),
            QI = zw(0.4),
            qI = zw(2),
            XI = zw(0.305),
            YI = zw(3),
            KI = zw(0.21),
            ZI = zw(4),
            JI = zw(4),
            $I = zw(16),
            eN = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(QT(t)).toVar(),
                r = zw(-1).toVar()
              return (
                Fw(n.x.greaterThan(n.z), function () {
                  Fw(n.x.greaterThan(n.y), function () {
                    r.assign(DM(t.x.greaterThan(0), 0, 3))
                  }).Else(function () {
                    r.assign(DM(t.y.greaterThan(0), 1, 4))
                  })
                }).Else(function () {
                  Fw(n.z.greaterThan(n.y), function () {
                    r.assign(DM(t.z.greaterThan(0), 2, 5))
                  }).Else(function () {
                    r.assign(DM(t.y.greaterThan(0), 1, 4))
                  })
                }),
                r
              )
            }).setLayout({
              name: 'getFace',
              type: 'float',
              inputs: [{ name: 'direction', type: 'vec3' }],
            }),
            tN = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Gw().toVar()
              return (
                Fw(r.equal(0), function () {
                  i.assign(Gw(n.z, n.y).div(QT(n.x)))
                })
                  .ElseIf(r.equal(1), function () {
                    i.assign(Gw(n.x.negate(), n.z.negate()).div(QT(n.y)))
                  })
                  .ElseIf(r.equal(2), function () {
                    i.assign(Gw(n.x.negate(), n.y).div(QT(n.z)))
                  })
                  .ElseIf(r.equal(3), function () {
                    i.assign(Gw(n.z.negate(), n.y).div(QT(n.x)))
                  })
                  .ElseIf(r.equal(4), function () {
                    i.assign(Gw(n.x.negate(), n.z).div(QT(n.y)))
                  })
                  .Else(function () {
                    i.assign(Gw(n.x, n.y).div(QT(n.z)))
                  }),
                tT(0.5, i.add(1))
              )
            }).setLayout({
              name: 'getUV',
              type: 'vec2',
              inputs: [
                { name: 'direction', type: 'vec3' },
                { name: 'face', type: 'float' },
              ],
            }),
            nN = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(0).toVar()
              return (
                Fw(t.greaterThanEqual(GI), function () {
                  n.assign(HI.sub(t).mul(jI.sub(WI)).div(HI.sub(GI)).add(WI))
                })
                  .ElseIf(t.greaterThanEqual(QI), function () {
                    n.assign(GI.sub(t).mul(qI.sub(jI)).div(GI.sub(QI)).add(jI))
                  })
                  .ElseIf(t.greaterThanEqual(XI), function () {
                    n.assign(QI.sub(t).mul(YI.sub(qI)).div(QI.sub(XI)).add(qI))
                  })
                  .ElseIf(t.greaterThanEqual(KI), function () {
                    n.assign(XI.sub(t).mul(ZI.sub(YI)).div(XI.sub(KI)).add(YI))
                  })
                  .Else(function () {
                    n.assign(zw(-2).mul(PT(tT(1.16, t))))
                  }),
                n
              )
            }).setLayout({
              name: 'roughnessToMip',
              type: 'float',
              inputs: [{ name: 'roughness', type: 'float' }],
            }),
            rN = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = n.toVar()
              i.assign(tT(2, i).sub(1))
              var a = Xw(i, 1).toVar()
              return (
                Fw(r.equal(0), function () {
                  a.assign(a.zyx)
                })
                  .ElseIf(r.equal(1), function () {
                    ;(a.assign(a.xzy), a.xz.mulAssign(-1))
                  })
                  .ElseIf(r.equal(2), function () {
                    a.x.mulAssign(-1)
                  })
                  .ElseIf(r.equal(3), function () {
                    ;(a.assign(a.zyx), a.xz.mulAssign(-1))
                  })
                  .ElseIf(r.equal(4), function () {
                    ;(a.assign(a.xzy), a.xy.mulAssign(-1))
                  })
                  .ElseIf(r.equal(5), function () {
                    a.z.mulAssign(-1)
                  }),
                a
              )
            }).setLayout({
              name: 'getDirection',
              type: 'vec3',
              inputs: [
                { name: 'uv', type: 'vec2' },
                { name: 'face', type: 'float' },
              ],
            }),
            iN = Lw(function (e) {
              var t = C(e, 6),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = zw(i),
                l = Xw(r),
                c = wM(nN(u), WI, s),
                d = UT(c),
                h = OT(c),
                f = Xw(aN(n, l, h, a, o, s)).toVar()
              return (
                Fw(d.notEqual(0), function () {
                  var e = Xw(aN(n, l, h.add(1), a, o, s)).toVar()
                  f.assign(SM(f, e, d))
                }),
                f
              )
            }),
            aN = Lw(function (e) {
              var t = C(e, 6),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = zw(i).toVar(),
                l = Xw(r),
                c = zw(eN(l)).toVar(),
                d = zw(sM(JI.sub(u), 0)).toVar()
              u.assign(sM(u, JI))
              var h = zw(IT(u)).toVar(),
                f = Gw(tN(l, c).mul(h.sub(2)).add(1)).toVar()
              return (
                Fw(c.greaterThan(2), function () {
                  ;(f.y.addAssign(h), c.subAssign(3))
                }),
                f.x.addAssign(c.mul(h)),
                f.x.addAssign(d.mul(tT(3, $I))),
                f.y.addAssign(tT(4, IT(s).sub(h))),
                f.x.mulAssign(a),
                f.y.mulAssign(o),
                n.sample(f).grad(Gw(), Gw())
              )
            }),
            oN = Lw(function (e) {
              var t = e.envMap,
                n = e.mipInt,
                r = e.outputDirection,
                i = e.theta,
                a = e.axis,
                o = e.CUBEUV_TEXEL_WIDTH,
                s = e.CUBEUV_TEXEL_HEIGHT,
                u = e.CUBEUV_MAX_MIP,
                l = VT(i),
                c = r
                  .mul(l)
                  .add(a.cross(r).mul(zT(i)))
                  .add(a.mul(a.dot(r).mul(l.oneMinus())))
              return aN(t, c, n, o, s, u)
            }),
            sN = Lw(function (e) {
              var t = e.n,
                n = e.latitudinal,
                r = e.poleAxis,
                i = e.outputDirection,
                a = e.weights,
                o = e.samples,
                s = e.dTheta,
                u = e.mipInt,
                l = e.envMap,
                c = e.CUBEUV_TEXEL_WIDTH,
                d = e.CUBEUV_TEXEL_HEIGHT,
                h = e.CUBEUV_MAX_MIP,
                f = Xw(DM(n, r, pM(r, i))).toVar()
              ;(Fw(MT(f.equals(Xw(0))), function () {
                f.assign(Xw(i.z, 0, i.x.negate()))
              }),
                f.assign(BT(f)))
              var p = Xw().toVar()
              return (
                p.addAssign(
                  a
                    .element(0)
                    .mul(
                      oN({
                        theta: 0,
                        axis: f,
                        outputDirection: i,
                        mipInt: u,
                        envMap: l,
                        CUBEUV_TEXEL_WIDTH: c,
                        CUBEUV_TEXEL_HEIGHT: d,
                        CUBEUV_MAX_MIP: h,
                      })
                    )
                ),
                _R({ start: Vw(1), end: t }, function (e) {
                  var t = e.i
                  Fw(t.greaterThanEqual(o), function () {
                    bR()
                  })
                  var n = zw(s.mul(zw(t))).toVar()
                  ;(p.addAssign(
                    a
                      .element(t)
                      .mul(
                        oN({
                          theta: n.mul(-1),
                          axis: f,
                          outputDirection: i,
                          mipInt: u,
                          envMap: l,
                          CUBEUV_TEXEL_WIDTH: c,
                          CUBEUV_TEXEL_HEIGHT: d,
                          CUBEUV_MAX_MIP: h,
                        })
                      )
                  ),
                    p.addAssign(
                      a
                        .element(t)
                        .mul(
                          oN({
                            theta: n,
                            axis: f,
                            outputDirection: i,
                            mipInt: u,
                            envMap: l,
                            CUBEUV_TEXEL_WIDTH: c,
                            CUBEUV_TEXEL_HEIGHT: d,
                            CUBEUV_MAX_MIP: h,
                          })
                        )
                    ))
                }),
                Jw(p, 1)
              )
            }),
            uN = null,
            lN = new WeakMap()
          function cN(e) {
            var t = lN.get(e)
            if ((void 0 !== t ? t.pmremVersion : -1) !== e.pmremVersion) {
              var n = e.image
              if (e.isCubeTexture) {
                if (
                  !(function (e) {
                    if (null == e) return !1
                    for (var t = 0, n = 6, r = 0; r < n; r++) void 0 !== e[r] && t++
                    return t === n
                  })(n)
                )
                  return null
                t = uN.fromCubemap(e, t)
              } else {
                if (
                  !(function (e) {
                    return null != e && e.height > 0
                  })(n)
                )
                  return null
                t = uN.fromEquirectangular(e, t)
              }
              ;((t.pmremVersion = e.pmremVersion), lN.set(e, t))
            }
            return t.texture
          }
          var dN = (function (e) {
            function t(e) {
              var n,
                r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
              ;(w(this, t),
                ((n = y(this, t, ['vec3']))._value = e),
                (n._pmrem = null),
                (n.uvNode = r),
                (n.levelNode = i),
                (n._generator = null))
              var a = new cd()
              return (
                (a.isRenderTargetTexture = !0),
                (n._texture = DE(a)),
                (n._width = mA(0)),
                (n._height = mA(0)),
                (n._maxMip = mA(0)),
                (n.updateBeforeType = SS.RENDER),
                n
              )
            }
            return (
              b(t, e),
              T(
                t,
                [
                  {
                    key: 'value',
                    get: function () {
                      return this._value
                    },
                    set: function (e) {
                      ;((this._value = e), (this._pmrem = null))
                    },
                  },
                  {
                    key: 'updateFromTexture',
                    value: function (e) {
                      var t,
                        n,
                        r,
                        i =
                          ((t = e.image.height),
                          (n = Math.log2(t) - 2),
                          (r = 1 / t),
                          {
                            texelWidth: 1 / (3 * Math.max(Math.pow(2, n), 112)),
                            texelHeight: r,
                            maxMip: n,
                          })
                      ;((this._texture.value = e),
                        (this._width.value = i.texelWidth),
                        (this._height.value = i.texelHeight),
                        (this._maxMip.value = i.maxMip))
                    },
                  },
                  {
                    key: 'updateBefore',
                    value: function () {
                      var e = this._pmrem,
                        t = e ? e.pmremVersion : -1,
                        n = this._value
                      t !== n.pmremVersion &&
                        null !== (e = !0 === n.isPMREMTexture ? n : cN(n)) &&
                        ((this._pmrem = e), this.updateFromTexture(e))
                    },
                  },
                  {
                    key: 'setup',
                    value: function (e) {
                      ;(null === uN && (uN = e.createPMREMGenerator()), this.updateBefore(e))
                      var t = this.uvNode
                      null === t && e.context.getUV && (t = e.context.getUV(this))
                      var n = this.value
                      ;(e.renderer.coordinateSystem === Rc &&
                        !0 !== n.isPMREMTexture &&
                        !0 === n.isRenderTargetTexture &&
                        (t = Xw(t.x.negate(), t.yz)),
                        (t = Xw(t.x, t.y.negate(), t.z)))
                      var r = this.levelNode
                      return (
                        null === r &&
                          e.context.getTextureLevel &&
                          (r = e.context.getTextureLevel(this)),
                        iN(this._texture, t, r, this._width, this._height, this._maxMip)
                      )
                    },
                  },
                ],
                [
                  {
                    key: 'type',
                    get: function () {
                      return 'PMREMNode'
                    },
                  },
                ]
              )
            )
          })(IS)
          var hN = Nw(dN),
            fN = (function (e) {
              function t() {
                return (w(this, t), y(this, t, ['vec2']))
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = Xw(bC.z, 0, bC.x.negate()).normalize(),
                          t = bC.cross(e)
                        return Gw(e.dot(RC), t.dot(RC)).mul(0.495).add(0.5)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MatcapUVNode'
                      },
                    },
                  ]
                )
              )
            })(IS),
            pN = Pw(fN),
            vN = Nw(
              (function (e) {
                function t(e, n) {
                  var r
                  return (w(this, t), ((r = y(this, t)).positionNode = e), (r.rotationNode = n), r)
                }
                return (
                  b(t, e),
                  T(
                    t,
                    [
                      {
                        key: 'getNodeType',
                        value: function (e) {
                          return this.positionNode.getNodeType(e)
                        },
                      },
                      {
                        key: 'setup',
                        value: function (e) {
                          var t = this.rotationNode,
                            n = this.positionNode
                          if ('vec2' === this.getNodeType(e)) {
                            var r = t.cos(),
                              i = t.sin()
                            return nA(r, i, i.negate(), r).mul(n)
                          }
                          var a = t,
                            o = iA(
                              Jw(1, 0, 0, 0),
                              Jw(0, VT(a.x), zT(a.x).negate(), 0),
                              Jw(0, zT(a.x), VT(a.x), 0),
                              Jw(0, 0, 0, 1)
                            ),
                            s = iA(
                              Jw(VT(a.y), 0, zT(a.y), 0),
                              Jw(0, 1, 0, 0),
                              Jw(zT(a.y).negate(), 0, VT(a.y), 0),
                              Jw(0, 0, 0, 1)
                            ),
                            u = iA(
                              Jw(VT(a.z), zT(a.z).negate(), 0, 0),
                              Jw(zT(a.z), VT(a.z), 0, 0),
                              Jw(0, 0, 1, 0),
                              Jw(0, 0, 0, 1)
                            )
                          return o.mul(s).mul(u).mul(Jw(n, 1)).xyz
                        },
                      },
                    ],
                    [
                      {
                        key: 'type',
                        get: function () {
                          return 'RotateNode'
                        },
                      },
                    ]
                  )
                )
              })(IS)
            ),
            mN = Lw(function (e) {
              var t = e.texture,
                n = e.uv,
                r = 1e-4,
                i = Xw().toVar()
              return (
                Fw(n.x.lessThan(r), function () {
                  i.assign(Xw(1, 0, 0))
                })
                  .ElseIf(n.y.lessThan(r), function () {
                    i.assign(Xw(0, 1, 0))
                  })
                  .ElseIf(n.z.lessThan(r), function () {
                    i.assign(Xw(0, 0, 1))
                  })
                  .ElseIf(n.x.greaterThan(0.9999), function () {
                    i.assign(Xw(-1, 0, 0))
                  })
                  .ElseIf(n.y.greaterThan(0.9999), function () {
                    i.assign(Xw(0, -1, 0))
                  })
                  .ElseIf(n.z.greaterThan(0.9999), function () {
                    i.assign(Xw(0, 0, -1))
                  })
                  .Else(function () {
                    var e = 0.01,
                      r = t.sample(n.add(Xw(-0.01, 0, 0))).r.sub(t.sample(n.add(Xw(e, 0, 0))).r),
                      a = t.sample(n.add(Xw(0, -0.01, 0))).r.sub(t.sample(n.add(Xw(0, e, 0))).r),
                      o = t.sample(n.add(Xw(0, 0, -0.01))).r.sub(t.sample(n.add(Xw(0, 0, e))).r)
                    i.assign(Xw(r, a, o))
                  }),
                i.normalize()
              )
            }),
            gN = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (w(this, t), ((n = y(this, t, [e, r, i])).isTexture3DNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'texture3D'
                      },
                    },
                    {
                      key: 'getDefaultUV',
                      value: function () {
                        return Xw(0.5, 0.5, 0.5)
                      },
                    },
                    { key: 'setUpdateMatrix', value: function () {} },
                    {
                      key: 'setupUV',
                      value: function (e, t) {
                        var n = this.value
                        return (
                          !e.isFlipY() ||
                            (!0 !== n.isRenderTargetTexture && !0 !== n.isFramebufferTexture) ||
                            (t = this.sampler
                              ? t.flipY()
                              : t.setY(Vw(NE(this, this.levelNode).y).sub(t.y).sub(1))),
                          t
                        )
                      },
                    },
                    {
                      key: 'generateUV',
                      value: function (e, t) {
                        return t.build(e, 'vec3')
                      },
                    },
                    {
                      key: 'normal',
                      value: function (e) {
                        return mN({ texture: this, uv: e })
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'Texture3DNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            yN = Nw(gN),
            xN = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), ((n = y(this, t, [e, r])).isParameterNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function () {
                        return this.uuid
                      },
                    },
                    {
                      key: 'generate',
                      value: function () {
                        return this.name
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ParameterNode'
                      },
                    },
                  ]
                )
              )
            })(gA),
            _N = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (
                  w(this, t),
                  ((e = y(this, t)).nodes = []),
                  (e.outputNode = null),
                  (e.parent = n),
                  (e._currentCond = null),
                  (e.isStackNode = !0),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.outputNode ? this.outputNode.getNodeType(e) : 'void'
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        return this.outputNode ? this.outputNode.getMemberType(e, t) : 'void'
                      },
                    },
                    {
                      key: 'add',
                      value: function (e) {
                        return (this.nodes.push(e), this)
                      },
                    },
                    {
                      key: 'If',
                      value: function (e, t) {
                        var n = new Cw(t)
                        return ((this._currentCond = DM(e, n)), this.add(this._currentCond))
                      },
                    },
                    {
                      key: 'ElseIf',
                      value: function (e, t) {
                        var n = new Cw(t),
                          r = DM(e, n)
                        return ((this._currentCond.elseNode = r), (this._currentCond = r), this)
                      },
                    },
                    {
                      key: 'Else',
                      value: function (e) {
                        return ((this._currentCond.elseNode = new Cw(e)), this)
                      },
                    },
                    {
                      key: 'build',
                      value: function (e) {
                        var r,
                          i = Ow()
                        Dw(this)
                        var a,
                          o = L(this.nodes)
                        try {
                          for (o.s(); !(a = o.n()).done; ) {
                            a.value.build(e, 'void')
                          }
                        } catch (c) {
                          o.e(c)
                        } finally {
                          o.f()
                        }
                        Dw(i)
                        for (
                          var s = arguments.length, u = new Array(s > 1 ? s - 1 : 0), l = 1;
                          l < s;
                          l++
                        )
                          u[l - 1] = arguments[l]
                        return this.outputNode
                          ? (r = this.outputNode).build.apply(r, [e].concat(u))
                          : n(t, 'build', this, 3)([e].concat(u))
                      },
                    },
                    {
                      key: 'else',
                      value: function () {
                        return (
                          console.warn('TSL.StackNode: .else() has been renamed to .Else().'),
                          this.Else.apply(this, arguments)
                        )
                      },
                    },
                    {
                      key: 'elseif',
                      value: function () {
                        return (
                          console.warn('TSL.StackNode: .elseif() has been renamed to .ElseIf().'),
                          this.ElseIf.apply(this, arguments)
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StackNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            bN = Nw(_N)
          var SN = (function (e) {
              function t(e) {
                var n,
                  r,
                  i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, ['struct'])).membersLayout =
                    ((r = e),
                    Object.entries(r).map(function (e) {
                      var t = C(e, 2),
                        n = t[0],
                        r = t[1]
                      return 'string' == typeof r
                        ? { name: n, type: r, atomic: !1 }
                        : { name: n, type: r.type, atomic: r.atomic || !1 }
                    }))),
                  (n.name = i),
                  (n.isStructLayoutNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getLength',
                      value: function () {
                        var e,
                          t = 0,
                          n = L(this.membersLayout)
                        try {
                          for (n.s(); !(e = n.n()).done; ) {
                            t += vS(e.value.type)
                          }
                        } catch (r) {
                          n.e(r)
                        } finally {
                          n.f()
                        }
                        return t
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        var n = this.membersLayout.find(function (e) {
                          return e.name === t
                        })
                        return n ? n.type : 'void'
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return e.getStructTypeFromNode(this, this.membersLayout, this.name).name
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        return this.getNodeType(e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StructTypeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            wN = (function (e) {
              function t(e, n) {
                var r
                return (
                  w(this, t),
                  ((r = y(this, t, ['vec3'])).structLayoutNode = e),
                  (r.values = n),
                  (r.isStructNode = !0),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.structLayoutNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        return this.structLayoutNode.getMemberType(e, t)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = e.getVarFromNode(this),
                          n = t.type,
                          r = e.getPropertyName(t)
                        return (
                          e.addLineFlowCode(
                            ''
                              .concat(r, ' = ')
                              .concat(
                                e.generateStruct(
                                  n,
                                  this.structLayoutNode.membersLayout,
                                  this.values
                                )
                              ),
                            this
                          ),
                          t.name
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StructNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            AN = (function (e) {
              function t() {
                var e
                ;(w(this, t), (e = y(this, t)))
                for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++)
                  r[i] = arguments[i]
                return ((e.members = r), (e.isOutputStructNode = !0), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        var t = e.getNodeProperties(this)
                        if (void 0 === t.membersLayout) {
                          for (var n = this.members, r = [], i = 0; i < n.length; i++) {
                            var a = 'm' + i,
                              o = n[i].getNodeType(e)
                            r.push({ name: a, type: o, index: i })
                          }
                          ;((t.membersLayout = r),
                            (t.structType = e.getOutputStructTypeFromNode(this, t.membersLayout)))
                        }
                        return t.structType.name
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        for (
                          var t = e.getOutputStructName(),
                            n = this.members,
                            r = '' !== t ? t + '.' : '',
                            i = 0;
                          i < n.length;
                          i++
                        ) {
                          var a = n[i].build(e)
                          e.addLineFlowCode(''.concat(r, 'm').concat(i, ' = ').concat(a), this)
                        }
                        return t
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'OutputStructNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            TN = Nw(AN)
          function MN(e, t) {
            for (var n = 0; n < e.length; n++) if (e[n].name === t) return n
            return -1
          }
          var EN = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).outputNodes = e), (n.isMRTNode = !0), n)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'has',
                      value: function (e) {
                        return void 0 !== this.outputNodes[e]
                      },
                    },
                    {
                      key: 'get',
                      value: function (e) {
                        return this.outputNodes[e]
                      },
                    },
                    {
                      key: 'merge',
                      value: function (e) {
                        var t = s(s({}, this.outputNodes), e.outputNodes)
                        return CN(t)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var r = this.outputNodes,
                          i = [],
                          a = e.renderer.getRenderTarget().textures
                        for (var o in r) {
                          i[MN(a, o)] = Jw(r[o])
                        }
                        return ((this.members = i), n(t, 'setup', this, 3)([e]))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'MRTNode'
                      },
                    },
                  ]
                )
              )
            })(AN),
            CN = Nw(EN),
            kN = Lw(function (e) {
              var t = C(e, 1)[0].toUint().mul(747796405).add(2891336453),
                n = t.shiftRight(t.shiftRight(28).add(4)).bitXor(t).mul(277803737)
              return n
                .shiftRight(22)
                .bitXor(n)
                .toFloat()
                .mul(1 / Math.pow(2, 32))
            }),
            RN = function (e, t) {
              return vM(tT(4, e.mul(eT(1, e))), t)
            },
            IN = Lw(function (e) {
              return C(e, 1)[0].fract().sub(0.5).abs()
            }).setLayout({ name: 'tri', type: 'float', inputs: [{ name: 'x', type: 'float' }] }),
            NN = Lw(function (e) {
              var t = C(e, 1)[0]
              return Xw(
                IN(t.z.add(IN(t.y.mul(1)))),
                IN(t.z.add(IN(t.x.mul(1)))),
                IN(t.y.add(IN(t.x.mul(1))))
              )
            }).setLayout({ name: 'tri3', type: 'vec3', inputs: [{ name: 'p', type: 'vec3' }] }),
            PN = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Xw(n).toVar(),
                o = zw(1.4).toVar(),
                s = zw(0).toVar(),
                u = Xw(a).toVar()
              return (
                _R({ start: zw(0), end: zw(3), type: 'float', condition: '<=' }, function () {
                  var e = Xw(NN(u.mul(2))).toVar()
                  ;(a.addAssign(e.add(i.mul(zw(0.1).mul(r)))),
                    u.mulAssign(1.8),
                    o.mulAssign(1.5),
                    a.mulAssign(1.2))
                  var t = zw(IN(a.z.add(IN(a.x.add(IN(a.y)))))).toVar()
                  ;(s.addAssign(t.div(o)), u.addAssign(0.14))
                }),
                s
              )
            }).setLayout({
              name: 'triNoise3D',
              type: 'float',
              inputs: [
                { name: 'position', type: 'vec3' },
                { name: 'speed', type: 'float' },
                { name: 'time', type: 'float' },
              ],
            }),
            LN = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                ;(w(this, t), ((e = y(this, t)).functionNodes = n))
                for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++)
                  i[a - 1] = arguments[a]
                return ((e.parametersNodes = i), (e._candidateFnCall = null), (e.global = !0), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.functionNodes[0].shaderNode.layout.type
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this.parametersNodes,
                          n = this._candidateFnCall
                        if (null === n) {
                          var r,
                            i = null,
                            a = -1,
                            o = L(this.functionNodes)
                          try {
                            for (o.s(); !(r = o.n()).done; ) {
                              var s = r.value,
                                u = s.shaderNode.layout
                              if (null === u)
                                throw new Error(
                                  'FunctionOverloadingNode: FunctionNode must be a layout.'
                                )
                              var l = u.inputs
                              if (t.length === l.length) {
                                for (var c = 0, d = 0; d < t.length; d++) {
                                  var h = t[d],
                                    f = l[d]
                                  h.getNodeType(e) === f.type ? c++ : (c = 0)
                                }
                                c > a && ((i = s), (a = c))
                              }
                            }
                          } catch (p) {
                            o.e(p)
                          } finally {
                            o.f()
                          }
                          this._candidateFnCall = n = i.apply(void 0, I(t))
                        }
                        return n
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'FunctionOverloadingNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            DN = Nw(LN),
            ON = function (e) {
              return function () {
                for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                  n[r] = arguments[r]
                return DN.apply(void 0, [e].concat(n))
              }
            },
            FN = mA(0)
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.time
              }),
            BN = mA(0)
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.deltaTime
              }),
            UN = mA(0, 'uint')
              .setGroup(fA)
              .onRenderUpdate(function (e) {
                return e.frameId
              }),
            zN = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = void 0 === i ? Gw(0.5) : i
              return vN(n.sub(a), r).add(a)
            }),
            VN = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = void 0 === i ? Gw(0.5) : i,
                o = n.sub(a),
                s = o.dot(o),
                u = s.mul(s).mul(r)
              return n.add(o.mul(u))
            }),
            HN = Lw(function (e) {
              var t,
                n = e.position,
                r = void 0 === n ? null : n,
                i = e.horizontal,
                a = void 0 === i || i,
                o = e.vertical,
                s = void 0 !== o && o
              null !== r
                ? (((t = aC.toVar())[3][0] = r.x), (t[3][1] = r.y), (t[3][2] = r.z))
                : (t = aC)
              var u = qE.mul(t)
              return (
                Mw(a) && ((u[0][0] = aC[0].length()), (u[0][1] = 0), (u[0][2] = 0)),
                Mw(s) && ((u[1][0] = 0), (u[1][1] = aC[1].length()), (u[1][2] = 0)),
                (u[2][0] = 0),
                (u[2][1] = 0),
                (u[2][2] = 1),
                jE.mul(u).mul(mC)
              )
            }),
            WN = Lw(function (e) {
              var t = C(e, 1)[0],
                n = void 0 === t ? null : t,
                r = aI()
              return aI(ZR(n)).sub(r).lessThan(0).select(DR, n)
            }),
            GN = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : RE(),
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : zw(0)
                return (
                  w(this, t),
                  ((n = y(this, t, ['vec2'])).countNode = e),
                  (n.uvNode = r),
                  (n.frameNode = i),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = this.frameNode,
                          t = this.uvNode,
                          n = this.countNode,
                          r = n.width,
                          i = n.height,
                          a = e.mod(r.mul(i)).floor(),
                          o = a.mod(r),
                          s = i.sub(a.add(1).div(r).ceil()),
                          u = n.reciprocal(),
                          l = Gw(o, s)
                        return t.add(l).mul(u)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'SpriteSheetUVNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            jN = Nw(GN),
            QN = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : zw(1),
                  o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : mC,
                  s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : MC
                return (
                  w(this, t),
                  ((n = y(this, t, ['vec4'])).textureXNode = e),
                  (n.textureYNode = r),
                  (n.textureZNode = i),
                  (n.scaleNode = a),
                  (n.positionNode = o),
                  (n.normalNode = s),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function () {
                        var e = this.textureXNode,
                          t = this.textureYNode,
                          n = this.textureZNode,
                          r = this.scaleNode,
                          i = this.positionNode,
                          a = this.normalNode.abs().normalize()
                        a = a.div(a.dot(Xw(1)))
                        var o = i.yz.mul(r),
                          s = i.zx.mul(r),
                          u = i.xy.mul(r),
                          l = e.value,
                          c = null !== t ? t.value : l,
                          d = null !== n ? n.value : l,
                          h = DE(l, o).mul(a.x),
                          f = DE(c, s).mul(a.y),
                          p = DE(d, u).mul(a.z)
                        return $A(h, f, p)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'TriplanarTexturesNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            qN = Nw(QN),
            XN = new gp(),
            YN = new gd(),
            KN = new gd(),
            ZN = new gd(),
            JN = new qd(),
            $N = new gd(0, 0, -1),
            eP = new dd(),
            tP = new gd(),
            nP = new gd(),
            rP = new dd(),
            iP = new Gc(),
            aP = new hd(),
            oP = DR.flipX()
          aP.depthTexture = new Wp(1, 1)
          var sP = !1,
            uP = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                return (
                  w(this, t),
                  ((e = y(this, t, [n.defaultTexture || aP.texture, oP]))._reflectorBaseNode =
                    n.reflector || new lP(e, n)),
                  (e._depthNode = null),
                  e.setUpdateMatrix(!1),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'reflector',
                      get: function () {
                        return this._reflectorBaseNode
                      },
                    },
                    {
                      key: 'target',
                      get: function () {
                        return this._reflectorBaseNode.target
                      },
                    },
                    {
                      key: 'getDepthNode',
                      value: function () {
                        if (null === this._depthNode) {
                          if (!0 !== this._reflectorBaseNode.depth)
                            throw new Error(
                              'THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. '
                            )
                          this._depthNode = kw(
                            new t({
                              defaultTexture: aP.depthTexture,
                              reflector: this._reflectorBaseNode,
                            })
                          )
                        }
                        return this._depthNode
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (
                          e.object.isQuadMesh || this._reflectorBaseNode.build(e),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        var e = new this.constructor(this.reflectorNode)
                        return ((e._reflectorBaseNode = this._reflectorBaseNode), e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReflectorNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            lP = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                ;(w(this, t), (n = y(this, t)))
                var i = r.target,
                  a = void 0 === i ? new _h() : i,
                  o = r.resolution,
                  s = void 0 === o ? 1 : o,
                  u = r.generateMipmaps,
                  l = void 0 !== u && u,
                  c = r.bounces,
                  d = void 0 === c || c,
                  h = r.depth,
                  f = void 0 !== h && h
                return (
                  (n.textureNode = e),
                  (n.target = a),
                  (n.resolution = s),
                  (n.generateMipmaps = l),
                  (n.bounces = d),
                  (n.depth = f),
                  (n.updateBeforeType = d ? SS.RENDER : SS.FRAME),
                  (n.virtualCameras = new WeakMap()),
                  (n.renderTargets = new WeakMap()),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: '_updateResolution',
                      value: function (e, t) {
                        var n = this.resolution
                        ;(t.getDrawingBufferSize(iP),
                          e.setSize(Math.round(iP.width * n), Math.round(iP.height * n)))
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (this._updateResolution(aP, e.renderer), n(t, 'setup', this, 3)([e]))
                      },
                    },
                    {
                      key: 'getVirtualCamera',
                      value: function (e) {
                        var t = this.virtualCameras.get(e)
                        return (void 0 === t && ((t = e.clone()), this.virtualCameras.set(e, t)), t)
                      },
                    },
                    {
                      key: 'getRenderTarget',
                      value: function (e) {
                        var t = this.renderTargets.get(e)
                        return (
                          void 0 === t &&
                            ((t = new hd(0, 0, { type: Sl })),
                            !0 === this.generateMipmaps &&
                              ((t.texture.minFilter = 1008), (t.texture.generateMipmaps = !0)),
                            !0 === this.depth && (t.depthTexture = new Wp()),
                            this.renderTargets.set(e, t)),
                          t
                        )
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        if (!1 === this.bounces && sP) return !1
                        sP = !0
                        var t = e.scene,
                          n = e.camera,
                          r = e.renderer,
                          i = e.material,
                          a = this.target,
                          o = this.getVirtualCamera(n),
                          s = this.getRenderTarget(o)
                        if (
                          (r.getDrawingBufferSize(iP),
                          this._updateResolution(s, r),
                          KN.setFromMatrixPosition(a.matrixWorld),
                          ZN.setFromMatrixPosition(n.matrixWorld),
                          JN.extractRotation(a.matrixWorld),
                          YN.set(0, 0, 1),
                          YN.applyMatrix4(JN),
                          tP.subVectors(KN, ZN),
                          !(tP.dot(YN) > 0))
                        ) {
                          ;(tP.reflect(YN).negate(),
                            tP.add(KN),
                            JN.extractRotation(n.matrixWorld),
                            $N.set(0, 0, -1),
                            $N.applyMatrix4(JN),
                            $N.add(ZN),
                            nP.subVectors(KN, $N),
                            nP.reflect(YN).negate(),
                            nP.add(KN),
                            (o.coordinateSystem = n.coordinateSystem),
                            o.position.copy(tP),
                            o.up.set(0, 1, 0),
                            o.up.applyMatrix4(JN),
                            o.up.reflect(YN),
                            o.lookAt(nP),
                            (o.near = n.near),
                            (o.far = n.far),
                            o.updateMatrixWorld(),
                            o.projectionMatrix.copy(n.projectionMatrix),
                            XN.setFromNormalAndCoplanarPoint(YN, KN),
                            XN.applyMatrix4(o.matrixWorldInverse),
                            eP.set(XN.normal.x, XN.normal.y, XN.normal.z, XN.constant))
                          var u = o.projectionMatrix
                          ;((rP.x = (Math.sign(eP.x) + u.elements[8]) / u.elements[0]),
                            (rP.y = (Math.sign(eP.y) + u.elements[9]) / u.elements[5]),
                            (rP.z = -1),
                            (rP.w = (1 + u.elements[10]) / u.elements[14]),
                            eP.multiplyScalar(1 / eP.dot(rP)))
                          ;((u.elements[2] = eP.x),
                            (u.elements[6] = eP.y),
                            (u.elements[10] = r.coordinateSystem === Ic ? eP.z - 0 : eP.z + 1 - 0),
                            (u.elements[14] = eP.w),
                            (this.textureNode.value = s.texture),
                            !0 === this.depth &&
                              (this.textureNode.getDepthNode().value = s.depthTexture),
                            (i.visible = !1))
                          var l = r.getRenderTarget(),
                            c = r.getMRT(),
                            d = r.autoClear
                          ;(r.setMRT(null),
                            r.setRenderTarget(s),
                            (r.autoClear = !0),
                            r.render(t, o),
                            r.setMRT(c),
                            r.setRenderTarget(l),
                            (r.autoClear = d),
                            (i.visible = !0),
                            (sP = !1))
                        }
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ReflectorBaseNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            cP = new Fv(-1, 1, 1, -1, 0, 1),
            dP = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                w(this, t)
                var r = !1 === n ? [0, -1, 0, 1, 2, 1] : [0, 2, 0, 0, 2, 0]
                return (
                  (e = y(this, t)).setAttribute(
                    'position',
                    new $h([-1, 3, 0, -1, -1, 0, 3, -1, 0], 3)
                  ),
                  e.setAttribute('uv', new $h(r, 2)),
                  e
                )
              }
              return (b(t, e), T(t))
            })(uf),
            hP = new dP(),
            fP = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (w(this, t), ((e = y(this, t, [hP, n])).camera = cP), (e.isQuadMesh = !0), e)
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'renderAsync',
                    value:
                      ((n = v(
                        h().m(function e(t) {
                          return h().w(
                            function (e) {
                              for (;;) if (0 === e.n) return e.a(2, t.renderAsync(this, cP))
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e) {
                        return n.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'render',
                    value: function (e) {
                      e.render(this, cP)
                    },
                  },
                ])
              )
              var n
            })(_f),
            pP = new Gc(),
            vP = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : { type: Sl }
                w(this, t)
                var o = new hd(r, i, a)
                return (
                  ((n = y(this, t, [o.texture, RE()])).node = e),
                  (n.width = r),
                  (n.height = i),
                  (n.pixelRatio = 1),
                  (n.renderTarget = o),
                  (n.textureNeedsUpdate = !0),
                  (n.autoUpdate = !0),
                  (n._rttNode = null),
                  (n._quadMesh = new fP(new fI())),
                  (n.updateBeforeType = SS.RENDER),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'autoSize',
                      get: function () {
                        return null === this.width
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (
                          (this._rttNode = this.node.context(e.getSharedContext())),
                          (this._quadMesh.material.name = 'RTT'),
                          (this._quadMesh.material.needsUpdate = !0),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                    {
                      key: 'setSize',
                      value: function (e, t) {
                        ;((this.width = e), (this.height = t))
                        var n = e * this.pixelRatio,
                          r = t * this.pixelRatio
                        ;(this.renderTarget.setSize(n, r), (this.textureNeedsUpdate = !0))
                      },
                    },
                    {
                      key: 'setPixelRatio',
                      value: function (e) {
                        ;((this.pixelRatio = e), this.setSize(this.width, this.height))
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        var t = e.renderer
                        if (!1 !== this.textureNeedsUpdate || !1 !== this.autoUpdate) {
                          if (((this.textureNeedsUpdate = !1), !0 === this.autoSize)) {
                            this.pixelRatio = t.getPixelRatio()
                            var n = t.getSize(pP)
                            this.setSize(n.width, n.height)
                          }
                          this._quadMesh.material.fragmentNode = this._rttNode
                          var r = t.getRenderTarget()
                          ;(t.setRenderTarget(this.renderTarget),
                            this._quadMesh.render(t),
                            t.setRenderTarget(r))
                        }
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        var e = new LE(this.value, this.uvNode, this.levelNode)
                        return ((e.sampler = this.sampler), (e.referenceNode = this), e)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'RTTNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            mP = function (e) {
              for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                n[r - 1] = arguments[r]
              return kw(g(vP, [kw(e)].concat(n)))
            },
            gP = Lw(function (e, t) {
              var n,
                r = C(e, 3),
                i = r[0],
                a = r[1],
                o = r[2]
              t.renderer.coordinateSystem === Ic
                ? ((i = Gw(i.x, i.y.oneMinus()).mul(2).sub(1)), (n = Jw(Xw(i, a), 1)))
                : (n = Jw(Xw(i.x, i.y.oneMinus(), a).mul(2).sub(1), 1))
              var s = Jw(o.mul(n))
              return s.xyz.div(s.w)
            }),
            yP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1].mul(Jw(n, 1)),
                i = r.xy.div(r.w).mul(0.5).add(0.5).toVar()
              return Gw(i.x, i.y.oneMinus())
            }),
            xP = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = NE(OE(r)),
                o = jw(n.mul(a)).toVar(),
                s = OE(r, o).toVar(),
                u = OE(r, o.sub(jw(2, 0))).toVar(),
                l = OE(r, o.sub(jw(1, 0))).toVar(),
                c = OE(r, o.add(jw(1, 0))).toVar(),
                d = OE(r, o.add(jw(2, 0))).toVar(),
                h = OE(r, o.add(jw(0, 2))).toVar(),
                f = OE(r, o.add(jw(0, 1))).toVar(),
                p = OE(r, o.sub(jw(0, 1))).toVar(),
                v = OE(r, o.sub(jw(0, 2))).toVar(),
                m = QT(eT(zw(2).mul(l).sub(u), s)).toVar(),
                g = QT(eT(zw(2).mul(c).sub(d), s)).toVar(),
                y = QT(eT(zw(2).mul(f).sub(h), s)).toVar(),
                x = QT(eT(zw(2).mul(p).sub(v), s)).toVar(),
                _ = gP(n, s, i).toVar(),
                b = m
                  .lessThan(g)
                  .select(
                    _.sub(gP(n.sub(Gw(zw(1).div(a.x), 0)), l, i)),
                    _.negate().add(gP(n.add(Gw(zw(1).div(a.x), 0)), c, i))
                  ),
                S = y
                  .lessThan(x)
                  .select(
                    _.sub(gP(n.add(Gw(0, zw(1).div(a.y))), f, i)),
                    _.negate().add(gP(n.sub(Gw(0, zw(1).div(a.y))), p, i))
                  )
              return BT(pM(b, S))
            }),
            _P = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Float32Array
                return (
                  w(this, t),
                  ((r = y(this, t, [
                    ArrayBuffer.isView(e) ? e : new i(e * n),
                    n,
                  ])).isStorageInstancedBufferAttribute = !0),
                  r
                )
              }
              return (b(t, e), T(t))
            })(ap),
            bP = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Float32Array
                return (
                  w(this, t),
                  ((r = y(this, t, [
                    ArrayBuffer.isView(e) ? e : new i(e * n),
                    n,
                  ])).isStorageBufferAttribute = !0),
                  r
                )
              }
              return (b(t, e), T(t))
            })(Kh),
            SP = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [e, n])).isStorageArrayElementNode = !0), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'storageBufferNode',
                      get: function () {
                        return this.node
                      },
                      set: function (e) {
                        this.node = e
                      },
                    },
                    {
                      key: 'getMemberType',
                      value: function (e, t) {
                        var n = this.storageBufferNode.structTypeNode
                        return n ? n.getMemberType(e, t) : 'void'
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (
                          !1 === e.isAvailable('storageBuffer') &&
                            !0 === this.node.isPBO &&
                            e.setupPBO(this.node),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, r) {
                        var i,
                          a = e.context.assign
                        if (
                          ((i =
                            !1 === e.isAvailable('storageBuffer')
                              ? !0 !== this.node.isPBO ||
                                !0 === a ||
                                (!this.node.value.isInstancedBufferAttribute &&
                                  'compute' === e.shaderStage)
                                ? this.node.build(e)
                                : e.generatePBO(this)
                              : n(t, 'generate', this, 3)([e])),
                          !0 !== a)
                        ) {
                          var o = this.getNodeType(e)
                          i = e.format(i, o, r)
                        }
                        return i
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StorageArrayElementNode'
                      },
                    },
                  ]
                )
              )
            })(kS),
            wP = Nw(SP),
            AP = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                w(this, t)
                var a,
                  o = null
                return (
                  r && r.isStruct
                    ? ((a = 'struct'), (o = r.layout))
                    : null === r &&
                        (e.isStorageBufferAttribute || e.isStorageInstancedBufferAttribute)
                      ? ((a = (function (e) {
                          return hS.get(e)
                        })(e.itemSize)),
                        (i = e.count))
                      : (a = r),
                  ((n = y(this, t, [e, a, i])).isStorageBufferNode = !0),
                  (n.structTypeNode = o),
                  (n.access = wS.READ_WRITE),
                  (n.isAtomic = !1),
                  (n.isPBO = !1),
                  (n._attribute = null),
                  (n._varying = null),
                  (n.global = !0),
                  !0 !== e.isStorageBufferAttribute &&
                    !0 !== e.isStorageInstancedBufferAttribute &&
                    (e.isInstancedBufferAttribute
                      ? (e.isStorageInstancedBufferAttribute = !0)
                      : (e.isStorageBufferAttribute = !0)),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        if (0 === this.bufferCount) {
                          var t = e.globalCache.getData(this.value)
                          return (
                            void 0 === t &&
                              ((t = { node: this }), e.globalCache.setData(this.value, t)),
                            t.node.uuid
                          )
                        }
                        return this.uuid
                      },
                    },
                    {
                      key: 'getInputType',
                      value: function () {
                        return this.value.isIndirectStorageBufferAttribute
                          ? 'indirectStorageBuffer'
                          : 'storageBuffer'
                      },
                    },
                    {
                      key: 'element',
                      value: function (e) {
                        return wP(this, e)
                      },
                    },
                    {
                      key: 'setPBO',
                      value: function (e) {
                        return ((this.isPBO = e), this)
                      },
                    },
                    {
                      key: 'getPBO',
                      value: function () {
                        return this.isPBO
                      },
                    },
                    {
                      key: 'setAccess',
                      value: function (e) {
                        return ((this.access = e), this)
                      },
                    },
                    {
                      key: 'toReadOnly',
                      value: function () {
                        return this.setAccess(wS.READ_ONLY)
                      },
                    },
                    {
                      key: 'setAtomic',
                      value: function (e) {
                        return ((this.isAtomic = e), this)
                      },
                    },
                    {
                      key: 'toAtomic',
                      value: function () {
                        return this.setAtomic(!0)
                      },
                    },
                    {
                      key: 'getAttributeData',
                      value: function () {
                        return (
                          null === this._attribute &&
                            ((this._attribute = dE(this.value)),
                            (this._varying = QM(this._attribute))),
                          { attribute: this._attribute, varying: this._varying }
                        )
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return null !== this.structTypeNode
                          ? this.structTypeNode.getNodeType(e)
                          : e.isAvailable('storageBuffer') || e.isAvailable('indirectStorageBuffer')
                            ? n(t, 'getNodeType', this, 3)([e])
                            : this.getAttributeData().attribute.getNodeType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        if (
                          (null !== this.structTypeNode && this.structTypeNode.build(e),
                          e.isAvailable('storageBuffer') || e.isAvailable('indirectStorageBuffer'))
                        )
                          return n(t, 'generate', this, 3)([e])
                        var r = this.getAttributeData(),
                          i = r.attribute,
                          a = r.varying.build(e)
                        return (e.registerTransform(a, i), a)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StorageBufferNode'
                      },
                    },
                  ]
                )
              )
            })(FE),
            TP = function (e) {
              return kw(
                new AP(
                  e,
                  arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                  arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                )
              )
            },
            MP = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                return (
                  w(this, t),
                  ((e = y(this, t, [null, 'vec4'])).isVertexColorNode = !0),
                  (e.index = n),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getAttributeName',
                      value: function () {
                        var e = this.index
                        return 'color' + (e > 0 ? e : '')
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var r = this.getAttributeName(e)
                        return !0 === e.hasGeometryAttribute(r)
                          ? n(t, 'generate', this, 3)([e])
                          : e.generateConst(this.nodeType, new dd(1, 1, 1, 1))
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]), (e.index = this.index))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]), (this.index = e.index))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'VertexColorNode'
                      },
                    },
                  ]
                )
              )
            })(CE),
            EP = Pw(
              (function (e) {
                function t() {
                  var e
                  return (w(this, t), ((e = y(this, t, ['vec2'])).isPointUVNode = !0), e)
                }
                return (
                  b(t, e),
                  T(
                    t,
                    [
                      {
                        key: 'generate',
                        value: function () {
                          return 'vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )'
                        },
                      },
                    ],
                    [
                      {
                        key: 'type',
                        get: function () {
                          return 'PointUVNode'
                        },
                      },
                    ]
                  )
                )
              })(CS)
            ),
            CP = new rh(),
            kP = new qd(),
            RP = (function (e) {
              function t() {
                var e,
                  n =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : t.BACKGROUND_BLURRINESS,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (w(this, t), ((e = y(this, t)).scope = n), (e.scene = r), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        var n,
                          r = this.scope,
                          i = null !== this.scene ? this.scene : e.scene
                        return (
                          r === t.BACKGROUND_BLURRINESS
                            ? (n = GC('backgroundBlurriness', 'float', i))
                            : r === t.BACKGROUND_INTENSITY
                              ? (n = GC('backgroundIntensity', 'float', i))
                              : r === t.BACKGROUND_ROTATION
                                ? (n = mA('mat4')
                                    .label('backgroundRotation')
                                    .setGroup(fA)
                                    .onRenderUpdate(function () {
                                      var e = i.background
                                      return (
                                        null !== e && e.isTexture && 300 !== e.mapping
                                          ? (CP.copy(i.backgroundRotation),
                                            (CP.x *= -1),
                                            (CP.y *= -1),
                                            (CP.z *= -1),
                                            kP.makeRotationFromEuler(CP))
                                          : kP.identity(),
                                        kP
                                      )
                                    }))
                                : console.error('THREE.SceneNode: Unknown scope:', r),
                          n
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'SceneNode'
                      },
                    },
                  ]
                )
              )
            })(CS)
          ;((RP.BACKGROUND_BLURRINESS = 'backgroundBlurriness'),
            (RP.BACKGROUND_INTENSITY = 'backgroundIntensity'),
            (RP.BACKGROUND_ROTATION = 'backgroundRotation'))
          var IP = Pw(RP, RP.BACKGROUND_BLURRINESS),
            NP = Pw(RP, RP.BACKGROUND_INTENSITY),
            PP = Pw(RP, RP.BACKGROUND_ROTATION),
            LP = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (
                  w(this, t),
                  ((r = y(this, t, [e, n])).storeNode = i),
                  (r.isStorageTextureNode = !0),
                  (r.access = wS.WRITE_ONLY),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getInputType',
                      value: function () {
                        return 'storageTexture'
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        ;(n(t, 'setup', this, 3)([e]),
                          (e.getNodeProperties(this).storeNode = this.storeNode))
                      },
                    },
                    {
                      key: 'setAccess',
                      value: function (e) {
                        return ((this.access = e), this)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, r) {
                        return null !== this.storeNode
                          ? this.generateStore(e)
                          : n(t, 'generate', this, 3)([e, r])
                      },
                    },
                    {
                      key: 'toReadWrite',
                      value: function () {
                        return this.setAccess(wS.READ_WRITE)
                      },
                    },
                    {
                      key: 'toReadOnly',
                      value: function () {
                        return this.setAccess(wS.READ_ONLY)
                      },
                    },
                    {
                      key: 'toWriteOnly',
                      value: function () {
                        return this.setAccess(wS.WRITE_ONLY)
                      },
                    },
                    {
                      key: 'generateStore',
                      value: function (e) {
                        var r = e.getNodeProperties(this),
                          i = r.uvNode,
                          a = r.storeNode,
                          o = n(t, 'generate', this, 3)([e, 'property']),
                          s = i.build(e, 'uvec2'),
                          u = a.build(e, 'vec4'),
                          l = e.generateTextureStore(e, o, s, u)
                        e.addLineFlowCode(l, this)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'StorageTextureNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            DP = Nw(LP),
            OP = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return (w(this, t), ((r = y(this, t, [e, n, i])).userData = i), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateReference',
                      value: function (e) {
                        return (
                          (this.reference =
                            null !== this.userData ? this.userData : e.object.userData),
                          this.reference
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'UserDataNode'
                      },
                    },
                  ]
                )
              )
            })(WC),
            FP = new WeakMap()
          function BP(e) {
            var t = FP.get(e)
            return (void 0 === t && ((t = {}), FP.set(e, t)), t)
          }
          function UP(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              n = BP(e),
              r = n[t]
            return (void 0 === r && (n[t] = r = new qd()), r)
          }
          var zP = Pw(
              (function (e) {
                function t() {
                  var e
                  return (
                    w(this, t),
                    ((e = y(this, t, ['vec2'])).projectionMatrix = null),
                    (e.updateType = SS.OBJECT),
                    (e.updateAfterType = SS.OBJECT),
                    (e.previousModelWorldMatrix = mA(new qd())),
                    (e.previousProjectionMatrix = mA(new qd()).setGroup(fA)),
                    (e.previousCameraViewMatrix = mA(new qd())),
                    e
                  )
                }
                return (
                  b(t, e),
                  T(
                    t,
                    [
                      {
                        key: 'setProjectionMatrix',
                        value: function (e) {
                          this.projectionMatrix = e
                        },
                      },
                      {
                        key: 'update',
                        value: function (e) {
                          var t = e.frameId,
                            n = e.camera,
                            r = UP(e.object)
                          this.previousModelWorldMatrix.value.copy(r)
                          var i = BP(n)
                          i.frameId !== t &&
                            ((i.frameId = t),
                            void 0 === i.previousProjectionMatrix
                              ? ((i.previousProjectionMatrix = new qd()),
                                (i.previousCameraViewMatrix = new qd()),
                                (i.currentProjectionMatrix = new qd()),
                                (i.currentCameraViewMatrix = new qd()),
                                i.previousProjectionMatrix.copy(
                                  this.projectionMatrix || n.projectionMatrix
                                ),
                                i.previousCameraViewMatrix.copy(n.matrixWorldInverse))
                              : (i.previousProjectionMatrix.copy(i.currentProjectionMatrix),
                                i.previousCameraViewMatrix.copy(i.currentCameraViewMatrix)),
                            i.currentProjectionMatrix.copy(
                              this.projectionMatrix || n.projectionMatrix
                            ),
                            i.currentCameraViewMatrix.copy(n.matrixWorldInverse),
                            this.previousProjectionMatrix.value.copy(i.previousProjectionMatrix),
                            this.previousCameraViewMatrix.value.copy(i.previousCameraViewMatrix))
                        },
                      },
                      {
                        key: 'updateAfter',
                        value: function (e) {
                          var t = e.object
                          UP(t).copy(t.matrixWorld)
                        },
                      },
                      {
                        key: 'setup',
                        value: function () {
                          var e = null === this.projectionMatrix ? jE : mA(this.projectionMatrix),
                            t = this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),
                            n = e.mul(dC).mul(mC),
                            r = this.previousProjectionMatrix.mul(t).mul(gC),
                            i = n.xy.div(n.w),
                            a = r.xy.div(r.w)
                          return eT(i, a)
                        },
                      },
                    ],
                    [
                      {
                        key: 'type',
                        get: function () {
                          return 'VelocityNode'
                        },
                      },
                    ]
                  )
                )
              })(IS)
            ),
            VP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return oM(1, n.oneMinus().div(r)).oneMinus()
            }).setLayout({
              name: 'blendBurn',
              type: 'vec3',
              inputs: [
                { name: 'base', type: 'vec3' },
                { name: 'blend', type: 'vec3' },
              ],
            }),
            HP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return oM(n.div(r.oneMinus()), 1)
            }).setLayout({
              name: 'blendDodge',
              type: 'vec3',
              inputs: [
                { name: 'base', type: 'vec3' },
                { name: 'blend', type: 'vec3' },
              ],
            }),
            WP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return n.oneMinus().mul(r.oneMinus()).oneMinus()
            }).setLayout({
              name: 'blendScreen',
              type: 'vec3',
              inputs: [
                { name: 'base', type: 'vec3' },
                { name: 'blend', type: 'vec3' },
              ],
            }),
            GP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return SM(
                n.mul(2).mul(r),
                n.oneMinus().mul(2).mul(r.oneMinus()).oneMinus(),
                lM(0.5, n)
              )
            }).setLayout({
              name: 'blendOverlay',
              type: 'vec3',
              inputs: [
                { name: 'base', type: 'vec3' },
                { name: 'blend', type: 'vec3' },
              ],
            }),
            jP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = r.a.add(n.a.mul(r.a.oneMinus()))
              return Jw(r.rgb.mul(r.a).add(n.rgb.mul(n.a).mul(r.a.oneMinus())).div(i), i)
            }).setLayout({
              name: 'blendColor',
              type: 'vec4',
              inputs: [
                { name: 'base', type: 'vec4' },
                { name: 'blend', type: 'vec4' },
              ],
            }),
            QP = Lw(function (e) {
              var t = C(e, 1)[0]
              return KP(t.rgb)
            }),
            qP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return (void 0 === r ? zw(1) : r).mix(KP(n.rgb), n.rgb)
            }),
            XP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = void 0 === r ? zw(1) : r,
                a = $A(n.r, n.g, n.b).div(3),
                o = n.r.max(n.g.max(n.b)),
                s = o.sub(a).mul(i).mul(-3)
              return SM(n.rgb, o, s)
            }),
            YP = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = void 0 === r ? zw(1) : r,
                a = Xw(0.57735, 0.57735, 0.57735),
                o = i.cos()
              return Xw(
                n.rgb.mul(o).add(
                  a
                    .cross(n.rgb)
                    .mul(i.sin())
                    .add(a.mul(fM(a, n.rgb).mul(o.oneMinus())))
                )
              )
            }),
            KP = function (e) {
              var t =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : Xw(nd.getLuminanceCoefficients(new gd()))
              return fM(e, t)
            },
            ZP = Lw(function (e) {
              var t = C(e, 6),
                n = t[0],
                r = t[1],
                i = void 0 === r ? Xw(1) : r,
                a = t[2],
                o = void 0 === a ? Xw(0) : a,
                s = t[3],
                u = void 0 === s ? Xw(1) : s,
                l = t[4],
                c = void 0 === l ? zw(1) : l,
                d = t[5],
                h = void 0 === d ? Xw(nd.getLuminanceCoefficients(new gd(), wc)) : d,
                f = n.rgb.dot(Xw(h)),
                p = sM(n.rgb.mul(i).add(o), 0).toVar(),
                v = p.pow(u).toVar()
              return (
                Fw(p.r.greaterThan(0), function () {
                  p.r.assign(v.r)
                }),
                Fw(p.g.greaterThan(0), function () {
                  p.g.assign(v.g)
                }),
                Fw(p.b.greaterThan(0), function () {
                  p.b.assign(v.b)
                }),
                p.assign(f.add(p.sub(f).mul(c))),
                Jw(p.rgb, n.a)
              )
            }),
            JP = Nw(
              (function (e) {
                function t(e, n) {
                  var r
                  return (w(this, t), ((r = y(this, t)).sourceNode = e), (r.stepsNode = n), r)
                }
                return (
                  b(t, e),
                  T(
                    t,
                    [
                      {
                        key: 'setup',
                        value: function () {
                          var e = this.sourceNode,
                            t = this.stepsNode
                          return e.mul(t).floor().div(t)
                        },
                      },
                    ],
                    [
                      {
                        key: 'type',
                        get: function () {
                          return 'PosterizeNode'
                        },
                      },
                    ]
                  )
                )
              })(IS)
            ),
            $P = new Gc(),
            eL = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [n])).passNode = e), r.setUpdateMatrix(!1), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setup',
                      value: function (e) {
                        return (
                          e.object.isQuadMesh && this.passNode.build(e),
                          n(t, 'setup', this, 3)([e])
                        )
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        return new this.constructor(this.passNode, this.value)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'PassTextureNode'
                      },
                    },
                  ]
                )
              )
            })(LE),
            tL = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                return (
                  w(this, t),
                  ((r = y(this, t, [e, null])).textureName = n),
                  (r.previousTexture = i),
                  r
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateTexture',
                      value: function () {
                        this.value = this.previousTexture
                          ? this.passNode.getPreviousTexture(this.textureName)
                          : this.passNode.getTexture(this.textureName)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        return (this.updateTexture(), n(t, 'setup', this, 3)([e]))
                      },
                    },
                    {
                      key: 'clone',
                      value: function () {
                        return new this.constructor(
                          this.passNode,
                          this.textureName,
                          this.previousTexture
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'PassMultipleTextureNode'
                      },
                    },
                  ]
                )
              )
            })(eL),
            nL = (function (e) {
              function t(e, n, r) {
                var i,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
                ;(w(this, t),
                  ((i = y(this, t, ['vec4'])).scope = e),
                  (i.scene = n),
                  (i.camera = r),
                  (i.options = a),
                  (i._pixelRatio = 1),
                  (i._width = 1),
                  (i._height = 1))
                var o = new Wp()
                ;((o.isRenderTargetTexture = !0), (o.name = 'depth'))
                var u = new hd(
                  i._width * i._pixelRatio,
                  i._height * i._pixelRatio,
                  s({ type: Sl }, a)
                )
                return (
                  (u.texture.name = 'output'),
                  (u.depthTexture = o),
                  (i.renderTarget = u),
                  (i._textures = { output: u.texture, depth: o }),
                  (i._textureNodes = {}),
                  (i._linearDepthNodes = {}),
                  (i._viewZNodes = {}),
                  (i._previousTextures = {}),
                  (i._previousTextureNodes = {}),
                  (i._cameraNear = mA(0)),
                  (i._cameraFar = mA(0)),
                  (i._mrt = null),
                  (i.isPassNode = !0),
                  (i.updateBeforeType = SS.FRAME),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setMRT',
                      value: function (e) {
                        return ((this._mrt = e), this)
                      },
                    },
                    {
                      key: 'getMRT',
                      value: function () {
                        return this._mrt
                      },
                    },
                    {
                      key: 'isGlobal',
                      value: function () {
                        return !0
                      },
                    },
                    {
                      key: 'getTexture',
                      value: function (e) {
                        var t = this._textures[e]
                        void 0 === t &&
                          (((t = this.renderTarget.texture.clone()).name = e),
                          (this._textures[e] = t),
                          this.renderTarget.textures.push(t))
                        return t
                      },
                    },
                    {
                      key: 'getPreviousTexture',
                      value: function (e) {
                        var t = this._previousTextures[e]
                        return (
                          void 0 === t &&
                            ((t = this.getTexture(e).clone()), (this._previousTextures[e] = t)),
                          t
                        )
                      },
                    },
                    {
                      key: 'toggleTexture',
                      value: function (e) {
                        var t = this._previousTextures[e]
                        if (void 0 !== t) {
                          var n = this._textures[e],
                            r = this.renderTarget.textures.indexOf(n)
                          ;((this.renderTarget.textures[r] = t),
                            (this._textures[e] = t),
                            (this._previousTextures[e] = n),
                            this._textureNodes[e].updateTexture(),
                            this._previousTextureNodes[e].updateTexture())
                        }
                      },
                    },
                    {
                      key: 'getTextureNode',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : 'output',
                          t = this._textureNodes[e]
                        return (
                          void 0 === t &&
                            ((t = kw(new tL(this, e))).updateTexture(),
                            (this._textureNodes[e] = t)),
                          t
                        )
                      },
                    },
                    {
                      key: 'getPreviousTextureNode',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : 'output',
                          t = this._previousTextureNodes[e]
                        return (
                          void 0 === t &&
                            (void 0 === this._textureNodes[e] && this.getTextureNode(e),
                            (t = kw(new tL(this, e, !0))).updateTexture(),
                            (this._previousTextureNodes[e] = t)),
                          t
                        )
                      },
                    },
                    {
                      key: 'getViewZNode',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : 'depth',
                          t = this._viewZNodes[e]
                        if (void 0 === t) {
                          var n = this._cameraNear,
                            r = this._cameraFar
                          this._viewZNodes[e] = t = tI(this.getTextureNode(e), n, r)
                        }
                        return t
                      },
                    },
                    {
                      key: 'getLinearDepthNode',
                      value: function () {
                        var e =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : 'depth',
                          t = this._linearDepthNodes[e]
                        if (void 0 === t) {
                          var n = this._cameraNear,
                            r = this._cameraFar,
                            i = this.getViewZNode(e)
                          this._linearDepthNodes[e] = t = $R(i, n, r)
                        }
                        return t
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var n = e.renderer
                        return (
                          (this.renderTarget.samples =
                            void 0 === this.options.samples ? n.samples : this.options.samples),
                          !0 === n.backend.isWebGLBackend && (this.renderTarget.samples = 0),
                          (this.renderTarget.texture.type = n.getColorBufferType()),
                          this.scope === t.COLOR ? this.getTextureNode() : this.getLinearDepthNode()
                        )
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        var t = e.renderer,
                          n = this.scene,
                          r = this.camera
                        this._pixelRatio = t.getPixelRatio()
                        var i = t.getSize($P)
                        this.setSize(i.width, i.height)
                        var a = t.getRenderTarget(),
                          o = t.getMRT()
                        for (var s in ((this._cameraNear.value = r.near),
                        (this._cameraFar.value = r.far),
                        this._previousTextures))
                          this.toggleTexture(s)
                        ;(t.setRenderTarget(this.renderTarget),
                          t.setMRT(this._mrt),
                          t.render(n, r),
                          t.setRenderTarget(a),
                          t.setMRT(o))
                      },
                    },
                    {
                      key: 'setSize',
                      value: function (e, t) {
                        ;((this._width = e), (this._height = t))
                        var n = this._width * this._pixelRatio,
                          r = this._height * this._pixelRatio
                        this.renderTarget.setSize(n, r)
                      },
                    },
                    {
                      key: 'setPixelRatio',
                      value: function (e) {
                        ;((this._pixelRatio = e), this.setSize(this._width, this._height))
                      },
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        this.renderTarget.dispose()
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'PassNode'
                      },
                    },
                  ]
                )
              )
            })(IS)
          ;((nL.COLOR = 'color'), (nL.DEPTH = 'depth'))
          var rL = (function (e) {
              function t(e, n, r, i, a) {
                var o
                return (
                  w(this, t),
                  ((o = y(this, t, [nL.COLOR, e, n])).colorNode = r),
                  (o.thicknessNode = i),
                  (o.alphaNode = a),
                  (o._materialCache = new WeakMap()),
                  o
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        var r = this,
                          i = e.renderer,
                          a = i.getRenderObjectFunction()
                        ;(i.setRenderObjectFunction(function (e, t, n, a, o, s, u, l) {
                          if (
                            (o.isMeshToonMaterial || o.isMeshToonNodeMaterial) &&
                            !1 === o.wireframe
                          ) {
                            var c = r._getOutlineMaterial(o)
                            i.renderObject(e, t, n, a, c, s, u, l)
                          }
                          i.renderObject(e, t, n, a, o, s, u, l)
                        }),
                          n(t, 'updateBefore', this, 3)([e]),
                          i.setRenderObjectFunction(a))
                      },
                    },
                    {
                      key: '_createMaterial',
                      value: function () {
                        var e = new fI()
                        ;((e.isMeshToonOutlineMaterial = !0),
                          (e.name = 'Toon_Outline'),
                          (e.side = 1))
                        var t = MC.negate(),
                          n = jE.mul(dC),
                          r = zw(1),
                          i = n.mul(Jw(mC, 1)),
                          a = n.mul(Jw(mC.add(t), 1)),
                          o = BT(i.sub(a))
                        return (
                          (e.vertexNode = i.add(o.mul(this.thicknessNode).mul(i.w).mul(r))),
                          (e.colorNode = Jw(this.colorNode, this.alphaNode)),
                          e
                        )
                      },
                    },
                    {
                      key: '_getOutlineMaterial',
                      value: function (e) {
                        var t = this._materialCache.get(e)
                        return (
                          void 0 === t &&
                            ((t = this._createMaterial()), this._materialCache.set(e, t)),
                          t
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ToonOutlinePassNode'
                      },
                    },
                  ]
                )
              )
            })(nL),
            iL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return n.mul(r).clamp()
            }).setLayout({
              name: 'linearToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            aL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return (n = n.mul(r)).div(n.add(1)).clamp()
            }).setLayout({
              name: 'reinhardToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            oL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = (n = (n = n.mul(r)).sub(0.004).max(0)).mul(n.mul(6.2).add(0.5)),
                a = n.mul(n.mul(6.2).add(1.7)).add(0.06)
              return i.div(a).pow(2.2)
            }).setLayout({
              name: 'cineonToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            sL = Lw(function (e) {
              var t = C(e, 1)[0],
                n = t.mul(t.add(0.0245786)).sub(90537e-9),
                r = t.mul(t.add(0.432951).mul(0.983729)).add(0.238081)
              return n.div(r)
            }),
            uL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = rA(
                  0.59719,
                  0.35458,
                  0.04823,
                  0.076,
                  0.90834,
                  0.01566,
                  0.0284,
                  0.13383,
                  0.83777
                ),
                a = rA(
                  1.60475,
                  -0.53108,
                  -0.07367,
                  -0.10208,
                  1.10813,
                  -0.00605,
                  -0.00327,
                  -0.07276,
                  1.07602
                )
              return ((n = n.mul(r).div(0.6)), (n = i.mul(n)), (n = sL(n)), (n = a.mul(n)).clamp())
            }).setLayout({
              name: 'acesFilmicToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            lL = rA(
              Xw(1.6605, -0.1246, -0.0182),
              Xw(-0.5876, 1.1329, -0.1006),
              Xw(-0.0728, -0.0083, 1.1187)
            ),
            cL = rA(
              Xw(0.6274, 0.0691, 0.0164),
              Xw(0.3293, 0.9195, 0.088),
              Xw(0.0433, 0.0113, 0.8956)
            ),
            dL = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Xw(n.mul(n)).toVar(),
                i = Xw(r.mul(r)).toVar()
              return zw(15.5)
                .mul(i.mul(r))
                .sub(tT(40.14, i.mul(n)))
                .add(
                  tT(31.96, i)
                    .sub(tT(6.868, r.mul(n)))
                    .add(tT(0.4298, r).add(tT(0.1191, n).sub(0.00232)))
                )
            }),
            hL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Xw(n).toVar(),
                a = rA(
                  Xw(0.856627153315983, 0.137318972929847, 0.11189821299995),
                  Xw(0.0951212405381588, 0.761241990602591, 0.0767994186031903),
                  Xw(0.0482516061458583, 0.101439036467562, 0.811302368396859)
                ),
                o = rA(
                  Xw(1.1271005818144368, -0.1413297634984383, -0.14132976349843826),
                  Xw(-0.11060664309660323, 1.157823702216272, -0.11060664309660294),
                  Xw(-0.016493938717834573, -0.016493938717834257, 1.2519364065950405)
                ),
                s = zw(-12.47393),
                u = zw(4.026069)
              return (
                i.mulAssign(r),
                i.assign(cL.mul(i)),
                i.assign(a.mul(i)),
                i.assign(sM(i, 1e-10)),
                i.assign(PT(i)),
                i.assign(i.sub(s).div(u.sub(s))),
                i.assign(wM(i, 0, 1)),
                i.assign(dL(i)),
                i.assign(o.mul(i)),
                i.assign(vM(sM(Xw(0), i), Xw(2.2))),
                i.assign(lL.mul(i)),
                i.assign(wM(i, 0, 1)),
                i
              )
            }).setLayout({
              name: 'agxToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            fL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = zw(0.76),
                a = zw(0.15)
              n = n.mul(r)
              var o = oM(n.r, oM(n.g, n.b)),
                s = DM(o.lessThan(0.08), o.sub(tT(6.25, o.mul(o))), 0.04)
              n.subAssign(s)
              var u = sM(n.r, sM(n.g, n.b))
              Fw(u.lessThan(i), function () {
                return n
              })
              var l = eT(1, i),
                c = eT(1, l.mul(l).div(u.add(l.sub(i))))
              n.mulAssign(c.div(u))
              var d = eT(1, nT(1, a.mul(u.sub(c)).add(1)))
              return SM(n, Xw(c), d)
            }).setLayout({
              name: 'neutralToneMapping',
              type: 'vec3',
              inputs: [
                { name: 'color', type: 'vec3' },
                { name: 'exposure', type: 'float' },
              ],
            }),
            pL = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ''
                return (
                  w(this, t),
                  ((e = y(this, t, ['code'])).isCodeNode = !0),
                  (e.code = n),
                  (e.includes = r),
                  (e.language = i),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'isGlobal',
                      value: function () {
                        return !0
                      },
                    },
                    {
                      key: 'setIncludes',
                      value: function (e) {
                        return ((this.includes = e), this)
                      },
                    },
                    {
                      key: 'getIncludes',
                      value: function () {
                        return this.includes
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t,
                          n = L(this.getIncludes(e))
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            t.value.build(e)
                          }
                        } catch (i) {
                          n.e(i)
                        } finally {
                          n.f()
                        }
                        var r = e.getCodeFromNode(this, this.getNodeType(e))
                        return ((r.code = this.code), r.code)
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.code = this.code),
                          (e.language = this.language))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.code = e.code),
                          (this.language = e.language))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'CodeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            vL = Nw(pL),
            mL = (function (e) {
              function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',
                  n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                  r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ''
                return (w(this, t), y(this, t, [e, n, r]))
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.getNodeFunction(e).type
                      },
                    },
                    {
                      key: 'getInputs',
                      value: function (e) {
                        return this.getNodeFunction(e).inputs
                      },
                    },
                    {
                      key: 'getNodeFunction',
                      value: function (e) {
                        var t = e.getDataFromNode(this),
                          n = t.nodeFunction
                        return (
                          void 0 === n &&
                            ((n = e.parser.parseFunction(this.code)), (t.nodeFunction = n)),
                          n
                        )
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, r) {
                        n(t, 'generate', this, 3)([e])
                        var i = this.getNodeFunction(e),
                          a = i.name,
                          o = i.type,
                          s = e.getCodeFromNode(this, o)
                        '' !== a && (s.name = a)
                        var u = e.getPropertyName(s),
                          l = this.getNodeFunction(e).getCode(u)
                        return (
                          (s.code = l + '\n'),
                          'property' === r ? u : e.format(''.concat(u, '()'), o, r)
                        )
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'FunctionNode'
                      },
                    },
                  ]
                )
              )
            })(pL),
            gL = function (e) {
              for (
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : '',
                  r = 0;
                r < t.length;
                r++
              ) {
                var i = t[r]
                'function' == typeof i && (t[r] = i.functionNode)
              }
              var a = kw(new mL(e, t, n)),
                o = function () {
                  return a.call.apply(a, arguments)
                }
              return ((o.functionNode = a), o)
            },
            yL = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                return (
                  w(this, t),
                  ((e = y(this, t))._value = n),
                  (e._cache = null),
                  (e.inputType = null),
                  (e.outputType = null),
                  (e.events = new Nc()),
                  (e.isScriptableValueNode = !0),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'isScriptableOutputNode',
                      get: function () {
                        return null !== this.outputType
                      },
                    },
                    {
                      key: 'value',
                      get: function () {
                        return this._value
                      },
                      set: function (e) {
                        this._value !== e &&
                          (this._cache &&
                            'URL' === this.inputType &&
                            this.value.value instanceof ArrayBuffer &&
                            (URL.revokeObjectURL(this._cache), (this._cache = null)),
                          (this._value = e),
                          this.events.dispatchEvent({ type: 'change' }),
                          this.refresh())
                      },
                    },
                    {
                      key: 'refresh',
                      value: function () {
                        this.events.dispatchEvent({ type: 'refresh' })
                      },
                    },
                    {
                      key: 'getValue',
                      value: function () {
                        var e = this.value
                        if (
                          e &&
                          null === this._cache &&
                          'URL' === this.inputType &&
                          e.value instanceof ArrayBuffer
                        )
                          this._cache = URL.createObjectURL(new Blob([e.value]))
                        else if (
                          e &&
                          null !== e.value &&
                          void 0 !== e.value &&
                          ((('URL' === this.inputType || 'String' === this.inputType) &&
                            'string' == typeof e.value) ||
                            ('Number' === this.inputType && 'number' == typeof e.value) ||
                            ('Vector2' === this.inputType && e.value.isVector2) ||
                            ('Vector3' === this.inputType && e.value.isVector3) ||
                            ('Vector4' === this.inputType && e.value.isVector4) ||
                            ('Color' === this.inputType && e.value.isColor) ||
                            ('Matrix3' === this.inputType && e.value.isMatrix3) ||
                            ('Matrix4' === this.inputType && e.value.isMatrix4))
                        )
                          return e.value
                        return this._cache || e
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.value && this.value.isNode ? this.value.getNodeType(e) : 'float'
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        return this.value && this.value.isNode ? this.value : zw()
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          null !== this.value
                            ? 'ArrayBuffer' === this.inputType
                              ? (e.value = xS(this.value))
                              : (e.value = this.value ? this.value.toJSON(e.meta).uuid : null)
                            : (e.value = null),
                          (e.inputType = this.inputType),
                          (e.outputType = this.outputType))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        n(t, 'deserialize', this, 3)([e])
                        var r = null
                        ;(null !== e.value &&
                          (r =
                            'ArrayBuffer' === e.inputType
                              ? _S(e.value)
                              : 'Texture' === e.inputType
                                ? e.meta.textures[e.value]
                                : e.meta.nodes[e.value] || null),
                          (this.value = r),
                          (this.inputType = e.inputType),
                          (this.outputType = e.outputType))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ScriptableValueNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            xL = Nw(yL),
            _L = (function (e) {
              function t() {
                return (w(this, t), y(this, t, arguments))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'get',
                    value: function (e) {
                      var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                      if (this.has(e)) return n(t, 'get', this, 3)([e])
                      if (null !== r) {
                        for (
                          var i = arguments.length, a = new Array(i > 2 ? i - 2 : 0), o = 2;
                          o < i;
                          o++
                        )
                          a[o - 2] = arguments[o]
                        var s = r.apply(void 0, a)
                        return (this.set(e, s), s)
                      }
                    },
                  },
                ])
              )
            })(m(Map)),
            bL = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.scriptableNode = t))
                },
                [
                  {
                    key: 'parameters',
                    get: function () {
                      return this.scriptableNode.parameters
                    },
                  },
                  {
                    key: 'layout',
                    get: function () {
                      return this.scriptableNode.getLayout()
                    },
                  },
                  {
                    key: 'getInputLayout',
                    value: function (e) {
                      return this.scriptableNode.getInputLayout(e)
                    },
                  },
                  {
                    key: 'get',
                    value: function (e) {
                      var t = this.parameters[e]
                      return t ? t.getValue() : null
                    },
                  },
                ]
              )
            })(),
            SL = new _L(),
            wL = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                return (
                  w(this, t),
                  ((e = y(this, t)).codeNode = n),
                  (e.parameters = r),
                  (e._local = new _L()),
                  (e._output = xL()),
                  (e._outputs = {}),
                  (e._source = e.source),
                  (e._method = null),
                  (e._object = null),
                  (e._value = null),
                  (e._needsOutputUpdate = !0),
                  (e.onRefresh = e.onRefresh.bind(e)),
                  (e.isScriptableNode = !0),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'source',
                      get: function () {
                        return this.codeNode ? this.codeNode.code : ''
                      },
                    },
                    {
                      key: 'setLocal',
                      value: function (e, t) {
                        return this._local.set(e, t)
                      },
                    },
                    {
                      key: 'getLocal',
                      value: function (e) {
                        return this._local.get(e)
                      },
                    },
                    {
                      key: 'onRefresh',
                      value: function () {
                        this._refresh()
                      },
                    },
                    {
                      key: 'getInputLayout',
                      value: function (e) {
                        var t,
                          n = L(this.getLayout())
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            var r = t.value
                            if (r.inputType && (r.id === e || r.name === e)) return r
                          }
                        } catch (i) {
                          n.e(i)
                        } finally {
                          n.f()
                        }
                      },
                    },
                    {
                      key: 'getOutputLayout',
                      value: function (e) {
                        var t,
                          n = L(this.getLayout())
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            var r = t.value
                            if (r.outputType && (r.id === e || r.name === e)) return r
                          }
                        } catch (i) {
                          n.e(i)
                        } finally {
                          n.f()
                        }
                      },
                    },
                    {
                      key: 'setOutput',
                      value: function (e, t) {
                        var n = this._outputs
                        return (void 0 === n[e] ? (n[e] = xL(t)) : (n[e].value = t), this)
                      },
                    },
                    {
                      key: 'getOutput',
                      value: function (e) {
                        return this._outputs[e]
                      },
                    },
                    {
                      key: 'getParameter',
                      value: function (e) {
                        return this.parameters[e]
                      },
                    },
                    {
                      key: 'setParameter',
                      value: function (e, t) {
                        var n = this.parameters
                        return (
                          t && t.isScriptableNode
                            ? (this.deleteParameter(e),
                              (n[e] = t),
                              n[e]
                                .getDefaultOutput()
                                .events.addEventListener('refresh', this.onRefresh))
                            : t && t.isScriptableValueNode
                              ? (this.deleteParameter(e),
                                (n[e] = t),
                                n[e].events.addEventListener('refresh', this.onRefresh))
                              : void 0 === n[e]
                                ? ((n[e] = xL(t)),
                                  n[e].events.addEventListener('refresh', this.onRefresh))
                                : (n[e].value = t),
                          this
                        )
                      },
                    },
                    {
                      key: 'getValue',
                      value: function () {
                        return this.getDefaultOutput().getValue()
                      },
                    },
                    {
                      key: 'deleteParameter',
                      value: function (e) {
                        var t = this.parameters[e]
                        return (
                          t &&
                            (t.isScriptableNode && (t = t.getDefaultOutput()),
                            t.events.removeEventListener('refresh', this.onRefresh)),
                          this
                        )
                      },
                    },
                    {
                      key: 'clearParameters',
                      value: function () {
                        for (var e = 0, t = Object.keys(this.parameters); e < t.length; e++) {
                          var n = t[e]
                          this.deleteParameter(n)
                        }
                        return ((this.needsUpdate = !0), this)
                      },
                    },
                    {
                      key: 'call',
                      value: function (e) {
                        var t = this.getObject()[e]
                        if ('function' == typeof t) {
                          for (
                            var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1;
                            i < n;
                            i++
                          )
                            r[i - 1] = arguments[i]
                          return t.apply(void 0, r)
                        }
                      },
                    },
                    {
                      key: 'callAsync',
                      value:
                        ((r = v(
                          h().m(function e(t) {
                            var n,
                              r,
                              i,
                              a,
                              o,
                              s,
                              u = arguments
                            return h().w(
                              function (e) {
                                for (;;)
                                  switch (e.n) {
                                    case 0:
                                      if (
                                        ((n = this.getObject()), 'function' != typeof (r = n[t]))
                                      ) {
                                        e.n = 4
                                        break
                                      }
                                      for (
                                        i = u.length, a = new Array(i > 1 ? i - 1 : 0), o = 1;
                                        o < i;
                                        o++
                                      )
                                        a[o - 1] = u[o]
                                      if ('AsyncFunction' !== r.constructor.name) {
                                        e.n = 2
                                        break
                                      }
                                      return ((e.n = 1), r.apply(void 0, a))
                                    case 1:
                                      ;((s = e.v), (e.n = 3))
                                      break
                                    case 2:
                                      s = r.apply(void 0, a)
                                    case 3:
                                      return e.a(2, s)
                                    case 4:
                                      return e.a(2)
                                  }
                              },
                              e,
                              this
                            )
                          })
                        )),
                        function (e) {
                          return r.apply(this, arguments)
                        }),
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.getDefaultOutputNode().getNodeType(e)
                      },
                    },
                    {
                      key: 'refresh',
                      value: function () {
                        var e =
                          arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                        null !== e ? this.getOutput(e).refresh() : this._refresh()
                      },
                    },
                    {
                      key: 'getObject',
                      value: function () {
                        var e = this
                        if ((this.needsUpdate && this.dispose(), null !== this._object))
                          return this._object
                        var t = new bL(this),
                          n = SL.get('THREE'),
                          r = SL.get('TSL'),
                          i = this.getMethod(),
                          a = [
                            t,
                            this._local,
                            SL,
                            function () {
                              return e.refresh()
                            },
                            function (t, n) {
                              return e.setOutput(t, n)
                            },
                            n,
                            r,
                          ]
                        this._object = i.apply(void 0, a)
                        var o = this._object.layout
                        if (
                          o &&
                          (!1 === o.cache && this._local.clear(),
                          (this._output.outputType = o.outputType || null),
                          Array.isArray(o.elements))
                        ) {
                          var s,
                            u = L(o.elements)
                          try {
                            for (u.s(); !(s = u.n()).done; ) {
                              var l = s.value,
                                c = l.id || l.name
                              ;(l.inputType &&
                                (void 0 === this.getParameter(c) && this.setParameter(c, null),
                                (this.getParameter(c).inputType = l.inputType)),
                                l.outputType &&
                                  (void 0 === this.getOutput(c) && this.setOutput(c, null),
                                  (this.getOutput(c).outputType = l.outputType)))
                            }
                          } catch (d) {
                            u.e(d)
                          } finally {
                            u.f()
                          }
                        }
                        return this._object
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        for (var r in (n(t, 'deserialize', this, 3)([e]), this.parameters)) {
                          var i = this.parameters[r]
                          ;(i.isScriptableNode && (i = i.getDefaultOutput()),
                            i.events.addEventListener('refresh', this.onRefresh))
                        }
                      },
                    },
                    {
                      key: 'getLayout',
                      value: function () {
                        return this.getObject().layout
                      },
                    },
                    {
                      key: 'getDefaultOutputNode',
                      value: function () {
                        var e = this.getDefaultOutput().value
                        return e && e.isNode ? e : zw()
                      },
                    },
                    {
                      key: 'getDefaultOutput',
                      value: function () {
                        return this._exec()._output
                      },
                    },
                    {
                      key: 'getMethod',
                      value: function () {
                        if ((this.needsUpdate && this.dispose(), null !== this._method))
                          return this._method
                        var e = ['layout', 'init', 'main', 'dispose'].join(', '),
                          t = '\nreturn { ...output, ' + e + ' };',
                          n = 'var ' + e + '; var output = {};\n' + this.codeNode.code + t
                        return (
                          (this._method = g(
                            Function,
                            [
                              'parameters',
                              'local',
                              'global',
                              'refresh',
                              'setOutput',
                              'THREE',
                              'TSL',
                            ].concat([n])
                          )),
                          this._method
                        )
                      },
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        null !== this._method &&
                          (this._object &&
                            'function' == typeof this._object.dispose &&
                            this._object.dispose(),
                          (this._method = null),
                          (this._object = null),
                          (this._source = null),
                          (this._value = null),
                          (this._needsOutputUpdate = !0),
                          (this._output.value = null),
                          (this._outputs = {}))
                      },
                    },
                    {
                      key: 'setup',
                      value: function () {
                        return this.getDefaultOutputNode()
                      },
                    },
                    {
                      key: 'getCacheKey',
                      value: function (e) {
                        var t,
                          n = [
                            ((t = this.source), sS(t)),
                            this.getDefaultOutputNode().getCacheKey(e),
                          ]
                        for (var r in this.parameters) n.push(this.parameters[r].getCacheKey(e))
                        return uS(n)
                      },
                    },
                    {
                      key: 'needsUpdate',
                      get: function () {
                        return this.source !== this._source
                      },
                      set: function (e) {
                        !0 === e && this.dispose()
                      },
                    },
                    {
                      key: '_exec',
                      value: function () {
                        return (
                          null === this.codeNode ||
                            (!0 === this._needsOutputUpdate &&
                              ((this._value = this.call('main')), (this._needsOutputUpdate = !1)),
                            (this._output.value = this._value)),
                          this
                        )
                      },
                    },
                    {
                      key: '_refresh',
                      value: function () {
                        ;((this.needsUpdate = !0), this._exec(), this._output.refresh())
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ScriptableNode'
                      },
                    },
                  ]
                )
              )
              var r
            })(CS),
            AL = Nw(wL)
          function TL(e) {
            var t,
              n = e.context.getViewZ
            return (void 0 !== n && (t = n(this)), (t || _C.z).negate())
          }
          var ML = Lw(function (e, t) {
              var n = C(e, 2),
                r = n[0],
                i = n[1],
                a = TL(t)
              return MM(r, i, a)
            }),
            EL = Lw(function (e, t) {
              var n = C(e, 1)[0],
                r = TL(t)
              return n.mul(n, r, r).negate().exp().oneMinus()
            }),
            CL = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1]
              return Jw(r.toFloat().mix(BA.rgb, n.toVec3()), BA.a)
            })
          var kL = null,
            RL = null,
            IL = (function (e) {
              function t() {
                var e,
                  n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : zw(),
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : zw()
                return (w(this, t), ((e = y(this, t)).minNode = n), (e.maxNode = r), e)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getVectorLength',
                      value: function (e) {
                        var t = e.getTypeLength(mS(this.minNode.value)),
                          n = e.getTypeLength(mS(this.maxNode.value))
                        return t > n ? t : n
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return e.object.count > 1
                          ? e.getTypeFromLength(this.getVectorLength(e))
                          : 'float'
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = e.object,
                          n = null
                        if (t.count > 1) {
                          var r = this.minNode.value,
                            i = this.maxNode.value,
                            a = e.getTypeLength(mS(r)),
                            o = e.getTypeLength(mS(i))
                          ;((kL = kL || new dd()),
                            (RL = RL || new dd()),
                            kL.setScalar(0),
                            RL.setScalar(0),
                            1 === a
                              ? kL.setScalar(r)
                              : r.isColor
                                ? kL.set(r.r, r.g, r.b, 1)
                                : kL.set(r.x, r.y, r.z || 0, r.w || 0),
                            1 === o
                              ? RL.setScalar(i)
                              : i.isColor
                                ? RL.set(i.r, i.g, i.b, 1)
                                : RL.set(i.x, i.y, i.z || 0, i.w || 0))
                          for (var s = 4 * t.count, u = new Float32Array(s), l = 0; l < s; l++) {
                            var c = l % 4,
                              d = kL.getComponent(c),
                              h = RL.getComponent(c)
                            u[l] = Wc.lerp(d, h, Math.random())
                          }
                          var f = this.getNodeType(e)
                          if (t.count <= 4096) n = BE(u, 'vec4', t.count).element(oR).convert(f)
                          else {
                            var p = new ap(u, 4)
                            ;(e.geometry.setAttribute('__range' + this.id, p),
                              (n = fE(p).convert(f)))
                          }
                        } else n = zw(0)
                        return n
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'RangeNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            NL = Nw(IL),
            PL = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [n]))._builtinName = e), r)
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getHash',
                      value: function (e) {
                        return this.getBuiltinName(e)
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function () {
                        return this.nodeType
                      },
                    },
                    {
                      key: 'setBuiltinName',
                      value: function (e) {
                        return ((this._builtinName = e), this)
                      },
                    },
                    {
                      key: 'getBuiltinName',
                      value: function () {
                        return this._builtinName
                      },
                    },
                    {
                      key: 'hasBuiltin',
                      value: function (e) {
                        e.hasBuiltin(this._builtinName)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e, t) {
                        var n = this.getBuiltinName(e),
                          r = this.getNodeType(e)
                        return 'compute' === e.shaderStage
                          ? e.format(n, r, t)
                          : (console.warn(
                              'ComputeBuiltinNode: Compute built-in value '
                                .concat(n, ' can not be accessed in the ')
                                .concat(e.shaderStage, ' stage')
                            ),
                            e.generateConst(r))
                      },
                    },
                    {
                      key: 'serialize',
                      value: function (e) {
                        ;(n(t, 'serialize', this, 3)([e]),
                          (e.global = this.global),
                          (e._builtinName = this._builtinName))
                      },
                    },
                    {
                      key: 'deserialize',
                      value: function (e) {
                        ;(n(t, 'deserialize', this, 3)([e]),
                          (this.global = e.global),
                          (this._builtinName = e._builtinName))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ComputeBuiltinNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            LL = function (e, t) {
              return kw(new PL(e, t))
            },
            DL = LL('numWorkgroups', 'uvec3'),
            OL = LL('workgroupId', 'uvec3'),
            FL = LL('globalId', 'uvec3'),
            BL = LL('localId', 'uvec3'),
            UL = LL('subgroupSize', 'uint'),
            zL = (function (e) {
              function t(e) {
                var n
                return (w(this, t), ((n = y(this, t)).scope = e), n)
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'generate',
                    value: function (e) {
                      var t = this.scope
                      !0 === e.renderer.backend.isWebGLBackend
                        ? e.addFlowCode('\t// '.concat(t, 'Barrier \n'))
                        : e.addLineFlowCode(''.concat(t, 'Barrier()'), this)
                    },
                  },
                ])
              )
            })(CS),
            VL = Nw(zL),
            HL = (function (e) {
              function t(e, n) {
                var r
                return (w(this, t), ((r = y(this, t, [e, n])).isWorkgroupInfoElementNode = !0), r)
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'generate',
                    value: function (e, r) {
                      var i,
                        a = e.context.assign
                      if (((i = n(t, 'generate', this, 3)([e])), !0 !== a)) {
                        var o = this.getNodeType(e)
                        i = e.format(i, o, r)
                      }
                      return i
                    },
                  },
                ])
              )
            })(kS),
            WL = (function (e) {
              function t(e, n) {
                var r,
                  i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                return (
                  w(this, t),
                  ((r = y(this, t, [n])).bufferType = n),
                  (r.bufferCount = i),
                  (r.isWorkgroupInfoNode = !0),
                  (r.elementType = n),
                  (r.scope = e),
                  r
                )
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'label',
                    value: function (e) {
                      return ((this.name = e), this)
                    },
                  },
                  {
                    key: 'setScope',
                    value: function (e) {
                      return ((this.scope = e), this)
                    },
                  },
                  {
                    key: 'getElementType',
                    value: function () {
                      return this.elementType
                    },
                  },
                  {
                    key: 'getInputType',
                    value: function () {
                      return ''.concat(this.scope, 'Array')
                    },
                  },
                  {
                    key: 'element',
                    value: function (e) {
                      return kw(new HL(this, e))
                    },
                  },
                  {
                    key: 'generate',
                    value: function (e) {
                      return e.getScopedArray(
                        this.name || ''.concat(this.scope, 'Array_').concat(this.id),
                        this.scope.toLowerCase(),
                        this.bufferType,
                        this.bufferCount
                      )
                    },
                  },
                ])
              )
            })(CS),
            GL = (function (e) {
              function t(e, n, r) {
                var i,
                  a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
                return (
                  w(this, t),
                  ((i = y(this, t, ['uint'])).method = e),
                  (i.pointerNode = n),
                  (i.valueNode = r),
                  (i.storeNode = a),
                  i
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'getInputType',
                      value: function (e) {
                        return this.pointerNode.getNodeType(e)
                      },
                    },
                    {
                      key: 'getNodeType',
                      value: function (e) {
                        return this.getInputType(e)
                      },
                    },
                    {
                      key: 'generate',
                      value: function (e) {
                        var t = this.method,
                          n = this.getNodeType(e),
                          r = this.getInputType(e),
                          i = this.pointerNode,
                          a = this.valueNode,
                          o = []
                        ;(o.push('&'.concat(i.build(e, r))), null !== a && o.push(a.build(e, r)))
                        var s = ''.concat(e.getMethod(t, n), '( ').concat(o.join(', '), ' )')
                        if (null !== this.storeNode) {
                          var u = this.storeNode.build(e, r)
                          e.addLineFlowCode(''.concat(u, ' = ').concat(s), this)
                        } else e.addLineFlowCode(s, this)
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'AtomicFunctionNode'
                      },
                    },
                  ]
                )
              )
            })(IS)
          ;((GL.ATOMIC_LOAD = 'atomicLoad'),
            (GL.ATOMIC_STORE = 'atomicStore'),
            (GL.ATOMIC_ADD = 'atomicAdd'),
            (GL.ATOMIC_SUB = 'atomicSub'),
            (GL.ATOMIC_MAX = 'atomicMax'),
            (GL.ATOMIC_MIN = 'atomicMin'),
            (GL.ATOMIC_AND = 'atomicAnd'),
            (GL.ATOMIC_OR = 'atomicOr'),
            (GL.ATOMIC_XOR = 'atomicXor'))
          var jL,
            QL = Nw(GL),
            qL = function (e, t, n) {
              var r = QL(
                e,
                t,
                n,
                arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
              )
              return (r.append(), r)
            }
          function XL(e) {
            var t = (jL = jL || new WeakMap()).get(e)
            return (void 0 === t && jL.set(e, (t = {})), t)
          }
          function YL(e) {
            var t = XL(e)
            return (
              t.shadowMatrix ||
              (t.shadowMatrix = mA('mat4')
                .setGroup(fA)
                .onRenderUpdate(function () {
                  return (!0 !== e.castShadow && e.shadow.updateMatrices(e), e.shadow.matrix)
                }))
            )
          }
          function KL(e) {
            var t = XL(e)
            return (
              t.position ||
              (t.position = mA(new gd())
                .setGroup(fA)
                .onRenderUpdate(function (t, n) {
                  return n.value.setFromMatrixPosition(e.matrixWorld)
                }))
            )
          }
          function ZL(e) {
            var t = XL(e)
            return (
              t.targetPosition ||
              (t.targetPosition = mA(new gd())
                .setGroup(fA)
                .onRenderUpdate(function (t, n) {
                  return n.value.setFromMatrixPosition(e.target.matrixWorld)
                }))
            )
          }
          var JL = function (e, t) {
              var n,
                r = L(t)
              try {
                for (r.s(); !(n = r.n()).done; ) {
                  var i = n.value
                  if (i.isAnalyticLightNode && i.light.id === e) return i
                }
              } catch (a) {
                r.e(a)
              } finally {
                r.f()
              }
              return null
            },
            $L = new WeakMap(),
            eD = (function (e) {
              function t() {
                var e
                return (
                  w(this, t),
                  ((e = y(this, t, ['vec3'])).totalDiffuseNode = Xw().toVar('totalDiffuse')),
                  (e.totalSpecularNode = Xw().toVar('totalSpecular')),
                  (e.outgoingLightNode = Xw().toVar('outgoingLight')),
                  (e._lights = []),
                  (e._lightNodes = null),
                  (e._lightNodesHash = null),
                  (e.global = !0),
                  e
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'customCacheKey',
                      value: function () {
                        for (var e = [], t = this._lights, n = 0; n < t.length; n++) e.push(t[n].id)
                        return uS(e)
                      },
                    },
                    {
                      key: 'getHash',
                      value: function (e) {
                        if (null === this._lightNodesHash) {
                          null === this._lightNodes && this.setupLightsNode(e)
                          var t,
                            n = [],
                            r = L(this._lightNodes)
                          try {
                            for (r.s(); !(t = r.n()).done; ) {
                              var i = t.value
                              n.push(i.getSelf().getHash())
                            }
                          } catch (a) {
                            r.e(a)
                          } finally {
                            r.f()
                          }
                          this._lightNodesHash = 'lights-' + n.join(',')
                        }
                        return this._lightNodesHash
                      },
                    },
                    {
                      key: 'analyze',
                      value: function (e) {
                        var t,
                          n = L(e.getDataFromNode(this).nodes)
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            t.value.build(e)
                          }
                        } catch (r) {
                          n.e(r)
                        } finally {
                          n.f()
                        }
                      },
                    },
                    {
                      key: 'setupLightsNode',
                      value: function (e) {
                        var t,
                          n = [],
                          r = this._lightNodes,
                          i = (function (e) {
                            return e.sort(function (e, t) {
                              return e.id - t.id
                            })
                          })(this._lights),
                          a = e.renderer.library,
                          o = L(i)
                        try {
                          for (o.s(); !(t = o.n()).done; ) {
                            var s = t.value
                            if (s.isNode) n.push(kw(s))
                            else {
                              var u = null
                              if ((null !== r && (u = JL(s.id, r)), null === u)) {
                                var l = a.getLightNodeClass(s.constructor)
                                if (null === l) {
                                  console.warn(
                                    'LightsNode.setupNodeLights: Light node not found for '.concat(
                                      s.constructor.name
                                    )
                                  )
                                  continue
                                }
                                var c = null
                                ;($L.has(s) ? (c = $L.get(s)) : ((c = kw(new l(s))), $L.set(s, c)),
                                  n.push(c))
                              }
                            }
                          }
                        } catch (d) {
                          o.e(d)
                        } finally {
                          o.f()
                        }
                        this._lightNodes = n
                      },
                    },
                    {
                      key: 'setupLights',
                      value: function (e, t) {
                        var n,
                          r = L(t)
                        try {
                          for (r.s(); !(n = r.n()).done; ) {
                            n.value.build(e)
                          }
                        } catch (i) {
                          r.e(i)
                        } finally {
                          r.f()
                        }
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        null === this._lightNodes && this.setupLightsNode(e)
                        var t = e.context,
                          n = t.lightingModel,
                          r = this.outgoingLightNode
                        if (n) {
                          var i = this._lightNodes,
                            a = this.totalDiffuseNode,
                            o = this.totalSpecularNode
                          t.outgoingLight = r
                          var s = e.addStack()
                          ;((e.getDataFromNode(this).nodes = s.nodes),
                            n.start(t, s, e),
                            this.setupLights(e, i),
                            n.indirect(t, s, e))
                          var u = t.backdrop,
                            l = t.backdropAlpha,
                            c = t.reflectedLight,
                            d = c.directDiffuse,
                            h = c.directSpecular,
                            f = c.indirectDiffuse,
                            p = c.indirectSpecular,
                            v = d.add(f)
                          ;(null !== u &&
                            ((v = Xw(null !== l ? l.mix(v, u) : u)), (t.material.transparent = !0)),
                            a.assign(v),
                            o.assign(h.add(p)),
                            r.assign(a.add(o)),
                            n.finish(t, s, e),
                            (r = r.bypass(e.removeStack())))
                        }
                        return r
                      },
                    },
                    {
                      key: 'setLights',
                      value: function (e) {
                        return (
                          (this._lights = e),
                          (this._lightNodes = null),
                          (this._lightNodesHash = null),
                          this
                        )
                      },
                    },
                    {
                      key: 'getLights',
                      value: function () {
                        return this._lights
                      },
                    },
                    {
                      key: 'hasLights',
                      get: function () {
                        return this._lights.length > 0
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'LightsNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            tD = (function (e) {
              function t(e) {
                var n
                return (
                  w(this, t),
                  ((n = y(this, t)).light = e),
                  (n.updateBeforeType = SS.RENDER),
                  (n.isShadowBaseNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setupShadowPosition',
                      value: function (e) {
                        var t = e.material
                        nD.assign(t.shadowPositionNode || yC)
                      },
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        this.updateBeforeType = SS.NONE
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ShadowBaseNode'
                      },
                    },
                  ]
                )
              )
            })(CS),
            nD = Xw().toVar('shadowPositionWorld')
          function rD(e, t) {
            return (
              (t = (function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                return (
                  (t.toneMapping = e.toneMapping),
                  (t.toneMappingExposure = e.toneMappingExposure),
                  (t.outputColorSpace = e.outputColorSpace),
                  (t.renderTarget = e.getRenderTarget()),
                  (t.activeCubeFace = e.getActiveCubeFace()),
                  (t.activeMipmapLevel = e.getActiveMipmapLevel()),
                  (t.renderObjectFunction = e.getRenderObjectFunction()),
                  (t.pixelRatio = e.getPixelRatio()),
                  (t.mrt = e.getMRT()),
                  (t.clearColor = e.getClearColor(t.clearColor || new Uh())),
                  (t.clearAlpha = e.getClearAlpha()),
                  (t.autoClear = e.autoClear),
                  (t.scissorTest = e.getScissorTest()),
                  t
                )
              })(e, t)),
              e.setMRT(null),
              e.setRenderObjectFunction(null),
              e.setClearColor(0, 1),
              (e.autoClear = !0),
              t
            )
          }
          var iD,
            aD = new WeakMap(),
            oD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = yC.sub(n).length()
              return (a = (a = a.sub(r).div(i.sub(r))).saturate())
            }),
            sD = function (e) {
              var t = aD.get(e)
              if (void 0 === t) {
                var n = e.isPointLight
                  ? (function (e) {
                      var t = e.shadow.camera,
                        n = GC('near', 'float', t).setGroup(fA),
                        r = GC('far', 'float', t).setGroup(fA),
                        i = eC(e)
                      return oD(i, n, r)
                    })(e)
                  : null
                ;(((t = new fI()).colorNode = Jw(0, 0, 0, 1)),
                  (t.depthNode = n),
                  (t.isShadowPassMaterial = !0),
                  (t.name = 'ShadowMaterial'),
                  (t.fog = !1),
                  aD.set(e, t))
              }
              return t
            },
            uD = Lw(function (e) {
              var t = e.depthTexture,
                n = e.shadowCoord
              return DE(t, n.xy).compare(n.z)
            }),
            lD = Lw(function (e) {
              var t = e.depthTexture,
                n = e.shadowCoord,
                r = e.shadow,
                i = function (e, n) {
                  return DE(t, e).compare(n)
                },
                a = GC('mapSize', 'vec2', r).setGroup(fA),
                o = GC('radius', 'float', r).setGroup(fA),
                s = Gw(1).div(a),
                u = s.x.negate().mul(o),
                l = s.y.negate().mul(o),
                c = s.x.mul(o),
                d = s.y.mul(o),
                h = u.div(2),
                f = l.div(2),
                p = c.div(2),
                v = d.div(2)
              return $A(
                i(n.xy.add(Gw(u, l)), n.z),
                i(n.xy.add(Gw(0, l)), n.z),
                i(n.xy.add(Gw(c, l)), n.z),
                i(n.xy.add(Gw(h, f)), n.z),
                i(n.xy.add(Gw(0, f)), n.z),
                i(n.xy.add(Gw(p, f)), n.z),
                i(n.xy.add(Gw(u, 0)), n.z),
                i(n.xy.add(Gw(h, 0)), n.z),
                i(n.xy, n.z),
                i(n.xy.add(Gw(p, 0)), n.z),
                i(n.xy.add(Gw(c, 0)), n.z),
                i(n.xy.add(Gw(h, v)), n.z),
                i(n.xy.add(Gw(0, v)), n.z),
                i(n.xy.add(Gw(p, v)), n.z),
                i(n.xy.add(Gw(u, d)), n.z),
                i(n.xy.add(Gw(0, d)), n.z),
                i(n.xy.add(Gw(c, d)), n.z)
              ).mul(1 / 17)
            }),
            cD = Lw(function (e) {
              var t = e.depthTexture,
                n = e.shadowCoord,
                r = e.shadow,
                i = function (e, n) {
                  return DE(t, e).compare(n)
                },
                a = GC('mapSize', 'vec2', r).setGroup(fA),
                o = Gw(1).div(a),
                s = o.x,
                u = o.y,
                l = n.xy,
                c = UT(l.mul(a).add(0.5))
              return (
                l.subAssign(c.mul(o)),
                $A(
                  i(l, n.z),
                  i(l.add(Gw(s, 0)), n.z),
                  i(l.add(Gw(0, u)), n.z),
                  i(l.add(o), n.z),
                  SM(i(l.add(Gw(s.negate(), 0)), n.z), i(l.add(Gw(s.mul(2), 0)), n.z), c.x),
                  SM(i(l.add(Gw(s.negate(), u)), n.z), i(l.add(Gw(s.mul(2), u)), n.z), c.x),
                  SM(i(l.add(Gw(0, u.negate())), n.z), i(l.add(Gw(0, u.mul(2))), n.z), c.y),
                  SM(i(l.add(Gw(s, u.negate())), n.z), i(l.add(Gw(s, u.mul(2))), n.z), c.y),
                  SM(
                    SM(
                      i(l.add(Gw(s.negate(), u.negate())), n.z),
                      i(l.add(Gw(s.mul(2), u.negate())), n.z),
                      c.x
                    ),
                    SM(
                      i(l.add(Gw(s.negate(), u.mul(2))), n.z),
                      i(l.add(Gw(s.mul(2), u.mul(2))), n.z),
                      c.x
                    ),
                    c.y
                  )
                ).mul(1 / 9)
              )
            }),
            dD = Lw(function (e) {
              var t = e.depthTexture,
                n = e.shadowCoord,
                r = zw(1).toVar(),
                i = DE(t).sample(n.xy).rg,
                a = lM(n.z, i.x)
              return (
                Fw(a.notEqual(zw(1)), function () {
                  var e = n.z.sub(i.x),
                    t = sM(0, i.y.mul(i.y)),
                    o = t.div(t.add(e.mul(e)))
                  ;((o = wM(eT(o, 0.3).div(0.95 - 0.3))), r.assign(wM(sM(a, o))))
                }),
                r
              )
            }),
            hD = Lw(function (e) {
              var t = e.samples,
                n = e.radius,
                r = e.size,
                i = e.shadowPass,
                a = zw(0).toVar(),
                o = zw(0).toVar(),
                s = t.lessThanEqual(zw(1)).select(zw(0), zw(2).div(t.sub(1))),
                u = t.lessThanEqual(zw(1)).select(zw(0), zw(-1))
              ;(_R({ start: Vw(0), end: Vw(t), type: 'int', condition: '<' }, function (e) {
                var t = e.i,
                  l = u.add(zw(t).mul(s)),
                  c = i.sample($A(FR.xy, Gw(0, l).mul(n)).div(r)).x
                ;(a.addAssign(c), o.addAssign(c.mul(c)))
              }),
                a.divAssign(t),
                o.divAssign(t))
              var l = LT(o.sub(a.mul(a)))
              return Gw(a, l)
            }),
            fD = Lw(function (e) {
              var t = e.samples,
                n = e.radius,
                r = e.size,
                i = e.shadowPass,
                a = zw(0).toVar(),
                o = zw(0).toVar(),
                s = t.lessThanEqual(zw(1)).select(zw(0), zw(2).div(t.sub(1))),
                u = t.lessThanEqual(zw(1)).select(zw(0), zw(-1))
              ;(_R({ start: Vw(0), end: Vw(t), type: 'int', condition: '<' }, function (e) {
                var t = e.i,
                  l = u.add(zw(t).mul(s)),
                  c = i.sample($A(FR.xy, Gw(l, 0).mul(n)).div(r))
                ;(a.addAssign(c.x), o.addAssign($A(c.y.mul(c.y), c.x.mul(c.x))))
              }),
                a.divAssign(t),
                o.divAssign(t))
              var l = LT(o.sub(a.mul(a)))
              return Gw(a, l)
            }),
            pD = [uD, lD, cD, dD],
            vD = new fP(),
            mD = (function (e) {
              function t(e) {
                var n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return (
                  w(this, t),
                  ((n = y(this, t, [e])).shadow = r || e.shadow),
                  (n.shadowMap = null),
                  (n.vsmShadowMapVertical = null),
                  (n.vsmShadowMapHorizontal = null),
                  (n.vsmMaterialVertical = null),
                  (n.vsmMaterialHorizontal = null),
                  (n._node = null),
                  (n.isShadowNode = !0),
                  n
                )
              }
              return (
                b(t, e),
                T(
                  t,
                  [
                    {
                      key: 'setupShadowFilter',
                      value: function (e, t) {
                        var n = t.filterFn,
                          r = t.depthTexture,
                          i = t.shadowCoord,
                          a = t.shadow,
                          o = i.x
                            .greaterThanEqual(0)
                            .and(i.x.lessThanEqual(1))
                            .and(i.y.greaterThanEqual(0))
                            .and(i.y.lessThanEqual(1))
                            .and(i.z.lessThanEqual(1)),
                          s = n({ depthTexture: r, shadowCoord: i, shadow: a })
                        return o.select(s, zw(1))
                      },
                    },
                    {
                      key: 'setupShadowCoord',
                      value: function (e, t) {
                        var n,
                          r = this.shadow,
                          i = e.renderer,
                          a = GC('bias', 'float', r).setGroup(fA),
                          o = t
                        if (r.camera.isOrthographicCamera || !0 !== i.logarithmicDepthBuffer)
                          ((n = (o = o.xyz.div(o.w)).z),
                            i.coordinateSystem === Ic && (n = n.mul(2).sub(1)))
                        else {
                          var s = o.w
                          o = o.xy.div(s)
                          var u = GC('near', 'float', r.camera).setGroup(fA),
                            l = GC('far', 'float', r.camera).setGroup(fA)
                          n = nI(s.negate(), u, l)
                        }
                        return (o = Xw(o.x, o.y.oneMinus(), n.add(a)))
                      },
                    },
                    {
                      key: 'getShadowFilterFn',
                      value: function (e) {
                        return pD[e]
                      },
                    },
                    {
                      key: 'setupShadow',
                      value: function (e) {
                        var t = e.renderer,
                          n = this.light,
                          r = this.shadow,
                          i = t.shadowMap.type,
                          a = new Wp(r.mapSize.width, r.mapSize.height)
                        a.compareFunction = 513
                        var o = e.createRenderTarget(r.mapSize.width, r.mapSize.height)
                        if (((o.depthTexture = a), r.camera.updateProjectionMatrix(), 3 === i)) {
                          ;((a.compareFunction = null),
                            (this.vsmShadowMapVertical = e.createRenderTarget(
                              r.mapSize.width,
                              r.mapSize.height,
                              { format: Nl, type: Sl }
                            )),
                            (this.vsmShadowMapHorizontal = e.createRenderTarget(
                              r.mapSize.width,
                              r.mapSize.height,
                              { format: Nl, type: Sl }
                            )))
                          var s = DE(a),
                            u = DE(this.vsmShadowMapVertical.texture),
                            l = GC('blurSamples', 'float', r).setGroup(fA),
                            c = GC('radius', 'float', r).setGroup(fA),
                            d = GC('mapSize', 'vec2', r).setGroup(fA),
                            h = this.vsmMaterialVertical || (this.vsmMaterialVertical = new fI())
                          ;((h.fragmentNode = hD({
                            samples: l,
                            radius: c,
                            size: d,
                            shadowPass: s,
                          }).context(e.getSharedContext())),
                            (h.name = 'VSMVertical'),
                            ((h =
                              this.vsmMaterialHorizontal ||
                              (this.vsmMaterialHorizontal = new fI())).fragmentNode = fD({
                              samples: l,
                              radius: c,
                              size: d,
                              shadowPass: u,
                            }).context(e.getSharedContext())),
                            (h.name = 'VSMHorizontal'))
                        }
                        var f = GC('intensity', 'float', r).setGroup(fA),
                          p = GC('normalBias', 'float', r).setGroup(fA),
                          v = YL(n).mul(nD.add(IC.mul(p))),
                          m = this.setupShadowCoord(e, v),
                          g = r.filterNode || this.getShadowFilterFn(t.shadowMap.type) || null
                        if (null === g)
                          throw new Error(
                            'THREE.WebGPURenderer: Shadow map type not supported yet.'
                          )
                        var y = 3 === i ? this.vsmShadowMapHorizontal.texture : a,
                          x = this.setupShadowFilter(e, {
                            filterFn: g,
                            shadowTexture: o.texture,
                            depthTexture: y,
                            shadowCoord: m,
                            shadow: r,
                          }),
                          _ = DE(o.texture, m),
                          b = SM(1, x.rgb.mix(_, 1), f.mul(_.a)).toVar()
                        return ((this.shadowMap = o), (this.shadow.map = o), b)
                      },
                    },
                    {
                      key: 'setup',
                      value: function (e) {
                        var t = this
                        if (!1 !== e.renderer.shadowMap.enabled)
                          return Lw(function () {
                            var n = t._node
                            return (
                              t.setupShadowPosition(e),
                              null === n && (t._node = n = t.setupShadow(e)),
                              e.material.shadowNode &&
                                console.warn(
                                  'THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'
                                ),
                              e.material.receivedShadowNode &&
                                (n = e.material.receivedShadowNode(n)),
                              n
                            )
                          })()
                      },
                    },
                    {
                      key: 'renderShadow',
                      value: function (e) {
                        var t = this.shadow,
                          n = this.shadowMap,
                          r = this.light,
                          i = e.renderer,
                          a = e.scene
                        ;(t.updateMatrices(r),
                          n.setSize(t.mapSize.width, t.mapSize.height),
                          i.render(a, t.camera))
                      },
                    },
                    {
                      key: 'updateShadow',
                      value: function (e) {
                        var t = this.shadowMap,
                          n = this.light,
                          r = this.shadow,
                          i = e.renderer,
                          a = e.scene,
                          o = e.camera,
                          s = i.shadowMap.type,
                          u = t.depthTexture.version
                        ;((this._depthVersionCached = u), (r.camera.layers.mask = o.layers.mask))
                        var l = i.getRenderObjectFunction(),
                          c = i.getMRT(),
                          d = !!c && c.has('velocity')
                        ;((iD = (function (e, t, n) {
                          return (
                            (n = (function (e, t) {
                              return (
                                (t = (function (e) {
                                  var t =
                                    arguments.length > 1 && void 0 !== arguments[1]
                                      ? arguments[1]
                                      : {}
                                  return (
                                    (t.background = e.background),
                                    (t.backgroundNode = e.backgroundNode),
                                    (t.overrideMaterial = e.overrideMaterial),
                                    t
                                  )
                                })(e, t)),
                                (e.background = null),
                                (e.backgroundNode = null),
                                (e.overrideMaterial = null),
                                t
                              )
                            })(t, (n = rD(e, n)))),
                            n
                          )
                        })(i, a, iD)),
                          (a.overrideMaterial = sD(n)),
                          i.setRenderObjectFunction(function (e, t, n, a, u, l) {
                            if (!0 === e.castShadow || (e.receiveShadow && 3 === s)) {
                              ;(d && (yS(e).useVelocity = !0),
                                e.onBeforeShadow(i, e, o, r.camera, a, t.overrideMaterial, l))
                              for (
                                var c = arguments.length, h = new Array(c > 6 ? c - 6 : 0), f = 6;
                                f < c;
                                f++
                              )
                                h[f - 6] = arguments[f]
                              ;(i.renderObject.apply(i, [e, t, n, a, u, l].concat(h)),
                                e.onAfterShadow(i, e, o, r.camera, a, t.overrideMaterial, l))
                            }
                          }),
                          i.setRenderTarget(t),
                          this.renderShadow(e),
                          i.setRenderObjectFunction(l),
                          !0 !== n.isPointLight && 3 === s && this.vsmPass(i),
                          (function (e, t, n) {
                            ;(!(function (e, t) {
                              ;((e.toneMapping = t.toneMapping),
                                (e.toneMappingExposure = t.toneMappingExposure),
                                (e.outputColorSpace = t.outputColorSpace),
                                e.setRenderTarget(
                                  t.renderTarget,
                                  t.activeCubeFace,
                                  t.activeMipmapLevel
                                ),
                                e.setRenderObjectFunction(t.renderObjectFunction),
                                e.setPixelRatio(t.pixelRatio),
                                e.setMRT(t.mrt),
                                e.setClearColor(t.clearColor, t.clearAlpha),
                                (e.autoClear = t.autoClear),
                                e.setScissorTest(t.scissorTest))
                            })(e, n),
                              (function (e, t) {
                                ;((e.background = t.background),
                                  (e.backgroundNode = t.backgroundNode),
                                  (e.overrideMaterial = t.overrideMaterial))
                              })(t, n))
                          })(i, a, iD))
                      },
                    },
                    {
                      key: 'vsmPass',
                      value: function (e) {
                        var t = this.shadow
                        ;(this.vsmShadowMapVertical.setSize(t.mapSize.width, t.mapSize.height),
                          this.vsmShadowMapHorizontal.setSize(t.mapSize.width, t.mapSize.height),
                          e.setRenderTarget(this.vsmShadowMapVertical),
                          (vD.material = this.vsmMaterialVertical),
                          vD.render(e),
                          e.setRenderTarget(this.vsmShadowMapHorizontal),
                          (vD.material = this.vsmMaterialHorizontal),
                          vD.render(e))
                      },
                    },
                    {
                      key: 'dispose',
                      value: function () {
                        ;(this.shadowMap.dispose(),
                          (this.shadowMap = null),
                          null !== this.vsmShadowMapVertical &&
                            (this.vsmShadowMapVertical.dispose(),
                            (this.vsmShadowMapVertical = null),
                            this.vsmMaterialVertical.dispose(),
                            (this.vsmMaterialVertical = null)),
                          null !== this.vsmShadowMapHorizontal &&
                            (this.vsmShadowMapHorizontal.dispose(),
                            (this.vsmShadowMapHorizontal = null),
                            this.vsmMaterialHorizontal.dispose(),
                            (this.vsmMaterialHorizontal = null)),
                          n(t, 'dispose', this, 3)([]))
                      },
                    },
                    {
                      key: 'updateBefore',
                      value: function (e) {
                        var t = this.shadow
                        ;(t.needsUpdate || t.autoUpdate) &&
                          (this.updateShadow(e),
                          this.shadowMap.depthTexture.version === this._depthVersionCached &&
                            (t.needsUpdate = !1))
                      },
                    },
                  ],
                  [
                    {
                      key: 'type',
                      get: function () {
                        return 'ShadowNode'
                      },
                    },
                  ]
                )
              )
            })(tD),
            gD = Lw(function (e) {
              var t = e.lightDistance,
                n = e.cutoffDistance,
                r = e.decayExponent,
                i = t.pow(r).max(0.01).reciprocal()
              return n.greaterThan(0).select(i.mul(t.div(n).pow4().oneMinus().clamp().pow2()), i)
            }),
            yD = Lw(function (e, t) {
              var n = e.color,
                r = e.lightViewPosition,
                i = e.cutoffDistance,
                a = e.decayExponent,
                o = t.context.lightingModel,
                s = r.sub(_C),
                u = s.normalize(),
                l = s.length(),
                c = gD({ lightDistance: l, cutoffDistance: i, decayExponent: a }),
                d = n.mul(c),
                h = t.context.reflectedLight
              o.direct({ lightDirection: u, lightColor: d, reflectedLight: h }, t.stack, t)
            }),
            xD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = (void 0 === t ? RE() : t).mul(2),
                r = n.x.floor(),
                i = n.y.floor()
              return r.add(i).mod(2).sign()
            }),
            _D = Lw(function (e, t) {
              var n = C(e, 1)[0],
                r = void 0 === n ? RE() : n,
                i = t.renderer,
                a = t.material,
                o = zw(1).toVar(),
                s = bM(r.mul(2).sub(1))
              if (a.alphaToCoverage && i.samples > 1) {
                var u = zw(s.fwidth()).toVar()
                o.assign(MM(u.oneMinus(), u.add(1), s).oneMinus())
              } else s.greaterThan(1).discard()
              return o
            }),
            bD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = zw(i).toVar(),
                o = zw(r).toVar(),
                s = Ww(n).toVar()
              return DM(s, o, a)
            }).setLayout({
              name: 'mx_select',
              type: 'float',
              inputs: [
                { name: 'b', type: 'bool' },
                { name: 't', type: 'float' },
                { name: 'f', type: 'float' },
              ],
            }),
            SD = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Ww(r).toVar(),
                a = zw(n).toVar()
              return DM(i, a.negate(), a)
            }).setLayout({
              name: 'mx_negate_if',
              type: 'float',
              inputs: [
                { name: 'val', type: 'float' },
                { name: 'b', type: 'bool' },
              ],
            }),
            wD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar()
              return Vw(OT(n))
            }).setLayout({ name: 'mx_floor', type: 'int', inputs: [{ name: 'x', type: 'float' }] }),
            AD = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = zw(n).toVar()
              return (r.assign(wD(i)), i.sub(zw(r)))
            }),
            TD = Lw(function (e) {
              var t = C(e, 6),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = zw(s).toVar(),
                l = zw(o).toVar(),
                c = zw(a).toVar(),
                d = zw(i).toVar(),
                h = zw(r).toVar(),
                f = zw(n).toVar(),
                p = zw(eT(1, l)).toVar()
              return eT(1, u)
                .mul(f.mul(p).add(h.mul(l)))
                .add(u.mul(d.mul(p).add(c.mul(l))))
            }).setLayout({
              name: 'mx_bilerp_0',
              type: 'float',
              inputs: [
                { name: 'v0', type: 'float' },
                { name: 'v1', type: 'float' },
                { name: 'v2', type: 'float' },
                { name: 'v3', type: 'float' },
                { name: 's', type: 'float' },
                { name: 't', type: 'float' },
              ],
            }),
            MD = Lw(function (e) {
              var t = C(e, 6),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = zw(s).toVar(),
                l = zw(o).toVar(),
                c = Xw(a).toVar(),
                d = Xw(i).toVar(),
                h = Xw(r).toVar(),
                f = Xw(n).toVar(),
                p = zw(eT(1, l)).toVar()
              return eT(1, u)
                .mul(f.mul(p).add(h.mul(l)))
                .add(u.mul(d.mul(p).add(c.mul(l))))
            }).setLayout({
              name: 'mx_bilerp_1',
              type: 'vec3',
              inputs: [
                { name: 'v0', type: 'vec3' },
                { name: 'v1', type: 'vec3' },
                { name: 'v2', type: 'vec3' },
                { name: 'v3', type: 'vec3' },
                { name: 's', type: 'float' },
                { name: 't', type: 'float' },
              ],
            }),
            ED = ON([TD, MD]),
            CD = Lw(function (e) {
              var t = C(e, 11),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = t[6],
                l = t[7],
                c = t[8],
                d = t[9],
                h = t[10],
                f = zw(h).toVar(),
                p = zw(d).toVar(),
                v = zw(c).toVar(),
                m = zw(l).toVar(),
                g = zw(u).toVar(),
                y = zw(s).toVar(),
                x = zw(o).toVar(),
                _ = zw(a).toVar(),
                b = zw(i).toVar(),
                S = zw(r).toVar(),
                w = zw(n).toVar(),
                A = zw(eT(1, v)).toVar(),
                T = zw(eT(1, p)).toVar()
              return zw(eT(1, f))
                .toVar()
                .mul(T.mul(w.mul(A).add(S.mul(v))).add(p.mul(b.mul(A).add(_.mul(v)))))
                .add(f.mul(T.mul(x.mul(A).add(y.mul(v))).add(p.mul(g.mul(A).add(m.mul(v))))))
            }).setLayout({
              name: 'mx_trilerp_0',
              type: 'float',
              inputs: [
                { name: 'v0', type: 'float' },
                { name: 'v1', type: 'float' },
                { name: 'v2', type: 'float' },
                { name: 'v3', type: 'float' },
                { name: 'v4', type: 'float' },
                { name: 'v5', type: 'float' },
                { name: 'v6', type: 'float' },
                { name: 'v7', type: 'float' },
                { name: 's', type: 'float' },
                { name: 't', type: 'float' },
                { name: 'r', type: 'float' },
              ],
            }),
            kD = Lw(function (e) {
              var t = C(e, 11),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = t[6],
                l = t[7],
                c = t[8],
                d = t[9],
                h = t[10],
                f = zw(h).toVar(),
                p = zw(d).toVar(),
                v = zw(c).toVar(),
                m = Xw(l).toVar(),
                g = Xw(u).toVar(),
                y = Xw(s).toVar(),
                x = Xw(o).toVar(),
                _ = Xw(a).toVar(),
                b = Xw(i).toVar(),
                S = Xw(r).toVar(),
                w = Xw(n).toVar(),
                A = zw(eT(1, v)).toVar(),
                T = zw(eT(1, p)).toVar()
              return zw(eT(1, f))
                .toVar()
                .mul(T.mul(w.mul(A).add(S.mul(v))).add(p.mul(b.mul(A).add(_.mul(v)))))
                .add(f.mul(T.mul(x.mul(A).add(y.mul(v))).add(p.mul(g.mul(A).add(m.mul(v))))))
            }).setLayout({
              name: 'mx_trilerp_1',
              type: 'vec3',
              inputs: [
                { name: 'v0', type: 'vec3' },
                { name: 'v1', type: 'vec3' },
                { name: 'v2', type: 'vec3' },
                { name: 'v3', type: 'vec3' },
                { name: 'v4', type: 'vec3' },
                { name: 'v5', type: 'vec3' },
                { name: 'v6', type: 'vec3' },
                { name: 'v7', type: 'vec3' },
                { name: 's', type: 'float' },
                { name: 't', type: 'float' },
                { name: 'r', type: 'float' },
              ],
            }),
            RD = ON([CD, kD]),
            ID = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = zw(i).toVar(),
                o = zw(r).toVar(),
                s = Hw(n).toVar(),
                u = Hw(s.bitAnd(Hw(7))).toVar(),
                l = zw(bD(u.lessThan(Hw(4)), o, a)).toVar(),
                c = zw(tT(2, bD(u.lessThan(Hw(4)), a, o))).toVar()
              return SD(l, Ww(u.bitAnd(Hw(1)))).add(SD(c, Ww(u.bitAnd(Hw(2)))))
            }).setLayout({
              name: 'mx_gradient_float_0',
              type: 'float',
              inputs: [
                { name: 'hash', type: 'uint' },
                { name: 'x', type: 'float' },
                { name: 'y', type: 'float' },
              ],
            }),
            ND = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = zw(r).toVar(),
                l = Hw(n).toVar(),
                c = Hw(l.bitAnd(Hw(15))).toVar(),
                d = zw(bD(c.lessThan(Hw(8)), u, s)).toVar(),
                h = zw(
                  bD(c.lessThan(Hw(4)), s, bD(c.equal(Hw(12)).or(c.equal(Hw(14))), u, o))
                ).toVar()
              return SD(d, Ww(c.bitAnd(Hw(1)))).add(SD(h, Ww(c.bitAnd(Hw(2)))))
            }).setLayout({
              name: 'mx_gradient_float_1',
              type: 'float',
              inputs: [
                { name: 'hash', type: 'uint' },
                { name: 'x', type: 'float' },
                { name: 'y', type: 'float' },
                { name: 'z', type: 'float' },
              ],
            }),
            PD = ON([ID, ND]),
            LD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = zw(i).toVar(),
                o = zw(r).toVar(),
                s = Kw(n).toVar()
              return Xw(PD(s.x, o, a), PD(s.y, o, a), PD(s.z, o, a))
            }).setLayout({
              name: 'mx_gradient_vec3_0',
              type: 'vec3',
              inputs: [
                { name: 'hash', type: 'uvec3' },
                { name: 'x', type: 'float' },
                { name: 'y', type: 'float' },
              ],
            }),
            DD = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = zw(r).toVar(),
                l = Kw(n).toVar()
              return Xw(PD(l.x, u, s, o), PD(l.y, u, s, o), PD(l.z, u, s, o))
            }).setLayout({
              name: 'mx_gradient_vec3_1',
              type: 'vec3',
              inputs: [
                { name: 'hash', type: 'uvec3' },
                { name: 'x', type: 'float' },
                { name: 'y', type: 'float' },
                { name: 'z', type: 'float' },
              ],
            }),
            OD = ON([LD, DD]),
            FD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar()
              return tT(0.6616, n)
            }).setLayout({
              name: 'mx_gradient_scale2d_0',
              type: 'float',
              inputs: [{ name: 'v', type: 'float' }],
            }),
            BD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar()
              return tT(0.982, n)
            }).setLayout({
              name: 'mx_gradient_scale3d_0',
              type: 'float',
              inputs: [{ name: 'v', type: 'float' }],
            }),
            UD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar()
              return tT(0.6616, n)
            }).setLayout({
              name: 'mx_gradient_scale2d_1',
              type: 'vec3',
              inputs: [{ name: 'v', type: 'vec3' }],
            }),
            zD = ON([FD, UD]),
            VD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar()
              return tT(0.982, n)
            }).setLayout({
              name: 'mx_gradient_scale3d_1',
              type: 'vec3',
              inputs: [{ name: 'v', type: 'vec3' }],
            }),
            HD = ON([BD, VD]),
            WD = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Vw(r).toVar(),
                a = Hw(n).toVar()
              return a.shiftLeft(i).bitOr(a.shiftRight(Vw(32).sub(i)))
            }).setLayout({
              name: 'mx_rotl32',
              type: 'uint',
              inputs: [
                { name: 'x', type: 'uint' },
                { name: 'k', type: 'int' },
              ],
            }),
            GD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2]
              ;(n.subAssign(i),
                n.bitXorAssign(WD(i, Vw(4))),
                i.addAssign(r),
                r.subAssign(n),
                r.bitXorAssign(WD(n, Vw(6))),
                n.addAssign(i),
                i.subAssign(r),
                i.bitXorAssign(WD(r, Vw(8))),
                r.addAssign(n),
                n.subAssign(i),
                n.bitXorAssign(WD(i, Vw(16))),
                i.addAssign(r),
                r.subAssign(n),
                r.bitXorAssign(WD(n, Vw(19))),
                n.addAssign(i),
                i.subAssign(r),
                i.bitXorAssign(WD(r, Vw(4))),
                r.addAssign(n))
            }),
            jD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Hw(i).toVar(),
                o = Hw(r).toVar(),
                s = Hw(n).toVar()
              return (
                a.bitXorAssign(o),
                a.subAssign(WD(o, Vw(14))),
                s.bitXorAssign(a),
                s.subAssign(WD(a, Vw(11))),
                o.bitXorAssign(s),
                o.subAssign(WD(s, Vw(25))),
                a.bitXorAssign(o),
                a.subAssign(WD(o, Vw(16))),
                s.bitXorAssign(a),
                s.subAssign(WD(a, Vw(4))),
                o.bitXorAssign(s),
                o.subAssign(WD(s, Vw(14))),
                a.bitXorAssign(o),
                a.subAssign(WD(o, Vw(24))),
                a
              )
            }).setLayout({
              name: 'mx_bjfinal',
              type: 'uint',
              inputs: [
                { name: 'a', type: 'uint' },
                { name: 'b', type: 'uint' },
                { name: 'c', type: 'uint' },
              ],
            }),
            QD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Hw(t).toVar()
              return zw(n).div(zw(Hw(Vw(4294967295))))
            }).setLayout({
              name: 'mx_bits_to_01',
              type: 'float',
              inputs: [{ name: 'bits', type: 'uint' }],
            }),
            qD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar()
              return n
                .mul(n)
                .mul(n)
                .mul(n.mul(n.mul(6).sub(15)).add(10))
            }).setLayout({
              name: 'mx_fade',
              type: 'float',
              inputs: [{ name: 't', type: 'float' }],
            }),
            XD = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Vw(t).toVar(),
                r = Hw(Hw(1)).toVar(),
                i = Hw(
                  Hw(Vw(3735928559))
                    .add(r.shiftLeft(Hw(2)))
                    .add(Hw(13))
                ).toVar()
              return jD(i.add(Hw(n)), i, i)
            }).setLayout({
              name: 'mx_hash_int_0',
              type: 'uint',
              inputs: [{ name: 'x', type: 'int' }],
            }),
            YD = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Vw(r).toVar(),
                a = Vw(n).toVar(),
                o = Hw(Hw(2)).toVar(),
                s = Hw().toVar(),
                u = Hw().toVar(),
                l = Hw().toVar()
              return (
                s.assign(
                  u.assign(
                    l.assign(
                      Hw(Vw(3735928559))
                        .add(o.shiftLeft(Hw(2)))
                        .add(Hw(13))
                    )
                  )
                ),
                s.addAssign(Hw(a)),
                u.addAssign(Hw(i)),
                jD(s, u, l)
              )
            }).setLayout({
              name: 'mx_hash_int_1',
              type: 'uint',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
              ],
            }),
            KD = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = Vw(r).toVar(),
                s = Vw(n).toVar(),
                u = Hw(Hw(3)).toVar(),
                l = Hw().toVar(),
                c = Hw().toVar(),
                d = Hw().toVar()
              return (
                l.assign(
                  c.assign(
                    d.assign(
                      Hw(Vw(3735928559))
                        .add(u.shiftLeft(Hw(2)))
                        .add(Hw(13))
                    )
                  )
                ),
                l.addAssign(Hw(s)),
                c.addAssign(Hw(o)),
                d.addAssign(Hw(a)),
                jD(l, c, d)
              )
            }).setLayout({
              name: 'mx_hash_int_2',
              type: 'uint',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'z', type: 'int' },
              ],
            }),
            ZD = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = Vw(a).toVar(),
                s = Vw(i).toVar(),
                u = Vw(r).toVar(),
                l = Vw(n).toVar(),
                c = Hw(Hw(4)).toVar(),
                d = Hw().toVar(),
                h = Hw().toVar(),
                f = Hw().toVar()
              return (
                d.assign(
                  h.assign(
                    f.assign(
                      Hw(Vw(3735928559))
                        .add(c.shiftLeft(Hw(2)))
                        .add(Hw(13))
                    )
                  )
                ),
                d.addAssign(Hw(l)),
                h.addAssign(Hw(u)),
                f.addAssign(Hw(s)),
                GD(d, h, f),
                d.addAssign(Hw(o)),
                jD(d, h, f)
              )
            }).setLayout({
              name: 'mx_hash_int_3',
              type: 'uint',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'z', type: 'int' },
                { name: 'xx', type: 'int' },
              ],
            }),
            JD = Lw(function (e) {
              var t = C(e, 5),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = Vw(o).toVar(),
                u = Vw(a).toVar(),
                l = Vw(i).toVar(),
                c = Vw(r).toVar(),
                d = Vw(n).toVar(),
                h = Hw(Hw(5)).toVar(),
                f = Hw().toVar(),
                p = Hw().toVar(),
                v = Hw().toVar()
              return (
                f.assign(
                  p.assign(
                    v.assign(
                      Hw(Vw(3735928559))
                        .add(h.shiftLeft(Hw(2)))
                        .add(Hw(13))
                    )
                  )
                ),
                f.addAssign(Hw(d)),
                p.addAssign(Hw(c)),
                v.addAssign(Hw(l)),
                GD(f, p, v),
                f.addAssign(Hw(u)),
                p.addAssign(Hw(s)),
                jD(f, p, v)
              )
            }).setLayout({
              name: 'mx_hash_int_4',
              type: 'uint',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'z', type: 'int' },
                { name: 'xx', type: 'int' },
                { name: 'yy', type: 'int' },
              ],
            }),
            $D = ON([XD, YD, KD, ZD, JD]),
            eO = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = Vw(r).toVar(),
                a = Vw(n).toVar(),
                o = Hw($D(a, i)).toVar(),
                s = Kw().toVar()
              return (
                s.x.assign(o.bitAnd(Vw(255))),
                s.y.assign(o.shiftRight(Vw(8)).bitAnd(Vw(255))),
                s.z.assign(o.shiftRight(Vw(16)).bitAnd(Vw(255))),
                s
              )
            }).setLayout({
              name: 'mx_hash_vec3_0',
              type: 'uvec3',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
              ],
            }),
            tO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = Vw(r).toVar(),
                s = Vw(n).toVar(),
                u = Hw($D(s, o, a)).toVar(),
                l = Kw().toVar()
              return (
                l.x.assign(u.bitAnd(Vw(255))),
                l.y.assign(u.shiftRight(Vw(8)).bitAnd(Vw(255))),
                l.z.assign(u.shiftRight(Vw(16)).bitAnd(Vw(255))),
                l
              )
            }).setLayout({
              name: 'mx_hash_vec3_1',
              type: 'uvec3',
              inputs: [
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'z', type: 'int' },
              ],
            }),
            nO = ON([eO, tO]),
            rO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Gw(t).toVar(),
                r = Vw().toVar(),
                i = Vw().toVar(),
                a = zw(AD(n.x, r)).toVar(),
                o = zw(AD(n.y, i)).toVar(),
                s = zw(qD(a)).toVar(),
                u = zw(qD(o)).toVar(),
                l = zw(
                  ED(
                    PD($D(r, i), a, o),
                    PD($D(r.add(Vw(1)), i), a.sub(1), o),
                    PD($D(r, i.add(Vw(1))), a, o.sub(1)),
                    PD($D(r.add(Vw(1)), i.add(Vw(1))), a.sub(1), o.sub(1)),
                    s,
                    u
                  )
                ).toVar()
              return zD(l)
            }).setLayout({
              name: 'mx_perlin_noise_float_0',
              type: 'float',
              inputs: [{ name: 'p', type: 'vec2' }],
            }),
            iO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Vw().toVar(),
                i = Vw().toVar(),
                a = Vw().toVar(),
                o = zw(AD(n.x, r)).toVar(),
                s = zw(AD(n.y, i)).toVar(),
                u = zw(AD(n.z, a)).toVar(),
                l = zw(qD(o)).toVar(),
                c = zw(qD(s)).toVar(),
                d = zw(qD(u)).toVar(),
                h = zw(
                  RD(
                    PD($D(r, i, a), o, s, u),
                    PD($D(r.add(Vw(1)), i, a), o.sub(1), s, u),
                    PD($D(r, i.add(Vw(1)), a), o, s.sub(1), u),
                    PD($D(r.add(Vw(1)), i.add(Vw(1)), a), o.sub(1), s.sub(1), u),
                    PD($D(r, i, a.add(Vw(1))), o, s, u.sub(1)),
                    PD($D(r.add(Vw(1)), i, a.add(Vw(1))), o.sub(1), s, u.sub(1)),
                    PD($D(r, i.add(Vw(1)), a.add(Vw(1))), o, s.sub(1), u.sub(1)),
                    PD($D(r.add(Vw(1)), i.add(Vw(1)), a.add(Vw(1))), o.sub(1), s.sub(1), u.sub(1)),
                    l,
                    c,
                    d
                  )
                ).toVar()
              return HD(h)
            }).setLayout({
              name: 'mx_perlin_noise_float_1',
              type: 'float',
              inputs: [{ name: 'p', type: 'vec3' }],
            }),
            aO = ON([rO, iO]),
            oO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Gw(t).toVar(),
                r = Vw().toVar(),
                i = Vw().toVar(),
                a = zw(AD(n.x, r)).toVar(),
                o = zw(AD(n.y, i)).toVar(),
                s = zw(qD(a)).toVar(),
                u = zw(qD(o)).toVar(),
                l = Xw(
                  ED(
                    OD(nO(r, i), a, o),
                    OD(nO(r.add(Vw(1)), i), a.sub(1), o),
                    OD(nO(r, i.add(Vw(1))), a, o.sub(1)),
                    OD(nO(r.add(Vw(1)), i.add(Vw(1))), a.sub(1), o.sub(1)),
                    s,
                    u
                  )
                ).toVar()
              return zD(l)
            }).setLayout({
              name: 'mx_perlin_noise_vec3_0',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'vec2' }],
            }),
            sO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Vw().toVar(),
                i = Vw().toVar(),
                a = Vw().toVar(),
                o = zw(AD(n.x, r)).toVar(),
                s = zw(AD(n.y, i)).toVar(),
                u = zw(AD(n.z, a)).toVar(),
                l = zw(qD(o)).toVar(),
                c = zw(qD(s)).toVar(),
                d = zw(qD(u)).toVar(),
                h = Xw(
                  RD(
                    OD(nO(r, i, a), o, s, u),
                    OD(nO(r.add(Vw(1)), i, a), o.sub(1), s, u),
                    OD(nO(r, i.add(Vw(1)), a), o, s.sub(1), u),
                    OD(nO(r.add(Vw(1)), i.add(Vw(1)), a), o.sub(1), s.sub(1), u),
                    OD(nO(r, i, a.add(Vw(1))), o, s, u.sub(1)),
                    OD(nO(r.add(Vw(1)), i, a.add(Vw(1))), o.sub(1), s, u.sub(1)),
                    OD(nO(r, i.add(Vw(1)), a.add(Vw(1))), o, s.sub(1), u.sub(1)),
                    OD(nO(r.add(Vw(1)), i.add(Vw(1)), a.add(Vw(1))), o.sub(1), s.sub(1), u.sub(1)),
                    l,
                    c,
                    d
                  )
                ).toVar()
              return HD(h)
            }).setLayout({
              name: 'mx_perlin_noise_vec3_1',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'vec3' }],
            }),
            uO = ON([oO, sO]),
            lO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar(),
                r = Vw(wD(n)).toVar()
              return QD($D(r))
            }).setLayout({
              name: 'mx_cell_noise_float_0',
              type: 'float',
              inputs: [{ name: 'p', type: 'float' }],
            }),
            cO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Gw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar()
              return QD($D(r, i))
            }).setLayout({
              name: 'mx_cell_noise_float_1',
              type: 'float',
              inputs: [{ name: 'p', type: 'vec2' }],
            }),
            dO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar(),
                a = Vw(wD(n.z)).toVar()
              return QD($D(r, i, a))
            }).setLayout({
              name: 'mx_cell_noise_float_2',
              type: 'float',
              inputs: [{ name: 'p', type: 'vec3' }],
            }),
            hO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Jw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar(),
                a = Vw(wD(n.z)).toVar(),
                o = Vw(wD(n.w)).toVar()
              return QD($D(r, i, a, o))
            }).setLayout({
              name: 'mx_cell_noise_float_3',
              type: 'float',
              inputs: [{ name: 'p', type: 'vec4' }],
            }),
            fO = ON([lO, cO, dO, hO]),
            pO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = zw(t).toVar(),
                r = Vw(wD(n)).toVar()
              return Xw(QD($D(r, Vw(0))), QD($D(r, Vw(1))), QD($D(r, Vw(2))))
            }).setLayout({
              name: 'mx_cell_noise_vec3_0',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'float' }],
            }),
            vO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Gw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar()
              return Xw(QD($D(r, i, Vw(0))), QD($D(r, i, Vw(1))), QD($D(r, i, Vw(2))))
            }).setLayout({
              name: 'mx_cell_noise_vec3_1',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'vec2' }],
            }),
            mO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar(),
                a = Vw(wD(n.z)).toVar()
              return Xw(QD($D(r, i, a, Vw(0))), QD($D(r, i, a, Vw(1))), QD($D(r, i, a, Vw(2))))
            }).setLayout({
              name: 'mx_cell_noise_vec3_2',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'vec3' }],
            }),
            gO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Jw(t).toVar(),
                r = Vw(wD(n.x)).toVar(),
                i = Vw(wD(n.y)).toVar(),
                a = Vw(wD(n.z)).toVar(),
                o = Vw(wD(n.w)).toVar()
              return Xw(
                QD($D(r, i, a, o, Vw(0))),
                QD($D(r, i, a, o, Vw(1))),
                QD($D(r, i, a, o, Vw(2)))
              )
            }).setLayout({
              name: 'mx_cell_noise_vec3_3',
              type: 'vec3',
              inputs: [{ name: 'p', type: 'vec4' }],
            }),
            yO = ON([pO, vO, mO, gO]),
            xO = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = Vw(r).toVar(),
                l = Xw(n).toVar(),
                c = zw(0).toVar(),
                d = zw(1).toVar()
              return (
                _R(u, function () {
                  ;(c.addAssign(d.mul(aO(l))), d.mulAssign(o), l.mulAssign(s))
                }),
                c
              )
            }).setLayout({
              name: 'mx_fractal_noise_float',
              type: 'float',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'octaves', type: 'int' },
                { name: 'lacunarity', type: 'float' },
                { name: 'diminish', type: 'float' },
              ],
            }),
            _O = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = Vw(r).toVar(),
                l = Xw(n).toVar(),
                c = Xw(0).toVar(),
                d = zw(1).toVar()
              return (
                _R(u, function () {
                  ;(c.addAssign(d.mul(uO(l))), d.mulAssign(o), l.mulAssign(s))
                }),
                c
              )
            }).setLayout({
              name: 'mx_fractal_noise_vec3',
              type: 'vec3',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'octaves', type: 'int' },
                { name: 'lacunarity', type: 'float' },
                { name: 'diminish', type: 'float' },
              ],
            }),
            bO = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = Vw(r).toVar(),
                l = Xw(n).toVar()
              return Gw(xO(l, u, s, o), xO(l.add(Xw(Vw(19), Vw(193), Vw(17))), u, s, o))
            }).setLayout({
              name: 'mx_fractal_noise_vec2',
              type: 'vec2',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'octaves', type: 'int' },
                { name: 'lacunarity', type: 'float' },
                { name: 'diminish', type: 'float' },
              ],
            }),
            SO = Lw(function (e) {
              var t = C(e, 4),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = zw(a).toVar(),
                s = zw(i).toVar(),
                u = Vw(r).toVar(),
                l = Xw(n).toVar(),
                c = Xw(_O(l, u, s, o)).toVar(),
                d = zw(xO(l.add(Xw(Vw(19), Vw(193), Vw(17))), u, s, o)).toVar()
              return Jw(c, d)
            }).setLayout({
              name: 'mx_fractal_noise_vec4',
              type: 'vec4',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'octaves', type: 'int' },
                { name: 'lacunarity', type: 'float' },
                { name: 'diminish', type: 'float' },
              ],
            }),
            wO = Lw(function (e) {
              var t = C(e, 7),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = t[6],
                l = Vw(u).toVar(),
                c = zw(s).toVar(),
                d = Vw(o).toVar(),
                h = Vw(a).toVar(),
                f = Vw(i).toVar(),
                p = Vw(r).toVar(),
                v = Gw(n).toVar(),
                m = Xw(yO(Gw(p.add(h), f.add(d)))).toVar(),
                g = Gw(m.x, m.y).toVar()
              ;(g.subAssign(0.5), g.mulAssign(c), g.addAssign(0.5))
              var y = Gw(Gw(zw(p), zw(f)).add(g)).toVar(),
                x = Gw(y.sub(v)).toVar()
              return (
                Fw(l.equal(Vw(2)), function () {
                  return QT(x.x).add(QT(x.y))
                }),
                Fw(l.equal(Vw(3)), function () {
                  return sM(QT(x.x), QT(x.y))
                }),
                fM(x, x)
              )
            }).setLayout({
              name: 'mx_worley_distance_0',
              type: 'float',
              inputs: [
                { name: 'p', type: 'vec2' },
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'xoff', type: 'int' },
                { name: 'yoff', type: 'int' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            AO = Lw(function (e) {
              var t = C(e, 9),
                n = t[0],
                r = t[1],
                i = t[2],
                a = t[3],
                o = t[4],
                s = t[5],
                u = t[6],
                l = t[7],
                c = t[8],
                d = Vw(c).toVar(),
                h = zw(l).toVar(),
                f = Vw(u).toVar(),
                p = Vw(s).toVar(),
                v = Vw(o).toVar(),
                m = Vw(a).toVar(),
                g = Vw(i).toVar(),
                y = Vw(r).toVar(),
                x = Xw(n).toVar(),
                _ = Xw(yO(Xw(y.add(v), g.add(p), m.add(f)))).toVar()
              ;(_.subAssign(0.5), _.mulAssign(h), _.addAssign(0.5))
              var b = Xw(Xw(zw(y), zw(g), zw(m)).add(_)).toVar(),
                S = Xw(b.sub(x)).toVar()
              return (
                Fw(d.equal(Vw(2)), function () {
                  return QT(S.x).add(QT(S.y)).add(QT(S.z))
                }),
                Fw(d.equal(Vw(3)), function () {
                  return sM(sM(QT(S.x), QT(S.y)), QT(S.z))
                }),
                fM(S, S)
              )
            }).setLayout({
              name: 'mx_worley_distance_1',
              type: 'float',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'x', type: 'int' },
                { name: 'y', type: 'int' },
                { name: 'z', type: 'int' },
                { name: 'xoff', type: 'int' },
                { name: 'yoff', type: 'int' },
                { name: 'zoff', type: 'int' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            TO = ON([wO, AO]),
            MO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Gw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Gw(AD(s.x, u), AD(s.y, l)).toVar(),
                d = zw(1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y,
                      r = zw(TO(c, t, n, u, l, o, a)).toVar()
                    d.assign(oM(d, r))
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  d.assign(LT(d))
                }),
                d
              )
            }).setLayout({
              name: 'mx_worley_noise_float_0',
              type: 'float',
              inputs: [
                { name: 'p', type: 'vec2' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            EO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Gw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Gw(AD(s.x, u), AD(s.y, l)).toVar(),
                d = Gw(1e6, 1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y,
                      r = zw(TO(c, t, n, u, l, o, a)).toVar()
                    Fw(r.lessThan(d.x), function () {
                      ;(d.y.assign(d.x), d.x.assign(r))
                    }).ElseIf(r.lessThan(d.y), function () {
                      d.y.assign(r)
                    })
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  d.assign(LT(d))
                }),
                d
              )
            }).setLayout({
              name: 'mx_worley_noise_vec2_0',
              type: 'vec2',
              inputs: [
                { name: 'p', type: 'vec2' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            CO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Gw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Gw(AD(s.x, u), AD(s.y, l)).toVar(),
                d = Xw(1e6, 1e6, 1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y,
                      r = zw(TO(c, t, n, u, l, o, a)).toVar()
                    Fw(r.lessThan(d.x), function () {
                      ;(d.z.assign(d.y), d.y.assign(d.x), d.x.assign(r))
                    })
                      .ElseIf(r.lessThan(d.y), function () {
                        ;(d.z.assign(d.y), d.y.assign(r))
                      })
                      .ElseIf(r.lessThan(d.z), function () {
                        d.z.assign(r)
                      })
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  d.assign(LT(d))
                }),
                d
              )
            }).setLayout({
              name: 'mx_worley_noise_vec3_0',
              type: 'vec3',
              inputs: [
                { name: 'p', type: 'vec2' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            kO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Xw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Vw().toVar(),
                d = Xw(AD(s.x, u), AD(s.y, l), AD(s.z, c)).toVar(),
                h = zw(1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y
                    _R({ start: -1, end: Vw(1), name: 'z', condition: '<=' }, function (e) {
                      var r = e.z,
                        i = zw(TO(d, t, n, r, u, l, c, o, a)).toVar()
                      h.assign(oM(h, i))
                    })
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  h.assign(LT(h))
                }),
                h
              )
            }).setLayout({
              name: 'mx_worley_noise_float_1',
              type: 'float',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            RO = ON([MO, kO]),
            IO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Xw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Vw().toVar(),
                d = Xw(AD(s.x, u), AD(s.y, l), AD(s.z, c)).toVar(),
                h = Gw(1e6, 1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y
                    _R({ start: -1, end: Vw(1), name: 'z', condition: '<=' }, function (e) {
                      var r = e.z,
                        i = zw(TO(d, t, n, r, u, l, c, o, a)).toVar()
                      Fw(i.lessThan(h.x), function () {
                        ;(h.y.assign(h.x), h.x.assign(i))
                      }).ElseIf(i.lessThan(h.y), function () {
                        h.y.assign(i)
                      })
                    })
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  h.assign(LT(h))
                }),
                h
              )
            }).setLayout({
              name: 'mx_worley_noise_vec2_1',
              type: 'vec2',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            NO = ON([EO, IO]),
            PO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = Vw(i).toVar(),
                o = zw(r).toVar(),
                s = Xw(n).toVar(),
                u = Vw().toVar(),
                l = Vw().toVar(),
                c = Vw().toVar(),
                d = Xw(AD(s.x, u), AD(s.y, l), AD(s.z, c)).toVar(),
                h = Xw(1e6, 1e6, 1e6).toVar()
              return (
                _R({ start: -1, end: Vw(1), name: 'x', condition: '<=' }, function (e) {
                  var t = e.x
                  _R({ start: -1, end: Vw(1), name: 'y', condition: '<=' }, function (e) {
                    var n = e.y
                    _R({ start: -1, end: Vw(1), name: 'z', condition: '<=' }, function (e) {
                      var r = e.z,
                        i = zw(TO(d, t, n, r, u, l, c, o, a)).toVar()
                      Fw(i.lessThan(h.x), function () {
                        ;(h.z.assign(h.y), h.y.assign(h.x), h.x.assign(i))
                      })
                        .ElseIf(i.lessThan(h.y), function () {
                          ;(h.z.assign(h.y), h.y.assign(i))
                        })
                        .ElseIf(i.lessThan(h.z), function () {
                          h.z.assign(i)
                        })
                    })
                  })
                }),
                Fw(a.equal(Vw(0)), function () {
                  h.assign(LT(h))
                }),
                h
              )
            }).setLayout({
              name: 'mx_worley_noise_vec3_1',
              type: 'vec3',
              inputs: [
                { name: 'p', type: 'vec3' },
                { name: 'jitter', type: 'float' },
                { name: 'metric', type: 'int' },
              ],
            }),
            LO = ON([CO, PO]),
            DO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = t.y,
                r = t.z,
                i = Xw().toVar()
              return (
                Fw(n.lessThan(1e-4), function () {
                  i.assign(Xw(r, r, r))
                }).Else(function () {
                  var e = t.x
                  e = e.sub(OT(e)).mul(6).toVar()
                  var a = Vw(tM(e)),
                    o = e.sub(zw(a)),
                    s = r.mul(n.oneMinus()),
                    u = r.mul(n.mul(o).oneMinus()),
                    l = r.mul(n.mul(o.oneMinus()).oneMinus())
                  Fw(a.equal(Vw(0)), function () {
                    i.assign(Xw(r, l, s))
                  })
                    .ElseIf(a.equal(Vw(1)), function () {
                      i.assign(Xw(u, r, s))
                    })
                    .ElseIf(a.equal(Vw(2)), function () {
                      i.assign(Xw(s, r, l))
                    })
                    .ElseIf(a.equal(Vw(3)), function () {
                      i.assign(Xw(s, u, r))
                    })
                    .ElseIf(a.equal(Vw(4)), function () {
                      i.assign(Xw(l, s, r))
                    })
                    .Else(function () {
                      i.assign(Xw(r, s, u))
                    })
                }),
                i
              )
            }).setLayout({
              name: 'mx_hsvtorgb',
              type: 'vec3',
              inputs: [{ name: 'hsv', type: 'vec3' }],
            }),
            OO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = zw(n.x).toVar(),
                i = zw(n.y).toVar(),
                a = zw(n.z).toVar(),
                o = zw(oM(r, oM(i, a))).toVar(),
                s = zw(sM(r, sM(i, a))).toVar(),
                u = zw(s.sub(o)).toVar(),
                l = zw().toVar(),
                c = zw().toVar(),
                d = zw().toVar()
              return (
                d.assign(s),
                Fw(s.greaterThan(0), function () {
                  c.assign(u.div(s))
                }).Else(function () {
                  c.assign(0)
                }),
                Fw(c.lessThanEqual(0), function () {
                  l.assign(0)
                }).Else(function () {
                  ;(Fw(r.greaterThanEqual(s), function () {
                    l.assign(i.sub(a).div(u))
                  })
                    .ElseIf(i.greaterThanEqual(s), function () {
                      l.assign($A(2, a.sub(r).div(u)))
                    })
                    .Else(function () {
                      l.assign($A(4, r.sub(i).div(u)))
                    }),
                    l.mulAssign(1 / 6),
                    Fw(l.lessThan(0), function () {
                      l.addAssign(1)
                    }))
                }),
                Xw(l, c, d)
              )
            }).setLayout({
              name: 'mx_rgbtohsv',
              type: 'vec3',
              inputs: [{ name: 'c', type: 'vec3' }],
            }),
            FO = Lw(function (e) {
              var t = C(e, 1)[0],
                n = Xw(t).toVar(),
                r = Zw(sT(n, Xw(0.04045))).toVar(),
                i = Xw(n.div(12.92)).toVar(),
                a = Xw(vM(sM(n.add(Xw(0.055)), Xw(0)).div(1.055), Xw(2.4))).toVar()
              return SM(i, a, r)
            }).setLayout({
              name: 'mx_srgb_texture_to_lin_rec709',
              type: 'vec3',
              inputs: [{ name: 'color', type: 'vec3' }],
            }),
            BO = function (e, t) {
              ;((e = zw(e)), (t = zw(t)))
              var n = Gw(t.dFdx(), t.dFdy()).length().mul(0.7071067811865476)
              return MM(e.sub(n), e.add(n), t)
            },
            UO = function (e, t, n, r) {
              return SM(e, t, n[r].clamp())
            },
            zO = function (e, t, n, r, i) {
              return SM(e, t, BO(n, r[i]))
            },
            VO = Lw(function (e) {
              var t = C(e, 3),
                n = t[0],
                r = t[1],
                i = t[2],
                a = BT(n).toVar('nDir'),
                o = eT(zw(0.5).mul(r.sub(i)), yC)
                  .div(a)
                  .toVar('rbmax'),
                s = eT(zw(-0.5).mul(r.sub(i)), yC)
                  .div(a)
                  .toVar('rbmin'),
                u = Xw().toVar('rbminmax')
              ;((u.x = a.x.greaterThan(zw(0)).select(o.x, s.x)),
                (u.y = a.y.greaterThan(zw(0)).select(o.y, s.y)),
                (u.z = a.z.greaterThan(zw(0)).select(o.z, s.z)))
              var l = oM(oM(u.x, u.y), u.z).toVar('correction')
              return yC.add(a.mul(l)).toVar('boxIntersection').sub(i)
            }),
            HO = Lw(function (e) {
              var t = C(e, 2),
                n = t[0],
                r = t[1],
                i = n.x,
                a = n.y,
                o = n.z,
                s = r.element(0).mul(0.886227)
              return (s = (s = (s = (s = (s = (s = (s = (s = s.add(
                r.element(1).mul(1.023328).mul(a)
              )).add(r.element(2).mul(1.023328).mul(o))).add(
                r.element(3).mul(1.023328).mul(i)
              )).add(r.element(4).mul(0.858086).mul(i).mul(a))).add(
                r.element(5).mul(0.858086).mul(a).mul(o)
              )).add(r.element(6).mul(o.mul(o).mul(0.743125).sub(0.247708)))).add(
                r.element(7).mul(0.858086).mul(i).mul(o)
              )).add(
                r
                  .element(8)
                  .mul(0.429043)
                  .mul(tT(i, i).sub(tT(a, a)))
              ))
            }),
            WO = Object.freeze({
              __proto__: null,
              BRDF_GGX: CI,
              BRDF_Lambert: _I,
              BasicShadowFilter: uD,
              Break: bR,
              Const: WM,
              Continue: function () {
                return AE('continue').append()
              },
              DFGApprox: kI,
              D_GGX: TI,
              Discard: TE,
              EPSILON: ST,
              F_Schlick: xI,
              Fn: Lw,
              INFINITY: wT,
              If: Fw,
              Loop: _R,
              NodeAccess: wS,
              NodeShaderStage: bS,
              NodeType: {
                BOOLEAN: 'bool',
                INTEGER: 'int',
                FLOAT: 'float',
                VECTOR2: 'vec2',
                VECTOR3: 'vec3',
                VECTOR4: 'vec4',
                MATRIX2: 'mat2',
                MATRIX3: 'mat3',
                MATRIX4: 'mat4',
              },
              NodeUpdateType: SS,
              PCFShadowFilter: lD,
              PCFSoftShadowFilter: cD,
              PI: AT,
              PI2: TT,
              Return: function () {
                return AE('return').append()
              },
              Schlick_to_F0: RI,
              ScriptableNodeResources: SL,
              ShaderNode: Cw,
              TBNViewMatrix: sk,
              VSMShadowFilter: dD,
              V_GGX_SmithCorrelated: wI,
              Var: HM,
              abs: QT,
              acesFilmicToneMapping: uL,
              acos: GT,
              add: $A,
              addMethodChaining: WS,
              addNodeElement: function (e) {
                console.warn(
                  'THREE.TSLBase: AddNodeElement has been removed in favor of tree-shaking. Trying add',
                  e
                )
              },
              agxToneMapping: hL,
              all: MT,
              alphaT: IA,
              and: cT,
              anisotropy: NA,
              anisotropyB: LA,
              anisotropyT: PA,
              any: ET,
              append: Bw,
              array: uA,
              arrayBuffer: function (e) {
                return kw(new US(e, 'ArrayBuffer'))
              },
              asin: WT,
              assign: YA,
              atan: jT,
              atan2: IM,
              atomicAdd: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_ADD, e, t, n)
              },
              atomicAnd: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_AND, e, t, n)
              },
              atomicFunc: qL,
              atomicLoad: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                return qL(GL.ATOMIC_LOAD, e, null, t)
              },
              atomicMax: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_MAX, e, t, n)
              },
              atomicMin: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_MIN, e, t, n)
              },
              atomicOr: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_OR, e, t, n)
              },
              atomicStore: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_STORE, e, t, n)
              },
              atomicSub: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_SUB, e, t, n)
              },
              atomicXor: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                return qL(GL.ATOMIC_XOR, e, t, n)
              },
              attenuationColor: QA,
              attenuationDistance: jA,
              attribute: kE,
              attributeArray: function (e) {
                var t,
                  n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 'float'
                !0 === r.isStruct
                  ? ((t = r.layout.getLength()), (n = pS('float')))
                  : ((t = vS(r)), (n = pS(r)))
                var i = new bP(e, t, n)
                return TP(i, r, e)
              },
              backgroundBlurriness: IP,
              backgroundIntensity: NP,
              backgroundRotation: PP,
              batch: vR,
              billboarding: HN,
              bitAnd: pT,
              bitNot: vT,
              bitOr: mT,
              bitXor: gT,
              bitangentGeometry: tk,
              bitangentLocal: nk,
              bitangentView: rk,
              bitangentWorld: ik,
              bitcast: iM,
              blendBurn: VP,
              blendColor: jP,
              blendDodge: HP,
              blendOverlay: GP,
              blendScreen: WP,
              blur: sN,
              bool: Ww,
              buffer: BE,
              bufferAttribute: dE,
              bumpMap: mk,
              burn: function () {
                console.warn('THREE.TSL: "burn" has been renamed. Use "blendBurn" instead.')
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return VP(t)
              },
              bvec2: qw,
              bvec3: Zw,
              bvec4: tA,
              bypass: xE,
              cache: yE,
              call: ZA,
              cameraFar: GE,
              cameraIndex: HE,
              cameraNear: WE,
              cameraNormalMatrix: YE,
              cameraPosition: KE,
              cameraProjectionMatrix: jE,
              cameraProjectionMatrixInverse: QE,
              cameraViewMatrix: qE,
              cameraWorldMatrix: XE,
              cbrt: _M,
              cdl: ZP,
              ceil: FT,
              checker: xD,
              cineonToneMapping: oL,
              clamp: wM,
              clearcoat: AA,
              clearcoatRoughness: TA,
              code: vL,
              color: Uw,
              colorSpaceToWorking: nE,
              colorToDirection: function (e) {
                return kw(e).mul(2).sub(1)
              },
              compute: mE,
              cond: OM,
              context: BM,
              convert: oA,
              convertColorSpace: function (e, t, n) {
                return kw(new JM(kw(e), t, n))
              },
              convertToTexture: function (e) {
                if (e.isTextureNode) return e
                if (e.isPassNode) return e.getTextureNode()
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                  n[r - 1] = arguments[r]
                return mP.apply(void 0, [e].concat(n))
              },
              cos: VT,
              cross: pM,
              cubeTexture: VC,
              dFdx: ZT,
              dFdy: JT,
              dashSize: UA,
              defaultBuildStages: ['setup', 'analyze', 'generate'],
              defaultShaderStages: AS,
              defined: Mw,
              degrees: kT,
              deltaTime: BN,
              densityFog: function (e, t) {
                return (
                  console.warn(
                    'THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'
                  ),
                  CL(e, EL(t))
                )
              },
              densityFogFactor: EL,
              depth: iI,
              depthPass: function (e, t, n) {
                return kw(new nL(nL.DEPTH, e, t, n))
              },
              difference: hM,
              diffuseColor: _A,
              directPointLight: yD,
              directionToColor: function (e) {
                return kw(e).mul(0.5).add(0.5)
              },
              dispersion: qA,
              distance: dM,
              div: nT,
              dodge: function () {
                console.warn('THREE.TSL: "dodge" has been renamed. Use "blendDodge" instead.')
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return HP(t)
              },
              dot: fM,
              drawIndex: cR,
              dynamicBufferAttribute: hE,
              element: aA,
              emissive: bA,
              equal: iT,
              equals: aM,
              equirectUV: yI,
              exp: RT,
              exp2: IT,
              expression: AE,
              faceDirection: AC,
              faceForward: EM,
              faceforward: NM,
              float: zw,
              floor: OT,
              fog: CL,
              fract: UT,
              frameGroup: hA,
              frameId: UN,
              frontFacing: wC,
              fwidth: nM,
              gain: function (e, t) {
                return e.lessThan(0.5)
                  ? RN(e.mul(2), t).div(2)
                  : eT(1, RN(tT(eT(1, e), 2), t).div(2))
              },
              gapSize: zA,
              getConstNodeType: Ew,
              getCurrentStack: Ow,
              getDirection: rN,
              getDistanceAttenuation: gD,
              getGeometryRoughness: bI,
              getNormalFromDepth: xP,
              getParallaxCorrectNormal: VO,
              getRoughness: SI,
              getScreenPosition: yP,
              getShIrradianceAt: HO,
              getTextureIndex: MN,
              getViewPosition: gP,
              globalId: FL,
              glsl: function (e, t) {
                return vL(e, t, 'glsl')
              },
              glslFn: function (e, t) {
                return gL(e, t, 'glsl')
              },
              grayscale: QP,
              greaterThan: sT,
              greaterThanEqual: lT,
              hash: kN,
              highpModelNormalViewMatrix: pC,
              highpModelViewMatrix: fC,
              hue: YP,
              instance: hR,
              instanceIndex: oR,
              instancedArray: function (e) {
                var t,
                  n,
                  r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 'float'
                !0 === r.isStruct
                  ? ((t = r.layout.getLength()), (n = pS('float')))
                  : ((t = vS(r)), (n = pS(r)))
                var i = new _P(e, t, n)
                return TP(i, r, e)
              },
              instancedBufferAttribute: fE,
              instancedDynamicBufferAttribute: pE,
              instancedMesh: fR,
              int: Vw,
              inverseSqrt: DT,
              inversesqrt: PM,
              invocationLocalIndex: lR,
              invocationSubgroupIndex: uR,
              ior: HA,
              iridescence: CA,
              iridescenceIOR: kA,
              iridescenceThickness: RA,
              ivec2: jw,
              ivec3: Yw,
              ivec4: $w,
              js: function (e, t) {
                return vL(e, t, 'js')
              },
              label: UM,
              length: XT,
              lengthSq: bM,
              lessThan: oT,
              lessThanEqual: uT,
              lightPosition: KL,
              lightProjectionUV: function (e) {
                var t = XL(e)
                if (void 0 === t.projectionUV) {
                  var n = YL(e).mul(yC)
                  t.projectionUV = n.xyz.div(n.w)
                }
                return t.projectionUV
              },
              lightShadowMatrix: YL,
              lightTargetDirection: function (e) {
                return qE.transformDirection(KL(e).sub(ZL(e)))
              },
              lightTargetPosition: ZL,
              lightViewPosition: function (e) {
                var t = XL(e)
                return (
                  t.viewPosition ||
                  (t.viewPosition = mA(new gd())
                    .setGroup(fA)
                    .onRenderUpdate(function (t, n) {
                      var r = t.camera
                      ;((n.value = n.value || new gd()),
                        n.value.setFromMatrixPosition(e.matrixWorld),
                        n.value.applyMatrix4(r.matrixWorldInverse))
                    }))
                )
              },
              lightingContext: NR,
              lights: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                return kw(new eD()).setLights(e)
              },
              linearDepth: aI,
              linearToneMapping: iL,
              localId: BL,
              log: NT,
              log2: PT,
              logarithmicDepthToViewZ: function (e, t, n) {
                var r = e.mul(NT(n.div(t)))
                return zw(Math.E).pow(r).mul(t).negate()
              },
              loop: function () {
                return (
                  console.warn('TSL.LoopNode: loop() has been renamed to Loop().'),
                  _R.apply(void 0, arguments)
                )
              },
              luminance: KP,
              mat2: nA,
              mat3: rA,
              mat4: iA,
              matcapUV: pN,
              materialAO: tR,
              materialAlphaTest: xk,
              materialAnisotropy: Bk,
              materialAnisotropyVector: nR,
              materialAttenuationColor: Qk,
              materialAttenuationDistance: jk,
              materialClearcoat: Nk,
              materialClearcoatNormal: Lk,
              materialClearcoatRoughness: Pk,
              materialColor: _k,
              materialDispersion: $k,
              materialEmissive: Sk,
              materialIOR: Gk,
              materialIridescence: Uk,
              materialIridescenceIOR: zk,
              materialIridescenceThickness: Vk,
              materialLightMap: eR,
              materialLineDashOffset: Zk,
              materialLineDashSize: Xk,
              materialLineGapSize: Yk,
              materialLineScale: qk,
              materialLineWidth: Kk,
              materialMetalness: Rk,
              materialNormal: Ik,
              materialOpacity: wk,
              materialPointSize: Jk,
              materialReference: qC,
              materialReflectivity: Ck,
              materialRefractionRatio: DC,
              materialRotation: Dk,
              materialRoughness: kk,
              materialSheen: Ok,
              materialSheenRoughness: Fk,
              materialShininess: bk,
              materialSpecular: Ak,
              materialSpecularColor: Mk,
              materialSpecularIntensity: Tk,
              materialSpecularStrength: Ek,
              materialThickness: Wk,
              materialTransmission: Hk,
              max: sM,
              maxMipLevel: PE,
              mediumpModelViewMatrix: hC,
              metalness: wA,
              min: oM,
              mix: SM,
              mixElement: kM,
              mod: uM,
              modInt: rT,
              modelDirection: iC,
              modelNormalMatrix: lC,
              modelPosition: oC,
              modelScale: sC,
              modelViewMatrix: dC,
              modelViewPosition: uC,
              modelViewProjection: rR,
              modelWorldMatrix: aC,
              modelWorldMatrixInverse: cC,
              morphReference: CR,
              mrt: CN,
              mul: tT,
              mx_aastep: BO,
              mx_cell_noise_float: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE()
                return fO(e.convert('vec2|vec3'))
              },
              mx_contrast: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0.5
                return zw(e).sub(n).mul(t).add(n)
              },
              mx_fractal_noise_float: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2,
                  n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.5,
                  r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                return xO(
                  e,
                  Vw(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3),
                  t,
                  n
                ).mul(r)
              },
              mx_fractal_noise_vec2: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2,
                  n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.5,
                  r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                return bO(
                  e,
                  Vw(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3),
                  t,
                  n
                ).mul(r)
              },
              mx_fractal_noise_vec3: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2,
                  n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.5,
                  r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                return _O(
                  e,
                  Vw(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3),
                  t,
                  n
                ).mul(r)
              },
              mx_fractal_noise_vec4: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2,
                  n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.5,
                  r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                return SO(
                  e,
                  Vw(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3),
                  t,
                  n
                ).mul(r)
              },
              mx_hsvtorgb: DO,
              mx_noise_float: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                return aO(e.convert('vec2|vec3')).mul(t).add(n)
              },
              mx_noise_vec3: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                return uO(e.convert('vec2|vec3')).mul(t).add(n)
              },
              mx_noise_vec4: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                return (
                  (e = e.convert('vec2|vec3')),
                  Jw(uO(e), aO(e.add(Gw(19, 73))))
                    .mul(t)
                    .add(n)
                )
              },
              mx_ramplr: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : RE()
                return UO(e, t, n, 'x')
              },
              mx_ramptb: function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : RE()
                return UO(e, t, n, 'y')
              },
              mx_rgbtohsv: OO,
              mx_safepower: function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return (e = zw(e)).abs().pow(t).mul(e.sign())
              },
              mx_splitlr: function (e, t, n) {
                var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : RE()
                return zO(e, t, n, r, 'x')
              },
              mx_splittb: function (e, t, n) {
                var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : RE()
                return zO(e, t, n, r, 'y')
              },
              mx_srgb_texture_to_lin_rec709: FO,
              mx_transform_uv: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : RE())
                  .mul(e)
                  .add(t)
              },
              mx_worley_noise_float: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return RO(e.convert('vec2|vec3'), t, Vw(1))
              },
              mx_worley_noise_vec2: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return NO(e.convert('vec2|vec3'), t, Vw(1))
              },
              mx_worley_noise_vec3: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : RE(),
                  t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                return LO(e.convert('vec2|vec3'), t, Vw(1))
              },
              negate: YT,
              neutralToneMapping: fL,
              nodeArray: Iw,
              nodeImmutable: Pw,
              nodeObject: kw,
              nodeObjects: Rw,
              nodeProxy: Nw,
              normalFlat: EC,
              normalGeometry: TC,
              normalLocal: MC,
              normalMap: hk,
              normalView: CC,
              normalWorld: kC,
              normalize: BT,
              not: hT,
              notEqual: aT,
              numWorkgroups: DL,
              objectDirection: JE,
              objectGroup: pA,
              objectPosition: eC,
              objectScale: tC,
              objectViewPosition: nC,
              objectWorldMatrix: $E,
              oneMinus: KT,
              or: dT,
              orthographicDepthToViewZ: function (e, t, n) {
                return t.sub(n).mul(e).sub(t)
              },
              oscSawtooth: function () {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : FN).fract()
              },
              oscSine: function () {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : FN)
                  .add(0.75)
                  .mul(2 * Math.PI)
                  .sin()
                  .mul(0.5)
                  .add(0.5)
              },
              oscSquare: function () {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : FN)
                  .fract()
                  .round()
              },
              oscTriangle: function () {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : FN)
                  .add(0.5)
                  .fract()
                  .mul(2)
                  .sub(1)
                  .abs()
              },
              output: BA,
              outputStruct: TN,
              overlay: function () {
                console.warn('THREE.TSL: "overlay" has been renamed. Use "blendOverlay" instead.')
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return GP(t)
              },
              overloadingFn: ON,
              parabola: RN,
              parallaxDirection: uk,
              parallaxUV: function (e, t) {
                return e.sub(uk.mul(t))
              },
              parameter: function (e, t) {
                return kw(new xN(e, t))
              },
              pass: function (e, t, n) {
                return kw(new nL(nL.COLOR, e, t, n))
              },
              passTexture: function (e, t) {
                return kw(new eL(e, t))
              },
              pcurve: function (e, t, n) {
                return vM(nT(vM(e, t), $A(vM(e, t), vM(eT(1, e), n))), 1 / t)
              },
              perspectiveDepthToViewZ: tI,
              pmremTexture: hN,
              pointUV: EP,
              pointWidth: VA,
              positionGeometry: vC,
              positionLocal: mC,
              positionPrevious: gC,
              positionView: _C,
              positionViewDirection: bC,
              positionWorld: yC,
              positionWorldDirection: xC,
              posterize: JP,
              pow: vM,
              pow2: mM,
              pow3: gM,
              pow4: yM,
              property: yA,
              radians: CT,
              rand: CM,
              range: NL,
              rangeFog: function (e, t, n) {
                return (
                  console.warn(
                    'THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'
                  ),
                  CL(e, ML(t, n))
                )
              },
              rangeFogFactor: ML,
              reciprocal: eM,
              reference: GC,
              referenceBuffer: jC,
              reflect: cM,
              reflectVector: BC,
              reflectView: OC,
              reflector: function (e) {
                return kw(new uP(e))
              },
              refract: TM,
              refractVector: UC,
              refractView: FC,
              reinhardToneMapping: aL,
              remainder: _T,
              remap: bE,
              remapClamp: SE,
              renderGroup: fA,
              renderOutput: EE,
              rendererReference: oE,
              rotate: vN,
              rotateUV: zN,
              roughness: SA,
              round: $T,
              rtt: mP,
              sRGBTransferEOTF: XM,
              sRGBTransferOETF: YM,
              sampler: function (e) {
                return (!0 === e.isNode ? e : DE(e)).convert('sampler')
              },
              saturate: AM,
              saturation: qP,
              screen: function () {
                console.warn('THREE.TSL: "screen" has been renamed. Use "blendScreen" instead.')
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return WP(t)
              },
              screenCoordinate: FR,
              screenSize: OR,
              screenUV: DR,
              scriptable: AL,
              scriptableValue: xL,
              select: DM,
              setCurrentStack: Dw,
              shaderStages: TS,
              shadow: function (e, t) {
                return kw(new mD(e, t))
              },
              shadowPositionWorld: nD,
              shapeCircle: _D,
              sharedUniformGroup: dA,
              sheen: MA,
              sheenRoughness: EA,
              shiftLeft: yT,
              shiftRight: xT,
              shininess: FA,
              sign: qT,
              sin: zT,
              sinc: function (e, t) {
                return zT(AT.mul(t.mul(e).sub(1))).div(AT.mul(t.mul(e).sub(1)))
              },
              skinning: function (e) {
                return kw(new gR(e))
              },
              skinningReference: yR,
              smoothstep: MM,
              smoothstepElement: RM,
              specularColor: DA,
              specularF90: OA,
              spherizeUV: VN,
              split: function (e, t) {
                return kw(new LS(kw(e), t))
              },
              spritesheetUV: jN,
              sqrt: LT,
              stack: bN,
              step: lM,
              storage: TP,
              storageBarrier: function () {
                return VL('storage').append()
              },
              storageObject: function (e, t, n) {
                return (
                  console.warn(
                    'THREE.TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'
                  ),
                  TP(e, t, n).setPBO(!0)
                )
              },
              storageTexture: DP,
              string: function () {
                return kw(
                  new US(
                    arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : '',
                    'string'
                  )
                )
              },
              struct: function (e) {
                var t = new SN(
                    e,
                    arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                  ),
                  n = function () {
                    for (var n = null, r = arguments.length, i = new Array(r), a = 0; a < r; a++)
                      i[a] = arguments[a]
                    if (i.length > 0)
                      if (i[0].isNode) {
                        n = {}
                        for (var o = Object.keys(e), s = 0; s < i.length; s++) n[o[s]] = i[s]
                      } else n = i[0]
                    return kw(new wN(t, n))
                  }
                return ((n.layout = t), (n.isStruct = !0), n)
              },
              sub: eT,
              subgroupIndex: sR,
              subgroupSize: UL,
              tan: HT,
              tangentGeometry: XC,
              tangentLocal: YC,
              tangentView: KC,
              tangentWorld: ZC,
              temp: GM,
              texture: DE,
              texture3D: yN,
              textureBarrier: function () {
                return VL('texture').append()
              },
              textureBicubic: VI,
              textureCubeUV: iN,
              textureLoad: OE,
              textureSize: NE,
              textureStore: function (e, t, n) {
                var r = DP(e, t, n)
                return (null !== n && r.append(), r)
              },
              thickness: GA,
              time: FN,
              timerDelta: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                return (
                  console.warn('TSL: timerDelta() is deprecated. Use "deltaTime" instead.'),
                  BN.mul(e)
                )
              },
              timerGlobal: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                return (
                  console.warn('TSL: timerGlobal() is deprecated. Use "time" instead.'),
                  FN.mul(e)
                )
              },
              timerLocal: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                return (
                  console.warn('TSL: timerLocal() is deprecated. Use "time" instead.'),
                  FN.mul(e)
                )
              },
              toOutputColorSpace: $M,
              toWorkingColorSpace: eE,
              toneMapping: uE,
              toneMappingExposure: lE,
              toonOutlinePass: function (e, t) {
                var n =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : new Uh(0, 0, 0),
                  r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0.003,
                  i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1
                return kw(new rL(e, t, kw(n), kw(r), kw(i)))
              },
              transformDirection: xM,
              transformNormal: PC,
              transformNormalToView: LC,
              transformedBentNormalView: lk,
              transformedBitangentView: ak,
              transformedBitangentWorld: ok,
              transformedClearcoatNormalView: NC,
              transformedNormalView: RC,
              transformedNormalWorld: IC,
              transformedTangentView: JC,
              transformedTangentWorld: $C,
              transmission: WA,
              transpose: rM,
              triNoise3D: PN,
              triplanarTexture: function () {
                return qN.apply(void 0, arguments)
              },
              triplanarTextures: qN,
              trunc: tM,
              tslFn: function () {
                return (
                  console.warn('TSL.ShaderNode: tslFn() has been renamed to Fn().'),
                  Lw.apply(void 0, arguments)
                )
              },
              uint: Hw,
              uniform: mA,
              uniformArray: VE,
              uniformGroup: cA,
              uniforms: function (e, t) {
                return (
                  console.warn(
                    'TSL.UniformArrayNode: uniforms() has been renamed to uniformArray().'
                  ),
                  kw(new zE(e, t))
                )
              },
              userData: function (e, t, n) {
                return kw(new OP(e, t, n))
              },
              uv: RE,
              uvec2: Qw,
              uvec3: Kw,
              uvec4: eA,
              varying: QM,
              varyingProperty: xA,
              vec2: Gw,
              vec3: Xw,
              vec4: Jw,
              vectorComponents: MS,
              velocity: zP,
              vertexColor: function (e) {
                return kw(new MP(e))
              },
              vertexIndex: aR,
              vertexStage: qM,
              vibrance: XP,
              viewZToLogarithmicDepth: nI,
              viewZToOrthographicDepth: $R,
              viewZToPerspectiveDepth: eI,
              viewport: BR,
              viewportBottomLeft: GR,
              viewportCoordinate: zR,
              viewportDepthTexture: ZR,
              viewportLinearDepth: oI,
              viewportMipTexture: XR,
              viewportResolution: HR,
              viewportSafeUV: WN,
              viewportSharedTexture: mI,
              viewportSize: UR,
              viewportTexture: qR,
              viewportTopLeft: WR,
              viewportUV: VR,
              wgsl: function (e, t) {
                return vL(e, t, 'wgsl')
              },
              wgslFn: function (e, t) {
                return gL(e, t, 'wgsl')
              },
              workgroupArray: function (e, t) {
                return kw(new WL('Workgroup', e, t))
              },
              workgroupBarrier: function () {
                return VL('workgroup').append()
              },
              workgroupId: OL,
              workingToColorSpace: tE,
              xor: fT,
            }),
            GO = rN(RE(), kE('faceIndex')).normalize()
          ;(GO.x, GO.y, GO.z)
          var jO =
            'undefined' != typeof self
              ? self.GPUShaderStage
              : { VERTEX: 1, FRAGMENT: 2, COMPUTE: 4 }
          ;(M(M(M({}, wS.READ_ONLY, 'read'), wS.WRITE_ONLY, 'write'), wS.READ_WRITE, 'read_write'),
            jO && jO.VERTEX,
            jO && jO.FRAGMENT,
            jO && jO.COMPUTE)
          var QO = {
            tsl_xor: new pL(
              'fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }'
            ),
            mod_float: new pL(
              'fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }'
            ),
            mod_vec2: new pL(
              'fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }'
            ),
            mod_vec3: new pL(
              'fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }'
            ),
            mod_vec4: new pL(
              'fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }'
            ),
            equals_bool: new pL(
              'fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }'
            ),
            equals_bvec2: new pL(
              'fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }'
            ),
            equals_bvec3: new pL(
              'fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }'
            ),
            equals_bvec4: new pL(
              'fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }'
            ),
            repeatWrapping_float: new pL(
              'fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }'
            ),
            mirrorWrapping_float: new pL(
              'fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }'
            ),
            clampWrapping_float: new pL(
              'fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }'
            ),
            biquadraticTexture: new pL(
              '\nfn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {\n\n\tlet res = vec2f( iRes );\n\n\tlet uvScaled = coord * res;\n\tlet uvWrapping = ( ( uvScaled % res ) + res ) % res;\n\n\t// https://www.shadertoy.com/view/WtyXRy\n\n\tlet uv = uvWrapping - 0.5;\n\tlet iuv = floor( uv );\n\tlet f = fract( uv );\n\n\tlet rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );\n\tlet rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );\n\tlet rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );\n\tlet rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );\n\n\treturn mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );\n\n}\n'
            ),
          }
          ;('undefined' != typeof navigator &&
            /Windows/g.test(navigator.userAgent) &&
            ((QO.pow_float = new pL(
              'fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }'
            )),
            (QO.pow_vec2 = new pL(
              'fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }',
              [QO.pow_float]
            )),
            (QO.pow_vec3 = new pL(
              'fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }',
              [QO.pow_float]
            )),
            (QO.pow_vec4 = new pL(
              'fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }',
              [QO.pow_float]
            ))),
            /**
             * @license
             * Copyright 2010-2025 Three.js Authors
             * SPDX-License-Identifier: MIT
             */ WO.BRDF_GGX,
            WO.BRDF_Lambert,
            WO.BasicShadowFilter,
            WO.Break,
            WO.Continue,
            WO.DFGApprox,
            WO.D_GGX,
            WO.Discard,
            WO.EPSILON,
            WO.F_Schlick,
            WO.Fn,
            WO.INFINITY,
            WO.If,
            WO.Loop,
            WO.NodeShaderStage,
            WO.NodeType,
            WO.NodeUpdateType,
            WO.NodeAccess,
            WO.PCFShadowFilter,
            WO.PCFSoftShadowFilter,
            WO.PI,
            WO.PI2,
            WO.Return,
            WO.Schlick_to_F0,
            WO.ScriptableNodeResources,
            WO.ShaderNode,
            WO.TBNViewMatrix,
            WO.VSMShadowFilter,
            WO.V_GGX_SmithCorrelated,
            WO.abs,
            WO.acesFilmicToneMapping,
            WO.acos,
            WO.add,
            WO.addNodeElement,
            WO.agxToneMapping,
            WO.all,
            WO.alphaT,
            WO.and,
            WO.anisotropy,
            WO.anisotropyB,
            WO.anisotropyT,
            WO.any,
            WO.append,
            WO.array,
            WO.arrayBuffer,
            WO.asin,
            WO.assign,
            WO.atan,
            WO.atan2,
            WO.atomicAdd,
            WO.atomicAnd,
            WO.atomicFunc,
            WO.atomicMax,
            WO.atomicMin,
            WO.atomicOr,
            WO.atomicStore,
            WO.atomicSub,
            WO.atomicXor,
            WO.atomicLoad,
            WO.attenuationColor,
            WO.attenuationDistance,
            WO.attribute,
            WO.attributeArray,
            WO.backgroundBlurriness,
            WO.backgroundIntensity,
            WO.backgroundRotation,
            WO.batch,
            WO.billboarding,
            WO.bitAnd,
            WO.bitNot,
            WO.bitOr,
            WO.bitXor,
            WO.bitangentGeometry,
            WO.bitangentLocal,
            WO.bitangentView,
            WO.bitangentWorld,
            WO.bitcast,
            WO.blendBurn,
            WO.blendColor,
            WO.blendDodge,
            WO.blendOverlay,
            WO.blendScreen,
            WO.blur,
            WO.bool,
            WO.buffer,
            WO.bufferAttribute,
            WO.bumpMap,
            WO.burn,
            WO.bvec2,
            WO.bvec3,
            WO.bvec4,
            WO.bypass,
            WO.cache,
            WO.call,
            WO.cameraFar,
            WO.cameraIndex,
            WO.cameraNear,
            WO.cameraNormalMatrix,
            WO.cameraPosition,
            WO.cameraProjectionMatrix,
            WO.cameraProjectionMatrixInverse,
            WO.cameraViewMatrix,
            WO.cameraWorldMatrix,
            WO.cbrt,
            WO.cdl,
            WO.ceil,
            WO.checker,
            WO.cineonToneMapping,
            WO.clamp,
            WO.clearcoat,
            WO.clearcoatRoughness,
            WO.code,
            WO.color,
            WO.colorSpaceToWorking,
            WO.colorToDirection,
            WO.compute,
            WO.cond,
            WO.Const,
            WO.context,
            WO.convert,
            WO.convertColorSpace,
            WO.convertToTexture,
            WO.cos,
            WO.cross,
            WO.cubeTexture,
            WO.dFdx,
            WO.dFdy,
            WO.dashSize,
            WO.defaultBuildStages,
            WO.defaultShaderStages,
            WO.defined,
            WO.degrees,
            WO.deltaTime,
            WO.densityFog,
            WO.densityFogFactor,
            WO.depth,
            WO.depthPass,
            WO.difference,
            WO.diffuseColor,
            WO.directPointLight,
            WO.directionToColor,
            WO.dispersion,
            WO.distance,
            WO.div,
            WO.dodge,
            WO.dot,
            WO.drawIndex,
            WO.dynamicBufferAttribute,
            WO.element,
            WO.emissive,
            WO.equal,
            WO.equals,
            WO.equirectUV,
            WO.exp,
            WO.exp2,
            WO.expression,
            WO.faceDirection,
            WO.faceForward,
            WO.faceforward,
            WO.float,
            WO.floor,
            WO.fog,
            WO.fract,
            WO.frameGroup,
            WO.frameId,
            WO.frontFacing,
            WO.fwidth,
            WO.gain,
            WO.gapSize,
            WO.getConstNodeType,
            WO.getCurrentStack,
            WO.getDirection,
            WO.getDistanceAttenuation,
            WO.getGeometryRoughness,
            WO.getNormalFromDepth,
            WO.getParallaxCorrectNormal,
            WO.getRoughness,
            WO.getScreenPosition,
            WO.getShIrradianceAt,
            WO.getTextureIndex,
            WO.getViewPosition,
            WO.glsl,
            WO.glslFn,
            WO.grayscale,
            WO.greaterThan,
            WO.greaterThanEqual,
            WO.hash,
            WO.highpModelNormalViewMatrix,
            WO.highpModelViewMatrix,
            WO.hue,
            WO.instance,
            WO.instanceIndex,
            WO.instancedArray,
            WO.instancedBufferAttribute,
            WO.instancedDynamicBufferAttribute,
            WO.instancedMesh,
            WO.int,
            WO.inverseSqrt,
            WO.inversesqrt,
            WO.invocationLocalIndex,
            WO.invocationSubgroupIndex,
            WO.ior,
            WO.iridescence,
            WO.iridescenceIOR,
            WO.iridescenceThickness,
            WO.ivec2,
            WO.ivec3,
            WO.ivec4,
            WO.js,
            WO.label,
            WO.length,
            WO.lengthSq,
            WO.lessThan,
            WO.lessThanEqual,
            WO.lightPosition,
            WO.lightTargetDirection,
            WO.lightTargetPosition,
            WO.lightViewPosition,
            WO.lightingContext,
            WO.lights,
            WO.linearDepth,
            WO.linearToneMapping,
            WO.localId,
            WO.globalId,
            WO.log,
            WO.log2,
            WO.logarithmicDepthToViewZ,
            WO.loop,
            WO.luminance,
            WO.mediumpModelViewMatrix,
            WO.mat2,
            WO.mat3,
            WO.mat4,
            WO.matcapUV,
            WO.materialAO,
            WO.materialAlphaTest,
            WO.materialAnisotropy,
            WO.materialAnisotropyVector,
            WO.materialAttenuationColor,
            WO.materialAttenuationDistance,
            WO.materialClearcoat,
            WO.materialClearcoatNormal,
            WO.materialClearcoatRoughness,
            WO.materialColor,
            WO.materialDispersion,
            WO.materialEmissive,
            WO.materialIOR,
            WO.materialIridescence,
            WO.materialIridescenceIOR,
            WO.materialIridescenceThickness,
            WO.materialLightMap,
            WO.materialLineDashOffset,
            WO.materialLineDashSize,
            WO.materialLineGapSize,
            WO.materialLineScale,
            WO.materialLineWidth,
            WO.materialMetalness,
            WO.materialNormal,
            WO.materialOpacity,
            WO.materialPointSize,
            WO.materialReference,
            WO.materialReflectivity,
            WO.materialRefractionRatio,
            WO.materialRotation,
            WO.materialRoughness,
            WO.materialSheen,
            WO.materialSheenRoughness,
            WO.materialShininess,
            WO.materialSpecular,
            WO.materialSpecularColor,
            WO.materialSpecularIntensity,
            WO.materialSpecularStrength,
            WO.materialThickness,
            WO.materialTransmission,
            WO.max,
            WO.maxMipLevel,
            WO.metalness,
            WO.min,
            WO.mix,
            WO.mixElement,
            WO.mod,
            WO.modInt,
            WO.modelDirection,
            WO.modelNormalMatrix,
            WO.modelPosition,
            WO.modelScale,
            WO.modelViewMatrix,
            WO.modelViewPosition,
            WO.modelViewProjection,
            WO.modelWorldMatrix,
            WO.modelWorldMatrixInverse,
            WO.morphReference,
            WO.mrt,
            WO.mul,
            WO.mx_aastep,
            WO.mx_cell_noise_float,
            WO.mx_contrast,
            WO.mx_fractal_noise_float,
            WO.mx_fractal_noise_vec2,
            WO.mx_fractal_noise_vec3,
            WO.mx_fractal_noise_vec4,
            WO.mx_hsvtorgb,
            WO.mx_noise_float,
            WO.mx_noise_vec3,
            WO.mx_noise_vec4,
            WO.mx_ramplr,
            WO.mx_ramptb,
            WO.mx_rgbtohsv,
            WO.mx_safepower,
            WO.mx_splitlr,
            WO.mx_splittb,
            WO.mx_srgb_texture_to_lin_rec709,
            WO.mx_transform_uv,
            WO.mx_worley_noise_float,
            WO.mx_worley_noise_vec2,
            WO.mx_worley_noise_vec3,
            WO.negate,
            WO.neutralToneMapping,
            WO.nodeArray,
            WO.nodeImmutable,
            WO.nodeObject,
            WO.nodeObjects,
            WO.nodeProxy,
            WO.normalFlat,
            WO.normalGeometry,
            WO.normalLocal,
            WO.normalMap,
            WO.normalView,
            WO.normalWorld,
            WO.normalize,
            WO.not,
            WO.notEqual,
            WO.numWorkgroups,
            WO.objectDirection,
            WO.objectGroup,
            WO.objectPosition,
            WO.objectScale,
            WO.objectViewPosition,
            WO.objectWorldMatrix,
            WO.oneMinus,
            WO.or,
            WO.orthographicDepthToViewZ,
            WO.oscSawtooth,
            WO.oscSine,
            WO.oscSquare,
            WO.oscTriangle,
            WO.output,
            WO.outputStruct,
            WO.overlay,
            WO.overloadingFn,
            WO.parabola,
            WO.parallaxDirection,
            WO.parallaxUV,
            WO.parameter,
            WO.pass,
            WO.passTexture,
            WO.pcurve,
            WO.perspectiveDepthToViewZ,
            WO.pmremTexture,
            WO.pointUV,
            WO.pointWidth,
            WO.positionGeometry,
            WO.positionLocal,
            WO.positionPrevious,
            WO.positionView,
            WO.positionViewDirection,
            WO.positionWorld,
            WO.positionWorldDirection,
            WO.posterize,
            WO.pow,
            WO.pow2,
            WO.pow3,
            WO.pow4,
            WO.property,
            WO.radians,
            WO.rand,
            WO.range,
            WO.rangeFog,
            WO.rangeFogFactor,
            WO.reciprocal,
            WO.reference,
            WO.referenceBuffer,
            WO.reflect,
            WO.reflectVector,
            WO.reflectView,
            WO.reflector,
            WO.refract,
            WO.refractVector,
            WO.refractView,
            WO.reinhardToneMapping,
            WO.remainder,
            WO.remap,
            WO.remapClamp,
            WO.renderGroup,
            WO.renderOutput,
            WO.rendererReference,
            WO.rotate,
            WO.rotateUV,
            WO.roughness,
            WO.round,
            WO.rtt,
            WO.sRGBTransferEOTF,
            WO.sRGBTransferOETF,
            WO.sampler,
            WO.saturate,
            WO.saturation,
            WO.screen,
            WO.screenCoordinate,
            WO.screenSize,
            WO.screenUV,
            WO.scriptable,
            WO.scriptableValue,
            WO.select,
            WO.setCurrentStack,
            WO.shaderStages,
            WO.shadow,
            WO.shadowPositionWorld,
            WO.sharedUniformGroup,
            WO.shapeCircle,
            WO.sheen,
            WO.sheenRoughness,
            WO.shiftLeft,
            WO.shiftRight,
            WO.shininess,
            WO.sign,
            WO.sin,
            WO.sinc,
            WO.skinning,
            WO.skinningReference,
            WO.smoothstep,
            WO.smoothstepElement,
            WO.specularColor,
            WO.specularF90,
            WO.spherizeUV,
            WO.split,
            WO.spritesheetUV,
            WO.sqrt,
            WO.stack,
            WO.step,
            WO.storage,
            WO.storageBarrier,
            WO.storageObject,
            WO.storageTexture,
            WO.string,
            WO.struct,
            WO.sub,
            WO.subgroupIndex,
            WO.subgroupSize,
            WO.tan,
            WO.tangentGeometry,
            WO.tangentLocal,
            WO.tangentView,
            WO.tangentWorld,
            WO.temp,
            WO.texture,
            WO.texture3D,
            WO.textureBarrier,
            WO.textureBicubic,
            WO.textureCubeUV,
            WO.textureLoad,
            WO.textureSize,
            WO.textureStore,
            WO.thickness,
            WO.threshold,
            WO.time,
            WO.timerDelta,
            WO.timerGlobal,
            WO.timerLocal,
            WO.toOutputColorSpace,
            WO.toWorkingColorSpace,
            WO.toneMapping,
            WO.toneMappingExposure,
            WO.toonOutlinePass,
            WO.transformDirection,
            WO.transformNormal,
            WO.transformNormalToView,
            WO.transformedBentNormalView,
            WO.transformedBitangentView,
            WO.transformedBitangentWorld,
            WO.transformedClearcoatNormalView,
            WO.transformedNormalView,
            WO.transformedNormalWorld,
            WO.transformedTangentView,
            WO.transformedTangentWorld,
            WO.transmission,
            WO.transpose,
            WO.tri,
            WO.tri3,
            WO.triNoise3D,
            WO.triplanarTexture,
            WO.triplanarTextures,
            WO.trunc,
            WO.tslFn,
            WO.uint,
            WO.uniform,
            WO.uniformArray,
            WO.uniformGroup,
            WO.uniforms,
            WO.userData,
            WO.uv,
            WO.uvec2,
            WO.uvec3,
            WO.uvec4,
            WO.Var,
            WO.varying,
            WO.varyingProperty,
            WO.vec2,
            WO.vec3,
            WO.vec4,
            WO.vectorComponents,
            WO.velocity,
            WO.vertexColor,
            WO.vertexIndex,
            WO.vibrance,
            WO.viewZToLogarithmicDepth,
            WO.viewZToOrthographicDepth,
            WO.viewZToPerspectiveDepth,
            WO.viewport,
            WO.viewportBottomLeft,
            WO.viewportCoordinate,
            WO.viewportDepthTexture,
            WO.viewportLinearDepth,
            WO.viewportMipTexture,
            WO.viewportResolution,
            WO.viewportSafeUV,
            WO.viewportSharedTexture,
            WO.viewportSize,
            WO.viewportTexture,
            WO.viewportTopLeft,
            WO.viewportUV,
            WO.wgsl,
            WO.wgslFn,
            WO.workgroupArray,
            WO.workgroupBarrier,
            WO.workgroupId,
            WO.workingToColorSpace,
            WO.xor)
          var qO,
            XO = (function () {
              function e() {
                var t,
                  n,
                  r,
                  i,
                  a,
                  o,
                  s,
                  u,
                  l,
                  c,
                  d,
                  h = this,
                  f = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                if (
                  (w(this, e),
                  M(this, 'tempForward', new gd()),
                  M(this, 'tempMatrixLeft', new qd()),
                  M(this, 'tempMatrixRight', new qd()),
                  M(this, 'onKeyDown', function (e) {
                    switch (
                      (h.tempForward.set(0, 0, -1),
                      h.tempForward.transformDirection(h.camera.matrixWorld),
                      h.tempMatrixLeft.makeRotationAxis(h.tempForward, Math.PI / 128),
                      h.tempMatrixRight.makeRotationAxis(h.tempForward, -Math.PI / 128),
                      e.code)
                    ) {
                      case 'KeyG':
                        ;((h.focalAdjustment += 0.02), h.forceRenderNextFrame())
                        break
                      case 'KeyF':
                        ;((h.focalAdjustment -= 0.02), h.forceRenderNextFrame())
                        break
                      case 'ArrowLeft':
                        h.camera.up.transformDirection(h.tempMatrixLeft)
                        break
                      case 'ArrowRight':
                        h.camera.up.transformDirection(h.tempMatrixRight)
                        break
                      case 'KeyC':
                        h.showMeshCursor = !h.showMeshCursor
                        break
                      case 'KeyU':
                        h.showControlPlane = !h.showControlPlane
                        break
                      case 'KeyI':
                        ;((h.showInfo = !h.showInfo), h.showInfo)
                        break
                      case 'KeyO':
                        h.usingExternalCamera ||
                          h.setOrthographicMode(!h.camera.isOrthographicCamera)
                        break
                      case 'KeyP':
                        h.usingExternalCamera ||
                          h.splatMesh.setPointCloudModeEnabled(
                            !h.splatMesh.getPointCloudModeEnabled()
                          )
                        break
                      case 'Equal':
                        h.usingExternalCamera ||
                          h.splatMesh.setSplatScale(h.splatMesh.getSplatScale() + 0.05)
                        break
                      case 'Minus':
                        h.usingExternalCamera ||
                          h.splatMesh.setSplatScale(Math.max(h.splatMesh.getSplatScale() - 0.05, 0))
                    }
                  }),
                  M(
                    this,
                    'onMouseUp',
                    ((t = new Gc()),
                    function (e) {
                      ;(t.copy(this.mousePosition).sub(this.mouseDownPosition),
                        Ou() - this.mouseDownTime < 0.5 && t.length() < 2 && this.onMouseClick(e))
                    })
                  ),
                  M(this, 'checkPointRenderDimensions', new Gc()),
                  M(this, 'checkPointToNewFocalPoint', new gd()),
                  M(this, 'checkPointOutHits', []),
                  M(this, 'checkForFocalPointChange', function () {
                    if (
                      !h.transitioningCameraTarget &&
                      (h.getRenderDimensions(h.checkPointRenderDimensions),
                      (h.checkPointOutHits.length = 0),
                      h.raycaster.setFromCameraAndScreenPosition(
                        h.camera,
                        h.mousePosition,
                        h.checkPointRenderDimensions
                      ),
                      h.raycaster.intersectSplatMesh(h.splatMesh, h.checkPointOutHits),
                      h.checkPointOutHits.length > 0)
                    ) {
                      var e = h.checkPointOutHits[0].origin
                      ;(h.checkPointToNewFocalPoint.copy(e).sub(h.camera.position),
                        h.checkPointToNewFocalPoint.length() > 0.75 &&
                          (h.previousCameraTarget.copy(h.controls.target),
                          h.nextCameraTarget.copy(e),
                          (h.transitioningCameraTarget = !0),
                          (h.transitioningCameraTargetStartTime = Ou())))
                    }
                  }),
                  M(
                    this,
                    'updateSplatMesh',
                    ((n = new Gc()),
                    function () {
                      if (this.splatMesh && this.splatMesh.getSplatCount() > 0) {
                        ;(this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),
                          this.splatMesh.updateTransforms(),
                          this.getRenderDimensions(n))
                        var e =
                            0.5 *
                            this.camera.projectionMatrix.elements[0] *
                            this.devicePixelRatio *
                            n.x,
                          t =
                            0.5 *
                            this.camera.projectionMatrix.elements[5] *
                            this.devicePixelRatio *
                            n.y,
                          r = this.camera.isOrthographicCamera ? 1 / this.devicePixelRatio : 1,
                          i = this.focalAdjustment * r,
                          a = 1 / i
                        ;(this.adjustForWebXRStereo(n),
                          this.splatMesh.updateUniforms(
                            n,
                            e * i,
                            t * i,
                            this.camera.isOrthographicCamera,
                            this.camera.zoom || 1,
                            a
                          ))
                      }
                    })
                  ),
                  M(this, 'addSplatBuffers', function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                      n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                      r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
                      i = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4],
                      a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5],
                      o = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
                      s = !(arguments.length > 7 && void 0 !== arguments[7]) || arguments[7]
                    if (h.isDisposingOrDisposed()) return Promise.resolve()
                    var u = null,
                      l = function () {
                        null !== u && (h.loadingSpinner.removeTask(u), (u = null))
                      }
                    return (
                      (h.splatRenderReady = !1),
                      new Promise(function (c) {
                        ;(r && (u = h.loadingSpinner.addTask('Processing splats...')),
                          Bu(function () {
                            if (h.isDisposingOrDisposed()) c()
                            else {
                              var r = h.addSplatBuffersToMesh(e, t, n, i, a, s),
                                u = h.splatMesh.getMaxSplatCount()
                              ;(h.sortWorker &&
                                h.sortWorker.maxSplatCount !== u &&
                                h.disposeSortWorker(),
                                h.gpuAcceleratedSort ||
                                  h.preSortMessages.push({
                                    centers: r.centers.buffer,
                                    sceneIndexes: r.sceneIndexes.buffer,
                                    range: { from: r.from, to: r.to, count: r.count },
                                  }),
                                (!h.sortWorker && u > 0
                                  ? h.setupSortWorker(h.splatMesh)
                                  : Promise.resolve()
                                ).then(function () {
                                  h.isDisposingOrDisposed() ||
                                    h.runSplatSort(!0, !0).then(function (e) {
                                      h.sortWorker && e
                                        ? (o
                                            ? (h.splatRenderReady = !0)
                                            : h.runAfterNextSort.push(function () {
                                                h.splatRenderReady = !0
                                              }),
                                          h.runAfterNextSort.push(function () {
                                            ;(l(), c())
                                          }))
                                        : ((h.splatRenderReady = !0), l(), c())
                                    })
                                }))
                            }
                          }, !0))
                      })
                    )
                  }),
                  M(this, 'addSplatBuffersToMesh', function (e, t) {
                    var n,
                      i,
                      a = this,
                      o = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                      s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                      u = arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
                      l = !(arguments.length > 5 && void 0 !== arguments[5]) || arguments[5]
                    if (!this.isDisposingOrDisposed()) {
                      var c = [],
                        d = []
                      ;(u ||
                        ((c =
                          this.splatMesh.scenes.map(function (e) {
                            return e.splatBuffer
                          }) || []),
                        (d = this.splatMesh.sceneOptions
                          ? this.splatMesh.sceneOptions.map(function (e) {
                              return e
                            })
                          : [])),
                        (n = c).push.apply(n, I(e)),
                        (i = d).push.apply(i, I(t)),
                        this.renderer && this.splatMesh.setRenderer(this.renderer))
                      var h = this.splatMesh.build(
                        c,
                        d,
                        !0,
                        o,
                        function (e) {
                          if (!a.isDisposingOrDisposed()) {
                            var t = a.splatMesh.getSplatCount()
                            s &&
                              t >= 15e5 &&
                              (e ||
                                r ||
                                (a.loadingSpinner.setMinimized(!0, !0),
                                (r = a.loadingSpinner.addTask('Optimizing data structures...'))))
                          }
                        },
                        function (e) {
                          a.isDisposingOrDisposed() ||
                            (e && r && (a.loadingSpinner.removeTask(r), (r = null)))
                        },
                        l
                      )
                      return (
                        o &&
                          this.freeIntermediateSplatData &&
                          this.splatMesh.freeIntermediateSplatData(),
                        h
                      )
                    }
                  }),
                  M(this, 'vsyncNum', 4),
                  M(
                    this,
                    'shouldRender',
                    ((i = 0),
                    (a = new gd()),
                    (o = new md()),
                    (s = 1e-4),
                    function () {
                      if (
                        !this.initialized ||
                        !this.splatRenderReady ||
                        this.isDisposingOrDisposed()
                      )
                        return !1
                      var e,
                        t = !1
                      if (this.camera) {
                        var n = this.camera.position,
                          r = this.camera.quaternion
                        t =
                          Math.abs(n.x - a.x) > s ||
                          Math.abs(n.y - a.y) > s ||
                          Math.abs(n.z - a.z) > s ||
                          Math.abs(r.x - o.x) > s ||
                          Math.abs(r.y - o.y) > s ||
                          Math.abs(r.z - o.z) > s ||
                          Math.abs(r.w - o.w) > s
                      }
                      return (
                        (e =
                          this.renderMode !== iS &&
                          (0 === i ||
                            this.splatMesh.visibleRegionChanging ||
                            t ||
                            this.renderMode === rS ||
                            !0 === this.dynamicMode ||
                            this.renderNextFrame)),
                        this.camera &&
                          (a.copy(this.camera.position), o.copy(this.camera.quaternion)),
                        i++,
                        e
                      )
                    })
                  ),
                  M(this, 'render', function () {
                    if (
                      this.initialized &&
                      this.splatRenderReady &&
                      !this.isDisposingOrDisposed()
                    ) {
                      var e = this.renderer.autoClear
                      ;((function (e) {
                        var t,
                          n = L(e.children)
                        try {
                          for (n.s(); !(t = n.n()).done; ) if (t.value.visible) return !0
                        } catch (r) {
                          n.e(r)
                        } finally {
                          n.f()
                        }
                        return !1
                      })(this.threeScene) &&
                        (this.renderer.render(this.threeScene, this.camera),
                        (this.renderer.autoClear = !1)),
                        this.renderer.render(this.splatMesh, this.camera),
                        (this.renderer.autoClear = !1),
                        this.sceneHelper.getFocusMarkerOpacity() > 0 &&
                          this.renderer.render(this.sceneHelper.focusMarker, this.camera),
                        this.showControlPlane &&
                          this.renderer.render(this.sceneHelper.controlPlane, this.camera),
                        (this.renderer.autoClear = e))
                    }
                  }),
                  M(this, 'sortedIndexes', void 0),
                  M(this, 'lastCalcTime', Ou()),
                  M(this, 'fpsFrameCount', 0),
                  M(this, 'updateFPS', function () {
                    if (h.consecutiveRenderFrames > 60) {
                      var e = Ou()
                      e - h.lastCalcTime >= 1
                        ? ((h.currentFPS = h.fpsFrameCount),
                          (h.fpsFrameCount = 0),
                          (h.lastCalcTime = e))
                        : h.fpsFrameCount++
                    } else h.currentFPS = null
                  }),
                  M(
                    this,
                    'updateForRendererSizeChanges',
                    ((l = new Gc()),
                    (c = new Gc()),
                    function () {
                      this.usingExternalCamera ||
                        (this.renderer.getSize(c),
                        (void 0 !== u &&
                          u === this.camera.isOrthographicCamera &&
                          c.x === l.x &&
                          c.y === l.y) ||
                          (this.camera.isOrthographicCamera
                            ? ((this.camera.left = -c.x / 2),
                              (this.camera.right = c.x / 2),
                              (this.camera.top = c.y / 2),
                              (this.camera.bottom = -c.y / 2))
                            : (this.camera.aspect = c.x / c.y),
                          this.camera.updateProjectionMatrix(),
                          l.copy(c),
                          (u = this.camera.isOrthographicCamera)))
                    })
                  ),
                  M(this, 'timingSensitiveUpdates', function () {
                    var e = Ou()
                    d || (d = e)
                    var t = e - d
                    ;(this.updateCameraTransition(e), this.updateFocusMarker(t), (d = e))
                  }),
                  M(this, 'tempCameraTarget', new gd()),
                  M(this, 'toPreviousTarget', new gd()),
                  M(this, 'toNextTarget', new gd()),
                  M(this, 'updateCameraTransition', function (e) {
                    if (h.transitioningCameraTarget) {
                      ;(h.toPreviousTarget
                        .copy(h.previousCameraTarget)
                        .sub(h.camera.position)
                        .normalize(),
                        h.toNextTarget.copy(h.nextCameraTarget).sub(h.camera.position).normalize())
                      var t = Math.acos(h.toPreviousTarget.dot(h.toNextTarget)),
                        n =
                          (((t / (Math.PI / 3)) * 0.65 + 0.3) / t) *
                          (e - h.transitioningCameraTargetStartTime)
                      ;(h.tempCameraTarget.copy(h.previousCameraTarget).lerp(h.nextCameraTarget, n),
                        h.camera.lookAt(h.tempCameraTarget),
                        h.controls.target.copy(h.tempCameraTarget),
                        n >= 1 && (h.transitioningCameraTarget = !1))
                    }
                  }),
                  M(
                    this,
                    'updateFocusMarker',
                    (function () {
                      var e = new Gc(),
                        t = !1
                      return function (n) {
                        if ((this.getRenderDimensions(e), this.transitioningCameraTarget)) {
                          this.sceneHelper.setFocusMarkerVisibility(!0)
                          var r = Math.max(this.sceneHelper.getFocusMarkerOpacity(), 0),
                            i = Math.min(r + 10 * n, 1)
                          ;(this.sceneHelper.setFocusMarkerOpacity(i),
                            this.sceneHelper.updateFocusMarker(
                              this.nextCameraTarget,
                              this.camera,
                              e
                            ),
                            (t = !0),
                            this.forceRenderNextFrame())
                        } else {
                          var a
                          if (
                            (a = t ? 1 : Math.min(this.sceneHelper.getFocusMarkerOpacity(), 1)) > 0
                          ) {
                            this.sceneHelper.updateFocusMarker(
                              this.nextCameraTarget,
                              this.camera,
                              e
                            )
                            var o = Math.max(a - 2.5 * n, 0)
                            ;(this.sceneHelper.setFocusMarkerOpacity(o),
                              0 === o && this.sceneHelper.setFocusMarkerVisibility(!1))
                          }
                          ;(a > 0 && this.forceRenderNextFrame(), (t = !1))
                        }
                      }
                    })()
                  ),
                  M(
                    this,
                    'updateMeshCursor',
                    (function () {
                      var e = [],
                        t = new Gc()
                      return function () {
                        this.showMeshCursor
                          ? (this.forceRenderNextFrame(),
                            this.getRenderDimensions(t),
                            (e.length = 0),
                            this.raycaster.setFromCameraAndScreenPosition(
                              this.camera,
                              this.mousePosition,
                              t
                            ),
                            this.raycaster.intersectSplatMesh(this.splatMesh, e),
                            e.length > 0
                              ? (this.sceneHelper.setMeshCursorVisibility(!0),
                                this.sceneHelper.positionAndOrientMeshCursor(
                                  e[0].origin,
                                  this.camera
                                ))
                              : this.sceneHelper.setMeshCursorVisibility(!1))
                          : (this.sceneHelper.getMeschCursorVisibility() &&
                              this.forceRenderNextFrame(),
                            this.sceneHelper.setMeshCursorVisibility(!1))
                      }
                    })()
                  ),
                  M(
                    this,
                    'updateInfoPanel',
                    (function () {
                      var e = new Gc()
                      return function () {
                        if (this.showInfo) {
                          var t = this.splatMesh.getSplatCount()
                          ;(this.getRenderDimensions(e),
                            this.controls && this.controls.target,
                            this.showMeshCursor && this.sceneHelper.meshCursor.position,
                            t > 0 && this.splatRenderCount)
                        }
                      }
                    })()
                  ),
                  M(this, 'mvpMatrix', new qd()),
                  M(this, 'cameraPositionArray', []),
                  M(this, 'lastSortViewDir', new gd(0, 0, -1)),
                  M(this, 'sortViewDir', new gd(0, 0, -1)),
                  M(this, 'lastSortViewPos', new gd()),
                  M(this, 'sortViewOffset', new gd()),
                  M(this, 'queuedSorts', []),
                  M(this, 'partialSorts', [
                    { angleThreshold: 0.55, sortFractions: [0.125, 0.33333, 0.75] },
                    { angleThreshold: 0.65, sortFractions: [0.33333, 0.66667] },
                    { angleThreshold: 0.8, sortFractions: [0.5] },
                  ]),
                  M(this, 'runSplatSort', function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                      t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                    if (!h.initialized) return Promise.resolve(!1)
                    if (h.sortRunning) return Promise.resolve(!0)
                    if (h.splatMesh.getSplatCount() <= 0)
                      return ((h.splatRenderCount = 0), Promise.resolve(!1))
                    var n,
                      r,
                      i = !1,
                      a = !1
                    if (
                      (h.sortViewDir.set(0, 0, -1).applyQuaternion(h.camera.quaternion),
                      (n = h.sortViewDir.dot(h.lastSortViewDir)),
                      (r = h.sortViewOffset
                        .copy(h.camera.position)
                        .sub(h.lastSortViewPos)
                        .length()),
                      !(
                        e ||
                        h.splatMesh.dynamicMode ||
                        0 !== h.queuedSorts.length ||
                        (n <= 0.99 && (i = !0), r >= 1 && (a = !0), i || a)
                      ))
                    )
                      return Promise.resolve(!1)
                    h.sortRunning = !0
                    var o = h.gatherSceneNodesForSort(),
                      s = o.splatRenderCount,
                      u = o.shouldSortAll
                    ;((u = u || t),
                      (h.splatRenderCount = s),
                      h.mvpMatrix.copy(h.camera.matrixWorld).invert())
                    var l = h.perspectiveCamera || h.camera
                    ;(h.mvpMatrix.premultiply(l.projectionMatrix),
                      h.splatMesh.dynamicMode || h.mvpMatrix.multiply(h.splatMesh.matrixWorld))
                    var c = Promise.resolve(!0)
                    return (
                      h.gpuAcceleratedSort &&
                        (h.queuedSorts.length <= 1 || h.queuedSorts.length % 2 == 0) &&
                        (c = h.splatMesh.computeDistancesOnGPU(
                          h.mvpMatrix,
                          h.sortWorkerPrecomputedDistances
                        )),
                      c.then(function () {
                        if (0 === h.queuedSorts.length)
                          if (h.splatMesh.dynamicMode || u) h.queuedSorts.push(h.splatRenderCount)
                          else {
                            var e,
                              t = L(partialSorts)
                            try {
                              for (t.s(); !(e = t.n()).done; ) {
                                var r = e.value
                                if (n < r.angleThreshold) {
                                  var i,
                                    a = L(r.sortFractions)
                                  try {
                                    for (a.s(); !(i = a.n()).done; ) {
                                      var o = i.value
                                      h.queuedSorts.push(Math.floor(h.splatRenderCount * o))
                                    }
                                  } catch (c) {
                                    a.e(c)
                                  } finally {
                                    a.f()
                                  }
                                  break
                                }
                              }
                            } catch (c) {
                              t.e(c)
                            } finally {
                              t.f()
                            }
                            h.queuedSorts.push(h.splatRenderCount)
                          }
                        var s = Math.min(h.queuedSorts.shift(), h.splatRenderCount)
                        ;((h.splatSortCount = s),
                          (h.cameraPositionArray[0] = h.camera.position.x),
                          (h.cameraPositionArray[1] = h.camera.position.y),
                          (h.cameraPositionArray[2] = h.camera.position.z))
                        var l = {
                          modelViewProj: h.mvpMatrix.elements,
                          cameraPosition: h.cameraPositionArray,
                          splatRenderCount: h.splatRenderCount,
                          splatSortCount: s,
                          usePrecomputedDistances: h.gpuAcceleratedSort,
                        }
                        return (
                          h.splatMesh.dynamicMode &&
                            h.splatMesh.fillTransformsArray(h.sortWorkerTransforms),
                          h.sharedMemoryForWorkers ||
                            ((l.indexesToSort = h.sortWorkerIndexesToSort),
                            (l.transforms = h.sortWorkerTransforms),
                            h.gpuAcceleratedSort &&
                              (l.precomputedDistances = h.sortWorkerPrecomputedDistances)),
                          (h.sortPromise = new Promise(function (e) {
                            h.sortPromiseResolver = e
                          })),
                          h.preSortMessages.length > 0 &&
                            (h.preSortMessages.forEach(function (e) {
                              h.sortWorker.postMessage(e)
                            }),
                            (h.preSortMessages = [])),
                          h.sortWorker.postMessage({ sort: l }),
                          0 === h.queuedSorts.length &&
                            (h.lastSortViewPos.copy(h.camera.position),
                            h.lastSortViewDir.copy(h.sortViewDir)),
                          !0
                        )
                      }),
                      c
                    )
                  }),
                  M(
                    this,
                    'gatherSceneNodesForSort',
                    (function () {
                      var e = [],
                        t = null,
                        n = new gd(),
                        r = new gd(),
                        i = new gd(),
                        a = new qd(),
                        o = new qd(),
                        s = new qd(),
                        u = new gd(),
                        l = new gd(0, 0, -1),
                        c = new gd(),
                        d = function (e) {
                          return c.copy(e.max).sub(e.min).length()
                        }
                      return function () {
                        var c = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                        this.getRenderDimensions(u)
                        var h = u.y / 2 / Math.tan((this.camera.fov / 2) * Wc.DEG2RAD),
                          f = Math.atan(u.x / 2 / h),
                          p = Math.atan(u.y / 2 / h),
                          v = Math.cos(f),
                          m = Math.cos(p),
                          g = this.splatMesh.getSplatTree()
                        if (g) {
                          ;(o.copy(this.camera.matrixWorld).invert(),
                            this.splatMesh.dynamicMode || o.multiply(this.splatMesh.matrixWorld))
                          for (var y = 0, x = 0, _ = 0; _ < g.subTrees.length; _++) {
                            var b = g.subTrees[_]
                            ;(a.copy(o),
                              this.splatMesh.dynamicMode &&
                                (this.splatMesh.getSceneTransform(_, s), a.multiply(s)))
                            for (var S = b.nodesWithIndexes.length, w = 0; w < S; w++) {
                              var A = b.nodesWithIndexes[w]
                              if (A.data && A.data.indexes && 0 !== A.data.indexes.length) {
                                i.copy(A.center).applyMatrix4(a)
                                var T = i.length()
                                ;(i.normalize(),
                                  n.copy(i).setX(0).normalize(),
                                  r.copy(i).setY(0).normalize())
                                var M = l.dot(r),
                                  E = l.dot(n),
                                  C = d(A)
                                ;(!c && (M < v - 0.6 || E < m - 0.6) && T > C) ||
                                  ((x += A.data.indexes.length),
                                  (e[y] = A),
                                  (A.data.distanceToNode = T),
                                  y++)
                              }
                            }
                          }
                          ;((e.length = y),
                            e.sort(function (e, t) {
                              return e.data.distanceToNode < t.data.distanceToNode ? -1 : 1
                            }))
                          for (var k = x * Wy.BytesPerInt, R = 0; R < y; R++) {
                            var I = e[R],
                              N = I.data.indexes.length,
                              P = N * Wy.BytesPerInt
                            ;(new Uint32Array(this.sortWorkerIndexesToSort.buffer, k - P, N).set(
                              I.data.indexes
                            ),
                              (k -= P))
                          }
                          return { splatRenderCount: x, shouldSortAll: !1 }
                        }
                        var L = this.splatMesh.getSplatCount()
                        if (!t || t.length !== L) {
                          t = new Uint32Array(L)
                          for (var D = 0; D < L; D++) t[D] = D
                        }
                        return (
                          this.sortWorkerIndexesToSort.set(t),
                          { splatRenderCount: L, shouldSortAll: !0 }
                        )
                      }
                    })()
                  ),
                  f.cameraUp || (f.cameraUp = [0, 1, 0]),
                  (this.cameraUp = new gd().fromArray(f.cameraUp)),
                  f.initialCameraPosition || (f.initialCameraPosition = [0, 10, 15]),
                  (this.initialCameraPosition = new gd().fromArray(f.initialCameraPosition)),
                  f.initialCameraRotation || (f.initialCameraRotation = [0, 0, 0]),
                  (this.initialCameraRotation = new gd().fromArray(f.initialCameraRotation)),
                  (this.backgroundColor = f.backgroundColor),
                  f.initialCameraLookAt || (f.initialCameraLookAt = [0, 0, 0]),
                  (this.initialCameraLookAt = new gd().fromArray(f.initialCameraLookAt)),
                  (this.dropInMode = f.dropInMode || !1),
                  (void 0 !== f.selfDrivenMode && null !== f.selfDrivenMode) ||
                    (f.selfDrivenMode = !0),
                  (this.selfDrivenMode = f.selfDrivenMode && !this.dropInMode),
                  (this.selfDrivenUpdateFunc = this.selfDrivenUpdate.bind(this)),
                  void 0 === f.useBuiltInControls && (f.useBuiltInControls = !0),
                  (this.useBuiltInControls = f.useBuiltInControls),
                  (this.rootElement = f.rootElement),
                  (this.canvas = f.threejsCanvas),
                  (this.ignoreDevicePixelRatio = f.ignoreDevicePixelRatio || !1),
                  (this.devicePixelRatio = this.ignoreDevicePixelRatio
                    ? 1
                    : window.devicePixelRatio || 1),
                  (this.halfPrecisionCovariancesOnGPU = f.halfPrecisionCovariancesOnGPU || !1),
                  (this.threeScene = f.threeScene),
                  (this.renderer = f.renderer),
                  (this.camera = f.camera),
                  (this.gpuAcceleratedSort = f.gpuAcceleratedSort || !1),
                  (void 0 !== f.integerBasedSort && null !== f.integerBasedSort) ||
                    (f.integerBasedSort = !0),
                  (this.integerBasedSort = f.integerBasedSort),
                  (void 0 !== f.sharedMemoryForWorkers && null !== f.sharedMemoryForWorkers) ||
                    (f.sharedMemoryForWorkers = !0),
                  (this.sharedMemoryForWorkers = !1),
                  (this.dynamicScene = !!f.dynamicScene),
                  (this.antialiased = f.antialiased || !1),
                  (this.kernel2DSize = void 0 === f.kernel2DSize ? 0.3 : f.kernel2DSize),
                  (this.webXRMode = f.webXRMode || Jb),
                  this.webXRMode !== Jb && (this.gpuAcceleratedSort = !1),
                  (this.webXRActive = !1),
                  (this.webXRSessionInit = f.webXRSessionInit || {}),
                  (this.renderMode = f.renderMode || rS),
                  (this.sceneRevealMode = f.sceneRevealMode || Vb),
                  (this.focalAdjustment = f.focalAdjustment || 1),
                  (this.maxScreenSpaceSplatSize = f.maxScreenSpaceSplatSize || 1024),
                  (this.logLevel = f.logLevel || Wb),
                  (this.sphericalHarmonicsDegree = f.sphericalHarmonicsDegree || 0),
                  (this.enableOptionalEffects = f.enableOptionalEffects || !1),
                  (void 0 !== f.enableSIMDInSort && null !== f.enableSIMDInSort) ||
                    (f.enableSIMDInSort = !0),
                  (this.enableSIMDInSort = f.enableSIMDInSort),
                  (void 0 !== f.inMemoryCompressionLevel && null !== f.inMemoryCompressionLevel) ||
                    (f.inMemoryCompressionLevel = 0),
                  (this.inMemoryCompressionLevel = f.inMemoryCompressionLevel),
                  (void 0 !== f.optimizeSplatData && null !== f.optimizeSplatData) ||
                    (f.optimizeSplatData = !0),
                  (this.optimizeSplatData = f.optimizeSplatData),
                  (void 0 !== f.freeIntermediateSplatData &&
                    null !== f.freeIntermediateSplatData) ||
                    (f.freeIntermediateSplatData = !1),
                  (this.freeIntermediateSplatData = f.freeIntermediateSplatData),
                  Wu())
                ) {
                  var p = Gu()
                  ;(p.major < 17 && (this.enableSIMDInSort = !1),
                    p.major < 16 && (this.sharedMemoryForWorkers = !1))
                }
                ;((void 0 !== f.splatRenderMode && null !== f.splatRenderMode) ||
                  (f.splatRenderMode = Eb),
                  (this.splatRenderMode = f.splatRenderMode),
                  (this.sceneFadeInRateMultiplier = f.sceneFadeInRateMultiplier || 1),
                  (this.splatSortDistanceMapPrecision =
                    f.splatSortDistanceMapPrecision || Wy.DefaultSplatSortDistanceMapPrecision))
                var v = this.integerBasedSort ? 20 : 24
                ;((this.splatSortDistanceMapPrecision = Du(
                  this.splatSortDistanceMapPrecision,
                  10,
                  v
                )),
                  (this.onSplatMeshChangedCallback = null),
                  this.createSplatMesh(),
                  (this.controls = null),
                  (this.perspectiveControls = null),
                  (this.orthographicControls = null),
                  (this.orthographicCamera = null),
                  (this.perspectiveCamera = null),
                  (this.showMeshCursor = !1),
                  (this.showControlPlane = !1),
                  (this.showInfo = !1),
                  (this.sceneHelper = null),
                  (this.sortWorker = null),
                  (this.sortRunning = !1),
                  (this.splatRenderCount = 0),
                  (this.splatSortCount = 0),
                  (this.lastSplatSortCount = 0),
                  (this.sortWorkerIndexesToSort = null),
                  (this.sortWorkerSortedIndexes = null),
                  (this.sortWorkerPrecomputedDistances = null),
                  (this.sortWorkerTransforms = null),
                  (this.preSortMessages = []),
                  (this.runAfterNextSort = []),
                  (this.selfDrivenModeRunning = !1),
                  (this.splatRenderReady = !1),
                  (this.raycaster = new kb()),
                  (this.infoPanel = null),
                  (this.startInOrthographicMode = !1),
                  (this.currentFPS = 0),
                  (this.lastSortTime = 0),
                  (this.consecutiveRenderFrames = 0),
                  (this.previousCameraTarget = new gd()),
                  (this.nextCameraTarget = new gd()),
                  (this.mousePosition = new Gc()),
                  (this.mouseDownPosition = new Gc()),
                  (this.mouseDownTime = null),
                  (this.resizeObserver = null),
                  (this.mouseMoveListener = null),
                  (this.mouseDownListener = null),
                  (this.mouseUpListener = null),
                  (this.keyDownListener = null),
                  (this.sortPromise = null),
                  (this.sortPromiseResolver = null),
                  (this.splatSceneDownloadPromises = {}),
                  (this.splatSceneDownloadAndBuildPromise = null),
                  (this.splatSceneRemovalPromise = null),
                  (this.loadingSpinner = new gb(null, this.rootElement || document.body)),
                  this.loadingSpinner.hide(),
                  (this.loadingProgressBar = new yb(this.rootElement || document.body)),
                  this.loadingProgressBar.hide(),
                  (this.usingExternalCamera = !(!this.dropInMode && !this.camera)),
                  (this.usingExternalRenderer = !(!this.dropInMode && !this.renderer)),
                  (this.initialized = !1),
                  (this.disposing = !1),
                  (this.disposed = !1),
                  (this.disposePromise = null),
                  (this.lastTime = 0),
                  (this.gaussianSplatCount = 0),
                  (this.totalFrames = 0),
                  (this.flame_params = null),
                  (this.bone_tree = null),
                  (this.lbs_weight_80k = null),
                  (this.frame = 0),
                  (this.useFlame = !0),
                  (this.bones = null),
                  (this.skeleton = null),
                  (this.avatarMesh = null),
                  (this.skinModel = null),
                  (this.boneRoot = null),
                  (this.baseMesh = null),
                  (this.setSkinAttibutes = !1),
                  this.dropInMode || this.init())
              }
              return T(
                e,
                [
                  {
                    key: 'createSplatMesh',
                    value: function () {
                      ;((this.splatMesh = new Xb(
                        this.splatRenderMode,
                        this.dynamicScene,
                        this.enableOptionalEffects,
                        this.halfPrecisionCovariancesOnGPU,
                        this.devicePixelRatio,
                        this.gpuAcceleratedSort,
                        this.integerBasedSort,
                        this.antialiased,
                        this.maxScreenSpaceSplatSize,
                        this.logLevel,
                        this.sphericalHarmonicsDegree,
                        this.sceneFadeInRateMultiplier,
                        this.kernel2DSize
                      )),
                        (this.splatMesh.frustumCulled = !1),
                        this.onSplatMeshChangedCallback && this.onSplatMeshChangedCallback())
                    },
                  },
                  {
                    key: 'init',
                    value: function () {
                      this.initialized ||
                        (this.rootElement ||
                          (this.usingExternalRenderer
                            ? (this.rootElement = this.renderer.domElement || document.body)
                            : ((this.rootElement = document.createElement('div')),
                              (this.rootElement.style.width = '100%'),
                              (this.rootElement.style.height = '100%'),
                              (this.rootElement.style.position = 'absolute'),
                              document.body.appendChild(this.rootElement))),
                        this.setupCamera(),
                        this.setupRenderer(),
                        this.setupWebXR(this.webXRSessionInit),
                        this.setupEventHandlers(),
                        (this.threeScene = this.threeScene || new zf()),
                        (this.sceneHelper = new bb(this.threeScene)),
                        this.sceneHelper.setupMeshCursor(),
                        this.sceneHelper.setupFocusMarker(),
                        this.sceneHelper.setupControlPlane(),
                        this.loadingProgressBar.setContainer(this.rootElement),
                        this.loadingSpinner.setContainer(this.rootElement),
                        (this.initialized = !0))
                    },
                  },
                  {
                    key: 'setupCamera',
                    value: function () {
                      if (!this.usingExternalCamera) {
                        var e = new Gc()
                        ;(this.getRenderDimensions(e),
                          (this.perspectiveCamera = new Nf(50, e.x / e.y, 0.1, 1e3)),
                          (this.orthographicCamera = new Fv(
                            e.x / -2,
                            e.x / 2,
                            e.y / 2,
                            e.y / -2,
                            0.1,
                            1e3
                          )),
                          (this.camera = this.startInOrthographicMode
                            ? this.orthographicCamera
                            : this.perspectiveCamera),
                          this.camera.position.copy(this.initialCameraPosition),
                          this.camera.rotateX(Wc.degToRad(this.initialCameraRotation.x)),
                          this.camera.rotateY(Wc.degToRad(this.initialCameraRotation.y)),
                          this.camera.rotateZ(Wc.degToRad(this.initialCameraRotation.z)))
                      }
                    },
                  },
                  {
                    key: 'setupRenderer',
                    value: function () {
                      var e = this
                      if (!this.usingExternalRenderer) {
                        var t = new Gc()
                        ;(this.getRenderDimensions(t),
                          (this.renderer = new Hy({
                            antialias: !1,
                            precision: 'highp',
                            canvas: this.canvas,
                          })),
                          this.renderer.setPixelRatio(this.devicePixelRatio),
                          (this.renderer.autoClear = !0),
                          this.renderer.setClearColor(this.backgroundColor, 1),
                          this.renderer.setSize(t.x, t.y),
                          (this.resizeObserver = new ResizeObserver(function () {
                            ;(e.getRenderDimensions(t),
                              e.renderer.setSize(t.x, t.y),
                              e.forceRenderNextFrame())
                          })),
                          this.resizeObserver.observe(this.rootElement),
                          this.rootElement.appendChild(this.renderer.domElement))
                      }
                    },
                  },
                  {
                    key: 'setupWebXR',
                    value: function (e) {
                      var t = this
                      this.webXRMode &&
                        (this.webXRMode === $b
                          ? this.rootElement.appendChild(tS.createButton(this.renderer, e))
                          : this.webXRMode === eS &&
                            this.rootElement.appendChild(nS.createButton(this.renderer, e)),
                        this.renderer.xr.addEventListener('sessionstart', function (e) {
                          t.webXRActive = !0
                        }),
                        this.renderer.xr.addEventListener('sessionend', function (e) {
                          t.webXRActive = !1
                        }),
                        (this.renderer.xr.enabled = !0),
                        this.camera.position.copy(this.initialCameraPosition),
                        this.camera.up.copy(this.cameraUp).normalize(),
                        this.camera.lookAt(this.initialCameraLookAt))
                    },
                  },
                  {
                    key: 'setupControls',
                    value: function () {
                      if (this.useBuiltInControls && this.webXRMode === Jb) {
                        this.usingExternalCamera
                          ? this.camera.isOrthographicCamera
                            ? (this.orthographicControls = new mb(
                                this.camera,
                                this.renderer.domElement
                              ))
                            : (this.perspectiveControls = new mb(
                                this.camera,
                                this.renderer.domElement
                              ))
                          : ((this.perspectiveControls = new mb(
                              this.perspectiveCamera,
                              this.renderer.domElement
                            )),
                            (this.orthographicControls = new mb(
                              this.orthographicCamera,
                              this.renderer.domElement
                            )))
                        for (
                          var e = 0, t = [this.orthographicControls, this.perspectiveControls];
                          e < t.length;
                          e++
                        ) {
                          var n = t[e]
                          n &&
                            (n.listenToKeyEvents(window),
                            (n.rotateSpeed = 0.5),
                            (n.maxPolarAngle = 0.5 * Math.PI),
                            (n.minPolarAngle = 0.5 * Math.PI),
                            (n.enableDamping = !0),
                            (n.dampingFactor = 0.05),
                            n.target.copy(this.initialCameraLookAt),
                            n.update())
                        }
                        ;((this.controls = this.camera.isOrthographicCamera
                          ? this.orthographicControls
                          : this.perspectiveControls),
                          this.controls.update())
                      }
                    },
                  },
                  {
                    key: 'setupEventHandlers',
                    value: function () {
                      this.useBuiltInControls &&
                        this.webXRMode === Jb &&
                        ((this.mouseMoveListener = this.onMouseMove.bind(this)),
                        this.renderer.domElement.addEventListener(
                          'pointermove',
                          this.mouseMoveListener,
                          !1
                        ),
                        (this.mouseDownListener = this.onMouseDown.bind(this)),
                        this.renderer.domElement.addEventListener(
                          'pointerdown',
                          this.mouseDownListener,
                          !1
                        ),
                        (this.mouseUpListener = this.onMouseUp.bind(this)),
                        this.renderer.domElement.addEventListener(
                          'pointerup',
                          this.mouseUpListener,
                          !1
                        ),
                        (this.keyDownListener = this.onKeyDown.bind(this)))
                    },
                  },
                  {
                    key: 'removeEventHandlers',
                    value: function () {
                      this.useBuiltInControls &&
                        (this.renderer.domElement.removeEventListener(
                          'pointermove',
                          this.mouseMoveListener
                        ),
                        (this.mouseMoveListener = null),
                        this.renderer.domElement.removeEventListener(
                          'pointerdown',
                          this.mouseDownListener
                        ),
                        (this.mouseDownListener = null),
                        this.renderer.domElement.removeEventListener(
                          'pointerup',
                          this.mouseUpListener
                        ),
                        (this.mouseUpListener = null),
                        window.removeEventListener('keydown', this.keyDownListener),
                        (this.keyDownListener = null))
                    },
                  },
                  {
                    key: 'setRenderMode',
                    value: function (e) {
                      this.renderMode = e
                    },
                  },
                  {
                    key: 'setActiveSphericalHarmonicsDegrees',
                    value: function (e) {
                      ;((this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value = e),
                        (this.splatMesh.material.uniformsNeedUpdate = !0))
                    },
                  },
                  {
                    key: 'onSplatMeshChanged',
                    value: function (e) {
                      this.onSplatMeshChangedCallback = e
                    },
                  },
                  {
                    key: 'onMouseMove',
                    value: function (e) {
                      this.mousePosition.set(e.offsetX, e.offsetY)
                    },
                  },
                  {
                    key: 'onMouseDown',
                    value: function () {
                      ;(this.mouseDownPosition.copy(this.mousePosition),
                        (this.mouseDownTime = Ou()))
                    },
                  },
                  {
                    key: 'onMouseClick',
                    value: function (e) {
                      ;(this.mousePosition.set(e.offsetX, e.offsetY),
                        this.checkForFocalPointChange())
                    },
                  },
                  {
                    key: 'getRenderDimensions',
                    value: function (e) {
                      this.rootElement
                        ? ((e.x = this.rootElement.offsetWidth),
                          (e.y = this.rootElement.offsetHeight))
                        : this.renderer.getSize(e)
                    },
                  },
                  {
                    key: 'setOrthographicMode',
                    value: function (t) {
                      if (t !== this.camera.isOrthographicCamera) {
                        var n = this.camera,
                          r = t ? this.orthographicCamera : this.perspectiveCamera
                        if (
                          (r.position.copy(n.position),
                          r.up.copy(n.up),
                          r.rotation.copy(n.rotation),
                          r.quaternion.copy(n.quaternion),
                          r.matrix.copy(n.matrix),
                          (this.camera = r),
                          this.controls)
                        ) {
                          var i = function (e) {
                              ;(e.saveState(), e.reset())
                            },
                            a = this.controls,
                            o = t ? this.orthographicControls : this.perspectiveControls
                          ;(i(o),
                            i(a),
                            o.target.copy(a.target),
                            t
                              ? e.setCameraZoomFromPosition(r, n, a)
                              : e.setCameraPositionFromZoom(r, n, o),
                            (this.controls = o),
                            this.camera.lookAt(this.controls.target))
                        }
                      }
                    },
                  },
                  {
                    key: 'adjustForWebXRStereo',
                    value: function (e) {
                      if (this.camera && this.webXRActive) {
                        var t = this.renderer.xr.getCamera().projectionMatrix.elements[0],
                          n = this.camera.projectionMatrix.elements[0]
                        e.x *= n / t
                      }
                    },
                  },
                  {
                    key: 'isLoadingOrUnloading',
                    value: function () {
                      return (
                        Object.keys(this.splatSceneDownloadPromises).length > 0 ||
                        null !== this.splatSceneDownloadAndBuildPromise ||
                        null !== this.splatSceneRemovalPromise
                      )
                    },
                  },
                  {
                    key: 'isDisposingOrDisposed',
                    value: function () {
                      return this.disposing || this.disposed
                    },
                  },
                  {
                    key: 'addSplatSceneDownloadPromise',
                    value: function (e) {
                      this.splatSceneDownloadPromises[e.id] = e
                    },
                  },
                  {
                    key: 'removeSplatSceneDownloadPromise',
                    value: function (e) {
                      delete this.splatSceneDownloadPromises[e.id]
                    },
                  },
                  {
                    key: 'setSplatSceneDownloadAndBuildPromise',
                    value: function (e) {
                      this.splatSceneDownloadAndBuildPromise = e
                    },
                  },
                  {
                    key: 'clearSplatSceneDownloadAndBuildPromise',
                    value: function () {
                      this.splatSceneDownloadAndBuildPromise = null
                    },
                  },
                  {
                    key: 'addSplatScene',
                    value: function (t) {
                      var n = this,
                        r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                      if (this.isLoadingOrUnloading())
                        throw new Error(
                          'Cannot add splat scene while another load or unload is already in progress.'
                        )
                      if (this.isDisposingOrDisposed())
                        throw new Error('Cannot add splat scene after dispose() is called.')
                      r.progressiveLoad &&
                        this.splatMesh.scenes &&
                        this.splatMesh.scenes.length > 0 &&
                        (console.log(
                          'addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'
                        ),
                        (r.progressiveLoad = !1))
                      var i = void 0 !== r.format && null !== r.format ? r.format : lb(t),
                        a = e.isProgressivelyLoadable(i) && r.progressiveLoad,
                        o =
                          void 0 === r.showLoadingUI || null === r.showLoadingUI || r.showLoadingUI,
                        s = null
                      o &&
                        (this.loadingSpinner.removeAllTasks(),
                        (s = this.loadingSpinner.addTask('Downloading...')))
                      var u = !1,
                        l = 0
                      return (
                        a
                          ? this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this)
                          : this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this)
                      )(
                        t,
                        i,
                        r.splatAlphaRemovalThreshold,
                        function (e, t, i) {
                          !a && r.onProgress && r.onProgress(0, '0%', Q_)
                          var c = {
                            rotation: r.rotation || r.orientation,
                            position: r.position,
                            scale: r.scale,
                            splatAlphaRemovalThreshold: r.splatAlphaRemovalThreshold,
                          }
                          return n.addSplatBuffers([e], [c], i, t && o, o, a, a).then(function () {
                            ;(!a && r.onProgress && r.onProgress(100, '100%', Q_),
                              (function (e, t) {
                                o &&
                                  (((e && a) || (t && !a)) &&
                                    (n.loadingSpinner.removeTask(s),
                                    t || u || n.loadingProgressBar.show()),
                                  a &&
                                    (t
                                      ? ((u = !0), n.loadingProgressBar.hide())
                                      : n.loadingProgressBar.setProgress(l)))
                              })(t, i))
                          })
                        }.bind(this),
                        function (e, t, i) {
                          ;((l = e),
                            (function (e, t, r) {
                              if (o)
                                if (r === j_)
                                  if (100 == e)
                                    n.loadingSpinner.setMessageForTask(s, 'Download complete!')
                                  else if (a)
                                    n.loadingSpinner.setMessageForTask(s, 'Downloading splats...')
                                  else {
                                    var i = t ? ': '.concat(t) : '...'
                                    n.loadingSpinner.setMessageForTask(s, 'Downloading'.concat(i))
                                  }
                                else
                                  r === Q_ &&
                                    (console.log('loaderStatus === LoaderStatus.Processing'),
                                    n.loadingSpinner.setMessageForTask(s, 'Processing splats...'))
                            })(e, t, i),
                            r.onProgress && r.onProgress(e, t, i))
                        },
                        function () {
                          ;(n.loadingProgressBar.hide(), n.loadingSpinner.removeAllTasks())
                        }.bind(this),
                        r.headers
                      )
                    },
                  },
                  {
                    key: 'downloadAndBuildSingleSplatSceneStandardLoad',
                    value: function (e, t, n, r, i, a, o) {
                      var s = this,
                        u = this.downloadSplatSceneToSplatBuffer(e, n, i, !1, void 0, t, o),
                        l = Vu(u.abortHandler)
                      return (
                        u
                          .then(function (e) {
                            return (
                              s.removeSplatSceneDownloadPromise(u),
                              r(e, !0, !0).then(function () {
                                ;(l.resolve(), s.clearSplatSceneDownloadAndBuildPromise())
                              })
                            )
                          })
                          .catch(function (t) {
                            ;(a && a(),
                              s.clearSplatSceneDownloadAndBuildPromise(),
                              s.removeSplatSceneDownloadPromise(u))
                            var n =
                              t instanceof Iu
                                ? t
                                : new Error(
                                    'Viewer::addSplatScene -> Could not load file '.concat(e)
                                  )
                            l.reject(n)
                          }),
                        this.addSplatSceneDownloadPromise(u),
                        this.setSplatSceneDownloadAndBuildPromise(l.promise),
                        l.promise
                      )
                    },
                  },
                  {
                    key: 'downloadAndBuildSingleSplatSceneProgressiveLoad',
                    value: function (e, t, n, r, i, a, o) {
                      var s = this,
                        u = 0,
                        l = !1,
                        c = [],
                        d = function () {
                          if (c.length > 0 && !l && !s.isDisposingOrDisposed()) {
                            l = !0
                            var e = c.shift()
                            r(e.splatBuffer, e.firstBuild, e.finalBuild).then(function () {
                              ;((l = !1),
                                e.firstBuild
                                  ? f.resolve()
                                  : e.finalBuild &&
                                    (p.resolve(), s.clearSplatSceneDownloadAndBuildPromise()),
                                c.length > 0 &&
                                  Bu(function () {
                                    return d()
                                  }))
                            })
                          }
                        },
                        h = this.downloadSplatSceneToSplatBuffer(
                          e,
                          n,
                          i,
                          !0,
                          function (e, t) {
                            s.isDisposingOrDisposed() ||
                              ((t ||
                                0 === c.length ||
                                e.getSplatCount() > c[0].splatBuffer.getSplatCount()) &&
                                (c.push({ splatBuffer: e, firstBuild: 0 === u, finalBuild: t }),
                                u++,
                                d()))
                          },
                          t,
                          o
                        ),
                        f = Vu(h.abortHandler),
                        p = Vu()
                      return (
                        this.addSplatSceneDownloadPromise(h),
                        this.setSplatSceneDownloadAndBuildPromise(p.promise),
                        h
                          .then(function () {
                            s.removeSplatSceneDownloadPromise(h)
                          })
                          .catch(function (e) {
                            ;(s.clearSplatSceneDownloadAndBuildPromise(),
                              s.removeSplatSceneDownloadPromise(h))
                            var t =
                              e instanceof Iu
                                ? e
                                : new Error(
                                    'Viewer::addSplatScene -> Could not load one or more scenes'
                                  )
                            ;(f.reject(t), a && a(t))
                          }),
                        f.promise
                      )
                    },
                  },
                  {
                    key: 'addSplatScenes',
                    value: function (e) {
                      var t = this,
                        n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0
                      if (this.isLoadingOrUnloading())
                        throw new Error(
                          'Cannot add splat scene while another load or unload is already in progress.'
                        )
                      if (this.isDisposingOrDisposed())
                        throw new Error('Cannot add splat scene after dispose() is called.')
                      var i,
                        a = e.length,
                        o = []
                      n &&
                        (this.loadingSpinner.removeAllTasks(),
                        (i = this.loadingSpinner.addTask('Downloading...')))
                      for (
                        var s = function (e, s, u, l) {
                            o[e] = s
                            for (var c = 0, d = 0; d < a; d++) c += o[d] || 0
                            ;((u = ''.concat((c /= a).toFixed(2), '%')),
                              n &&
                                l === j_ &&
                                t.loadingSpinner.setMessageForTask(
                                  i,
                                  100 == c ? 'Download complete!' : 'Downloading: '.concat(u)
                                ),
                              r && r(c, u, l))
                          },
                          u = [],
                          l = [],
                          c = 0;
                        c < e.length;
                        c++
                      ) {
                        var d = e[c],
                          h = void 0 !== d.format && null !== d.format ? d.format : lb(d.path),
                          f = this.downloadSplatSceneToSplatBuffer(
                            d.path,
                            d.splatAlphaRemovalThreshold,
                            s.bind(this, c),
                            !1,
                            void 0,
                            h,
                            d.headers
                          )
                        ;(u.push(f), l.push(f.promise))
                      }
                      var p = new ku(
                        function (a, o) {
                          Promise.all(l)
                            .then(function (o) {
                              ;(n && t.loadingSpinner.removeTask(i),
                                r && r(0, '0%', Q_),
                                t.addSplatBuffers(o, e, !0, n, n, !1, !1).then(function () {
                                  ;(r && r(100, '100%', Q_),
                                    t.clearSplatSceneDownloadAndBuildPromise(),
                                    a())
                                }))
                            })
                            .catch(function (e) {
                              ;(n && t.loadingSpinner.removeTask(i),
                                t.clearSplatSceneDownloadAndBuildPromise())
                              var r =
                                e instanceof Iu
                                  ? e
                                  : new Error(
                                      'Viewer::addSplatScenes -> Could not load one or more splat scenes.'
                                    )
                              o(r)
                            })
                            .finally(function () {
                              t.removeSplatSceneDownloadPromise(p)
                            })
                        },
                        function (e) {
                          for (var t = 0, n = u; t < n.length; t++) {
                            n[t].abort(e)
                          }
                        }
                      )
                      return (
                        this.addSplatSceneDownloadPromise(p),
                        this.setSplatSceneDownloadAndBuildPromise(p),
                        p
                      )
                    },
                  },
                  {
                    key: 'downloadSplatSceneToSplatBuffer',
                    value: function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0,
                        r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                        i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : void 0,
                        a = arguments.length > 5 ? arguments[5] : void 0,
                        o = arguments.length > 6 ? arguments[6] : void 0,
                        s = !r && this.optimizeSplatData
                      try {
                        if (a === ob)
                          return ib.loadFromURL(e, n, r, i, t, this.inMemoryCompressionLevel, s, o)
                        if (a === sb) return ab.loadFromURL(e, n, r, i, o)
                        if (a === ub)
                          return eb.loadFromURL(
                            e,
                            n,
                            r,
                            i,
                            t,
                            this.inMemoryCompressionLevel,
                            s,
                            this.sphericalHarmonicsDegree,
                            o
                          )
                      } catch (u$) {
                        throw u$ instanceof X_
                          ? new Error('File type or server does not support progressive loading.')
                          : u$
                      }
                      throw new Error(
                        'Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: '.concat(
                          e
                        )
                      )
                    },
                  },
                  {
                    key: 'setupSortWorker',
                    value:
                      ((n = v(
                        h().m(function e(t) {
                          var n = this
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (!this.isDisposingOrDisposed()) {
                                      e.n = 1
                                      break
                                    }
                                    return e.a(2)
                                  case 1:
                                    return e.a(
                                      2,
                                      new Promise(
                                        (function () {
                                          var e = v(
                                            h().m(function e(r) {
                                              var i, a, o
                                              return h().w(function (e) {
                                                for (;;)
                                                  switch (e.n) {
                                                    case 0:
                                                      return (
                                                        (i = n.integerBasedSort
                                                          ? Int32Array
                                                          : Float32Array),
                                                        (a = t.getSplatCount()),
                                                        (o = t.getMaxSplatCount()),
                                                        (e.n = 1),
                                                        Zb(
                                                          o,
                                                          n.sharedMemoryForWorkers,
                                                          n.enableSIMDInSort,
                                                          n.integerBasedSort,
                                                          n.splatMesh.dynamicMode,
                                                          n.splatSortDistanceMapPrecision
                                                        )
                                                      )
                                                    case 1:
                                                      ;((n.sortWorker = e.v),
                                                        (n.sortWorker.onmessage = function (e) {
                                                          if (e.data.sortDone) {
                                                            if (
                                                              ((n.sortRunning = !1),
                                                              Array.from(
                                                                { length: n.gaussianSplatCount },
                                                                function (e, t) {
                                                                  return t
                                                                }
                                                              ),
                                                              n.sharedMemoryForWorkers)
                                                            )
                                                              n.splatMesh.updateRenderIndexes(
                                                                n.sortWorkerSortedIndexes,
                                                                e.data.splatRenderCount
                                                              )
                                                            else {
                                                              var t = new Uint32Array(
                                                                e.data.sortedIndexes.buffer,
                                                                0,
                                                                e.data.splatRenderCount
                                                              )
                                                              n.splatMesh.updateRenderIndexes(
                                                                t,
                                                                e.data.splatRenderCount
                                                              )
                                                            }
                                                            ;((n.lastSplatSortCount =
                                                              n.splatSortCount),
                                                              (n.lastSortTime = e.data.sortTime),
                                                              n.sortPromiseResolver(),
                                                              (n.sortPromiseResolver = null),
                                                              n.forceRenderNextFrame(),
                                                              n.runAfterNextSort.length > 0 &&
                                                                (n.runAfterNextSort.forEach(
                                                                  function (e) {
                                                                    e()
                                                                  }
                                                                ),
                                                                (n.runAfterNextSort.length = 0)))
                                                          } else if (e.data.sortCanceled)
                                                            n.sortRunning = !1
                                                          else if (e.data.sortSetupPhase1Complete) {
                                                            ;(n.logLevel >= Gb &&
                                                              console.log(
                                                                'Sorting web worker WASM setup complete.'
                                                              ),
                                                              n.sharedMemoryForWorkers
                                                                ? ((n.sortWorkerSortedIndexes =
                                                                    new Uint32Array(
                                                                      e.data.sortedIndexesBuffer,
                                                                      e.data.sortedIndexesOffset,
                                                                      o
                                                                    )),
                                                                  (n.sortWorkerIndexesToSort =
                                                                    new Uint32Array(
                                                                      e.data.indexesToSortBuffer,
                                                                      e.data.indexesToSortOffset,
                                                                      o
                                                                    )),
                                                                  (n.sortWorkerPrecomputedDistances =
                                                                    new i(
                                                                      e.data.precomputedDistancesBuffer,
                                                                      e.data.precomputedDistancesOffset,
                                                                      o
                                                                    )),
                                                                  (n.sortWorkerTransforms =
                                                                    new Float32Array(
                                                                      e.data.transformsBuffer,
                                                                      e.data.transformsOffset,
                                                                      16 * Wy.MaxScenes
                                                                    )))
                                                                : ((n.sortWorkerIndexesToSort =
                                                                    new Uint32Array(o)),
                                                                  (n.sortWorkerPrecomputedDistances =
                                                                    new i(o)),
                                                                  (n.sortWorkerTransforms =
                                                                    new Float32Array(
                                                                      16 * Wy.MaxScenes
                                                                    ))))
                                                            for (var s = 0; s < a; s++)
                                                              n.sortWorkerIndexesToSort[s] = s
                                                            if (
                                                              ((n.sortWorker.maxSplatCount = o),
                                                              n.logLevel >= Gb)
                                                            ) {
                                                              console.log(
                                                                'Sorting web worker ready.'
                                                              )
                                                              var u =
                                                                  n.splatMesh.getSplatDataTextures(),
                                                                l = u.covariances.size,
                                                                c = u.centerColors.size
                                                              ;(console.log(
                                                                'Covariances texture size: ' +
                                                                  l.x +
                                                                  ' x ' +
                                                                  l.y
                                                              ),
                                                                console.log(
                                                                  'Centers/colors texture size: ' +
                                                                    c.x +
                                                                    ' x ' +
                                                                    c.y
                                                                ))
                                                            }
                                                            r()
                                                          }
                                                        }))
                                                    case 2:
                                                      return e.a(2)
                                                  }
                                              }, e)
                                            })
                                          )
                                          return function (t) {
                                            return e.apply(this, arguments)
                                          }
                                        })()
                                      )
                                    )
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function (e) {
                        return n.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'disposeSortWorker',
                    value: function () {
                      ;(this.sortWorker && this.sortWorker.terminate(),
                        (this.sortWorker = null),
                        (this.sortPromise = null),
                        this.sortPromiseResolver &&
                          (this.sortPromiseResolver(), (this.sortPromiseResolver = null)),
                        (this.preSortMessages = []),
                        (this.sortRunning = !1))
                    },
                  },
                  {
                    key: 'removeSplatScene',
                    value: function (e) {
                      var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      return this.removeSplatScenes([e], t)
                    },
                  },
                  {
                    key: 'removeSplatScenes',
                    value: function (e) {
                      var t = this,
                        n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      if (this.isLoadingOrUnloading())
                        throw new Error(
                          'Cannot remove splat scene while another load or unload is already in progress.'
                        )
                      if (this.isDisposingOrDisposed())
                        throw new Error('Cannot remove splat scene after dispose() is called.')
                      return (
                        (this.splatSceneRemovalPromise = new Promise(function (r, i) {
                          var a
                          n &&
                            (t.loadingSpinner.removeAllTasks(),
                            t.loadingSpinner.show(),
                            (a = t.loadingSpinner.addTask('Removing splat scene...')))
                          var o = function () {
                              n && (t.loadingSpinner.hide(), t.loadingSpinner.removeTask(a))
                            },
                            s = function (e) {
                              ;(o(), (t.splatSceneRemovalPromise = null), e ? i(e) : r())
                            },
                            u = function () {
                              return !!t.isDisposingOrDisposed() && (s(), !0)
                            }
                          ;(t.sortPromise || Promise.resolve()).then(function () {
                            if (!u()) {
                              for (
                                var n = [], r = [], i = [], a = 0;
                                a < t.splatMesh.scenes.length;
                                a++
                              ) {
                                var l,
                                  c = !1,
                                  d = L(e)
                                try {
                                  for (d.s(); !(l = d.n()).done; ) {
                                    if (l.value === a) {
                                      c = !0
                                      break
                                    }
                                  }
                                } catch (f) {
                                  d.e(f)
                                } finally {
                                  d.f()
                                }
                                if (!c) {
                                  var h = t.splatMesh.scenes[a]
                                  ;(n.push(h.splatBuffer),
                                    r.push(t.splatMesh.sceneOptions[a]),
                                    i.push({
                                      position: h.position.clone(),
                                      quaternion: h.quaternion.clone(),
                                      scale: h.scale.clone(),
                                    }))
                                }
                              }
                              ;(t.disposeSortWorker(),
                                t.splatMesh.dispose(),
                                (t.sceneRevealMode = Hb),
                                t.createSplatMesh(),
                                t
                                  .addSplatBuffers(n, r, !0, !1, !0)
                                  .then(function () {
                                    u() ||
                                      (o(),
                                      t.splatMesh.scenes.forEach(function (e, t) {
                                        ;(e.position.copy(i[t].position),
                                          e.quaternion.copy(i[t].quaternion),
                                          e.scale.copy(i[t].scale))
                                      }),
                                      t.splatMesh.updateTransforms(),
                                      (t.splatRenderReady = !1),
                                      t.runSplatSort(!0).then(function () {
                                        u()
                                          ? (t.splatRenderReady = !0)
                                          : (t.sortPromise || Promise.resolve()).then(function () {
                                              ;((t.splatRenderReady = !0), s())
                                            })
                                      }))
                                  })
                                  .catch(function (e) {
                                    s(e)
                                  }))
                            }
                          })
                        })),
                        this.splatSceneRemovalPromise
                      )
                    },
                  },
                  {
                    key: 'start',
                    value: function () {
                      if (!this.selfDrivenMode)
                        throw new Error('Cannot start viewer unless it is in self driven mode.')
                      ;(this.webXRMode
                        ? this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc)
                        : (this.requestFrameId = requestAnimationFrame(this.selfDrivenUpdateFunc)),
                        (this.selfDrivenModeRunning = !0))
                    },
                  },
                  {
                    key: 'stop',
                    value: function () {
                      this.selfDrivenMode &&
                        this.selfDrivenModeRunning &&
                        (this.webXRMode
                          ? this.renderer.setAnimationLoop(null)
                          : cancelAnimationFrame(this.requestFrameId),
                        (this.selfDrivenModeRunning = !1))
                    },
                  },
                  {
                    key: 'dispose',
                    value:
                      ((t = v(
                        h().m(function e() {
                          var t,
                            n,
                            r,
                            i,
                            a = this
                          return h().w(
                            function (e) {
                              for (;;)
                                switch (e.n) {
                                  case 0:
                                    if (!this.isDisposingOrDisposed()) {
                                      e.n = 1
                                      break
                                    }
                                    return e.a(2, this.disposePromise)
                                  case 1:
                                    for (r in ((t = []), (n = []), this.splatSceneDownloadPromises))
                                      this.splatSceneDownloadPromises.hasOwnProperty(r) &&
                                        ((i = this.splatSceneDownloadPromises[r]),
                                        n.push(i),
                                        t.push(i.promise))
                                    return (
                                      this.sortPromise && t.push(this.sortPromise),
                                      (this.disposing = !0),
                                      (this.disposePromise = Promise.all(t).finally(function () {
                                        ;(a.stop(),
                                          a.orthographicControls &&
                                            (a.orthographicControls.dispose(),
                                            (a.orthographicControls = null)),
                                          a.perspectiveControls &&
                                            (a.perspectiveControls.dispose(),
                                            (a.perspectiveControls = null)),
                                          (a.controls = null),
                                          a.splatMesh &&
                                            (a.splatMesh.dispose(), (a.splatMesh = null)),
                                          a.sceneHelper &&
                                            (a.sceneHelper.dispose(), (a.sceneHelper = null)),
                                          a.resizeObserver &&
                                            (a.resizeObserver.unobserve(a.rootElement),
                                            (a.resizeObserver = null)),
                                          a.disposeSortWorker(),
                                          a.removeEventHandlers(),
                                          a.loadingSpinner.removeAllTasks(),
                                          a.loadingSpinner.setContainer(null),
                                          a.loadingProgressBar.hide(),
                                          a.loadingProgressBar.setContainer(null),
                                          (a.camera = null),
                                          (a.threeScene = null),
                                          (a.splatRenderReady = !1),
                                          (a.initialized = !1),
                                          a.renderer &&
                                            (a.usingExternalRenderer ||
                                              (a.rootElement.removeChild(a.renderer.domElement),
                                              a.renderer.dispose()),
                                            (a.renderer = null)),
                                          a.usingExternalRenderer,
                                          (a.sortWorkerSortedIndexes = null),
                                          (a.sortWorkerIndexesToSort = null),
                                          (a.sortWorkerPrecomputedDistances = null),
                                          (a.sortWorkerTransforms = null),
                                          (a.disposed = !0),
                                          (a.disposing = !1),
                                          (a.disposePromise = null))
                                      })),
                                      n.forEach(function (e) {
                                        e.abort('Scene disposed')
                                      }),
                                      e.a(2, this.disposePromise)
                                    )
                                }
                            },
                            e,
                            this
                          )
                        })
                      )),
                      function () {
                        return t.apply(this, arguments)
                      }),
                  },
                  {
                    key: 'selfDrivenUpdate',
                    value: function () {
                      ;(this.selfDrivenMode &&
                        !this.webXRMode &&
                        (this.requestFrameId = requestAnimationFrame(this.selfDrivenUpdateFunc)),
                        this.vsyncCount++,
                        this.vsyncCount < this.vsyncNum ||
                          ((this.vsyncCount = 0),
                          this.update(),
                          this.shouldRender()
                            ? (this.render(), this.consecutiveRenderFrames++)
                            : (this.consecutiveRenderFrames = 0),
                          (this.renderNextFrame = !1)))
                    },
                  },
                  {
                    key: 'forceRenderNextFrame',
                    value: function () {
                      this.renderNextFrame = !0
                    },
                  },
                  {
                    key: 'update',
                    value: function (t, n) {
                      var r = document.getElementById('fps')
                      ;(r && (r.textContent = 'FPS: '.concat(this.currentFPS)),
                        this.frame >= this.totalFrames && (this.frame = 0),
                        this.dropInMode && this.updateForDropInMode(t, n),
                        this.initialized &&
                          this.splatRenderReady &&
                          !this.isDisposingOrDisposed() &&
                          (this.controls &&
                            (this.controls.update(),
                            this.camera.isOrthographicCamera &&
                              !this.usingExternalCamera &&
                              e.setCameraPositionFromZoom(this.camera, this.camera, this.controls)),
                          this.runMorphUpdate(),
                          this.runSplatSort(!0, !0),
                          this.updateForRendererSizeChanges(),
                          this.updateSplatMesh(),
                          this.updateMeshCursor(),
                          this.updateFPS(),
                          this.timingSensitiveUpdates(),
                          this.updateControlPlane()))
                    },
                  },
                  {
                    key: 'updateForDropInMode',
                    value: function (e, t) {
                      ;((this.renderer = e),
                        this.splatMesh && this.splatMesh.setRenderer(this.renderer),
                        (this.camera = t),
                        this.controls && (this.controls.object = t),
                        this.init())
                    },
                  },
                  {
                    key: 'updateControlPlane',
                    value: function () {
                      this.showControlPlane
                        ? (this.sceneHelper.setControlPlaneVisibility(!0),
                          this.sceneHelper.positionAndOrientControlPlane(
                            this.controls.target,
                            this.camera.up
                          ))
                        : this.sceneHelper.setControlPlaneVisibility(!1)
                    },
                  },
                  {
                    key: 'getSplatMesh',
                    value: function () {
                      return this.splatMesh
                    },
                  },
                  {
                    key: 'getSplatScene',
                    value: function (e) {
                      return this.splatMesh.getScene(e)
                    },
                  },
                  {
                    key: 'getSceneCount',
                    value: function () {
                      return this.splatMesh.getSceneCount()
                    },
                  },
                  {
                    key: 'isMobile',
                    value: function () {
                      return navigator.userAgent.includes('Mobi')
                    },
                  },
                  {
                    key: 'createBonesFromJson',
                    value: function (e) {
                      var t = []
                      function n(e) {
                        var r,
                          i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                          a = new ep()
                        return (
                          (a.name = e.name),
                          i && i.add(a),
                          (r = a.position).set.apply(r, I(e.position)),
                          t.push(a),
                          e.children &&
                            e.children.forEach(function (e) {
                              return n(e, a)
                            }),
                          a
                        )
                      }
                      return (
                        e.forEach(function (e) {
                          return n(e)
                        }),
                        t
                      )
                    },
                  },
                  {
                    key: 'updateMorphTarget',
                    value: function (e) {
                      if (
                        ((this.avatarMesh = e),
                        (this.splatMesh.flameModel = e),
                        (this.splatMesh.useFlameModel = this.useFlame),
                        1 == this.useFlame)
                      ) {
                        this.bones = this.createBonesFromJson(this.bone_tree.bones)
                        var t = [
                          new gd(
                            this.bones[0].position.x,
                            this.bones[0].position.y,
                            this.bones[0].position.z
                          ),
                          new gd(
                            this.bones[1].position.x,
                            this.bones[1].position.y,
                            this.bones[1].position.z
                          ),
                          new gd(
                            this.bones[2].position.x,
                            this.bones[2].position.y,
                            this.bones[2].position.z
                          ),
                          new gd(
                            this.bones[3].position.x,
                            this.bones[3].position.y,
                            this.bones[3].position.z
                          ),
                          new gd(
                            this.bones[4].position.x,
                            this.bones[4].position.y,
                            this.bones[4].position.z
                          ),
                        ]
                        ;(this.bones[1].position.copy(
                          new gd(t[1].x - t[0].x, t[1].y - t[0].y, t[1].z - t[0].z)
                        ),
                          this.bones[2].position.copy(
                            new gd(t[2].x - t[1].x, t[2].y - t[1].y, t[2].z - t[1].z)
                          ),
                          this.bones[3].position.copy(
                            new gd(t[3].x - t[1].x, t[3].y - t[1].y, t[3].z - t[1].z)
                          ),
                          this.bones[4].position.copy(
                            new gd(t[4].x - t[1].x, t[4].y - t[1].y, t[4].z - t[1].z)
                          ),
                          this.bones[0].updateMatrixWorld(!0))
                        var n = [
                          this.bones[0].matrixWorld.clone().invert(),
                          this.bones[1].matrixWorld.clone().invert(),
                          this.bones[2].matrixWorld.clone().invert(),
                          this.bones[3].matrixWorld.clone().invert(),
                          this.bones[4].matrixWorld.clone().invert(),
                        ]
                        this.skeleton = new ip(this.bones, n)
                      }
                      ;(this.runMorphUpdate(),
                        (this.splatMesh.gaussianSplatCount = this.gaussianSplatCount))
                    },
                  },
                  {
                    key: 'updatedBoneMatrices',
                    value: function (e) {
                      for (
                        var t = this,
                          n = [],
                          r = function () {
                            !(function (e, t) {
                              for (var n = e.elements, r = 0; r < n.length; r++) t.push(n[r])
                            })(
                              t.skeleton.bones[i].matrixWorld
                                .clone()
                                .multiply(t.skeleton.boneInverses[i].clone()),
                              n
                            )
                          },
                          i = 0;
                        i < e;
                        i++
                      )
                        r()
                      return new Float32Array(n)
                    },
                  },
                  {
                    key: 'runMorphUpdate',
                    value: function () {
                      this.gaussianSplatCount = this.avatarMesh.geometry.attributes.position.count
                      var e = new Float32Array(this.avatarMesh.geometry.attributes.position.array)
                      if (((this.splatMesh.bonesNum = 5), 0 == this.useFlame)) {
                        if (
                          (this.skinModel.skeleton.update(),
                          this.boneRoot.updateMatrixWorld(!0),
                          this.splatMesh.geometry.getAttribute('splatIndex') &&
                            !1 === this.setSkinAttibutes)
                        ) {
                          this.setSkinAttibutes = !0
                          var t = this.splatMesh.geometry,
                            n = this.skinModel.geometry.attributes.skinIndex,
                            r = this.skinModel.geometry.attributes.skinWeight,
                            i = new ap(new n.array.constructor(n.array), 4, n.normalized, 1),
                            a = new ap(new r.array.constructor(r.array), 4, r.normalized, 1)
                          ;(i.setUsage(Cc),
                            a.setUsage(Cc),
                            t.setAttribute('skinIndex', i),
                            t.setAttribute('skinWeight', a))
                        }
                      } else this.updateFlameBones()
                      this.splatMesh.morphedMesh = e
                      var o = this.splatMesh.morphedMesh.length / 3
                      null != this.splatMesh.splatDataTextures.flameModel &&
                        this.splatMesh.updateTetureAfterBSAndSkeleton(0, o - 1, this.useFlame)
                    },
                  },
                  {
                    key: 'updateFlameBones',
                    value: function () {
                      function e(e, t) {
                        var n
                        if (1 == (arguments.length > 2 && void 0 !== arguments[2] && arguments[2]))
                          n = new md(t[0], t[1], t[2], t[3])
                        else {
                          var r = new gd(t[0], t[1], t[2]),
                            i = r.length(),
                            a = r.normalize()
                          n = new md().setFromAxisAngle(a, i)
                        }
                        ;(e.quaternion.copy(n), e.updateMatrixWorld(!0))
                      }
                      this.splatMesh.bsWeight = this.flame_params.expr[this.frame]
                      var t = this.flame_params.rotation[this.frame]
                      ;(e(this.skeleton.bones[0], t),
                        (t = this.flame_params.neck_pose[this.frame]),
                        e(this.skeleton.bones[1], t),
                        (t = this.flame_params.jaw_pose[this.frame]),
                        e(this.skeleton.bones[2], t),
                        (t = this.flame_params.eyes_pose[this.frame]),
                        e(this.skeleton.bones[3], t),
                        e(this.skeleton.bones[4], [t[3], t[4], t[5]]),
                        this.skeleton.update())
                      var n = this.updatedBoneMatrices(5)
                      ;((this.splatMesh.bonesMatrix = n),
                        (this.splatMesh.bonesNum = 5),
                        (this.splatMesh.bonesWeight = this.lbs_weight_80k))
                    },
                  },
                ],
                [
                  {
                    key: 'isProgressivelyLoadable',
                    value: function (e) {
                      return e === ob || e === sb || e === ub
                    },
                  },
                ]
              )
              var t, n
            })()
          function YO(e, t, n, r) {
            return new (n || (n = Promise))(function (i, a) {
              function o(e) {
                try {
                  u(r.next(e))
                } catch (u$) {
                  a(u$)
                }
              }
              function s(e) {
                try {
                  u(r.throw(e))
                } catch (u$) {
                  a(u$)
                }
              }
              function u(e) {
                var t
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof n
                      ? t
                      : new n(function (e) {
                          e(t)
                        })).then(o, s)
              }
              u((r = r.apply(e, t || [])).next())
            })
          }
          function KO(e, t) {
            return function () {
              return e.apply(t, arguments)
            }
          }
          ;(M(
            XO,
            'setCameraPositionFromZoom',
            ((qO = new gd()),
            function (e, t, n) {
              var r = 1 / (0.001 * t.zoom)
              ;(qO.copy(n.target).sub(e.position).normalize().multiplyScalar(r).negate(),
                e.position.copy(n.target).add(qO))
            })
          ),
            M(
              XO,
              'setCameraZoomFromPosition',
              (function () {
                var e = new gd()
                return function (t, n, r) {
                  var i = e.copy(r.target).sub(n.position).length()
                  t.zoom = 1 / (0.001 * i)
                }
              })()
            ),
            'function' == typeof SuppressedError && SuppressedError)
          var ZO = Object.prototype.toString,
            JO = Object.getPrototypeOf,
            $O = (function (e) {
              return function (t) {
                var n = ZO.call(t)
                return e[n] || (e[n] = n.slice(8, -1).toLowerCase())
              }
            })(Object.create(null)),
            eF = function (e) {
              return (
                (e = e.toLowerCase()),
                function (t) {
                  return $O(t) === e
                }
              )
            },
            tF = function (e) {
              return function (t) {
                return P(t) === e
              }
            },
            nF = Array.isArray,
            rF = tF('undefined')
          var iF = eF('ArrayBuffer')
          var aF = tF('string'),
            oF = tF('function'),
            sF = tF('number'),
            uF = function (e) {
              return null !== e && 'object' === P(e)
            },
            lF = function (e) {
              if ('object' !== $O(e)) return !1
              var t = JO(e)
              return !(
                (null !== t && t !== Object.prototype && null !== Object.getPrototypeOf(t)) ||
                Symbol.toStringTag in e ||
                Symbol.iterator in e
              )
            },
            cF = eF('Date'),
            dF = eF('File'),
            hF = eF('Blob'),
            fF = eF('FileList'),
            pF = eF('URLSearchParams'),
            vF = C(['ReadableStream', 'Request', 'Response', 'Headers'].map(eF), 4),
            mF = vF[0],
            gF = vF[1],
            yF = vF[2],
            xF = vF[3]
          function _F(e, t) {
            var n,
              r,
              i = (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}).allOwnKeys,
              a = void 0 !== i && i
            if (null != e)
              if (('object' !== P(e) && (e = [e]), nF(e)))
                for (n = 0, r = e.length; n < r; n++) t.call(null, e[n], n, e)
              else {
                var o,
                  s = a ? Object.getOwnPropertyNames(e) : Object.keys(e),
                  u = s.length
                for (n = 0; n < u; n++) ((o = s[n]), t.call(null, e[o], o, e))
              }
          }
          function bF(e, t) {
            t = t.toLowerCase()
            for (var n, r = Object.keys(e), i = r.length; i-- > 0; )
              if (t === (n = r[i]).toLowerCase()) return n
            return null
          }
          var SF =
              'undefined' != typeof globalThis
                ? globalThis
                : 'undefined' != typeof self
                  ? self
                  : 'undefined' != typeof window
                    ? window
                    : global,
            wF = function (e) {
              return !rF(e) && e !== SF
            }
          var AF,
            TF =
              ((AF = 'undefined' != typeof Uint8Array && JO(Uint8Array)),
              function (e) {
                return AF && e instanceof AF
              }),
            MF = eF('HTMLFormElement'),
            EF = (function () {
              var e = Object.prototype.hasOwnProperty
              return function (t, n) {
                return e.call(t, n)
              }
            })(),
            CF = eF('RegExp'),
            kF = function (e, t) {
              var n = Object.getOwnPropertyDescriptors(e),
                r = {}
              ;(_F(n, function (n, i) {
                var a
                !1 !== (a = t(n, i, e)) && (r[i] = a || n)
              }),
                Object.defineProperties(e, r))
            }
          var RF,
            IF,
            NF = eF('AsyncFunction'),
            PF =
              ((RF = 'function' == typeof setImmediate),
              (IF = oF(SF.postMessage)),
              RF
                ? setImmediate
                : IF
                  ? (function (e, t) {
                      return (
                        SF.addEventListener(
                          'message',
                          function (n) {
                            var r = n.source,
                              i = n.data
                            r === SF && i === e && t.length && t.shift()()
                          },
                          !1
                        ),
                        function (n) {
                          ;(t.push(n), SF.postMessage(e, '*'))
                        }
                      )
                    })('axios@'.concat(Math.random()), [])
                  : function (e) {
                      return setTimeout(e)
                    }),
            LF =
              'undefined' != typeof queueMicrotask
                ? queueMicrotask.bind(SF)
                : ('undefined' != typeof process && process.nextTick) || PF,
            DF = {
              isArray: nF,
              isArrayBuffer: iF,
              isBuffer: function (e) {
                return (
                  null !== e &&
                  !rF(e) &&
                  null !== e.constructor &&
                  !rF(e.constructor) &&
                  oF(e.constructor.isBuffer) &&
                  e.constructor.isBuffer(e)
                )
              },
              isFormData: function (e) {
                var t
                return (
                  e &&
                  (('function' == typeof FormData && e instanceof FormData) ||
                    (oF(e.append) &&
                      ('formdata' === (t = $O(e)) ||
                        ('object' === t &&
                          oF(e.toString) &&
                          '[object FormData]' === e.toString()))))
                )
              },
              isArrayBufferView: function (e) {
                return 'undefined' != typeof ArrayBuffer && ArrayBuffer.isView
                  ? ArrayBuffer.isView(e)
                  : e && e.buffer && iF(e.buffer)
              },
              isString: aF,
              isNumber: sF,
              isBoolean: function (e) {
                return !0 === e || !1 === e
              },
              isObject: uF,
              isPlainObject: lF,
              isReadableStream: mF,
              isRequest: gF,
              isResponse: yF,
              isHeaders: xF,
              isUndefined: rF,
              isDate: cF,
              isFile: dF,
              isBlob: hF,
              isRegExp: CF,
              isFunction: oF,
              isStream: function (e) {
                return uF(e) && oF(e.pipe)
              },
              isURLSearchParams: pF,
              isTypedArray: TF,
              isFileList: fF,
              forEach: _F,
              merge: function e() {
                for (
                  var t = ((wF(this) && this) || {}).caseless,
                    n = {},
                    r = function (r, i) {
                      var a = (t && bF(n, i)) || i
                      lF(n[a]) && lF(r)
                        ? (n[a] = e(n[a], r))
                        : lF(r)
                          ? (n[a] = e({}, r))
                          : nF(r)
                            ? (n[a] = r.slice())
                            : (n[a] = r)
                    },
                    i = 0,
                    a = arguments.length;
                  i < a;
                  i++
                )
                  arguments[i] && _F(arguments[i], r)
                return n
              },
              extend: function (e, t, n) {
                return (
                  _F(
                    t,
                    function (t, r) {
                      n && oF(t) ? (e[r] = KO(t, n)) : (e[r] = t)
                    },
                    {
                      allOwnKeys: (arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : {}
                      ).allOwnKeys,
                    }
                  ),
                  e
                )
              },
              trim: function (e) {
                return e.trim ? e.trim() : e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')
              },
              stripBOM: function (e) {
                return (65279 === e.charCodeAt(0) && (e = e.slice(1)), e)
              },
              inherits: function (e, t, n, r) {
                ;((e.prototype = Object.create(t.prototype, r)),
                  (e.prototype.constructor = e),
                  Object.defineProperty(e, 'super', { value: t.prototype }),
                  n && Object.assign(e.prototype, n))
              },
              toFlatObject: function (e, t, n, r) {
                var i,
                  a,
                  o,
                  s = {}
                if (((t = t || {}), null == e)) return t
                do {
                  for (a = (i = Object.getOwnPropertyNames(e)).length; a-- > 0; )
                    ((o = i[a]), (r && !r(o, e, t)) || s[o] || ((t[o] = e[o]), (s[o] = !0)))
                  e = !1 !== n && JO(e)
                } while (e && (!n || n(e, t)) && e !== Object.prototype)
                return t
              },
              kindOf: $O,
              kindOfTest: eF,
              endsWith: function (e, t, n) {
                ;((e = String(e)),
                  (void 0 === n || n > e.length) && (n = e.length),
                  (n -= t.length))
                var r = e.indexOf(t, n)
                return -1 !== r && r === n
              },
              toArray: function (e) {
                if (!e) return null
                if (nF(e)) return e
                var t = e.length
                if (!sF(t)) return null
                for (var n = new Array(t); t-- > 0; ) n[t] = e[t]
                return n
              },
              forEachEntry: function (e, t) {
                for (var n, r = (e && e[Symbol.iterator]).call(e); (n = r.next()) && !n.done; ) {
                  var i = n.value
                  t.call(e, i[0], i[1])
                }
              },
              matchAll: function (e, t) {
                for (var n, r = []; null !== (n = e.exec(t)); ) r.push(n)
                return r
              },
              isHTMLForm: MF,
              hasOwnProperty: EF,
              hasOwnProp: EF,
              reduceDescriptors: kF,
              freezeMethods: function (e) {
                kF(e, function (t, n) {
                  if (oF(e) && -1 !== ['arguments', 'caller', 'callee'].indexOf(n)) return !1
                  var r = e[n]
                  oF(r) &&
                    ((t.enumerable = !1),
                    'writable' in t
                      ? (t.writable = !1)
                      : t.set ||
                        (t.set = function () {
                          throw Error("Can not rewrite read-only method '" + n + "'")
                        }))
                })
              },
              toObjectSet: function (e, t) {
                var n = {},
                  r = function (e) {
                    e.forEach(function (e) {
                      n[e] = !0
                    })
                  }
                return (nF(e) ? r(e) : r(String(e).split(t)), n)
              },
              toCamelCase: function (e) {
                return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (e, t, n) {
                  return t.toUpperCase() + n
                })
              },
              noop: function () {},
              toFiniteNumber: function (e, t) {
                return null != e && Number.isFinite((e = +e)) ? e : t
              },
              findKey: bF,
              global: SF,
              isContextDefined: wF,
              isSpecCompliantForm: function (e) {
                return !!(
                  e &&
                  oF(e.append) &&
                  'FormData' === e[Symbol.toStringTag] &&
                  e[Symbol.iterator]
                )
              },
              toJSONObject: function (e) {
                var t = new Array(10),
                  n = function (e, r) {
                    if (uF(e)) {
                      if (t.indexOf(e) >= 0) return
                      if (!('toJSON' in e)) {
                        t[r] = e
                        var i = nF(e) ? [] : {}
                        return (
                          _F(e, function (e, t) {
                            var a = n(e, r + 1)
                            !rF(a) && (i[t] = a)
                          }),
                          (t[r] = void 0),
                          i
                        )
                      }
                    }
                    return e
                  }
                return n(e, 0)
              },
              isAsyncFn: NF,
              isThenable: function (e) {
                return e && (uF(e) || oF(e)) && oF(e.then) && oF(e.catch)
              },
              setImmediate: PF,
              asap: LF,
            }
          function OF(e, t, n, r, i) {
            ;(Error.call(this),
              Error.captureStackTrace
                ? Error.captureStackTrace(this, this.constructor)
                : (this.stack = new Error().stack),
              (this.message = e),
              (this.name = 'AxiosError'),
              t && (this.code = t),
              n && (this.config = n),
              r && (this.request = r),
              i && ((this.response = i), (this.status = i.status ? i.status : null)))
          }
          DF.inherits(OF, Error, {
            toJSON: function () {
              return {
                message: this.message,
                name: this.name,
                description: this.description,
                number: this.number,
                fileName: this.fileName,
                lineNumber: this.lineNumber,
                columnNumber: this.columnNumber,
                stack: this.stack,
                config: DF.toJSONObject(this.config),
                code: this.code,
                status: this.status,
              }
            },
          })
          var FF = OF.prototype,
            BF = {}
          ;([
            'ERR_BAD_OPTION_VALUE',
            'ERR_BAD_OPTION',
            'ECONNABORTED',
            'ETIMEDOUT',
            'ERR_NETWORK',
            'ERR_FR_TOO_MANY_REDIRECTS',
            'ERR_DEPRECATED',
            'ERR_BAD_RESPONSE',
            'ERR_BAD_REQUEST',
            'ERR_CANCELED',
            'ERR_NOT_SUPPORT',
            'ERR_INVALID_URL',
          ].forEach(function (e) {
            BF[e] = { value: e }
          }),
            Object.defineProperties(OF, BF),
            Object.defineProperty(FF, 'isAxiosError', { value: !0 }),
            (OF.from = function (e, t, n, r, i, a) {
              var o = Object.create(FF)
              return (
                DF.toFlatObject(
                  e,
                  o,
                  function (e) {
                    return e !== Error.prototype
                  },
                  function (e) {
                    return 'isAxiosError' !== e
                  }
                ),
                OF.call(o, e.message, t, n, r, i),
                (o.cause = e),
                (o.name = e.name),
                a && Object.assign(o, a),
                o
              )
            }))
          function UF(e) {
            return DF.isPlainObject(e) || DF.isArray(e)
          }
          function zF(e) {
            return DF.endsWith(e, '[]') ? e.slice(0, -2) : e
          }
          function VF(e, t, n) {
            return e
              ? e
                  .concat(t)
                  .map(function (e, t) {
                    return ((e = zF(e)), !n && t ? '[' + e + ']' : e)
                  })
                  .join(n ? '.' : '')
              : t
          }
          var HF = DF.toFlatObject(DF, {}, null, function (e) {
            return /^is[A-Z]/.test(e)
          })
          function WF(e, t, n) {
            if (!DF.isObject(e)) throw new TypeError('target must be an object')
            t = t || new FormData()
            var r = (n = DF.toFlatObject(
                n,
                { metaTokens: !0, dots: !1, indexes: !1 },
                !1,
                function (e, t) {
                  return !DF.isUndefined(t[e])
                }
              )).metaTokens,
              i = n.visitor || l,
              a = n.dots,
              o = n.indexes,
              s = (n.Blob || ('undefined' != typeof Blob && Blob)) && DF.isSpecCompliantForm(t)
            if (!DF.isFunction(i)) throw new TypeError('visitor must be a function')
            function u(e) {
              if (null === e) return ''
              if (DF.isDate(e)) return e.toISOString()
              if (!s && DF.isBlob(e)) throw new OF('Blob is not supported. Use a Buffer instead.')
              return DF.isArrayBuffer(e) || DF.isTypedArray(e)
                ? s && 'function' == typeof Blob
                  ? new Blob([e])
                  : Buffer.from(e)
                : e
            }
            function l(e, n, i) {
              var s = e
              if (e && !i && 'object' === P(e))
                if (DF.endsWith(n, '{}')) ((n = r ? n : n.slice(0, -2)), (e = JSON.stringify(e)))
                else if (
                  (DF.isArray(e) &&
                    (function (e) {
                      return DF.isArray(e) && !e.some(UF)
                    })(e)) ||
                  ((DF.isFileList(e) || DF.endsWith(n, '[]')) && (s = DF.toArray(e)))
                )
                  return (
                    (n = zF(n)),
                    s.forEach(function (e, r) {
                      !DF.isUndefined(e) &&
                        null !== e &&
                        t.append(!0 === o ? VF([n], r, a) : null === o ? n : n + '[]', u(e))
                    }),
                    !1
                  )
              return !!UF(e) || (t.append(VF(i, n, a), u(e)), !1)
            }
            var c = [],
              d = Object.assign(HF, { defaultVisitor: l, convertValue: u, isVisitable: UF })
            if (!DF.isObject(e)) throw new TypeError('data must be an object')
            return (
              (function e(n, r) {
                if (!DF.isUndefined(n)) {
                  if (-1 !== c.indexOf(n))
                    throw Error('Circular reference detected in ' + r.join('.'))
                  ;(c.push(n),
                    DF.forEach(n, function (n, a) {
                      !0 ===
                        (!(DF.isUndefined(n) || null === n) &&
                          i.call(t, n, DF.isString(a) ? a.trim() : a, r, d)) &&
                        e(n, r ? r.concat(a) : [a])
                    }),
                    c.pop())
                }
              })(e),
              t
            )
          }
          function GF(e) {
            var t = {
              '!': '%21',
              "'": '%27',
              '(': '%28',
              ')': '%29',
              '~': '%7E',
              '%20': '+',
              '%00': '\0',
            }
            return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g, function (e) {
              return t[e]
            })
          }
          function jF(e, t) {
            ;((this._pairs = []), e && WF(e, this, t))
          }
          var QF = jF.prototype
          function qF(e) {
            return encodeURIComponent(e)
              .replace(/%3A/gi, ':')
              .replace(/%24/g, '$')
              .replace(/%2C/gi, ',')
              .replace(/%20/g, '+')
              .replace(/%5B/gi, '[')
              .replace(/%5D/gi, ']')
          }
          function XF(e, t, n) {
            if (!t) return e
            var r = (n && n.encode) || qF
            DF.isFunction(n) && (n = { serialize: n })
            var i,
              a = n && n.serialize
            if (
              (i = a ? a(t, n) : DF.isURLSearchParams(t) ? t.toString() : new jF(t, n).toString(r))
            ) {
              var o = e.indexOf('#')
              ;(-1 !== o && (e = e.slice(0, o)), (e += (-1 === e.indexOf('?') ? '?' : '&') + i))
            }
            return e
          }
          ;((QF.append = function (e, t) {
            this._pairs.push([e, t])
          }),
            (QF.toString = function (e) {
              var t = e
                ? function (t) {
                    return e.call(this, t, GF)
                  }
                : GF
              return this._pairs
                .map(function (e) {
                  return t(e[0]) + '=' + t(e[1])
                }, '')
                .join('&')
            }))
          var YF = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this.handlers = []))
                },
                [
                  {
                    key: 'use',
                    value: function (e, t, n) {
                      return (
                        this.handlers.push({
                          fulfilled: e,
                          rejected: t,
                          synchronous: !!n && n.synchronous,
                          runWhen: n ? n.runWhen : null,
                        }),
                        this.handlers.length - 1
                      )
                    },
                  },
                  {
                    key: 'eject',
                    value: function (e) {
                      this.handlers[e] && (this.handlers[e] = null)
                    },
                  },
                  {
                    key: 'clear',
                    value: function () {
                      this.handlers && (this.handlers = [])
                    },
                  },
                  {
                    key: 'forEach',
                    value: function (e) {
                      DF.forEach(this.handlers, function (t) {
                        null !== t && e(t)
                      })
                    },
                  },
                ]
              )
            })(),
            KF = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 },
            ZF = {
              isBrowser: !0,
              classes: {
                URLSearchParams: 'undefined' != typeof URLSearchParams ? URLSearchParams : jF,
                FormData: 'undefined' != typeof FormData ? FormData : null,
                Blob: 'undefined' != typeof Blob ? Blob : null,
              },
              protocols: ['http', 'https', 'file', 'blob', 'url', 'data'],
            },
            JF = 'undefined' != typeof window && 'undefined' != typeof document,
            $F =
              ('object' === ('undefined' == typeof navigator ? 'undefined' : P(navigator)) &&
                navigator) ||
              void 0,
            eB = JF && (!$F || ['ReactNative', 'NativeScript', 'NS'].indexOf($F.product) < 0),
            tB =
              'undefined' != typeof WorkerGlobalScope &&
              self instanceof WorkerGlobalScope &&
              'function' == typeof self.importScripts,
            nB = (JF && window.location.href) || 'http://localhost',
            rB = s(
              s(
                {},
                Object.freeze({
                  __proto__: null,
                  hasBrowserEnv: JF,
                  hasStandardBrowserEnv: eB,
                  hasStandardBrowserWebWorkerEnv: tB,
                  navigator: $F,
                  origin: nB,
                })
              ),
              ZF
            )
          function iB(e) {
            function t(e, n, r, i) {
              var a = e[i++]
              if ('__proto__' === a) return !0
              var o = Number.isFinite(+a),
                s = i >= e.length
              return (
                (a = !a && DF.isArray(r) ? r.length : a),
                s
                  ? (DF.hasOwnProp(r, a) ? (r[a] = [r[a], n]) : (r[a] = n), !o)
                  : ((r[a] && DF.isObject(r[a])) || (r[a] = []),
                    t(e, n, r[a], i) &&
                      DF.isArray(r[a]) &&
                      (r[a] = (function (e) {
                        var t,
                          n,
                          r = {},
                          i = Object.keys(e),
                          a = i.length
                        for (t = 0; t < a; t++) r[(n = i[t])] = e[n]
                        return r
                      })(r[a])),
                    !o)
              )
            }
            if (DF.isFormData(e) && DF.isFunction(e.entries)) {
              var n = {}
              return (
                DF.forEachEntry(e, function (e, r) {
                  t(
                    (function (e) {
                      return DF.matchAll(/\w+|\[(\w*)]/g, e).map(function (e) {
                        return '[]' === e[0] ? '' : e[1] || e[0]
                      })
                    })(e),
                    r,
                    n,
                    0
                  )
                }),
                n
              )
            }
            return null
          }
          var aB = {
            transitional: KF,
            adapter: ['xhr', 'http', 'fetch'],
            transformRequest: [
              function (e, t) {
                var n,
                  r = t.getContentType() || '',
                  i = r.indexOf('application/json') > -1,
                  a = DF.isObject(e)
                if ((a && DF.isHTMLForm(e) && (e = new FormData(e)), DF.isFormData(e)))
                  return i ? JSON.stringify(iB(e)) : e
                if (
                  DF.isArrayBuffer(e) ||
                  DF.isBuffer(e) ||
                  DF.isStream(e) ||
                  DF.isFile(e) ||
                  DF.isBlob(e) ||
                  DF.isReadableStream(e)
                )
                  return e
                if (DF.isArrayBufferView(e)) return e.buffer
                if (DF.isURLSearchParams(e))
                  return (
                    t.setContentType('application/x-www-form-urlencoded;charset=utf-8', !1),
                    e.toString()
                  )
                if (a) {
                  if (r.indexOf('application/x-www-form-urlencoded') > -1)
                    return (function (e, t) {
                      return WF(
                        e,
                        new rB.classes.URLSearchParams(),
                        Object.assign(
                          {
                            visitor: function (e, t, n, r) {
                              return rB.isNode && DF.isBuffer(e)
                                ? (this.append(t, e.toString('base64')), !1)
                                : r.defaultVisitor.apply(this, arguments)
                            },
                          },
                          t
                        )
                      )
                    })(e, this.formSerializer).toString()
                  if ((n = DF.isFileList(e)) || r.indexOf('multipart/form-data') > -1) {
                    var o = this.env && this.env.FormData
                    return WF(n ? { 'files[]': e } : e, o && new o(), this.formSerializer)
                  }
                }
                return a || i
                  ? (t.setContentType('application/json', !1),
                    (function (e, t, n) {
                      if (DF.isString(e))
                        try {
                          return ((t || JSON.parse)(e), DF.trim(e))
                        } catch (u$) {
                          if ('SyntaxError' !== u$.name) throw u$
                        }
                      return (n || JSON.stringify)(e)
                    })(e))
                  : e
              },
            ],
            transformResponse: [
              function (e) {
                var t = this.transitional || aB.transitional,
                  n = t && t.forcedJSONParsing,
                  r = 'json' === this.responseType
                if (DF.isResponse(e) || DF.isReadableStream(e)) return e
                if (e && DF.isString(e) && ((n && !this.responseType) || r)) {
                  var i = !(t && t.silentJSONParsing) && r
                  try {
                    return JSON.parse(e)
                  } catch (u$) {
                    if (i) {
                      if ('SyntaxError' === u$.name)
                        throw OF.from(u$, OF.ERR_BAD_RESPONSE, this, null, this.response)
                      throw u$
                    }
                  }
                }
                return e
              },
            ],
            timeout: 0,
            xsrfCookieName: 'XSRF-TOKEN',
            xsrfHeaderName: 'X-XSRF-TOKEN',
            maxContentLength: -1,
            maxBodyLength: -1,
            env: { FormData: rB.classes.FormData, Blob: rB.classes.Blob },
            validateStatus: function (e) {
              return e >= 200 && e < 300
            },
            headers: {
              common: { Accept: 'application/json, text/plain, */*', 'Content-Type': void 0 },
            },
          }
          DF.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], function (e) {
            aB.headers[e] = {}
          })
          var oB = DF.toObjectSet([
              'age',
              'authorization',
              'content-length',
              'content-type',
              'etag',
              'expires',
              'from',
              'host',
              'if-modified-since',
              'if-unmodified-since',
              'last-modified',
              'location',
              'max-forwards',
              'proxy-authorization',
              'referer',
              'retry-after',
              'user-agent',
            ]),
            sB = Symbol('internals')
          function uB(e) {
            return e && String(e).trim().toLowerCase()
          }
          function lB(e) {
            return !1 === e || null == e ? e : DF.isArray(e) ? e.map(lB) : String(e)
          }
          function cB(e, t, n, r, i) {
            return DF.isFunction(r)
              ? r.call(this, t, n)
              : (i && (t = n),
                DF.isString(t)
                  ? DF.isString(r)
                    ? -1 !== t.indexOf(r)
                    : DF.isRegExp(r)
                      ? r.test(t)
                      : void 0
                  : void 0)
          }
          var dB = (function () {
            return T(
              function e(t) {
                ;(w(this, e), t && this.set(t))
              },
              [
                {
                  key: 'set',
                  value: function (e, t, n) {
                    var r = this
                    function i(e, t, n) {
                      var i = uB(t)
                      if (!i) throw new Error('header name must be a non-empty string')
                      var a = DF.findKey(r, i)
                      ;(!a || void 0 === r[a] || !0 === n || (void 0 === n && !1 !== r[a])) &&
                        (r[a || t] = lB(e))
                    }
                    var a = function (e, t) {
                      return DF.forEach(e, function (e, n) {
                        return i(e, n, t)
                      })
                    }
                    if (DF.isPlainObject(e) || e instanceof this.constructor) a(e, t)
                    else if (
                      DF.isString(e) &&
                      (e = e.trim()) &&
                      !/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())
                    )
                      a(
                        (function (e) {
                          var t,
                            n,
                            r,
                            i = {}
                          return (
                            e &&
                              e.split('\n').forEach(function (e) {
                                ;((r = e.indexOf(':')),
                                  (t = e.substring(0, r).trim().toLowerCase()),
                                  (n = e.substring(r + 1).trim()),
                                  !t ||
                                    (i[t] && oB[t]) ||
                                    ('set-cookie' === t
                                      ? i[t]
                                        ? i[t].push(n)
                                        : (i[t] = [n])
                                      : (i[t] = i[t] ? i[t] + ', ' + n : n)))
                              }),
                            i
                          )
                        })(e),
                        t
                      )
                    else if (DF.isHeaders(e)) {
                      var o,
                        s = L(e.entries())
                      try {
                        for (s.s(); !(o = s.n()).done; ) {
                          var u = C(o.value, 2),
                            l = u[0]
                          i(u[1], l, n)
                        }
                      } catch (c) {
                        s.e(c)
                      } finally {
                        s.f()
                      }
                    } else null != e && i(t, e, n)
                    return this
                  },
                },
                {
                  key: 'get',
                  value: function (e, t) {
                    if ((e = uB(e))) {
                      var n = DF.findKey(this, e)
                      if (n) {
                        var r = this[n]
                        if (!t) return r
                        if (!0 === t)
                          return (function (e) {
                            for (
                              var t,
                                n = Object.create(null),
                                r = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
                              (t = r.exec(e));

                            )
                              n[t[1]] = t[2]
                            return n
                          })(r)
                        if (DF.isFunction(t)) return t.call(this, r, n)
                        if (DF.isRegExp(t)) return t.exec(r)
                        throw new TypeError('parser must be boolean|regexp|function')
                      }
                    }
                  },
                },
                {
                  key: 'has',
                  value: function (e, t) {
                    if ((e = uB(e))) {
                      var n = DF.findKey(this, e)
                      return !(!n || void 0 === this[n] || (t && !cB(0, this[n], n, t)))
                    }
                    return !1
                  },
                },
                {
                  key: 'delete',
                  value: function (e, t) {
                    var n = this,
                      r = !1
                    function i(e) {
                      if ((e = uB(e))) {
                        var i = DF.findKey(n, e)
                        !i || (t && !cB(0, n[i], i, t)) || (delete n[i], (r = !0))
                      }
                    }
                    return (DF.isArray(e) ? e.forEach(i) : i(e), r)
                  },
                },
                {
                  key: 'clear',
                  value: function (e) {
                    for (var t = Object.keys(this), n = t.length, r = !1; n--; ) {
                      var i = t[n]
                      ;(e && !cB(0, this[i], i, e, !0)) || (delete this[i], (r = !0))
                    }
                    return r
                  },
                },
                {
                  key: 'normalize',
                  value: function (e) {
                    var t = this,
                      n = {}
                    return (
                      DF.forEach(this, function (r, i) {
                        var a = DF.findKey(n, i)
                        if (a) return ((t[a] = lB(r)), void delete t[i])
                        var o = e
                          ? (function (e) {
                              return e
                                .trim()
                                .toLowerCase()
                                .replace(/([a-z\d])(\w*)/g, function (e, t, n) {
                                  return t.toUpperCase() + n
                                })
                            })(i)
                          : String(i).trim()
                        ;(o !== i && delete t[i], (t[o] = lB(r)), (n[o] = !0))
                      }),
                      this
                    )
                  },
                },
                {
                  key: 'concat',
                  value: function () {
                    for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                      n[r] = arguments[r]
                    return (e = this.constructor).concat.apply(e, [this].concat(n))
                  },
                },
                {
                  key: 'toJSON',
                  value: function (e) {
                    var t = Object.create(null)
                    return (
                      DF.forEach(this, function (n, r) {
                        null != n && !1 !== n && (t[r] = e && DF.isArray(n) ? n.join(', ') : n)
                      }),
                      t
                    )
                  },
                },
                {
                  key: Symbol.iterator,
                  value: function () {
                    return Object.entries(this.toJSON())[Symbol.iterator]()
                  },
                },
                {
                  key: 'toString',
                  value: function () {
                    return Object.entries(this.toJSON())
                      .map(function (e) {
                        var t = C(e, 2)
                        return t[0] + ': ' + t[1]
                      })
                      .join('\n')
                  },
                },
                {
                  key: Symbol.toStringTag,
                  get: function () {
                    return 'AxiosHeaders'
                  },
                },
              ],
              [
                {
                  key: 'from',
                  value: function (e) {
                    return e instanceof this ? e : new this(e)
                  },
                },
                {
                  key: 'concat',
                  value: function (e) {
                    for (
                      var t = new this(e),
                        n = arguments.length,
                        r = new Array(n > 1 ? n - 1 : 0),
                        i = 1;
                      i < n;
                      i++
                    )
                      r[i - 1] = arguments[i]
                    return (
                      r.forEach(function (e) {
                        return t.set(e)
                      }),
                      t
                    )
                  },
                },
                {
                  key: 'accessor',
                  value: function (e) {
                    var t = (this[sB] = this[sB] = { accessors: {} }).accessors,
                      n = this.prototype
                    function r(e) {
                      var r = uB(e)
                      t[r] ||
                        (!(function (e, t) {
                          var n = DF.toCamelCase(' ' + t)
                          ;['get', 'set', 'has'].forEach(function (r) {
                            Object.defineProperty(e, r + n, {
                              value: function (e, n, i) {
                                return this[r].call(this, t, e, n, i)
                              },
                              configurable: !0,
                            })
                          })
                        })(n, e),
                        (t[r] = !0))
                    }
                    return (DF.isArray(e) ? e.forEach(r) : r(e), this)
                  },
                },
              ]
            )
          })()
          function hB(e, t) {
            var n = this || aB,
              r = t || n,
              i = dB.from(r.headers),
              a = r.data
            return (
              DF.forEach(e, function (e) {
                a = e.call(n, a, i.normalize(), t ? t.status : void 0)
              }),
              i.normalize(),
              a
            )
          }
          function fB(e) {
            return !(!e || !e.__CANCEL__)
          }
          function pB(e, t, n) {
            ;(OF.call(this, null == e ? 'canceled' : e, OF.ERR_CANCELED, t, n),
              (this.name = 'CanceledError'))
          }
          function vB(e, t, n) {
            var r = n.config.validateStatus
            n.status && r && !r(n.status)
              ? t(
                  new OF(
                    'Request failed with status code ' + n.status,
                    [OF.ERR_BAD_REQUEST, OF.ERR_BAD_RESPONSE][Math.floor(n.status / 100) - 4],
                    n.config,
                    n.request,
                    n
                  )
                )
              : e(n)
          }
          ;(dB.accessor([
            'Content-Type',
            'Content-Length',
            'Accept',
            'Accept-Encoding',
            'User-Agent',
            'Authorization',
          ]),
            DF.reduceDescriptors(dB.prototype, function (e, t) {
              var n = e.value,
                r = t[0].toUpperCase() + t.slice(1)
              return {
                get: function () {
                  return n
                },
                set: function (e) {
                  this[r] = e
                },
              }
            }),
            DF.freezeMethods(dB),
            DF.inherits(pB, OF, { __CANCEL__: !0 }))
          var mB = function (e, t) {
              var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3,
                r = 0,
                i = (function (e, t) {
                  e = e || 10
                  var n,
                    r = new Array(e),
                    i = new Array(e),
                    a = 0,
                    o = 0
                  return (
                    (t = void 0 !== t ? t : 1e3),
                    function (s) {
                      var u = Date.now(),
                        l = i[o]
                      ;(n || (n = u), (r[a] = s), (i[a] = u))
                      for (var c = o, d = 0; c !== a; ) ((d += r[c++]), (c %= e))
                      if (((a = (a + 1) % e) === o && (o = (o + 1) % e), !(u - n < t))) {
                        var h = l && u - l
                        return h ? Math.round((1e3 * d) / h) : void 0
                      }
                    }
                  )
                })(50, 250)
              return (function (e, t) {
                var n,
                  r,
                  i = 0,
                  a = 1e3 / t,
                  o = function (t) {
                    var a =
                      arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Date.now()
                    ;((i = a), (n = null), r && (clearTimeout(r), (r = null)), e.apply(null, t))
                  }
                return [
                  function () {
                    for (
                      var e = Date.now(), t = e - i, s = arguments.length, u = new Array(s), l = 0;
                      l < s;
                      l++
                    )
                      u[l] = arguments[l]
                    t >= a
                      ? o(u, e)
                      : ((n = u),
                        r ||
                          (r = setTimeout(function () {
                            ;((r = null), o(n))
                          }, a - t)))
                  },
                  function () {
                    return n && o(n)
                  },
                ]
              })(function (n) {
                var a = n.loaded,
                  o = n.lengthComputable ? n.total : void 0,
                  s = a - r,
                  u = i(s)
                r = a
                var l = M(
                  {
                    loaded: a,
                    total: o,
                    progress: o ? a / o : void 0,
                    bytes: s,
                    rate: u || void 0,
                    estimated: u && o && a <= o ? (o - a) / u : void 0,
                    event: n,
                    lengthComputable: null != o,
                  },
                  t ? 'download' : 'upload',
                  !0
                )
                e(l)
              }, n)
            },
            gB = function (e, t) {
              var n = null != e
              return [
                function (r) {
                  return t[0]({ lengthComputable: n, total: e, loaded: r })
                },
                t[1],
              ]
            },
            yB = function (e) {
              return function () {
                for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                  n[r] = arguments[r]
                return DF.asap(function () {
                  return e.apply(void 0, n)
                })
              }
            },
            xB = rB.hasStandardBrowserEnv
              ? (function (e, t) {
                  return function (n) {
                    return (
                      (n = new URL(n, rB.origin)),
                      e.protocol === n.protocol && e.host === n.host && (t || e.port === n.port)
                    )
                  }
                })(
                  new URL(rB.origin),
                  rB.navigator && /(msie|trident)/i.test(rB.navigator.userAgent)
                )
              : function () {
                  return !0
                },
            _B = rB.hasStandardBrowserEnv
              ? {
                  write: function (e, t, n, r, i, a) {
                    var o = [e + '=' + encodeURIComponent(t)]
                    ;(DF.isNumber(n) && o.push('expires=' + new Date(n).toGMTString()),
                      DF.isString(r) && o.push('path=' + r),
                      DF.isString(i) && o.push('domain=' + i),
                      !0 === a && o.push('secure'),
                      (document.cookie = o.join('; ')))
                  },
                  read: function (e) {
                    var t = document.cookie.match(new RegExp('(^|;\\s*)(' + e + ')=([^;]*)'))
                    return t ? decodeURIComponent(t[3]) : null
                  },
                  remove: function (e) {
                    this.write(e, '', Date.now() - 864e5)
                  },
                }
              : {
                  write: function () {},
                  read: function () {
                    return null
                  },
                  remove: function () {},
                }
          function bB(e, t, n) {
            var r = !/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)
            return e && (r || 0 == n)
              ? (function (e, t) {
                  return t ? e.replace(/\/?\/$/, '') + '/' + t.replace(/^\/+/, '') : e
                })(e, t)
              : t
          }
          var SB = function (e) {
            return e instanceof dB ? s({}, e) : e
          }
          function wB(e, t) {
            t = t || {}
            var n = {}
            function r(e, t, n, r) {
              return DF.isPlainObject(e) && DF.isPlainObject(t)
                ? DF.merge.call({ caseless: r }, e, t)
                : DF.isPlainObject(t)
                  ? DF.merge({}, t)
                  : DF.isArray(t)
                    ? t.slice()
                    : t
            }
            function i(e, t, n, i) {
              return DF.isUndefined(t)
                ? DF.isUndefined(e)
                  ? void 0
                  : r(void 0, e, 0, i)
                : r(e, t, 0, i)
            }
            function a(e, t) {
              if (!DF.isUndefined(t)) return r(void 0, t)
            }
            function o(e, t) {
              return DF.isUndefined(t) ? (DF.isUndefined(e) ? void 0 : r(void 0, e)) : r(void 0, t)
            }
            function s(n, i, a) {
              return a in t ? r(n, i) : a in e ? r(void 0, n) : void 0
            }
            var u = {
              url: a,
              method: a,
              data: a,
              baseURL: o,
              transformRequest: o,
              transformResponse: o,
              paramsSerializer: o,
              timeout: o,
              timeoutMessage: o,
              withCredentials: o,
              withXSRFToken: o,
              adapter: o,
              responseType: o,
              xsrfCookieName: o,
              xsrfHeaderName: o,
              onUploadProgress: o,
              onDownloadProgress: o,
              decompress: o,
              maxContentLength: o,
              maxBodyLength: o,
              beforeRedirect: o,
              transport: o,
              httpAgent: o,
              httpsAgent: o,
              cancelToken: o,
              socketPath: o,
              responseEncoding: o,
              validateStatus: s,
              headers: function (e, t, n) {
                return i(SB(e), SB(t), 0, !0)
              },
            }
            return (
              DF.forEach(Object.keys(Object.assign({}, e, t)), function (r) {
                var a = u[r] || i,
                  o = a(e[r], t[r], r)
                ;(DF.isUndefined(o) && a !== s) || (n[r] = o)
              }),
              n
            )
          }
          var AB,
            TB,
            MB = function (e) {
              var t,
                n = wB({}, e),
                r = n.data,
                i = n.withXSRFToken,
                a = n.xsrfHeaderName,
                o = n.xsrfCookieName,
                s = n.headers,
                u = n.auth
              if (
                ((n.headers = s = dB.from(s)),
                (n.url = XF(
                  bB(n.baseURL, n.url, n.allowAbsoluteUrls),
                  e.params,
                  e.paramsSerializer
                )),
                u &&
                  s.set(
                    'Authorization',
                    'Basic ' +
                      btoa(
                        (u.username || '') +
                          ':' +
                          (u.password ? unescape(encodeURIComponent(u.password)) : '')
                      )
                  ),
                DF.isFormData(r))
              )
                if (rB.hasStandardBrowserEnv || rB.hasStandardBrowserWebWorkerEnv)
                  s.setContentType(void 0)
                else if (!1 !== (t = s.getContentType())) {
                  var l = t
                      ? t
                          .split(';')
                          .map(function (e) {
                            return e.trim()
                          })
                          .filter(Boolean)
                      : [],
                    c = (function (e) {
                      return R(e) || N(e) || D(e) || k()
                    })(l),
                    d = c[0],
                    h = c.slice(1)
                  s.setContentType([d || 'multipart/form-data'].concat(I(h)).join('; '))
                }
              if (
                rB.hasStandardBrowserEnv &&
                (i && DF.isFunction(i) && (i = i(n)), i || (!1 !== i && xB(n.url)))
              ) {
                var f = a && o && _B.read(o)
                f && s.set(a, f)
              }
              return n
            },
            EB =
              'undefined' != typeof XMLHttpRequest &&
              function (e) {
                return new Promise(function (t, n) {
                  var r,
                    i,
                    a,
                    o,
                    s,
                    u = MB(e),
                    l = u.data,
                    c = dB.from(u.headers).normalize(),
                    d = u.responseType,
                    h = u.onUploadProgress,
                    f = u.onDownloadProgress
                  function p() {
                    ;(o && o(),
                      s && s(),
                      u.cancelToken && u.cancelToken.unsubscribe(r),
                      u.signal && u.signal.removeEventListener('abort', r))
                  }
                  var v = new XMLHttpRequest()
                  function m() {
                    if (v) {
                      var r = dB.from('getAllResponseHeaders' in v && v.getAllResponseHeaders())
                      ;(vB(
                        function (e) {
                          ;(t(e), p())
                        },
                        function (e) {
                          ;(n(e), p())
                        },
                        {
                          data: d && 'text' !== d && 'json' !== d ? v.response : v.responseText,
                          status: v.status,
                          statusText: v.statusText,
                          headers: r,
                          config: e,
                          request: v,
                        }
                      ),
                        (v = null))
                    }
                  }
                  if (
                    (v.open(u.method.toUpperCase(), u.url, !0),
                    (v.timeout = u.timeout),
                    'onloadend' in v
                      ? (v.onloadend = m)
                      : (v.onreadystatechange = function () {
                          v &&
                            4 === v.readyState &&
                            (0 !== v.status ||
                              (v.responseURL && 0 === v.responseURL.indexOf('file:'))) &&
                            setTimeout(m)
                        }),
                    (v.onabort = function () {
                      v && (n(new OF('Request aborted', OF.ECONNABORTED, e, v)), (v = null))
                    }),
                    (v.onerror = function () {
                      ;(n(new OF('Network Error', OF.ERR_NETWORK, e, v)), (v = null))
                    }),
                    (v.ontimeout = function () {
                      var t = u.timeout
                          ? 'timeout of ' + u.timeout + 'ms exceeded'
                          : 'timeout exceeded',
                        r = u.transitional || KF
                      ;(u.timeoutErrorMessage && (t = u.timeoutErrorMessage),
                        n(new OF(t, r.clarifyTimeoutError ? OF.ETIMEDOUT : OF.ECONNABORTED, e, v)),
                        (v = null))
                    }),
                    void 0 === l && c.setContentType(null),
                    'setRequestHeader' in v &&
                      DF.forEach(c.toJSON(), function (e, t) {
                        v.setRequestHeader(t, e)
                      }),
                    DF.isUndefined(u.withCredentials) || (v.withCredentials = !!u.withCredentials),
                    d && 'json' !== d && (v.responseType = u.responseType),
                    f)
                  ) {
                    var g = C(mB(f, !0), 2)
                    ;((a = g[0]), (s = g[1]), v.addEventListener('progress', a))
                  }
                  if (h && v.upload) {
                    var y = C(mB(h), 2)
                    ;((i = y[0]),
                      (o = y[1]),
                      v.upload.addEventListener('progress', i),
                      v.upload.addEventListener('loadend', o))
                  }
                  ;(u.cancelToken || u.signal) &&
                    ((r = function (t) {
                      v && (n(!t || t.type ? new pB(null, e, v) : t), v.abort(), (v = null))
                    }),
                    u.cancelToken && u.cancelToken.subscribe(r),
                    u.signal && (u.signal.aborted ? r() : u.signal.addEventListener('abort', r)))
                  var x,
                    _,
                    b = ((x = u.url), ((_ = /^([-+\w]{1,25})(:?\/\/|:)/.exec(x)) && _[1]) || '')
                  b && -1 === rB.protocols.indexOf(b)
                    ? n(new OF('Unsupported protocol ' + b + ':', OF.ERR_BAD_REQUEST, e))
                    : v.send(l || null)
                })
              },
            CB = function (e, t) {
              var n = (e = e ? e.filter(Boolean) : []).length
              if (t || n) {
                var r,
                  i = new AbortController(),
                  a = function (e) {
                    if (!r) {
                      ;((r = !0), s())
                      var t = e instanceof Error ? e : this.reason
                      i.abort(t instanceof OF ? t : new pB(t instanceof Error ? t.message : t))
                    }
                  },
                  o =
                    t &&
                    setTimeout(function () {
                      ;((o = null),
                        a(new OF('timeout '.concat(t, ' of ms exceeded'), OF.ETIMEDOUT)))
                    }, t),
                  s = function () {
                    e &&
                      (o && clearTimeout(o),
                      (o = null),
                      e.forEach(function (e) {
                        e.unsubscribe ? e.unsubscribe(a) : e.removeEventListener('abort', a)
                      }),
                      (e = null))
                  }
                e.forEach(function (e) {
                  return e.addEventListener('abort', a)
                })
                var u = i.signal
                return (
                  (u.unsubscribe = function () {
                    return DF.asap(s)
                  }),
                  u
                )
              }
            },
            kB = h().m(function e(t, n) {
              var r, i, a
              return h().w(function (e) {
                for (;;)
                  switch (e.n) {
                    case 0:
                      if (!((r = t.byteLength) < n)) {
                        e.n = 2
                        break
                      }
                      return ((e.n = 1), t)
                    case 1:
                      return e.a(2)
                    case 2:
                      i = 0
                    case 3:
                      if (!(i < r)) {
                        e.n = 5
                        break
                      }
                      return ((a = i + n), (e.n = 4), t.slice(i, a))
                    case 4:
                      ;((i = a), (e.n = 3))
                      break
                    case 5:
                      return e.a(2)
                  }
              }, e)
            }),
            RB = (function () {
              var t = F(
                h().m(function t(n, r) {
                  var i, a, o, s, u, l, c
                  return h().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            ;((i = !1), (a = !1), (t.p = 1), (s = H(IB(n))))
                          case 2:
                            return ((t.n = 3), U(s.next()))
                          case 3:
                            if (!(i = !(u = t.v).done)) {
                              t.n = 5
                              break
                            }
                            return ((l = u.value), t.d(e(z(H(kB(l, r)))), 4))
                          case 4:
                            ;((i = !1), (t.n = 2))
                            break
                          case 5:
                            t.n = 7
                            break
                          case 6:
                            ;((t.p = 6), (c = t.v), (a = !0), (o = c))
                          case 7:
                            if (((t.p = 7), (t.p = 8), !i || null == s.return)) {
                              t.n = 9
                              break
                            }
                            return ((t.n = 9), U(s.return()))
                          case 9:
                            if (((t.p = 9), !a)) {
                              t.n = 10
                              break
                            }
                            throw o
                          case 10:
                            return t.f(9)
                          case 11:
                            return t.f(7)
                          case 12:
                            return t.a(2)
                        }
                    },
                    t,
                    null,
                    [
                      [8, , 9, 11],
                      [1, 6, 7, 12],
                    ]
                  )
                })
              )
              return function (e, n) {
                return t.apply(this, arguments)
              }
            })(),
            IB = (function () {
              var t = F(
                h().m(function t(n) {
                  var r, i, a, o
                  return h().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            if (!n[Symbol.asyncIterator]) {
                              t.n = 2
                              break
                            }
                            return t.d(e(z(H(n))), 1)
                          case 1:
                            return t.a(2)
                          case 2:
                            ;((r = n.getReader()), (t.p = 3))
                          case 4:
                            return ((t.n = 5), U(r.read()))
                          case 5:
                            if (((i = t.v), (a = i.done), (o = i.value), !a)) {
                              t.n = 6
                              break
                            }
                            return t.a(3, 8)
                          case 6:
                            return ((t.n = 7), o)
                          case 7:
                            t.n = 4
                            break
                          case 8:
                            return ((t.p = 8), (t.n = 9), U(r.cancel()))
                          case 9:
                            return t.f(8)
                          case 10:
                            return t.a(2)
                        }
                    },
                    t,
                    null,
                    [[3, , 8, 10]]
                  )
                })
              )
              return function (e) {
                return t.apply(this, arguments)
              }
            })(),
            NB = function (e, t, n, r) {
              var i,
                a = RB(e, t),
                o = 0,
                s = function (e) {
                  i || ((i = !0), r && r(e))
                }
              return new ReadableStream(
                {
                  pull: function (e) {
                    return v(
                      h().m(function t() {
                        var r, i, u, l, c, d
                        return h().w(
                          function (t) {
                            for (;;)
                              switch ((t.p = t.n)) {
                                case 0:
                                  return ((t.p = 0), (t.n = 1), a.next())
                                case 1:
                                  if (((r = t.v), (i = r.done), (u = r.value), !i)) {
                                    t.n = 2
                                    break
                                  }
                                  return (s(), e.close(), t.a(2))
                                case 2:
                                  ;((l = u.byteLength),
                                    n && ((c = o += l), n(c)),
                                    e.enqueue(new Uint8Array(u)),
                                    (t.n = 4))
                                  break
                                case 3:
                                  throw ((t.p = 3), (d = t.v), s(d), d)
                                case 4:
                                  return t.a(2)
                              }
                          },
                          t,
                          null,
                          [[0, 3]]
                        )
                      })
                    )()
                  },
                  cancel: function (e) {
                    return (s(e), a.return())
                  },
                },
                { highWaterMark: 2 }
              )
            },
            PB =
              'function' == typeof fetch &&
              'function' == typeof Request &&
              'function' == typeof Response,
            LB = PB && 'function' == typeof ReadableStream,
            DB =
              PB &&
              ('function' == typeof TextEncoder
                ? ((AB = new TextEncoder()),
                  function (e) {
                    return AB.encode(e)
                  })
                : (function () {
                    var e = v(
                      h().m(function e(t) {
                        var n, r
                        return h().w(function (e) {
                          for (;;)
                            switch (e.n) {
                              case 0:
                                return ((n = Uint8Array), (e.n = 1), new Response(t).arrayBuffer())
                              case 1:
                                return ((r = e.v), e.a(2, new n(r)))
                            }
                        }, e)
                      })
                    )
                    return function (t) {
                      return e.apply(this, arguments)
                    }
                  })()),
            OB = function (e) {
              try {
                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)
                  n[r - 1] = arguments[r]
                return !!e.apply(void 0, n)
              } catch (u$) {
                return !1
              }
            },
            FB =
              LB &&
              OB(function () {
                var e = !1,
                  t = new Request(rB.origin, {
                    body: new ReadableStream(),
                    method: 'POST',
                    get duplex() {
                      return ((e = !0), 'half')
                    },
                  }).headers.has('Content-Type')
                return e && !t
              }),
            BB =
              LB &&
              OB(function () {
                return DF.isReadableStream(new Response('').body)
              }),
            UB = {
              stream:
                BB &&
                function (e) {
                  return e.body
                },
            }
          PB &&
            ((TB = new Response()),
            ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(function (e) {
              !UB[e] &&
                (UB[e] = DF.isFunction(TB[e])
                  ? function (t) {
                      return t[e]()
                    }
                  : function (t, n) {
                      throw new OF(
                        "Response type '".concat(e, "' is not supported"),
                        OF.ERR_NOT_SUPPORT,
                        n
                      )
                    })
            }))
          var zB = (function () {
              var e = v(
                h().m(function e(t) {
                  var n
                  return h().w(function (e) {
                    for (;;)
                      switch (e.n) {
                        case 0:
                          if (null != t) {
                            e.n = 1
                            break
                          }
                          return e.a(2, 0)
                        case 1:
                          if (!DF.isBlob(t)) {
                            e.n = 2
                            break
                          }
                          return e.a(2, t.size)
                        case 2:
                          if (!DF.isSpecCompliantForm(t)) {
                            e.n = 4
                            break
                          }
                          return (
                            (n = new Request(rB.origin, { method: 'POST', body: t })),
                            (e.n = 3),
                            n.arrayBuffer()
                          )
                        case 3:
                        case 6:
                          return e.a(2, e.v.byteLength)
                        case 4:
                          if (!DF.isArrayBufferView(t) && !DF.isArrayBuffer(t)) {
                            e.n = 5
                            break
                          }
                          return e.a(2, t.byteLength)
                        case 5:
                          if ((DF.isURLSearchParams(t) && (t += ''), !DF.isString(t))) {
                            e.n = 7
                            break
                          }
                          return ((e.n = 6), DB(t))
                        case 7:
                          return e.a(2)
                      }
                  }, e)
                })
              )
              return function (t) {
                return e.apply(this, arguments)
              }
            })(),
            VB = (function () {
              var e = v(
                h().m(function e(t, n) {
                  var r
                  return h().w(function (e) {
                    for (;;)
                      if (0 === e.n)
                        return (
                          (r = DF.toFiniteNumber(t.getContentLength())),
                          e.a(2, null == r ? zB(n) : r)
                        )
                  }, e)
                })
              )
              return function (t, n) {
                return e.apply(this, arguments)
              }
            })(),
            HB =
              PB &&
              (function () {
                var e = v(
                  h().m(function e(t) {
                    var n,
                      r,
                      i,
                      a,
                      o,
                      u,
                      l,
                      c,
                      d,
                      f,
                      p,
                      v,
                      m,
                      g,
                      y,
                      x,
                      _,
                      b,
                      S,
                      w,
                      A,
                      T,
                      M,
                      E,
                      k,
                      R,
                      I,
                      N,
                      P,
                      L,
                      D,
                      O,
                      F,
                      B,
                      U,
                      z,
                      V
                    return h().w(
                      function (e) {
                        for (;;)
                          switch ((e.p = e.n)) {
                            case 0:
                              if (
                                ((n = MB(t)),
                                (r = n.url),
                                (i = n.method),
                                (a = n.data),
                                (o = n.signal),
                                (u = n.cancelToken),
                                (l = n.timeout),
                                (c = n.onDownloadProgress),
                                (d = n.onUploadProgress),
                                (f = n.responseType),
                                (p = n.headers),
                                (v = n.withCredentials),
                                (m = void 0 === v ? 'same-origin' : v),
                                (g = n.fetchOptions),
                                (f = f ? (f + '').toLowerCase() : 'text'),
                                (y = CB([o, u && u.toAbortSignal()], l)),
                                (_ =
                                  y &&
                                  y.unsubscribe &&
                                  function () {
                                    y.unsubscribe()
                                  }),
                                (e.p = 1),
                                !(U = d && FB && 'get' !== i && 'head' !== i))
                              ) {
                                e.n = 3
                                break
                              }
                              return ((e.n = 2), VB(p, a))
                            case 2:
                              ;((z = b = e.v), (U = 0 !== z))
                            case 3:
                              if (!U) {
                                e.n = 4
                                break
                              }
                              ;((S = new Request(r, { method: 'POST', body: a, duplex: 'half' })),
                                DF.isFormData(a) &&
                                  (w = S.headers.get('content-type')) &&
                                  p.setContentType(w),
                                S.body &&
                                  ((A = gB(b, mB(yB(d)))),
                                  (T = C(A, 2)),
                                  (M = T[0]),
                                  (E = T[1]),
                                  (a = NB(S.body, 65536, M, E))))
                            case 4:
                              return (
                                DF.isString(m) || (m = m ? 'include' : 'omit'),
                                (k = 'credentials' in Request.prototype),
                                (x = new Request(
                                  r,
                                  s(
                                    s({}, g),
                                    {},
                                    {
                                      signal: y,
                                      method: i.toUpperCase(),
                                      headers: p.normalize().toJSON(),
                                      body: a,
                                      duplex: 'half',
                                      credentials: k ? m : void 0,
                                    }
                                  )
                                )),
                                (e.n = 5),
                                fetch(x)
                              )
                            case 5:
                              return (
                                (R = e.v),
                                (I = BB && ('stream' === f || 'response' === f)),
                                BB &&
                                  (c || (I && _)) &&
                                  ((N = {}),
                                  ['status', 'statusText', 'headers'].forEach(function (e) {
                                    N[e] = R[e]
                                  }),
                                  (P = DF.toFiniteNumber(R.headers.get('content-length'))),
                                  (L = (c && gB(P, mB(yB(c), !0))) || []),
                                  (D = C(L, 2)),
                                  (O = D[0]),
                                  (F = D[1]),
                                  (R = new Response(
                                    NB(R.body, 65536, O, function () {
                                      ;(F && F(), _ && _())
                                    }),
                                    N
                                  ))),
                                (f = f || 'text'),
                                (e.n = 6),
                                UB[DF.findKey(UB, f) || 'text'](R, t)
                              )
                            case 6:
                              return (
                                (B = e.v),
                                !I && _ && _(),
                                (e.n = 7),
                                new Promise(function (e, n) {
                                  vB(e, n, {
                                    data: B,
                                    headers: dB.from(R.headers),
                                    status: R.status,
                                    statusText: R.statusText,
                                    config: t,
                                    request: x,
                                  })
                                })
                              )
                            case 7:
                              return e.a(2, e.v)
                            case 8:
                              if (
                                ((e.p = 8),
                                (V = e.v),
                                _ && _(),
                                !V || 'TypeError' !== V.name || !/fetch/i.test(V.message))
                              ) {
                                e.n = 9
                                break
                              }
                              throw Object.assign(new OF('Network Error', OF.ERR_NETWORK, t, x), {
                                cause: V.cause || V,
                              })
                            case 9:
                              throw OF.from(V, V && V.code, t, x)
                            case 10:
                              return e.a(2)
                          }
                      },
                      e,
                      null,
                      [[1, 8]]
                    )
                  })
                )
                return function (t) {
                  return e.apply(this, arguments)
                }
              })(),
            WB = { http: null, xhr: EB, fetch: HB }
          DF.forEach(WB, function (e, t) {
            if (e) {
              try {
                Object.defineProperty(e, 'name', { value: t })
              } catch (u$) {}
              Object.defineProperty(e, 'adapterName', { value: t })
            }
          })
          var GB = function (e) {
              return '- '.concat(e)
            },
            jB = function (e) {
              return DF.isFunction(e) || null === e || !1 === e
            },
            QB = function (e) {
              for (var t, n, r = (e = DF.isArray(e) ? e : [e]).length, i = {}, a = 0; a < r; a++) {
                var o = void 0
                if (((n = t = e[a]), !jB(t) && void 0 === (n = WB[(o = String(t)).toLowerCase()])))
                  throw new OF("Unknown adapter '".concat(o, "'"))
                if (n) break
                i[o || '#' + a] = n
              }
              if (!n) {
                var s = Object.entries(i).map(function (e) {
                  var t = C(e, 2),
                    n = t[0],
                    r = t[1]
                  return (
                    'adapter '.concat(n, ' ') +
                    (!1 === r
                      ? 'is not supported by the environment'
                      : 'is not available in the build')
                  )
                })
                throw new OF(
                  'There is no suitable adapter to dispatch the request ' +
                    (r
                      ? s.length > 1
                        ? 'since :\n' + s.map(GB).join('\n')
                        : ' ' + GB(s[0])
                      : 'as no adapter specified'),
                  'ERR_NOT_SUPPORT'
                )
              }
              return n
            }
          function qB(e) {
            if ((e.cancelToken && e.cancelToken.throwIfRequested(), e.signal && e.signal.aborted))
              throw new pB(null, e)
          }
          function XB(e) {
            return (
              qB(e),
              (e.headers = dB.from(e.headers)),
              (e.data = hB.call(e, e.transformRequest)),
              -1 !== ['post', 'put', 'patch'].indexOf(e.method) &&
                e.headers.setContentType('application/x-www-form-urlencoded', !1),
              QB(e.adapter || aB.adapter)(e).then(
                function (t) {
                  return (
                    qB(e),
                    (t.data = hB.call(e, e.transformResponse, t)),
                    (t.headers = dB.from(t.headers)),
                    t
                  )
                },
                function (t) {
                  return (
                    fB(t) ||
                      (qB(e),
                      t &&
                        t.response &&
                        ((t.response.data = hB.call(e, e.transformResponse, t.response)),
                        (t.response.headers = dB.from(t.response.headers)))),
                    Promise.reject(t)
                  )
                }
              )
            )
          }
          var YB = '1.8.4',
            KB = {}
          ;['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function (e, t) {
            KB[e] = function (n) {
              return P(n) === e || 'a' + (t < 1 ? 'n ' : ' ') + e
            }
          })
          var ZB = {}
          ;((KB.transitional = function (e, t, n) {
            function r(e, t) {
              return "[Axios v1.8.4] Transitional option '" + e + "'" + t + (n ? '. ' + n : '')
            }
            return function (n, i, a) {
              if (!1 === e)
                throw new OF(r(i, ' has been removed' + (t ? ' in ' + t : '')), OF.ERR_DEPRECATED)
              return (
                t &&
                  !ZB[i] &&
                  ((ZB[i] = !0),
                  console.warn(
                    r(
                      i,
                      ' has been deprecated since v' + t + ' and will be removed in the near future'
                    )
                  )),
                !e || e(n, i, a)
              )
            }
          }),
            (KB.spelling = function (e) {
              return function (t, n) {
                return (console.warn(''.concat(n, ' is likely a misspelling of ').concat(e)), !0)
              }
            }))
          var JB = {
              assertOptions: function (e, t, n) {
                if ('object' !== P(e))
                  throw new OF('options must be an object', OF.ERR_BAD_OPTION_VALUE)
                for (var r = Object.keys(e), i = r.length; i-- > 0; ) {
                  var a = r[i],
                    o = t[a]
                  if (o) {
                    var s = e[a],
                      u = void 0 === s || o(s, a, e)
                    if (!0 !== u)
                      throw new OF('option ' + a + ' must be ' + u, OF.ERR_BAD_OPTION_VALUE)
                  } else if (!0 !== n) throw new OF('Unknown option ' + a, OF.ERR_BAD_OPTION)
                }
              },
              validators: KB,
            },
            $B = JB.validators,
            eU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.defaults = t),
                    (this.interceptors = { request: new YF(), response: new YF() }))
                },
                [
                  {
                    key: 'request',
                    value:
                      ((e = v(
                        h().m(function e(t, n) {
                          var r, i, a
                          return h().w(
                            function (e) {
                              for (;;)
                                switch ((e.p = e.n)) {
                                  case 0:
                                    return ((e.p = 0), (e.n = 1), this._request(t, n))
                                  case 1:
                                    return e.a(2, e.v)
                                  case 2:
                                    if (((e.p = 2), (a = e.v) instanceof Error)) {
                                      ;((r = {}),
                                        Error.captureStackTrace
                                          ? Error.captureStackTrace(r)
                                          : (r = new Error()),
                                        (i = r.stack ? r.stack.replace(/^.+\n/, '') : ''))
                                      try {
                                        a.stack
                                          ? i &&
                                            !String(a.stack).endsWith(i.replace(/^.+\n.+\n/, '')) &&
                                            (a.stack += '\n' + i)
                                          : (a.stack = i)
                                      } catch (u$) {}
                                    }
                                    throw a
                                  case 3:
                                    return e.a(2)
                                }
                            },
                            e,
                            this,
                            [[0, 2]]
                          )
                        })
                      )),
                      function (t, n) {
                        return e.apply(this, arguments)
                      }),
                  },
                  {
                    key: '_request',
                    value: function (e, t) {
                      'string' == typeof e ? ((t = t || {}).url = e) : (t = e || {})
                      var n = (t = wB(this.defaults, t)),
                        r = n.transitional,
                        i = n.paramsSerializer,
                        a = n.headers
                      ;(void 0 !== r &&
                        JB.assertOptions(
                          r,
                          {
                            silentJSONParsing: $B.transitional($B.boolean),
                            forcedJSONParsing: $B.transitional($B.boolean),
                            clarifyTimeoutError: $B.transitional($B.boolean),
                          },
                          !1
                        ),
                        null != i &&
                          (DF.isFunction(i)
                            ? (t.paramsSerializer = { serialize: i })
                            : JB.assertOptions(
                                i,
                                { encode: $B.function, serialize: $B.function },
                                !0
                              )),
                        void 0 !== t.allowAbsoluteUrls ||
                          (void 0 !== this.defaults.allowAbsoluteUrls
                            ? (t.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls)
                            : (t.allowAbsoluteUrls = !0)),
                        JB.assertOptions(
                          t,
                          {
                            baseUrl: $B.spelling('baseURL'),
                            withXsrfToken: $B.spelling('withXSRFToken'),
                          },
                          !0
                        ),
                        (t.method = (t.method || this.defaults.method || 'get').toLowerCase()))
                      var o = a && DF.merge(a.common, a[t.method])
                      ;(a &&
                        DF.forEach(
                          ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
                          function (e) {
                            delete a[e]
                          }
                        ),
                        (t.headers = dB.concat(o, a)))
                      var s = [],
                        u = !0
                      this.interceptors.request.forEach(function (e) {
                        ;('function' == typeof e.runWhen && !1 === e.runWhen(t)) ||
                          ((u = u && e.synchronous), s.unshift(e.fulfilled, e.rejected))
                      })
                      var l,
                        c = []
                      this.interceptors.response.forEach(function (e) {
                        c.push(e.fulfilled, e.rejected)
                      })
                      var d,
                        h = 0
                      if (!u) {
                        var f = [XB.bind(this), void 0]
                        for (
                          f.unshift.apply(f, s),
                            f.push.apply(f, c),
                            d = f.length,
                            l = Promise.resolve(t);
                          h < d;

                        )
                          l = l.then(f[h++], f[h++])
                        return l
                      }
                      d = s.length
                      var p = t
                      for (h = 0; h < d; ) {
                        var v = s[h++],
                          m = s[h++]
                        try {
                          p = v(p)
                        } catch (g) {
                          m.call(this, g)
                          break
                        }
                      }
                      try {
                        l = XB.call(this, p)
                      } catch (g) {
                        return Promise.reject(g)
                      }
                      for (h = 0, d = c.length; h < d; ) l = l.then(c[h++], c[h++])
                      return l
                    },
                  },
                  {
                    key: 'getUri',
                    value: function (e) {
                      return XF(
                        bB((e = wB(this.defaults, e)).baseURL, e.url, e.allowAbsoluteUrls),
                        e.params,
                        e.paramsSerializer
                      )
                    },
                  },
                ]
              )
              var e
            })()
          ;(DF.forEach(['delete', 'get', 'head', 'options'], function (e) {
            eU.prototype[e] = function (t, n) {
              return this.request(wB(n || {}, { method: e, url: t, data: (n || {}).data }))
            }
          }),
            DF.forEach(['post', 'put', 'patch'], function (e) {
              function t(t) {
                return function (n, r, i) {
                  return this.request(
                    wB(i || {}, {
                      method: e,
                      headers: t ? { 'Content-Type': 'multipart/form-data' } : {},
                      url: n,
                      data: r,
                    })
                  )
                }
              }
              ;((eU.prototype[e] = t()), (eU.prototype[e + 'Form'] = t(!0)))
            }))
          var tU = (function () {
            function e(t) {
              if ((w(this, e), 'function' != typeof t))
                throw new TypeError('executor must be a function.')
              var n
              this.promise = new Promise(function (e) {
                n = e
              })
              var r = this
              ;(this.promise.then(function (e) {
                if (r._listeners) {
                  for (var t = r._listeners.length; t-- > 0; ) r._listeners[t](e)
                  r._listeners = null
                }
              }),
                (this.promise.then = function (e) {
                  var t,
                    n = new Promise(function (e) {
                      ;(r.subscribe(e), (t = e))
                    }).then(e)
                  return (
                    (n.cancel = function () {
                      r.unsubscribe(t)
                    }),
                    n
                  )
                }),
                t(function (e, t, i) {
                  r.reason || ((r.reason = new pB(e, t, i)), n(r.reason))
                }))
            }
            return T(
              e,
              [
                {
                  key: 'throwIfRequested',
                  value: function () {
                    if (this.reason) throw this.reason
                  },
                },
                {
                  key: 'subscribe',
                  value: function (e) {
                    this.reason
                      ? e(this.reason)
                      : this._listeners
                        ? this._listeners.push(e)
                        : (this._listeners = [e])
                  },
                },
                {
                  key: 'unsubscribe',
                  value: function (e) {
                    if (this._listeners) {
                      var t = this._listeners.indexOf(e)
                      ;-1 !== t && this._listeners.splice(t, 1)
                    }
                  },
                },
                {
                  key: 'toAbortSignal',
                  value: function () {
                    var e = this,
                      t = new AbortController(),
                      n = function (e) {
                        t.abort(e)
                      }
                    return (
                      this.subscribe(n),
                      (t.signal.unsubscribe = function () {
                        return e.unsubscribe(n)
                      }),
                      t.signal
                    )
                  },
                },
              ],
              [
                {
                  key: 'source',
                  value: function () {
                    var t,
                      n = new e(function (e) {
                        t = e
                      })
                    return { token: n, cancel: t }
                  },
                },
              ]
            )
          })()
          var nU = {
            Continue: 100,
            SwitchingProtocols: 101,
            Processing: 102,
            EarlyHints: 103,
            Ok: 200,
            Created: 201,
            Accepted: 202,
            NonAuthoritativeInformation: 203,
            NoContent: 204,
            ResetContent: 205,
            PartialContent: 206,
            MultiStatus: 207,
            AlreadyReported: 208,
            ImUsed: 226,
            MultipleChoices: 300,
            MovedPermanently: 301,
            Found: 302,
            SeeOther: 303,
            NotModified: 304,
            UseProxy: 305,
            Unused: 306,
            TemporaryRedirect: 307,
            PermanentRedirect: 308,
            BadRequest: 400,
            Unauthorized: 401,
            PaymentRequired: 402,
            Forbidden: 403,
            NotFound: 404,
            MethodNotAllowed: 405,
            NotAcceptable: 406,
            ProxyAuthenticationRequired: 407,
            RequestTimeout: 408,
            Conflict: 409,
            Gone: 410,
            LengthRequired: 411,
            PreconditionFailed: 412,
            PayloadTooLarge: 413,
            UriTooLong: 414,
            UnsupportedMediaType: 415,
            RangeNotSatisfiable: 416,
            ExpectationFailed: 417,
            ImATeapot: 418,
            MisdirectedRequest: 421,
            UnprocessableEntity: 422,
            Locked: 423,
            FailedDependency: 424,
            TooEarly: 425,
            UpgradeRequired: 426,
            PreconditionRequired: 428,
            TooManyRequests: 429,
            RequestHeaderFieldsTooLarge: 431,
            UnavailableForLegalReasons: 451,
            InternalServerError: 500,
            NotImplemented: 501,
            BadGateway: 502,
            ServiceUnavailable: 503,
            GatewayTimeout: 504,
            HttpVersionNotSupported: 505,
            VariantAlsoNegotiates: 506,
            InsufficientStorage: 507,
            LoopDetected: 508,
            NotExtended: 510,
            NetworkAuthenticationRequired: 511,
          }
          Object.entries(nU).forEach(function (e) {
            var t = C(e, 2),
              n = t[0],
              r = t[1]
            nU[r] = n
          })
          var rU = (function e(t) {
            var n = new eU(t),
              r = KO(eU.prototype.request, n)
            return (
              DF.extend(r, eU.prototype, n, { allOwnKeys: !0 }),
              DF.extend(r, n, null, { allOwnKeys: !0 }),
              (r.create = function (n) {
                return e(wB(t, n))
              }),
              r
            )
          })(aB)
          ;((rU.Axios = eU),
            (rU.CanceledError = pB),
            (rU.CancelToken = tU),
            (rU.isCancel = fB),
            (rU.VERSION = YB),
            (rU.toFormData = WF),
            (rU.AxiosError = OF),
            (rU.Cancel = rU.CanceledError),
            (rU.all = function (e) {
              return Promise.all(e)
            }),
            (rU.spread = function (e) {
              return function (t) {
                return e.apply(null, t)
              }
            }),
            (rU.isAxiosError = function (e) {
              return DF.isObject(e) && !0 === e.isAxiosError
            }),
            (rU.mergeConfig = wB),
            (rU.AxiosHeaders = dB),
            (rU.formToJSON = function (e) {
              return iB(DF.isHTMLForm(e) ? new FormData(e) : e)
            }),
            (rU.getAdapter = QB),
            (rU.HttpStatusCode = nU),
            (rU.default = rU))
          ;(rU.Axios,
            rU.AxiosError,
            rU.CanceledError,
            rU.isCancel,
            rU.CancelToken,
            rU.VERSION,
            rU.all,
            rU.Cancel,
            rU.isAxiosError,
            rU.spread,
            rU.toFormData,
            rU.AxiosHeaders,
            rU.HttpStatusCode,
            rU.formToJSON,
            rU.getAdapter,
            rU.mergeConfig)
          var iU =
            'undefined' != typeof globalThis
              ? globalThis
              : 'undefined' != typeof window
                ? window
                : 'undefined' != typeof global
                  ? global
                  : 'undefined' != typeof self
                    ? self
                    : {}
          function aU(e) {
            return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, 'default')
              ? e.default
              : e
          }
          function oU(e) {
            throw new Error(
              'Could not dynamically require "' +
                e +
                '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.'
            )
          }
          var sU,
            uU = { exports: {} }
          var lU,
            cU,
            dU =
              (sU ||
                ((sU = 1),
                (function (e) {
                  e.exports = (function e(t, n, r) {
                    function i(o, s) {
                      if (!n[o]) {
                        if (!t[o]) {
                          if (!s && oU) return oU(o)
                          if (a) return a(o, !0)
                          var u = new Error("Cannot find module '" + o + "'")
                          throw ((u.code = 'MODULE_NOT_FOUND'), u)
                        }
                        var l = (n[o] = { exports: {} })
                        t[o][0].call(
                          l.exports,
                          function (e) {
                            return i(t[o][1][e] || e)
                          },
                          l,
                          l.exports,
                          e,
                          t,
                          n,
                          r
                        )
                      }
                      return n[o].exports
                    }
                    for (var a = oU, o = 0; o < r.length; o++) i(r[o])
                    return i
                  })(
                    {
                      1: [
                        function (e, t, n) {
                          var r = e('./utils'),
                            i = e('./support'),
                            a = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='
                          ;((n.encode = function (e) {
                            for (
                              var t,
                                n,
                                i,
                                o,
                                s,
                                u,
                                l,
                                c = [],
                                d = 0,
                                h = e.length,
                                f = h,
                                p = 'string' !== r.getTypeOf(e);
                              d < e.length;

                            )
                              ((f = h - d),
                                (i = p
                                  ? ((t = e[d++]), (n = d < h ? e[d++] : 0), d < h ? e[d++] : 0)
                                  : ((t = e.charCodeAt(d++)),
                                    (n = d < h ? e.charCodeAt(d++) : 0),
                                    d < h ? e.charCodeAt(d++) : 0)),
                                (o = t >> 2),
                                (s = ((3 & t) << 4) | (n >> 4)),
                                (u = 1 < f ? ((15 & n) << 2) | (i >> 6) : 64),
                                (l = 2 < f ? 63 & i : 64),
                                c.push(a.charAt(o) + a.charAt(s) + a.charAt(u) + a.charAt(l)))
                            return c.join('')
                          }),
                            (n.decode = function (e) {
                              var t,
                                n,
                                r,
                                o,
                                s,
                                u,
                                l = 0,
                                c = 0,
                                d = 'data:'
                              if (e.substr(0, d.length) === d)
                                throw new Error('Invalid base64 input, it looks like a data url.')
                              var h,
                                f = (3 * (e = e.replace(/[^A-Za-z0-9+/=]/g, '')).length) / 4
                              if (
                                (e.charAt(e.length - 1) === a.charAt(64) && f--,
                                e.charAt(e.length - 2) === a.charAt(64) && f--,
                                f % 1 != 0)
                              )
                                throw new Error('Invalid base64 input, bad content length.')
                              for (
                                h = i.uint8array ? new Uint8Array(0 | f) : new Array(0 | f);
                                l < e.length;

                              )
                                ((t =
                                  (a.indexOf(e.charAt(l++)) << 2) |
                                  ((o = a.indexOf(e.charAt(l++))) >> 4)),
                                  (n = ((15 & o) << 4) | ((s = a.indexOf(e.charAt(l++))) >> 2)),
                                  (r = ((3 & s) << 6) | (u = a.indexOf(e.charAt(l++)))),
                                  (h[c++] = t),
                                  64 !== s && (h[c++] = n),
                                  64 !== u && (h[c++] = r))
                              return h
                            }))
                        },
                        { './support': 30, './utils': 32 },
                      ],
                      2: [
                        function (e, t, n) {
                          var r = e('./external'),
                            i = e('./stream/DataWorker'),
                            a = e('./stream/Crc32Probe'),
                            o = e('./stream/DataLengthProbe')
                          function s(e, t, n, r, i) {
                            ;((this.compressedSize = e),
                              (this.uncompressedSize = t),
                              (this.crc32 = n),
                              (this.compression = r),
                              (this.compressedContent = i))
                          }
                          ;((s.prototype = {
                            getContentWorker: function () {
                              var e = new i(r.Promise.resolve(this.compressedContent))
                                  .pipe(this.compression.uncompressWorker())
                                  .pipe(new o('data_length')),
                                t = this
                              return (
                                e.on('end', function () {
                                  if (this.streamInfo.data_length !== t.uncompressedSize)
                                    throw new Error('Bug : uncompressed data size mismatch')
                                }),
                                e
                              )
                            },
                            getCompressedWorker: function () {
                              return new i(r.Promise.resolve(this.compressedContent))
                                .withStreamInfo('compressedSize', this.compressedSize)
                                .withStreamInfo('uncompressedSize', this.uncompressedSize)
                                .withStreamInfo('crc32', this.crc32)
                                .withStreamInfo('compression', this.compression)
                            },
                          }),
                            (s.createWorkerFrom = function (e, t, n) {
                              return e
                                .pipe(new a())
                                .pipe(new o('uncompressedSize'))
                                .pipe(t.compressWorker(n))
                                .pipe(new o('compressedSize'))
                                .withStreamInfo('compression', t)
                            }),
                            (t.exports = s))
                        },
                        {
                          './external': 6,
                          './stream/Crc32Probe': 25,
                          './stream/DataLengthProbe': 26,
                          './stream/DataWorker': 27,
                        },
                      ],
                      3: [
                        function (e, t, n) {
                          var r = e('./stream/GenericWorker')
                          ;((n.STORE = {
                            magic: '\0\0',
                            compressWorker: function () {
                              return new r('STORE compression')
                            },
                            uncompressWorker: function () {
                              return new r('STORE decompression')
                            },
                          }),
                            (n.DEFLATE = e('./flate')))
                        },
                        { './flate': 7, './stream/GenericWorker': 28 },
                      ],
                      4: [
                        function (e, t, n) {
                          var r = e('./utils'),
                            i = (function () {
                              for (var e, t = [], n = 0; n < 256; n++) {
                                e = n
                                for (var r = 0; r < 8; r++)
                                  e = 1 & e ? 3988292384 ^ (e >>> 1) : e >>> 1
                                t[n] = e
                              }
                              return t
                            })()
                          t.exports = function (e, t) {
                            return void 0 !== e && e.length
                              ? 'string' !== r.getTypeOf(e)
                                ? (function (e, t, n, r) {
                                    var a = i,
                                      o = r + n
                                    e ^= -1
                                    for (var s = r; s < o; s++) e = (e >>> 8) ^ a[255 & (e ^ t[s])]
                                    return -1 ^ e
                                  })(0 | t, e, e.length, 0)
                                : (function (e, t, n, r) {
                                    var a = i,
                                      o = r + n
                                    e ^= -1
                                    for (var s = r; s < o; s++)
                                      e = (e >>> 8) ^ a[255 & (e ^ t.charCodeAt(s))]
                                    return -1 ^ e
                                  })(0 | t, e, e.length, 0)
                              : 0
                          }
                        },
                        { './utils': 32 },
                      ],
                      5: [
                        function (e, t, n) {
                          ;((n.base64 = !1),
                            (n.binary = !1),
                            (n.dir = !1),
                            (n.createFolders = !0),
                            (n.date = null),
                            (n.compression = null),
                            (n.compressionOptions = null),
                            (n.comment = null),
                            (n.unixPermissions = null),
                            (n.dosPermissions = null))
                        },
                        {},
                      ],
                      6: [
                        function (e, t, n) {
                          var r = null
                          ;((r = 'undefined' != typeof Promise ? Promise : e('lie')),
                            (t.exports = { Promise: r }))
                        },
                        { lie: 37 },
                      ],
                      7: [
                        function (e, t, n) {
                          var r =
                              'undefined' != typeof Uint8Array &&
                              'undefined' != typeof Uint16Array &&
                              'undefined' != typeof Uint32Array,
                            i = e('pako'),
                            a = e('./utils'),
                            o = e('./stream/GenericWorker'),
                            s = r ? 'uint8array' : 'array'
                          function u(e, t) {
                            ;(o.call(this, 'FlateWorker/' + e),
                              (this._pako = null),
                              (this._pakoAction = e),
                              (this._pakoOptions = t),
                              (this.meta = {}))
                          }
                          ;((n.magic = '\b\0'),
                            a.inherits(u, o),
                            (u.prototype.processChunk = function (e) {
                              ;((this.meta = e.meta),
                                null === this._pako && this._createPako(),
                                this._pako.push(a.transformTo(s, e.data), !1))
                            }),
                            (u.prototype.flush = function () {
                              ;(o.prototype.flush.call(this),
                                null === this._pako && this._createPako(),
                                this._pako.push([], !0))
                            }),
                            (u.prototype.cleanUp = function () {
                              ;(o.prototype.cleanUp.call(this), (this._pako = null))
                            }),
                            (u.prototype._createPako = function () {
                              this._pako = new i[this._pakoAction]({
                                raw: !0,
                                level: this._pakoOptions.level || -1,
                              })
                              var e = this
                              this._pako.onData = function (t) {
                                e.push({ data: t, meta: e.meta })
                              }
                            }),
                            (n.compressWorker = function (e) {
                              return new u('Deflate', e)
                            }),
                            (n.uncompressWorker = function () {
                              return new u('Inflate', {})
                            }))
                        },
                        { './stream/GenericWorker': 28, './utils': 32, pako: 38 },
                      ],
                      8: [
                        function (e, t, n) {
                          function r(e, t) {
                            var n,
                              r = ''
                            for (n = 0; n < t; n++)
                              ((r += String.fromCharCode(255 & e)), (e >>>= 8))
                            return r
                          }
                          function i(e, t, n, i, o, c) {
                            var d,
                              h,
                              f = e.file,
                              p = e.compression,
                              v = c !== s.utf8encode,
                              m = a.transformTo('string', c(f.name)),
                              g = a.transformTo('string', s.utf8encode(f.name)),
                              y = f.comment,
                              x = a.transformTo('string', c(y)),
                              _ = a.transformTo('string', s.utf8encode(y)),
                              b = g.length !== f.name.length,
                              S = _.length !== y.length,
                              w = '',
                              A = '',
                              T = '',
                              M = f.dir,
                              E = f.date,
                              C = { crc32: 0, compressedSize: 0, uncompressedSize: 0 }
                            ;(t && !n) ||
                              ((C.crc32 = e.crc32),
                              (C.compressedSize = e.compressedSize),
                              (C.uncompressedSize = e.uncompressedSize))
                            var k = 0
                            ;(t && (k |= 8), v || (!b && !S) || (k |= 2048))
                            var R = 0,
                              I = 0
                            ;(M && (R |= 16),
                              'UNIX' === o
                                ? ((I = 798),
                                  (R |= (function (e, t) {
                                    var n = e
                                    return (e || (n = t ? 16893 : 33204), (65535 & n) << 16)
                                  })(f.unixPermissions, M)))
                                : ((I = 20),
                                  (R |= (function (e) {
                                    return 63 & (e || 0)
                                  })(f.dosPermissions))),
                              (d = E.getUTCHours()),
                              (d <<= 6),
                              (d |= E.getUTCMinutes()),
                              (d <<= 5),
                              (d |= E.getUTCSeconds() / 2),
                              (h = E.getUTCFullYear() - 1980),
                              (h <<= 4),
                              (h |= E.getUTCMonth() + 1),
                              (h <<= 5),
                              (h |= E.getUTCDate()),
                              b &&
                                ((A = r(1, 1) + r(u(m), 4) + g), (w += 'up' + r(A.length, 2) + A)),
                              S &&
                                ((T = r(1, 1) + r(u(x), 4) + _), (w += 'uc' + r(T.length, 2) + T)))
                            var N = ''
                            return (
                              (N += '\n\0'),
                              (N += r(k, 2)),
                              (N += p.magic),
                              (N += r(d, 2)),
                              (N += r(h, 2)),
                              (N += r(C.crc32, 4)),
                              (N += r(C.compressedSize, 4)),
                              (N += r(C.uncompressedSize, 4)),
                              (N += r(m.length, 2)),
                              (N += r(w.length, 2)),
                              {
                                fileRecord: l.LOCAL_FILE_HEADER + N + m + w,
                                dirRecord:
                                  l.CENTRAL_FILE_HEADER +
                                  r(I, 2) +
                                  N +
                                  r(x.length, 2) +
                                  '\0\0\0\0' +
                                  r(R, 4) +
                                  r(i, 4) +
                                  m +
                                  w +
                                  x,
                              }
                            )
                          }
                          var a = e('../utils'),
                            o = e('../stream/GenericWorker'),
                            s = e('../utf8'),
                            u = e('../crc32'),
                            l = e('../signature')
                          function c(e, t, n, r) {
                            ;(o.call(this, 'ZipFileWorker'),
                              (this.bytesWritten = 0),
                              (this.zipComment = t),
                              (this.zipPlatform = n),
                              (this.encodeFileName = r),
                              (this.streamFiles = e),
                              (this.accumulate = !1),
                              (this.contentBuffer = []),
                              (this.dirRecords = []),
                              (this.currentSourceOffset = 0),
                              (this.entriesCount = 0),
                              (this.currentFile = null),
                              (this._sources = []))
                          }
                          ;(a.inherits(c, o),
                            (c.prototype.push = function (e) {
                              var t = e.meta.percent || 0,
                                n = this.entriesCount,
                                r = this._sources.length
                              this.accumulate
                                ? this.contentBuffer.push(e)
                                : ((this.bytesWritten += e.data.length),
                                  o.prototype.push.call(this, {
                                    data: e.data,
                                    meta: {
                                      currentFile: this.currentFile,
                                      percent: n ? (t + 100 * (n - r - 1)) / n : 100,
                                    },
                                  }))
                            }),
                            (c.prototype.openedSource = function (e) {
                              ;((this.currentSourceOffset = this.bytesWritten),
                                (this.currentFile = e.file.name))
                              var t = this.streamFiles && !e.file.dir
                              if (t) {
                                var n = i(
                                  e,
                                  t,
                                  !1,
                                  this.currentSourceOffset,
                                  this.zipPlatform,
                                  this.encodeFileName
                                )
                                this.push({ data: n.fileRecord, meta: { percent: 0 } })
                              } else this.accumulate = !0
                            }),
                            (c.prototype.closedSource = function (e) {
                              this.accumulate = !1
                              var t = this.streamFiles && !e.file.dir,
                                n = i(
                                  e,
                                  t,
                                  !0,
                                  this.currentSourceOffset,
                                  this.zipPlatform,
                                  this.encodeFileName
                                )
                              if ((this.dirRecords.push(n.dirRecord), t))
                                this.push({
                                  data: (function (e) {
                                    return (
                                      l.DATA_DESCRIPTOR +
                                      r(e.crc32, 4) +
                                      r(e.compressedSize, 4) +
                                      r(e.uncompressedSize, 4)
                                    )
                                  })(e),
                                  meta: { percent: 100 },
                                })
                              else
                                for (
                                  this.push({ data: n.fileRecord, meta: { percent: 0 } });
                                  this.contentBuffer.length;

                                )
                                  this.push(this.contentBuffer.shift())
                              this.currentFile = null
                            }),
                            (c.prototype.flush = function () {
                              for (
                                var e = this.bytesWritten, t = 0;
                                t < this.dirRecords.length;
                                t++
                              )
                                this.push({ data: this.dirRecords[t], meta: { percent: 100 } })
                              var n = this.bytesWritten - e,
                                i = (function (e, t, n, i, o) {
                                  var s = a.transformTo('string', o(i))
                                  return (
                                    l.CENTRAL_DIRECTORY_END +
                                    '\0\0\0\0' +
                                    r(e, 2) +
                                    r(e, 2) +
                                    r(t, 4) +
                                    r(n, 4) +
                                    r(s.length, 2) +
                                    s
                                  )
                                })(
                                  this.dirRecords.length,
                                  n,
                                  e,
                                  this.zipComment,
                                  this.encodeFileName
                                )
                              this.push({ data: i, meta: { percent: 100 } })
                            }),
                            (c.prototype.prepareNextSource = function () {
                              ;((this.previous = this._sources.shift()),
                                this.openedSource(this.previous.streamInfo),
                                this.isPaused ? this.previous.pause() : this.previous.resume())
                            }),
                            (c.prototype.registerPrevious = function (e) {
                              this._sources.push(e)
                              var t = this
                              return (
                                e.on('data', function (e) {
                                  t.processChunk(e)
                                }),
                                e.on('end', function () {
                                  ;(t.closedSource(t.previous.streamInfo),
                                    t._sources.length ? t.prepareNextSource() : t.end())
                                }),
                                e.on('error', function (e) {
                                  t.error(e)
                                }),
                                this
                              )
                            }),
                            (c.prototype.resume = function () {
                              return (
                                !!o.prototype.resume.call(this) &&
                                (!this.previous && this._sources.length
                                  ? (this.prepareNextSource(), !0)
                                  : this.previous || this._sources.length || this.generatedError
                                    ? void 0
                                    : (this.end(), !0))
                              )
                            }),
                            (c.prototype.error = function (e) {
                              var t = this._sources
                              if (!o.prototype.error.call(this, e)) return !1
                              for (var n = 0; n < t.length; n++)
                                try {
                                  t[n].error(e)
                                } catch (e) {}
                              return !0
                            }),
                            (c.prototype.lock = function () {
                              o.prototype.lock.call(this)
                              for (var e = this._sources, t = 0; t < e.length; t++) e[t].lock()
                            }),
                            (t.exports = c))
                        },
                        {
                          '../crc32': 4,
                          '../signature': 23,
                          '../stream/GenericWorker': 28,
                          '../utf8': 31,
                          '../utils': 32,
                        },
                      ],
                      9: [
                        function (e, t, n) {
                          var r = e('../compressions'),
                            i = e('./ZipFileWorker')
                          n.generateWorker = function (e, t, n) {
                            var a = new i(t.streamFiles, n, t.platform, t.encodeFileName),
                              o = 0
                            try {
                              ;(e.forEach(function (e, n) {
                                o++
                                var i = (function (e, t) {
                                    var n = e || t,
                                      i = r[n]
                                    if (!i)
                                      throw new Error(n + ' is not a valid compression method !')
                                    return i
                                  })(n.options.compression, t.compression),
                                  s = n.options.compressionOptions || t.compressionOptions || {},
                                  u = n.dir,
                                  l = n.date
                                n._compressWorker(i, s)
                                  .withStreamInfo('file', {
                                    name: e,
                                    dir: u,
                                    date: l,
                                    comment: n.comment || '',
                                    unixPermissions: n.unixPermissions,
                                    dosPermissions: n.dosPermissions,
                                  })
                                  .pipe(a)
                              }),
                                (a.entriesCount = o))
                            } catch (e) {
                              a.error(e)
                            }
                            return a
                          }
                        },
                        { '../compressions': 3, './ZipFileWorker': 8 },
                      ],
                      10: [
                        function (e, t, n) {
                          function r() {
                            if (!(this instanceof r)) return new r()
                            if (arguments.length)
                              throw new Error(
                                'The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.'
                              )
                            ;((this.files = Object.create(null)),
                              (this.comment = null),
                              (this.root = ''),
                              (this.clone = function () {
                                var e = new r()
                                for (var t in this) 'function' != typeof this[t] && (e[t] = this[t])
                                return e
                              }))
                          }
                          ;(((r.prototype = e('./object')).loadAsync = e('./load')),
                            (r.support = e('./support')),
                            (r.defaults = e('./defaults')),
                            (r.version = '3.10.1'),
                            (r.loadAsync = function (e, t) {
                              return new r().loadAsync(e, t)
                            }),
                            (r.external = e('./external')),
                            (t.exports = r))
                        },
                        {
                          './defaults': 5,
                          './external': 6,
                          './load': 11,
                          './object': 15,
                          './support': 30,
                        },
                      ],
                      11: [
                        function (e, t, n) {
                          var r = e('./utils'),
                            i = e('./external'),
                            a = e('./utf8'),
                            o = e('./zipEntries'),
                            s = e('./stream/Crc32Probe'),
                            u = e('./nodejsUtils')
                          function l(e) {
                            return new i.Promise(function (t, n) {
                              var r = e.decompressed.getContentWorker().pipe(new s())
                              r.on('error', function (e) {
                                n(e)
                              })
                                .on('end', function () {
                                  r.streamInfo.crc32 !== e.decompressed.crc32
                                    ? n(new Error('Corrupted zip : CRC32 mismatch'))
                                    : t()
                                })
                                .resume()
                            })
                          }
                          t.exports = function (e, t) {
                            var n = this
                            return (
                              (t = r.extend(t || {}, {
                                base64: !1,
                                checkCRC32: !1,
                                optimizedBinaryString: !1,
                                createFolders: !1,
                                decodeFileName: a.utf8decode,
                              })),
                              u.isNode && u.isStream(e)
                                ? i.Promise.reject(
                                    new Error(
                                      "JSZip can't accept a stream when loading a zip file."
                                    )
                                  )
                                : r
                                    .prepareContent(
                                      'the loaded zip file',
                                      e,
                                      !0,
                                      t.optimizedBinaryString,
                                      t.base64
                                    )
                                    .then(function (e) {
                                      var n = new o(t)
                                      return (n.load(e), n)
                                    })
                                    .then(function (e) {
                                      var n = [i.Promise.resolve(e)],
                                        r = e.files
                                      if (t.checkCRC32)
                                        for (var a = 0; a < r.length; a++) n.push(l(r[a]))
                                      return i.Promise.all(n)
                                    })
                                    .then(function (e) {
                                      for (
                                        var i = e.shift(), a = i.files, o = 0;
                                        o < a.length;
                                        o++
                                      ) {
                                        var s = a[o],
                                          u = s.fileNameStr,
                                          l = r.resolve(s.fileNameStr)
                                        ;(n.file(l, s.decompressed, {
                                          binary: !0,
                                          optimizedBinaryString: !0,
                                          date: s.date,
                                          dir: s.dir,
                                          comment: s.fileCommentStr.length
                                            ? s.fileCommentStr
                                            : null,
                                          unixPermissions: s.unixPermissions,
                                          dosPermissions: s.dosPermissions,
                                          createFolders: t.createFolders,
                                        }),
                                          s.dir || (n.file(l).unsafeOriginalName = u))
                                      }
                                      return (i.zipComment.length && (n.comment = i.zipComment), n)
                                    })
                            )
                          }
                        },
                        {
                          './external': 6,
                          './nodejsUtils': 14,
                          './stream/Crc32Probe': 25,
                          './utf8': 31,
                          './utils': 32,
                          './zipEntries': 33,
                        },
                      ],
                      12: [
                        function (e, t, n) {
                          var r = e('../utils'),
                            i = e('../stream/GenericWorker')
                          function a(e, t) {
                            ;(i.call(this, 'Nodejs stream input adapter for ' + e),
                              (this._upstreamEnded = !1),
                              this._bindStream(t))
                          }
                          ;(r.inherits(a, i),
                            (a.prototype._bindStream = function (e) {
                              var t = this
                              ;((this._stream = e).pause(),
                                e
                                  .on('data', function (e) {
                                    t.push({ data: e, meta: { percent: 0 } })
                                  })
                                  .on('error', function (e) {
                                    t.isPaused ? (this.generatedError = e) : t.error(e)
                                  })
                                  .on('end', function () {
                                    t.isPaused ? (t._upstreamEnded = !0) : t.end()
                                  }))
                            }),
                            (a.prototype.pause = function () {
                              return !!i.prototype.pause.call(this) && (this._stream.pause(), !0)
                            }),
                            (a.prototype.resume = function () {
                              return (
                                !!i.prototype.resume.call(this) &&
                                (this._upstreamEnded ? this.end() : this._stream.resume(), !0)
                              )
                            }),
                            (t.exports = a))
                        },
                        { '../stream/GenericWorker': 28, '../utils': 32 },
                      ],
                      13: [
                        function (e, t, n) {
                          var r = e('readable-stream').Readable
                          function i(e, t, n) {
                            ;(r.call(this, t), (this._helper = e))
                            var i = this
                            e.on('data', function (e, t) {
                              ;(i.push(e) || i._helper.pause(), n && n(t))
                            })
                              .on('error', function (e) {
                                i.emit('error', e)
                              })
                              .on('end', function () {
                                i.push(null)
                              })
                          }
                          ;(e('../utils').inherits(i, r),
                            (i.prototype._read = function () {
                              this._helper.resume()
                            }),
                            (t.exports = i))
                        },
                        { '../utils': 32, 'readable-stream': 16 },
                      ],
                      14: [
                        function (e, t, n) {
                          t.exports = {
                            isNode: 'undefined' != typeof Buffer,
                            newBufferFrom: function (e, t) {
                              if (Buffer.from && Buffer.from !== Uint8Array.from)
                                return Buffer.from(e, t)
                              if ('number' == typeof e)
                                throw new Error('The "data" argument must not be a number')
                              return new Buffer(e, t)
                            },
                            allocBuffer: function (e) {
                              if (Buffer.alloc) return Buffer.alloc(e)
                              var t = new Buffer(e)
                              return (t.fill(0), t)
                            },
                            isBuffer: function (e) {
                              return Buffer.isBuffer(e)
                            },
                            isStream: function (e) {
                              return (
                                e &&
                                'function' == typeof e.on &&
                                'function' == typeof e.pause &&
                                'function' == typeof e.resume
                              )
                            },
                          }
                        },
                        {},
                      ],
                      15: [
                        function (e, t, n) {
                          function r(e, t, n) {
                            var r,
                              i = a.getTypeOf(t),
                              s = a.extend(n || {}, u)
                            ;((s.date = s.date || new Date()),
                              null !== s.compression &&
                                (s.compression = s.compression.toUpperCase()),
                              'string' == typeof s.unixPermissions &&
                                (s.unixPermissions = parseInt(s.unixPermissions, 8)),
                              s.unixPermissions && 16384 & s.unixPermissions && (s.dir = !0),
                              s.dosPermissions && 16 & s.dosPermissions && (s.dir = !0),
                              s.dir && (e = v(e)),
                              s.createFolders && (r = p(e)) && m.call(this, r, !0))
                            var d = 'string' === i && !1 === s.binary && !1 === s.base64
                            ;((n && void 0 !== n.binary) || (s.binary = !d),
                              ((t instanceof l && 0 === t.uncompressedSize) ||
                                s.dir ||
                                !t ||
                                0 === t.length) &&
                                ((s.base64 = !1),
                                (s.binary = !0),
                                (t = ''),
                                (s.compression = 'STORE'),
                                (i = 'string')))
                            var g = null
                            g =
                              t instanceof l || t instanceof o
                                ? t
                                : h.isNode && h.isStream(t)
                                  ? new f(e, t)
                                  : a.prepareContent(
                                      e,
                                      t,
                                      s.binary,
                                      s.optimizedBinaryString,
                                      s.base64
                                    )
                            var y = new c(e, g, s)
                            this.files[e] = y
                          }
                          var i = e('./utf8'),
                            a = e('./utils'),
                            o = e('./stream/GenericWorker'),
                            s = e('./stream/StreamHelper'),
                            u = e('./defaults'),
                            l = e('./compressedObject'),
                            c = e('./zipObject'),
                            d = e('./generate'),
                            h = e('./nodejsUtils'),
                            f = e('./nodejs/NodejsStreamInputAdapter'),
                            p = function (e) {
                              '/' === e.slice(-1) && (e = e.substring(0, e.length - 1))
                              var t = e.lastIndexOf('/')
                              return 0 < t ? e.substring(0, t) : ''
                            },
                            v = function (e) {
                              return ('/' !== e.slice(-1) && (e += '/'), e)
                            },
                            m = function (e, t) {
                              return (
                                (t = void 0 !== t ? t : u.createFolders),
                                (e = v(e)),
                                this.files[e] ||
                                  r.call(this, e, null, { dir: !0, createFolders: t }),
                                this.files[e]
                              )
                            }
                          function g(e) {
                            return '[object RegExp]' === Object.prototype.toString.call(e)
                          }
                          var y = {
                            load: function () {
                              throw new Error(
                                'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                              )
                            },
                            forEach: function (e) {
                              var t, n, r
                              for (t in this.files)
                                ((r = this.files[t]),
                                  (n = t.slice(this.root.length, t.length)) &&
                                    t.slice(0, this.root.length) === this.root &&
                                    e(n, r))
                            },
                            filter: function (e) {
                              var t = []
                              return (
                                this.forEach(function (n, r) {
                                  e(n, r) && t.push(r)
                                }),
                                t
                              )
                            },
                            file: function (e, t, n) {
                              if (1 !== arguments.length)
                                return ((e = this.root + e), r.call(this, e, t, n), this)
                              if (g(e)) {
                                var i = e
                                return this.filter(function (e, t) {
                                  return !t.dir && i.test(e)
                                })
                              }
                              var a = this.files[this.root + e]
                              return a && !a.dir ? a : null
                            },
                            folder: function (e) {
                              if (!e) return this
                              if (g(e))
                                return this.filter(function (t, n) {
                                  return n.dir && e.test(t)
                                })
                              var t = this.root + e,
                                n = m.call(this, t),
                                r = this.clone()
                              return ((r.root = n.name), r)
                            },
                            remove: function (e) {
                              e = this.root + e
                              var t = this.files[e]
                              if (
                                (t || ('/' !== e.slice(-1) && (e += '/'), (t = this.files[e])),
                                t && !t.dir)
                              )
                                delete this.files[e]
                              else
                                for (
                                  var n = this.filter(function (t, n) {
                                      return n.name.slice(0, e.length) === e
                                    }),
                                    r = 0;
                                  r < n.length;
                                  r++
                                )
                                  delete this.files[n[r].name]
                              return this
                            },
                            generate: function () {
                              throw new Error(
                                'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                              )
                            },
                            generateInternalStream: function (e) {
                              var t,
                                n = {}
                              try {
                                if (
                                  (((n = a.extend(e || {}, {
                                    streamFiles: !1,
                                    compression: 'STORE',
                                    compressionOptions: null,
                                    type: '',
                                    platform: 'DOS',
                                    comment: null,
                                    mimeType: 'application/zip',
                                    encodeFileName: i.utf8encode,
                                  })).type = n.type.toLowerCase()),
                                  (n.compression = n.compression.toUpperCase()),
                                  'binarystring' === n.type && (n.type = 'string'),
                                  !n.type)
                                )
                                  throw new Error('No output type specified.')
                                ;(a.checkSupport(n.type),
                                  ('darwin' !== n.platform &&
                                    'freebsd' !== n.platform &&
                                    'linux' !== n.platform &&
                                    'sunos' !== n.platform) ||
                                    (n.platform = 'UNIX'),
                                  'win32' === n.platform && (n.platform = 'DOS'))
                                var r = n.comment || this.comment || ''
                                t = d.generateWorker(this, n, r)
                              } catch (e) {
                                ;(t = new o('error')).error(e)
                              }
                              return new s(t, n.type || 'string', n.mimeType)
                            },
                            generateAsync: function (e, t) {
                              return this.generateInternalStream(e).accumulate(t)
                            },
                            generateNodeStream: function (e, t) {
                              return (
                                (e = e || {}).type || (e.type = 'nodebuffer'),
                                this.generateInternalStream(e).toNodejsStream(t)
                              )
                            },
                          }
                          t.exports = y
                        },
                        {
                          './compressedObject': 2,
                          './defaults': 5,
                          './generate': 9,
                          './nodejs/NodejsStreamInputAdapter': 12,
                          './nodejsUtils': 14,
                          './stream/GenericWorker': 28,
                          './stream/StreamHelper': 29,
                          './utf8': 31,
                          './utils': 32,
                          './zipObject': 35,
                        },
                      ],
                      16: [
                        function (e, t, n) {
                          t.exports = e('stream')
                        },
                        { stream: void 0 },
                      ],
                      17: [
                        function (e, t, n) {
                          var r = e('./DataReader')
                          function i(e) {
                            r.call(this, e)
                            for (var t = 0; t < this.data.length; t++) e[t] = 255 & e[t]
                          }
                          ;(e('../utils').inherits(i, r),
                            (i.prototype.byteAt = function (e) {
                              return this.data[this.zero + e]
                            }),
                            (i.prototype.lastIndexOfSignature = function (e) {
                              for (
                                var t = e.charCodeAt(0),
                                  n = e.charCodeAt(1),
                                  r = e.charCodeAt(2),
                                  i = e.charCodeAt(3),
                                  a = this.length - 4;
                                0 <= a;
                                --a
                              )
                                if (
                                  this.data[a] === t &&
                                  this.data[a + 1] === n &&
                                  this.data[a + 2] === r &&
                                  this.data[a + 3] === i
                                )
                                  return a - this.zero
                              return -1
                            }),
                            (i.prototype.readAndCheckSignature = function (e) {
                              var t = e.charCodeAt(0),
                                n = e.charCodeAt(1),
                                r = e.charCodeAt(2),
                                i = e.charCodeAt(3),
                                a = this.readData(4)
                              return t === a[0] && n === a[1] && r === a[2] && i === a[3]
                            }),
                            (i.prototype.readData = function (e) {
                              if ((this.checkOffset(e), 0 === e)) return []
                              var t = this.data.slice(
                                this.zero + this.index,
                                this.zero + this.index + e
                              )
                              return ((this.index += e), t)
                            }),
                            (t.exports = i))
                        },
                        { '../utils': 32, './DataReader': 18 },
                      ],
                      18: [
                        function (e, t, n) {
                          var r = e('../utils')
                          function i(e) {
                            ;((this.data = e),
                              (this.length = e.length),
                              (this.index = 0),
                              (this.zero = 0))
                          }
                          ;((i.prototype = {
                            checkOffset: function (e) {
                              this.checkIndex(this.index + e)
                            },
                            checkIndex: function (e) {
                              if (this.length < this.zero + e || e < 0)
                                throw new Error(
                                  'End of data reached (data length = ' +
                                    this.length +
                                    ', asked index = ' +
                                    e +
                                    '). Corrupted zip ?'
                                )
                            },
                            setIndex: function (e) {
                              ;(this.checkIndex(e), (this.index = e))
                            },
                            skip: function (e) {
                              this.setIndex(this.index + e)
                            },
                            byteAt: function () {},
                            readInt: function (e) {
                              var t,
                                n = 0
                              for (
                                this.checkOffset(e), t = this.index + e - 1;
                                t >= this.index;
                                t--
                              )
                                n = (n << 8) + this.byteAt(t)
                              return ((this.index += e), n)
                            },
                            readString: function (e) {
                              return r.transformTo('string', this.readData(e))
                            },
                            readData: function () {},
                            lastIndexOfSignature: function () {},
                            readAndCheckSignature: function () {},
                            readDate: function () {
                              var e = this.readInt(4)
                              return new Date(
                                Date.UTC(
                                  1980 + ((e >> 25) & 127),
                                  ((e >> 21) & 15) - 1,
                                  (e >> 16) & 31,
                                  (e >> 11) & 31,
                                  (e >> 5) & 63,
                                  (31 & e) << 1
                                )
                              )
                            },
                          }),
                            (t.exports = i))
                        },
                        { '../utils': 32 },
                      ],
                      19: [
                        function (e, t, n) {
                          var r = e('./Uint8ArrayReader')
                          function i(e) {
                            r.call(this, e)
                          }
                          ;(e('../utils').inherits(i, r),
                            (i.prototype.readData = function (e) {
                              this.checkOffset(e)
                              var t = this.data.slice(
                                this.zero + this.index,
                                this.zero + this.index + e
                              )
                              return ((this.index += e), t)
                            }),
                            (t.exports = i))
                        },
                        { '../utils': 32, './Uint8ArrayReader': 21 },
                      ],
                      20: [
                        function (e, t, n) {
                          var r = e('./DataReader')
                          function i(e) {
                            r.call(this, e)
                          }
                          ;(e('../utils').inherits(i, r),
                            (i.prototype.byteAt = function (e) {
                              return this.data.charCodeAt(this.zero + e)
                            }),
                            (i.prototype.lastIndexOfSignature = function (e) {
                              return this.data.lastIndexOf(e) - this.zero
                            }),
                            (i.prototype.readAndCheckSignature = function (e) {
                              return e === this.readData(4)
                            }),
                            (i.prototype.readData = function (e) {
                              this.checkOffset(e)
                              var t = this.data.slice(
                                this.zero + this.index,
                                this.zero + this.index + e
                              )
                              return ((this.index += e), t)
                            }),
                            (t.exports = i))
                        },
                        { '../utils': 32, './DataReader': 18 },
                      ],
                      21: [
                        function (e, t, n) {
                          var r = e('./ArrayReader')
                          function i(e) {
                            r.call(this, e)
                          }
                          ;(e('../utils').inherits(i, r),
                            (i.prototype.readData = function (e) {
                              if ((this.checkOffset(e), 0 === e)) return new Uint8Array(0)
                              var t = this.data.subarray(
                                this.zero + this.index,
                                this.zero + this.index + e
                              )
                              return ((this.index += e), t)
                            }),
                            (t.exports = i))
                        },
                        { '../utils': 32, './ArrayReader': 17 },
                      ],
                      22: [
                        function (e, t, n) {
                          var r = e('../utils'),
                            i = e('../support'),
                            a = e('./ArrayReader'),
                            o = e('./StringReader'),
                            s = e('./NodeBufferReader'),
                            u = e('./Uint8ArrayReader')
                          t.exports = function (e) {
                            var t = r.getTypeOf(e)
                            return (
                              r.checkSupport(t),
                              'string' !== t || i.uint8array
                                ? 'nodebuffer' === t
                                  ? new s(e)
                                  : i.uint8array
                                    ? new u(r.transformTo('uint8array', e))
                                    : new a(r.transformTo('array', e))
                                : new o(e)
                            )
                          }
                        },
                        {
                          '../support': 30,
                          '../utils': 32,
                          './ArrayReader': 17,
                          './NodeBufferReader': 19,
                          './StringReader': 20,
                          './Uint8ArrayReader': 21,
                        },
                      ],
                      23: [
                        function (e, t, n) {
                          ;((n.LOCAL_FILE_HEADER = 'PK'),
                            (n.CENTRAL_FILE_HEADER = 'PK'),
                            (n.CENTRAL_DIRECTORY_END = 'PK'),
                            (n.ZIP64_CENTRAL_DIRECTORY_LOCATOR = 'PK'),
                            (n.ZIP64_CENTRAL_DIRECTORY_END = 'PK'),
                            (n.DATA_DESCRIPTOR = 'PK\b'))
                        },
                        {},
                      ],
                      24: [
                        function (e, t, n) {
                          var r = e('./GenericWorker'),
                            i = e('../utils')
                          function a(e) {
                            ;(r.call(this, 'ConvertWorker to ' + e), (this.destType = e))
                          }
                          ;(i.inherits(a, r),
                            (a.prototype.processChunk = function (e) {
                              this.push({
                                data: i.transformTo(this.destType, e.data),
                                meta: e.meta,
                              })
                            }),
                            (t.exports = a))
                        },
                        { '../utils': 32, './GenericWorker': 28 },
                      ],
                      25: [
                        function (e, t, n) {
                          var r = e('./GenericWorker'),
                            i = e('../crc32')
                          function a() {
                            ;(r.call(this, 'Crc32Probe'), this.withStreamInfo('crc32', 0))
                          }
                          ;(e('../utils').inherits(a, r),
                            (a.prototype.processChunk = function (e) {
                              ;((this.streamInfo.crc32 = i(e.data, this.streamInfo.crc32 || 0)),
                                this.push(e))
                            }),
                            (t.exports = a))
                        },
                        { '../crc32': 4, '../utils': 32, './GenericWorker': 28 },
                      ],
                      26: [
                        function (e, t, n) {
                          var r = e('../utils'),
                            i = e('./GenericWorker')
                          function a(e) {
                            ;(i.call(this, 'DataLengthProbe for ' + e),
                              (this.propName = e),
                              this.withStreamInfo(e, 0))
                          }
                          ;(r.inherits(a, i),
                            (a.prototype.processChunk = function (e) {
                              if (e) {
                                var t = this.streamInfo[this.propName] || 0
                                this.streamInfo[this.propName] = t + e.data.length
                              }
                              i.prototype.processChunk.call(this, e)
                            }),
                            (t.exports = a))
                        },
                        { '../utils': 32, './GenericWorker': 28 },
                      ],
                      27: [
                        function (e, t, n) {
                          var r = e('../utils'),
                            i = e('./GenericWorker')
                          function a(e) {
                            i.call(this, 'DataWorker')
                            var t = this
                            ;((this.dataIsReady = !1),
                              (this.index = 0),
                              (this.max = 0),
                              (this.data = null),
                              (this.type = ''),
                              (this._tickScheduled = !1),
                              e.then(
                                function (e) {
                                  ;((t.dataIsReady = !0),
                                    (t.data = e),
                                    (t.max = (e && e.length) || 0),
                                    (t.type = r.getTypeOf(e)),
                                    t.isPaused || t._tickAndRepeat())
                                },
                                function (e) {
                                  t.error(e)
                                }
                              ))
                          }
                          ;(r.inherits(a, i),
                            (a.prototype.cleanUp = function () {
                              ;(i.prototype.cleanUp.call(this), (this.data = null))
                            }),
                            (a.prototype.resume = function () {
                              return (
                                !!i.prototype.resume.call(this) &&
                                (!this._tickScheduled &&
                                  this.dataIsReady &&
                                  ((this._tickScheduled = !0),
                                  r.delay(this._tickAndRepeat, [], this)),
                                !0)
                              )
                            }),
                            (a.prototype._tickAndRepeat = function () {
                              ;((this._tickScheduled = !1),
                                this.isPaused ||
                                  this.isFinished ||
                                  (this._tick(),
                                  this.isFinished ||
                                    (r.delay(this._tickAndRepeat, [], this),
                                    (this._tickScheduled = !0))))
                            }),
                            (a.prototype._tick = function () {
                              if (this.isPaused || this.isFinished) return !1
                              var e = null,
                                t = Math.min(this.max, this.index + 16384)
                              if (this.index >= this.max) return this.end()
                              switch (this.type) {
                                case 'string':
                                  e = this.data.substring(this.index, t)
                                  break
                                case 'uint8array':
                                  e = this.data.subarray(this.index, t)
                                  break
                                case 'array':
                                case 'nodebuffer':
                                  e = this.data.slice(this.index, t)
                              }
                              return (
                                (this.index = t),
                                this.push({
                                  data: e,
                                  meta: { percent: this.max ? (this.index / this.max) * 100 : 0 },
                                })
                              )
                            }),
                            (t.exports = a))
                        },
                        { '../utils': 32, './GenericWorker': 28 },
                      ],
                      28: [
                        function (e, t, n) {
                          function r(e) {
                            ;((this.name = e || 'default'),
                              (this.streamInfo = {}),
                              (this.generatedError = null),
                              (this.extraStreamInfo = {}),
                              (this.isPaused = !0),
                              (this.isFinished = !1),
                              (this.isLocked = !1),
                              (this._listeners = { data: [], end: [], error: [] }),
                              (this.previous = null))
                          }
                          ;((r.prototype = {
                            push: function (e) {
                              this.emit('data', e)
                            },
                            end: function () {
                              if (this.isFinished) return !1
                              this.flush()
                              try {
                                ;(this.emit('end'), this.cleanUp(), (this.isFinished = !0))
                              } catch (e) {
                                this.emit('error', e)
                              }
                              return !0
                            },
                            error: function (e) {
                              return (
                                !this.isFinished &&
                                (this.isPaused
                                  ? (this.generatedError = e)
                                  : ((this.isFinished = !0),
                                    this.emit('error', e),
                                    this.previous && this.previous.error(e),
                                    this.cleanUp()),
                                !0)
                              )
                            },
                            on: function (e, t) {
                              return (this._listeners[e].push(t), this)
                            },
                            cleanUp: function () {
                              ;((this.streamInfo =
                                this.generatedError =
                                this.extraStreamInfo =
                                  null),
                                (this._listeners = []))
                            },
                            emit: function (e, t) {
                              if (this._listeners[e])
                                for (var n = 0; n < this._listeners[e].length; n++)
                                  this._listeners[e][n].call(this, t)
                            },
                            pipe: function (e) {
                              return e.registerPrevious(this)
                            },
                            registerPrevious: function (e) {
                              if (this.isLocked)
                                throw new Error("The stream '" + this + "' has already been used.")
                              ;((this.streamInfo = e.streamInfo),
                                this.mergeStreamInfo(),
                                (this.previous = e))
                              var t = this
                              return (
                                e.on('data', function (e) {
                                  t.processChunk(e)
                                }),
                                e.on('end', function () {
                                  t.end()
                                }),
                                e.on('error', function (e) {
                                  t.error(e)
                                }),
                                this
                              )
                            },
                            pause: function () {
                              return (
                                !this.isPaused &&
                                !this.isFinished &&
                                ((this.isPaused = !0), this.previous && this.previous.pause(), !0)
                              )
                            },
                            resume: function () {
                              if (!this.isPaused || this.isFinished) return !1
                              var e = (this.isPaused = !1)
                              return (
                                this.generatedError && (this.error(this.generatedError), (e = !0)),
                                this.previous && this.previous.resume(),
                                !e
                              )
                            },
                            flush: function () {},
                            processChunk: function (e) {
                              this.push(e)
                            },
                            withStreamInfo: function (e, t) {
                              return ((this.extraStreamInfo[e] = t), this.mergeStreamInfo(), this)
                            },
                            mergeStreamInfo: function () {
                              for (var e in this.extraStreamInfo)
                                Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e) &&
                                  (this.streamInfo[e] = this.extraStreamInfo[e])
                            },
                            lock: function () {
                              if (this.isLocked)
                                throw new Error("The stream '" + this + "' has already been used.")
                              ;((this.isLocked = !0), this.previous && this.previous.lock())
                            },
                            toString: function () {
                              var e = 'Worker ' + this.name
                              return this.previous ? this.previous + ' -> ' + e : e
                            },
                          }),
                            (t.exports = r))
                        },
                        {},
                      ],
                      29: [
                        function (e, t, n) {
                          var r = e('../utils'),
                            i = e('./ConvertWorker'),
                            a = e('./GenericWorker'),
                            o = e('../base64'),
                            s = e('../support'),
                            u = e('../external'),
                            l = null
                          if (s.nodestream)
                            try {
                              l = e('../nodejs/NodejsStreamOutputAdapter')
                            } catch (e) {}
                          function c(e, t) {
                            return new u.Promise(function (n, i) {
                              var a = [],
                                s = e._internalType,
                                u = e._outputType,
                                l = e._mimeType
                              e.on('data', function (e, n) {
                                ;(a.push(e), t && t(n))
                              })
                                .on('error', function (e) {
                                  ;((a = []), i(e))
                                })
                                .on('end', function () {
                                  try {
                                    var e = (function (e, t, n) {
                                      switch (e) {
                                        case 'blob':
                                          return r.newBlob(r.transformTo('arraybuffer', t), n)
                                        case 'base64':
                                          return o.encode(t)
                                        default:
                                          return r.transformTo(e, t)
                                      }
                                    })(
                                      u,
                                      (function (e, t) {
                                        var n,
                                          r = 0,
                                          i = null,
                                          a = 0
                                        for (n = 0; n < t.length; n++) a += t[n].length
                                        switch (e) {
                                          case 'string':
                                            return t.join('')
                                          case 'array':
                                            return Array.prototype.concat.apply([], t)
                                          case 'uint8array':
                                            for (i = new Uint8Array(a), n = 0; n < t.length; n++)
                                              (i.set(t[n], r), (r += t[n].length))
                                            return i
                                          case 'nodebuffer':
                                            return Buffer.concat(t)
                                          default:
                                            throw new Error("concat : unsupported type '" + e + "'")
                                        }
                                      })(s, a),
                                      l
                                    )
                                    n(e)
                                  } catch (e) {
                                    i(e)
                                  }
                                  a = []
                                })
                                .resume()
                            })
                          }
                          function d(e, t, n) {
                            var o = t
                            switch (t) {
                              case 'blob':
                              case 'arraybuffer':
                                o = 'uint8array'
                                break
                              case 'base64':
                                o = 'string'
                            }
                            try {
                              ;((this._internalType = o),
                                (this._outputType = t),
                                (this._mimeType = n),
                                r.checkSupport(o),
                                (this._worker = e.pipe(new i(o))),
                                e.lock())
                            } catch (e) {
                              ;((this._worker = new a('error')), this._worker.error(e))
                            }
                          }
                          ;((d.prototype = {
                            accumulate: function (e) {
                              return c(this, e)
                            },
                            on: function (e, t) {
                              var n = this
                              return (
                                'data' === e
                                  ? this._worker.on(e, function (e) {
                                      t.call(n, e.data, e.meta)
                                    })
                                  : this._worker.on(e, function () {
                                      r.delay(t, arguments, n)
                                    }),
                                this
                              )
                            },
                            resume: function () {
                              return (r.delay(this._worker.resume, [], this._worker), this)
                            },
                            pause: function () {
                              return (this._worker.pause(), this)
                            },
                            toNodejsStream: function (e) {
                              if ((r.checkSupport('nodestream'), 'nodebuffer' !== this._outputType))
                                throw new Error(
                                  this._outputType + ' is not supported by this method'
                                )
                              return new l(
                                this,
                                { objectMode: 'nodebuffer' !== this._outputType },
                                e
                              )
                            },
                          }),
                            (t.exports = d))
                        },
                        {
                          '../base64': 1,
                          '../external': 6,
                          '../nodejs/NodejsStreamOutputAdapter': 13,
                          '../support': 30,
                          '../utils': 32,
                          './ConvertWorker': 24,
                          './GenericWorker': 28,
                        },
                      ],
                      30: [
                        function (e, t, n) {
                          if (
                            ((n.base64 = !0),
                            (n.array = !0),
                            (n.string = !0),
                            (n.arraybuffer =
                              'undefined' != typeof ArrayBuffer &&
                              'undefined' != typeof Uint8Array),
                            (n.nodebuffer = 'undefined' != typeof Buffer),
                            (n.uint8array = 'undefined' != typeof Uint8Array),
                            'undefined' == typeof ArrayBuffer)
                          )
                            n.blob = !1
                          else {
                            var r = new ArrayBuffer(0)
                            try {
                              n.blob = 0 === new Blob([r], { type: 'application/zip' }).size
                            } catch (e) {
                              try {
                                var i = new (self.BlobBuilder ||
                                  self.WebKitBlobBuilder ||
                                  self.MozBlobBuilder ||
                                  self.MSBlobBuilder)()
                                ;(i.append(r), (n.blob = 0 === i.getBlob('application/zip').size))
                              } catch (e) {
                                n.blob = !1
                              }
                            }
                          }
                          try {
                            n.nodestream = !!e('readable-stream').Readable
                          } catch (e) {
                            n.nodestream = !1
                          }
                        },
                        { 'readable-stream': 16 },
                      ],
                      31: [
                        function (e, t, n) {
                          for (
                            var r = e('./utils'),
                              i = e('./support'),
                              a = e('./nodejsUtils'),
                              o = e('./stream/GenericWorker'),
                              s = new Array(256),
                              u = 0;
                            u < 256;
                            u++
                          )
                            s[u] =
                              252 <= u
                                ? 6
                                : 248 <= u
                                  ? 5
                                  : 240 <= u
                                    ? 4
                                    : 224 <= u
                                      ? 3
                                      : 192 <= u
                                        ? 2
                                        : 1
                          function l() {
                            ;(o.call(this, 'utf-8 decode'), (this.leftOver = null))
                          }
                          function c() {
                            o.call(this, 'utf-8 encode')
                          }
                          ;((s[254] = s[254] = 1),
                            (n.utf8encode = function (e) {
                              return i.nodebuffer
                                ? a.newBufferFrom(e, 'utf-8')
                                : (function (e) {
                                    var t,
                                      n,
                                      r,
                                      a,
                                      o,
                                      s = e.length,
                                      u = 0
                                    for (a = 0; a < s; a++)
                                      (55296 == (64512 & (n = e.charCodeAt(a))) &&
                                        a + 1 < s &&
                                        56320 == (64512 & (r = e.charCodeAt(a + 1))) &&
                                        ((n = 65536 + ((n - 55296) << 10) + (r - 56320)), a++),
                                        (u += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4))
                                    for (
                                      t = i.uint8array ? new Uint8Array(u) : new Array(u),
                                        a = o = 0;
                                      o < u;
                                      a++
                                    )
                                      (55296 == (64512 & (n = e.charCodeAt(a))) &&
                                        a + 1 < s &&
                                        56320 == (64512 & (r = e.charCodeAt(a + 1))) &&
                                        ((n = 65536 + ((n - 55296) << 10) + (r - 56320)), a++),
                                        n < 128
                                          ? (t[o++] = n)
                                          : (n < 2048
                                              ? (t[o++] = 192 | (n >>> 6))
                                              : (n < 65536
                                                  ? (t[o++] = 224 | (n >>> 12))
                                                  : ((t[o++] = 240 | (n >>> 18)),
                                                    (t[o++] = 128 | ((n >>> 12) & 63))),
                                                (t[o++] = 128 | ((n >>> 6) & 63))),
                                            (t[o++] = 128 | (63 & n))))
                                    return t
                                  })(e)
                            }),
                            (n.utf8decode = function (e) {
                              return i.nodebuffer
                                ? r.transformTo('nodebuffer', e).toString('utf-8')
                                : (function (e) {
                                    var t,
                                      n,
                                      i,
                                      a,
                                      o = e.length,
                                      u = new Array(2 * o)
                                    for (t = n = 0; t < o; )
                                      if ((i = e[t++]) < 128) u[n++] = i
                                      else if (4 < (a = s[i])) ((u[n++] = 65533), (t += a - 1))
                                      else {
                                        for (i &= 2 === a ? 31 : 3 === a ? 15 : 7; 1 < a && t < o; )
                                          ((i = (i << 6) | (63 & e[t++])), a--)
                                        1 < a
                                          ? (u[n++] = 65533)
                                          : i < 65536
                                            ? (u[n++] = i)
                                            : ((i -= 65536),
                                              (u[n++] = 55296 | ((i >> 10) & 1023)),
                                              (u[n++] = 56320 | (1023 & i)))
                                      }
                                    return (
                                      u.length !== n &&
                                        (u.subarray ? (u = u.subarray(0, n)) : (u.length = n)),
                                      r.applyFromCharCode(u)
                                    )
                                  })((e = r.transformTo(i.uint8array ? 'uint8array' : 'array', e)))
                            }),
                            r.inherits(l, o),
                            (l.prototype.processChunk = function (e) {
                              var t = r.transformTo(i.uint8array ? 'uint8array' : 'array', e.data)
                              if (this.leftOver && this.leftOver.length) {
                                if (i.uint8array) {
                                  var a = t
                                  ;((t = new Uint8Array(a.length + this.leftOver.length)).set(
                                    this.leftOver,
                                    0
                                  ),
                                    t.set(a, this.leftOver.length))
                                } else t = this.leftOver.concat(t)
                                this.leftOver = null
                              }
                              var o = (function (e, t) {
                                  var n
                                  for (
                                    (t = t || e.length) > e.length && (t = e.length), n = t - 1;
                                    0 <= n && 128 == (192 & e[n]);

                                  )
                                    n--
                                  return n < 0 || 0 === n ? t : n + s[e[n]] > t ? n : t
                                })(t),
                                u = t
                              ;(o !== t.length &&
                                (i.uint8array
                                  ? ((u = t.subarray(0, o)),
                                    (this.leftOver = t.subarray(o, t.length)))
                                  : ((u = t.slice(0, o)), (this.leftOver = t.slice(o, t.length)))),
                                this.push({ data: n.utf8decode(u), meta: e.meta }))
                            }),
                            (l.prototype.flush = function () {
                              this.leftOver &&
                                this.leftOver.length &&
                                (this.push({ data: n.utf8decode(this.leftOver), meta: {} }),
                                (this.leftOver = null))
                            }),
                            (n.Utf8DecodeWorker = l),
                            r.inherits(c, o),
                            (c.prototype.processChunk = function (e) {
                              this.push({ data: n.utf8encode(e.data), meta: e.meta })
                            }),
                            (n.Utf8EncodeWorker = c))
                        },
                        {
                          './nodejsUtils': 14,
                          './stream/GenericWorker': 28,
                          './support': 30,
                          './utils': 32,
                        },
                      ],
                      32: [
                        function (e, t, n) {
                          var r = e('./support'),
                            i = e('./base64'),
                            a = e('./nodejsUtils'),
                            o = e('./external')
                          function s(e) {
                            return e
                          }
                          function u(e, t) {
                            for (var n = 0; n < e.length; ++n) t[n] = 255 & e.charCodeAt(n)
                            return t
                          }
                          ;(e('setimmediate'),
                            (n.newBlob = function (t, r) {
                              n.checkSupport('blob')
                              try {
                                return new Blob([t], { type: r })
                              } catch (e) {
                                try {
                                  var i = new (self.BlobBuilder ||
                                    self.WebKitBlobBuilder ||
                                    self.MozBlobBuilder ||
                                    self.MSBlobBuilder)()
                                  return (i.append(t), i.getBlob(r))
                                } catch (e) {
                                  throw new Error("Bug : can't construct the Blob.")
                                }
                              }
                            }))
                          var l = {
                            stringifyByChunk: function (e, t, n) {
                              var r = [],
                                i = 0,
                                a = e.length
                              if (a <= n) return String.fromCharCode.apply(null, e)
                              for (; i < a; )
                                ('array' === t || 'nodebuffer' === t
                                  ? r.push(
                                      String.fromCharCode.apply(
                                        null,
                                        e.slice(i, Math.min(i + n, a))
                                      )
                                    )
                                  : r.push(
                                      String.fromCharCode.apply(
                                        null,
                                        e.subarray(i, Math.min(i + n, a))
                                      )
                                    ),
                                  (i += n))
                              return r.join('')
                            },
                            stringifyByChar: function (e) {
                              for (var t = '', n = 0; n < e.length; n++)
                                t += String.fromCharCode(e[n])
                              return t
                            },
                            applyCanBeUsed: {
                              uint8array: (function () {
                                try {
                                  return (
                                    r.uint8array &&
                                    1 === String.fromCharCode.apply(null, new Uint8Array(1)).length
                                  )
                                } catch (e) {
                                  return !1
                                }
                              })(),
                              nodebuffer: (function () {
                                try {
                                  return (
                                    r.nodebuffer &&
                                    1 === String.fromCharCode.apply(null, a.allocBuffer(1)).length
                                  )
                                } catch (e) {
                                  return !1
                                }
                              })(),
                            },
                          }
                          function c(e) {
                            var t = 65536,
                              r = n.getTypeOf(e),
                              i = !0
                            if (
                              ('uint8array' === r
                                ? (i = l.applyCanBeUsed.uint8array)
                                : 'nodebuffer' === r && (i = l.applyCanBeUsed.nodebuffer),
                              i)
                            )
                              for (; 1 < t; )
                                try {
                                  return l.stringifyByChunk(e, r, t)
                                } catch (e) {
                                  t = Math.floor(t / 2)
                                }
                            return l.stringifyByChar(e)
                          }
                          function d(e, t) {
                            for (var n = 0; n < e.length; n++) t[n] = e[n]
                            return t
                          }
                          n.applyFromCharCode = c
                          var h = {}
                          ;((h.string = {
                            string: s,
                            array: function (e) {
                              return u(e, new Array(e.length))
                            },
                            arraybuffer: function (e) {
                              return h.string.uint8array(e).buffer
                            },
                            uint8array: function (e) {
                              return u(e, new Uint8Array(e.length))
                            },
                            nodebuffer: function (e) {
                              return u(e, a.allocBuffer(e.length))
                            },
                          }),
                            (h.array = {
                              string: c,
                              array: s,
                              arraybuffer: function (e) {
                                return new Uint8Array(e).buffer
                              },
                              uint8array: function (e) {
                                return new Uint8Array(e)
                              },
                              nodebuffer: function (e) {
                                return a.newBufferFrom(e)
                              },
                            }),
                            (h.arraybuffer = {
                              string: function (e) {
                                return c(new Uint8Array(e))
                              },
                              array: function (e) {
                                return d(new Uint8Array(e), new Array(e.byteLength))
                              },
                              arraybuffer: s,
                              uint8array: function (e) {
                                return new Uint8Array(e)
                              },
                              nodebuffer: function (e) {
                                return a.newBufferFrom(new Uint8Array(e))
                              },
                            }),
                            (h.uint8array = {
                              string: c,
                              array: function (e) {
                                return d(e, new Array(e.length))
                              },
                              arraybuffer: function (e) {
                                return e.buffer
                              },
                              uint8array: s,
                              nodebuffer: function (e) {
                                return a.newBufferFrom(e)
                              },
                            }),
                            (h.nodebuffer = {
                              string: c,
                              array: function (e) {
                                return d(e, new Array(e.length))
                              },
                              arraybuffer: function (e) {
                                return h.nodebuffer.uint8array(e).buffer
                              },
                              uint8array: function (e) {
                                return d(e, new Uint8Array(e.length))
                              },
                              nodebuffer: s,
                            }),
                            (n.transformTo = function (e, t) {
                              if (((t = t || ''), !e)) return t
                              n.checkSupport(e)
                              var r = n.getTypeOf(t)
                              return h[r][e](t)
                            }),
                            (n.resolve = function (e) {
                              for (var t = e.split('/'), n = [], r = 0; r < t.length; r++) {
                                var i = t[r]
                                '.' === i ||
                                  ('' === i && 0 !== r && r !== t.length - 1) ||
                                  ('..' === i ? n.pop() : n.push(i))
                              }
                              return n.join('/')
                            }),
                            (n.getTypeOf = function (e) {
                              return 'string' == typeof e
                                ? 'string'
                                : '[object Array]' === Object.prototype.toString.call(e)
                                  ? 'array'
                                  : r.nodebuffer && a.isBuffer(e)
                                    ? 'nodebuffer'
                                    : r.uint8array && e instanceof Uint8Array
                                      ? 'uint8array'
                                      : r.arraybuffer && e instanceof ArrayBuffer
                                        ? 'arraybuffer'
                                        : void 0
                            }),
                            (n.checkSupport = function (e) {
                              if (!r[e.toLowerCase()])
                                throw new Error(e + ' is not supported by this platform')
                            }),
                            (n.MAX_VALUE_16BITS = 65535),
                            (n.MAX_VALUE_32BITS = -1),
                            (n.pretty = function (e) {
                              var t,
                                n,
                                r = ''
                              for (n = 0; n < (e || '').length; n++)
                                r +=
                                  '\\x' +
                                  ((t = e.charCodeAt(n)) < 16 ? '0' : '') +
                                  t.toString(16).toUpperCase()
                              return r
                            }),
                            (n.delay = function (e, t, n) {
                              setImmediate(function () {
                                e.apply(n || null, t || [])
                              })
                            }),
                            (n.inherits = function (e, t) {
                              function n() {}
                              ;((n.prototype = t.prototype), (e.prototype = new n()))
                            }),
                            (n.extend = function () {
                              var e,
                                t,
                                n = {}
                              for (e = 0; e < arguments.length; e++)
                                for (t in arguments[e])
                                  Object.prototype.hasOwnProperty.call(arguments[e], t) &&
                                    void 0 === n[t] &&
                                    (n[t] = arguments[e][t])
                              return n
                            }),
                            (n.prepareContent = function (e, t, a, s, l) {
                              return o.Promise.resolve(t)
                                .then(function (e) {
                                  return r.blob &&
                                    (e instanceof Blob ||
                                      -1 !==
                                        ['[object File]', '[object Blob]'].indexOf(
                                          Object.prototype.toString.call(e)
                                        )) &&
                                    'undefined' != typeof FileReader
                                    ? new o.Promise(function (t, n) {
                                        var r = new FileReader()
                                        ;((r.onload = function (e) {
                                          t(e.target.result)
                                        }),
                                          (r.onerror = function (e) {
                                            n(e.target.error)
                                          }),
                                          r.readAsArrayBuffer(e))
                                      })
                                    : e
                                })
                                .then(function (t) {
                                  var c = n.getTypeOf(t)
                                  return c
                                    ? ('arraybuffer' === c
                                        ? (t = n.transformTo('uint8array', t))
                                        : 'string' === c &&
                                          (l
                                            ? (t = i.decode(t))
                                            : a &&
                                              !0 !== s &&
                                              (t = (function (e) {
                                                return u(
                                                  e,
                                                  r.uint8array
                                                    ? new Uint8Array(e.length)
                                                    : new Array(e.length)
                                                )
                                              })(t))),
                                      t)
                                    : o.Promise.reject(
                                        new Error(
                                          "Can't read the data of '" +
                                            e +
                                            "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"
                                        )
                                      )
                                })
                            }))
                        },
                        {
                          './base64': 1,
                          './external': 6,
                          './nodejsUtils': 14,
                          './support': 30,
                          setimmediate: 54,
                        },
                      ],
                      33: [
                        function (e, t, n) {
                          var r = e('./reader/readerFor'),
                            i = e('./utils'),
                            a = e('./signature'),
                            o = e('./zipEntry'),
                            s = e('./support')
                          function u(e) {
                            ;((this.files = []), (this.loadOptions = e))
                          }
                          ;((u.prototype = {
                            checkSignature: function (e) {
                              if (!this.reader.readAndCheckSignature(e)) {
                                this.reader.index -= 4
                                var t = this.reader.readString(4)
                                throw new Error(
                                  'Corrupted zip or bug: unexpected signature (' +
                                    i.pretty(t) +
                                    ', expected ' +
                                    i.pretty(e) +
                                    ')'
                                )
                              }
                            },
                            isSignature: function (e, t) {
                              var n = this.reader.index
                              this.reader.setIndex(e)
                              var r = this.reader.readString(4) === t
                              return (this.reader.setIndex(n), r)
                            },
                            readBlockEndOfCentral: function () {
                              ;((this.diskNumber = this.reader.readInt(2)),
                                (this.diskWithCentralDirStart = this.reader.readInt(2)),
                                (this.centralDirRecordsOnThisDisk = this.reader.readInt(2)),
                                (this.centralDirRecords = this.reader.readInt(2)),
                                (this.centralDirSize = this.reader.readInt(4)),
                                (this.centralDirOffset = this.reader.readInt(4)),
                                (this.zipCommentLength = this.reader.readInt(2)))
                              var e = this.reader.readData(this.zipCommentLength),
                                t = s.uint8array ? 'uint8array' : 'array',
                                n = i.transformTo(t, e)
                              this.zipComment = this.loadOptions.decodeFileName(n)
                            },
                            readBlockZip64EndOfCentral: function () {
                              ;((this.zip64EndOfCentralSize = this.reader.readInt(8)),
                                this.reader.skip(4),
                                (this.diskNumber = this.reader.readInt(4)),
                                (this.diskWithCentralDirStart = this.reader.readInt(4)),
                                (this.centralDirRecordsOnThisDisk = this.reader.readInt(8)),
                                (this.centralDirRecords = this.reader.readInt(8)),
                                (this.centralDirSize = this.reader.readInt(8)),
                                (this.centralDirOffset = this.reader.readInt(8)),
                                (this.zip64ExtensibleData = {}))
                              for (var e, t, n, r = this.zip64EndOfCentralSize - 44; 0 < r; )
                                ((e = this.reader.readInt(2)),
                                  (t = this.reader.readInt(4)),
                                  (n = this.reader.readData(t)),
                                  (this.zip64ExtensibleData[e] = { id: e, length: t, value: n }))
                            },
                            readBlockZip64EndOfCentralLocator: function () {
                              if (
                                ((this.diskWithZip64CentralDirStart = this.reader.readInt(4)),
                                (this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8)),
                                (this.disksCount = this.reader.readInt(4)),
                                1 < this.disksCount)
                              )
                                throw new Error('Multi-volumes zip are not supported')
                            },
                            readLocalFiles: function () {
                              var e, t
                              for (e = 0; e < this.files.length; e++)
                                ((t = this.files[e]),
                                  this.reader.setIndex(t.localHeaderOffset),
                                  this.checkSignature(a.LOCAL_FILE_HEADER),
                                  t.readLocalPart(this.reader),
                                  t.handleUTF8(),
                                  t.processAttributes())
                            },
                            readCentralDir: function () {
                              var e
                              for (
                                this.reader.setIndex(this.centralDirOffset);
                                this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);

                              )
                                ((e = new o(
                                  { zip64: this.zip64 },
                                  this.loadOptions
                                )).readCentralPart(this.reader),
                                  this.files.push(e))
                              if (
                                this.centralDirRecords !== this.files.length &&
                                0 !== this.centralDirRecords &&
                                0 === this.files.length
                              )
                                throw new Error(
                                  'Corrupted zip or bug: expected ' +
                                    this.centralDirRecords +
                                    ' records in central dir, got ' +
                                    this.files.length
                                )
                            },
                            readEndOfCentral: function () {
                              var e = this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END)
                              if (e < 0)
                                throw this.isSignature(0, a.LOCAL_FILE_HEADER)
                                  ? new Error("Corrupted zip: can't find end of central directory")
                                  : new Error(
                                      "Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"
                                    )
                              this.reader.setIndex(e)
                              var t = e
                              if (
                                (this.checkSignature(a.CENTRAL_DIRECTORY_END),
                                this.readBlockEndOfCentral(),
                                this.diskNumber === i.MAX_VALUE_16BITS ||
                                  this.diskWithCentralDirStart === i.MAX_VALUE_16BITS ||
                                  this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS ||
                                  this.centralDirRecords === i.MAX_VALUE_16BITS ||
                                  this.centralDirSize === i.MAX_VALUE_32BITS ||
                                  this.centralDirOffset === i.MAX_VALUE_32BITS)
                              ) {
                                if (
                                  ((this.zip64 = !0),
                                  (e = this.reader.lastIndexOfSignature(
                                    a.ZIP64_CENTRAL_DIRECTORY_LOCATOR
                                  )) < 0)
                                )
                                  throw new Error(
                                    "Corrupted zip: can't find the ZIP64 end of central directory locator"
                                  )
                                if (
                                  (this.reader.setIndex(e),
                                  this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),
                                  this.readBlockZip64EndOfCentralLocator(),
                                  !this.isSignature(
                                    this.relativeOffsetEndOfZip64CentralDir,
                                    a.ZIP64_CENTRAL_DIRECTORY_END
                                  ) &&
                                    ((this.relativeOffsetEndOfZip64CentralDir =
                                      this.reader.lastIndexOfSignature(
                                        a.ZIP64_CENTRAL_DIRECTORY_END
                                      )),
                                    this.relativeOffsetEndOfZip64CentralDir < 0))
                                )
                                  throw new Error(
                                    "Corrupted zip: can't find the ZIP64 end of central directory"
                                  )
                                ;(this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),
                                  this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),
                                  this.readBlockZip64EndOfCentral())
                              }
                              var n = this.centralDirOffset + this.centralDirSize
                              this.zip64 && ((n += 20), (n += 12 + this.zip64EndOfCentralSize))
                              var r = t - n
                              if (0 < r)
                                this.isSignature(t, a.CENTRAL_FILE_HEADER) || (this.reader.zero = r)
                              else if (r < 0)
                                throw new Error('Corrupted zip: missing ' + Math.abs(r) + ' bytes.')
                            },
                            prepareReader: function (e) {
                              this.reader = r(e)
                            },
                            load: function (e) {
                              ;(this.prepareReader(e),
                                this.readEndOfCentral(),
                                this.readCentralDir(),
                                this.readLocalFiles())
                            },
                          }),
                            (t.exports = u))
                        },
                        {
                          './reader/readerFor': 22,
                          './signature': 23,
                          './support': 30,
                          './utils': 32,
                          './zipEntry': 34,
                        },
                      ],
                      34: [
                        function (e, t, n) {
                          var r = e('./reader/readerFor'),
                            i = e('./utils'),
                            a = e('./compressedObject'),
                            o = e('./crc32'),
                            s = e('./utf8'),
                            u = e('./compressions'),
                            l = e('./support')
                          function c(e, t) {
                            ;((this.options = e), (this.loadOptions = t))
                          }
                          ;((c.prototype = {
                            isEncrypted: function () {
                              return !(1 & ~this.bitFlag)
                            },
                            useUTF8: function () {
                              return !(2048 & ~this.bitFlag)
                            },
                            readLocalPart: function (e) {
                              var t, n
                              if (
                                (e.skip(22),
                                (this.fileNameLength = e.readInt(2)),
                                (n = e.readInt(2)),
                                (this.fileName = e.readData(this.fileNameLength)),
                                e.skip(n),
                                -1 === this.compressedSize || -1 === this.uncompressedSize)
                              )
                                throw new Error(
                                  "Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)"
                                )
                              if (
                                null ===
                                (t = (function (e) {
                                  for (var t in u)
                                    if (
                                      Object.prototype.hasOwnProperty.call(u, t) &&
                                      u[t].magic === e
                                    )
                                      return u[t]
                                  return null
                                })(this.compressionMethod))
                              )
                                throw new Error(
                                  'Corrupted zip : compression ' +
                                    i.pretty(this.compressionMethod) +
                                    ' unknown (inner file : ' +
                                    i.transformTo('string', this.fileName) +
                                    ')'
                                )
                              this.decompressed = new a(
                                this.compressedSize,
                                this.uncompressedSize,
                                this.crc32,
                                t,
                                e.readData(this.compressedSize)
                              )
                            },
                            readCentralPart: function (e) {
                              ;((this.versionMadeBy = e.readInt(2)),
                                e.skip(2),
                                (this.bitFlag = e.readInt(2)),
                                (this.compressionMethod = e.readString(2)),
                                (this.date = e.readDate()),
                                (this.crc32 = e.readInt(4)),
                                (this.compressedSize = e.readInt(4)),
                                (this.uncompressedSize = e.readInt(4)))
                              var t = e.readInt(2)
                              if (
                                ((this.extraFieldsLength = e.readInt(2)),
                                (this.fileCommentLength = e.readInt(2)),
                                (this.diskNumberStart = e.readInt(2)),
                                (this.internalFileAttributes = e.readInt(2)),
                                (this.externalFileAttributes = e.readInt(4)),
                                (this.localHeaderOffset = e.readInt(4)),
                                this.isEncrypted())
                              )
                                throw new Error('Encrypted zip are not supported')
                              ;(e.skip(t),
                                this.readExtraFields(e),
                                this.parseZIP64ExtraField(e),
                                (this.fileComment = e.readData(this.fileCommentLength)))
                            },
                            processAttributes: function () {
                              ;((this.unixPermissions = null), (this.dosPermissions = null))
                              var e = this.versionMadeBy >> 8
                              ;((this.dir = !!(16 & this.externalFileAttributes)),
                                0 == e && (this.dosPermissions = 63 & this.externalFileAttributes),
                                3 == e &&
                                  (this.unixPermissions =
                                    (this.externalFileAttributes >> 16) & 65535),
                                this.dir || '/' !== this.fileNameStr.slice(-1) || (this.dir = !0))
                            },
                            parseZIP64ExtraField: function () {
                              if (this.extraFields[1]) {
                                var e = r(this.extraFields[1].value)
                                ;(this.uncompressedSize === i.MAX_VALUE_32BITS &&
                                  (this.uncompressedSize = e.readInt(8)),
                                  this.compressedSize === i.MAX_VALUE_32BITS &&
                                    (this.compressedSize = e.readInt(8)),
                                  this.localHeaderOffset === i.MAX_VALUE_32BITS &&
                                    (this.localHeaderOffset = e.readInt(8)),
                                  this.diskNumberStart === i.MAX_VALUE_32BITS &&
                                    (this.diskNumberStart = e.readInt(4)))
                              }
                            },
                            readExtraFields: function (e) {
                              var t,
                                n,
                                r,
                                i = e.index + this.extraFieldsLength
                              for (this.extraFields || (this.extraFields = {}); e.index + 4 < i; )
                                ((t = e.readInt(2)),
                                  (n = e.readInt(2)),
                                  (r = e.readData(n)),
                                  (this.extraFields[t] = { id: t, length: n, value: r }))
                              e.setIndex(i)
                            },
                            handleUTF8: function () {
                              var e = l.uint8array ? 'uint8array' : 'array'
                              if (this.useUTF8())
                                ((this.fileNameStr = s.utf8decode(this.fileName)),
                                  (this.fileCommentStr = s.utf8decode(this.fileComment)))
                              else {
                                var t = this.findExtraFieldUnicodePath()
                                if (null !== t) this.fileNameStr = t
                                else {
                                  var n = i.transformTo(e, this.fileName)
                                  this.fileNameStr = this.loadOptions.decodeFileName(n)
                                }
                                var r = this.findExtraFieldUnicodeComment()
                                if (null !== r) this.fileCommentStr = r
                                else {
                                  var a = i.transformTo(e, this.fileComment)
                                  this.fileCommentStr = this.loadOptions.decodeFileName(a)
                                }
                              }
                            },
                            findExtraFieldUnicodePath: function () {
                              var e = this.extraFields[28789]
                              if (e) {
                                var t = r(e.value)
                                return 1 !== t.readInt(1) || o(this.fileName) !== t.readInt(4)
                                  ? null
                                  : s.utf8decode(t.readData(e.length - 5))
                              }
                              return null
                            },
                            findExtraFieldUnicodeComment: function () {
                              var e = this.extraFields[25461]
                              if (e) {
                                var t = r(e.value)
                                return 1 !== t.readInt(1) || o(this.fileComment) !== t.readInt(4)
                                  ? null
                                  : s.utf8decode(t.readData(e.length - 5))
                              }
                              return null
                            },
                          }),
                            (t.exports = c))
                        },
                        {
                          './compressedObject': 2,
                          './compressions': 3,
                          './crc32': 4,
                          './reader/readerFor': 22,
                          './support': 30,
                          './utf8': 31,
                          './utils': 32,
                        },
                      ],
                      35: [
                        function (e, t, n) {
                          function r(e, t, n) {
                            ;((this.name = e),
                              (this.dir = n.dir),
                              (this.date = n.date),
                              (this.comment = n.comment),
                              (this.unixPermissions = n.unixPermissions),
                              (this.dosPermissions = n.dosPermissions),
                              (this._data = t),
                              (this._dataBinary = n.binary),
                              (this.options = {
                                compression: n.compression,
                                compressionOptions: n.compressionOptions,
                              }))
                          }
                          var i = e('./stream/StreamHelper'),
                            a = e('./stream/DataWorker'),
                            o = e('./utf8'),
                            s = e('./compressedObject'),
                            u = e('./stream/GenericWorker')
                          r.prototype = {
                            internalStream: function (e) {
                              var t = null,
                                n = 'string'
                              try {
                                if (!e) throw new Error('No output type specified.')
                                var r = 'string' === (n = e.toLowerCase()) || 'text' === n
                                ;(('binarystring' !== n && 'text' !== n) || (n = 'string'),
                                  (t = this._decompressWorker()))
                                var a = !this._dataBinary
                                ;(a && !r && (t = t.pipe(new o.Utf8EncodeWorker())),
                                  !a && r && (t = t.pipe(new o.Utf8DecodeWorker())))
                              } catch (e) {
                                ;(t = new u('error')).error(e)
                              }
                              return new i(t, n, '')
                            },
                            async: function (e, t) {
                              return this.internalStream(e).accumulate(t)
                            },
                            nodeStream: function (e, t) {
                              return this.internalStream(e || 'nodebuffer').toNodejsStream(t)
                            },
                            _compressWorker: function (e, t) {
                              if (
                                this._data instanceof s &&
                                this._data.compression.magic === e.magic
                              )
                                return this._data.getCompressedWorker()
                              var n = this._decompressWorker()
                              return (
                                this._dataBinary || (n = n.pipe(new o.Utf8EncodeWorker())),
                                s.createWorkerFrom(n, e, t)
                              )
                            },
                            _decompressWorker: function () {
                              return this._data instanceof s
                                ? this._data.getContentWorker()
                                : this._data instanceof u
                                  ? this._data
                                  : new a(this._data)
                            },
                          }
                          for (
                            var l = [
                                'asText',
                                'asBinary',
                                'asNodeBuffer',
                                'asUint8Array',
                                'asArrayBuffer',
                              ],
                              c = function () {
                                throw new Error(
                                  'This method has been removed in JSZip 3.0, please check the upgrade guide.'
                                )
                              },
                              d = 0;
                            d < l.length;
                            d++
                          )
                            r.prototype[l[d]] = c
                          t.exports = r
                        },
                        {
                          './compressedObject': 2,
                          './stream/DataWorker': 27,
                          './stream/GenericWorker': 28,
                          './stream/StreamHelper': 29,
                          './utf8': 31,
                        },
                      ],
                      36: [
                        function (e, t, n) {
                          ;(function (e) {
                            var n,
                              r,
                              i = e.MutationObserver || e.WebKitMutationObserver
                            if (i) {
                              var a = 0,
                                o = new i(c),
                                s = e.document.createTextNode('')
                              ;(o.observe(s, { characterData: !0 }),
                                (n = function () {
                                  s.data = a = ++a % 2
                                }))
                            } else if (e.setImmediate || void 0 === e.MessageChannel)
                              n =
                                'document' in e &&
                                'onreadystatechange' in e.document.createElement('script')
                                  ? function () {
                                      var t = e.document.createElement('script')
                                      ;((t.onreadystatechange = function () {
                                        ;(c(),
                                          (t.onreadystatechange = null),
                                          t.parentNode.removeChild(t),
                                          (t = null))
                                      }),
                                        e.document.documentElement.appendChild(t))
                                    }
                                  : function () {
                                      setTimeout(c, 0)
                                    }
                            else {
                              var u = new e.MessageChannel()
                              ;((u.port1.onmessage = c),
                                (n = function () {
                                  u.port2.postMessage(0)
                                }))
                            }
                            var l = []
                            function c() {
                              var e, t
                              r = !0
                              for (var n = l.length; n; ) {
                                for (t = l, l = [], e = -1; ++e < n; ) t[e]()
                                n = l.length
                              }
                              r = !1
                            }
                            t.exports = function (e) {
                              1 !== l.push(e) || r || n()
                            }
                          }).call(
                            this,
                            void 0 !== iU
                              ? iU
                              : 'undefined' != typeof self
                                ? self
                                : 'undefined' != typeof window
                                  ? window
                                  : {}
                          )
                        },
                        {},
                      ],
                      37: [
                        function (e, t, n) {
                          var r = e('immediate')
                          function i() {}
                          var a = {},
                            o = ['REJECTED'],
                            s = ['FULFILLED'],
                            u = ['PENDING']
                          function l(e) {
                            if ('function' != typeof e)
                              throw new TypeError('resolver must be a function')
                            ;((this.state = u),
                              (this.queue = []),
                              (this.outcome = void 0),
                              e !== i && f(this, e))
                          }
                          function c(e, t, n) {
                            ;((this.promise = e),
                              'function' == typeof t &&
                                ((this.onFulfilled = t),
                                (this.callFulfilled = this.otherCallFulfilled)),
                              'function' == typeof n &&
                                ((this.onRejected = n),
                                (this.callRejected = this.otherCallRejected)))
                          }
                          function d(e, t, n) {
                            r(function () {
                              var r
                              try {
                                r = t(n)
                              } catch (r) {
                                return a.reject(e, r)
                              }
                              r === e
                                ? a.reject(e, new TypeError('Cannot resolve promise with itself'))
                                : a.resolve(e, r)
                            })
                          }
                          function h(e) {
                            var t = e && e.then
                            if (
                              e &&
                              ('object' == P(e) || 'function' == typeof e) &&
                              'function' == typeof t
                            )
                              return function () {
                                t.apply(e, arguments)
                              }
                          }
                          function f(e, t) {
                            var n = !1
                            function r(t) {
                              n || ((n = !0), a.reject(e, t))
                            }
                            function i(t) {
                              n || ((n = !0), a.resolve(e, t))
                            }
                            var o = p(function () {
                              t(i, r)
                            })
                            'error' === o.status && r(o.value)
                          }
                          function p(e, t) {
                            var n = {}
                            try {
                              ;((n.value = e(t)), (n.status = 'success'))
                            } catch (e) {
                              ;((n.status = 'error'), (n.value = e))
                            }
                            return n
                          }
                          ;(((t.exports = l).prototype.finally = function (e) {
                            if ('function' != typeof e) return this
                            var t = this.constructor
                            return this.then(
                              function (n) {
                                return t.resolve(e()).then(function () {
                                  return n
                                })
                              },
                              function (n) {
                                return t.resolve(e()).then(function () {
                                  throw n
                                })
                              }
                            )
                          }),
                            (l.prototype.catch = function (e) {
                              return this.then(null, e)
                            }),
                            (l.prototype.then = function (e, t) {
                              if (
                                ('function' != typeof e && this.state === s) ||
                                ('function' != typeof t && this.state === o)
                              )
                                return this
                              var n = new this.constructor(i)
                              return (
                                this.state !== u
                                  ? d(n, this.state === s ? e : t, this.outcome)
                                  : this.queue.push(new c(n, e, t)),
                                n
                              )
                            }),
                            (c.prototype.callFulfilled = function (e) {
                              a.resolve(this.promise, e)
                            }),
                            (c.prototype.otherCallFulfilled = function (e) {
                              d(this.promise, this.onFulfilled, e)
                            }),
                            (c.prototype.callRejected = function (e) {
                              a.reject(this.promise, e)
                            }),
                            (c.prototype.otherCallRejected = function (e) {
                              d(this.promise, this.onRejected, e)
                            }),
                            (a.resolve = function (e, t) {
                              var n = p(h, t)
                              if ('error' === n.status) return a.reject(e, n.value)
                              var r = n.value
                              if (r) f(e, r)
                              else {
                                ;((e.state = s), (e.outcome = t))
                                for (var i = -1, o = e.queue.length; ++i < o; )
                                  e.queue[i].callFulfilled(t)
                              }
                              return e
                            }),
                            (a.reject = function (e, t) {
                              ;((e.state = o), (e.outcome = t))
                              for (var n = -1, r = e.queue.length; ++n < r; )
                                e.queue[n].callRejected(t)
                              return e
                            }),
                            (l.resolve = function (e) {
                              return e instanceof this ? e : a.resolve(new this(i), e)
                            }),
                            (l.reject = function (e) {
                              var t = new this(i)
                              return a.reject(t, e)
                            }),
                            (l.all = function (e) {
                              var t = this
                              if ('[object Array]' !== Object.prototype.toString.call(e))
                                return this.reject(new TypeError('must be an array'))
                              var n = e.length,
                                r = !1
                              if (!n) return this.resolve([])
                              for (var o = new Array(n), s = 0, u = -1, l = new this(i); ++u < n; )
                                c(e[u], u)
                              return l
                              function c(e, i) {
                                t.resolve(e).then(
                                  function (e) {
                                    ;((o[i] = e), ++s !== n || r || ((r = !0), a.resolve(l, o)))
                                  },
                                  function (e) {
                                    r || ((r = !0), a.reject(l, e))
                                  }
                                )
                              }
                            }),
                            (l.race = function (e) {
                              var t = this
                              if ('[object Array]' !== Object.prototype.toString.call(e))
                                return this.reject(new TypeError('must be an array'))
                              var n = e.length,
                                r = !1
                              if (!n) return this.resolve([])
                              for (var o, s = -1, u = new this(i); ++s < n; )
                                ((o = e[s]),
                                  t.resolve(o).then(
                                    function (e) {
                                      r || ((r = !0), a.resolve(u, e))
                                    },
                                    function (e) {
                                      r || ((r = !0), a.reject(u, e))
                                    }
                                  ))
                              return u
                            }))
                        },
                        { immediate: 36 },
                      ],
                      38: [
                        function (e, t, n) {
                          var r = {}
                          ;((0, e('./lib/utils/common').assign)(
                            r,
                            e('./lib/deflate'),
                            e('./lib/inflate'),
                            e('./lib/zlib/constants')
                          ),
                            (t.exports = r))
                        },
                        {
                          './lib/deflate': 39,
                          './lib/inflate': 40,
                          './lib/utils/common': 41,
                          './lib/zlib/constants': 44,
                        },
                      ],
                      39: [
                        function (e, t, n) {
                          var r = e('./zlib/deflate'),
                            i = e('./utils/common'),
                            a = e('./utils/strings'),
                            o = e('./zlib/messages'),
                            s = e('./zlib/zstream'),
                            u = Object.prototype.toString,
                            l = 0,
                            c = -1,
                            d = 0,
                            h = 8
                          function f(e) {
                            if (!(this instanceof f)) return new f(e)
                            this.options = i.assign(
                              {
                                level: c,
                                method: h,
                                chunkSize: 16384,
                                windowBits: 15,
                                memLevel: 8,
                                strategy: d,
                                to: '',
                              },
                              e || {}
                            )
                            var t = this.options
                            ;(t.raw && 0 < t.windowBits
                              ? (t.windowBits = -t.windowBits)
                              : t.gzip &&
                                0 < t.windowBits &&
                                t.windowBits < 16 &&
                                (t.windowBits += 16),
                              (this.err = 0),
                              (this.msg = ''),
                              (this.ended = !1),
                              (this.chunks = []),
                              (this.strm = new s()),
                              (this.strm.avail_out = 0))
                            var n = r.deflateInit2(
                              this.strm,
                              t.level,
                              t.method,
                              t.windowBits,
                              t.memLevel,
                              t.strategy
                            )
                            if (n !== l) throw new Error(o[n])
                            if (
                              (t.header && r.deflateSetHeader(this.strm, t.header), t.dictionary)
                            ) {
                              var p
                              if (
                                ((p =
                                  'string' == typeof t.dictionary
                                    ? a.string2buf(t.dictionary)
                                    : '[object ArrayBuffer]' === u.call(t.dictionary)
                                      ? new Uint8Array(t.dictionary)
                                      : t.dictionary),
                                (n = r.deflateSetDictionary(this.strm, p)) !== l)
                              )
                                throw new Error(o[n])
                              this._dict_set = !0
                            }
                          }
                          function p(e, t) {
                            var n = new f(t)
                            if ((n.push(e, !0), n.err)) throw n.msg || o[n.err]
                            return n.result
                          }
                          ;((f.prototype.push = function (e, t) {
                            var n,
                              o,
                              s = this.strm,
                              c = this.options.chunkSize
                            if (this.ended) return !1
                            ;((o = t === ~~t ? t : !0 === t ? 4 : 0),
                              'string' == typeof e
                                ? (s.input = a.string2buf(e))
                                : '[object ArrayBuffer]' === u.call(e)
                                  ? (s.input = new Uint8Array(e))
                                  : (s.input = e),
                              (s.next_in = 0),
                              (s.avail_in = s.input.length))
                            do {
                              if (
                                (0 === s.avail_out &&
                                  ((s.output = new i.Buf8(c)), (s.next_out = 0), (s.avail_out = c)),
                                1 !== (n = r.deflate(s, o)) && n !== l)
                              )
                                return (this.onEnd(n), !(this.ended = !0))
                              ;(0 !== s.avail_out && (0 !== s.avail_in || (4 !== o && 2 !== o))) ||
                                ('string' === this.options.to
                                  ? this.onData(a.buf2binstring(i.shrinkBuf(s.output, s.next_out)))
                                  : this.onData(i.shrinkBuf(s.output, s.next_out)))
                            } while ((0 < s.avail_in || 0 === s.avail_out) && 1 !== n)
                            return 4 === o
                              ? ((n = r.deflateEnd(this.strm)),
                                this.onEnd(n),
                                (this.ended = !0),
                                n === l)
                              : 2 !== o || (this.onEnd(l), !(s.avail_out = 0))
                          }),
                            (f.prototype.onData = function (e) {
                              this.chunks.push(e)
                            }),
                            (f.prototype.onEnd = function (e) {
                              ;(e === l &&
                                ('string' === this.options.to
                                  ? (this.result = this.chunks.join(''))
                                  : (this.result = i.flattenChunks(this.chunks))),
                                (this.chunks = []),
                                (this.err = e),
                                (this.msg = this.strm.msg))
                            }),
                            (n.Deflate = f),
                            (n.deflate = p),
                            (n.deflateRaw = function (e, t) {
                              return (((t = t || {}).raw = !0), p(e, t))
                            }),
                            (n.gzip = function (e, t) {
                              return (((t = t || {}).gzip = !0), p(e, t))
                            }))
                        },
                        {
                          './utils/common': 41,
                          './utils/strings': 42,
                          './zlib/deflate': 46,
                          './zlib/messages': 51,
                          './zlib/zstream': 53,
                        },
                      ],
                      40: [
                        function (e, t, n) {
                          var r = e('./zlib/inflate'),
                            i = e('./utils/common'),
                            a = e('./utils/strings'),
                            o = e('./zlib/constants'),
                            s = e('./zlib/messages'),
                            u = e('./zlib/zstream'),
                            l = e('./zlib/gzheader'),
                            c = Object.prototype.toString
                          function d(e) {
                            if (!(this instanceof d)) return new d(e)
                            this.options = i.assign(
                              { chunkSize: 16384, windowBits: 0, to: '' },
                              e || {}
                            )
                            var t = this.options
                            ;(t.raw &&
                              0 <= t.windowBits &&
                              t.windowBits < 16 &&
                              ((t.windowBits = -t.windowBits),
                              0 === t.windowBits && (t.windowBits = -15)),
                              !(0 <= t.windowBits && t.windowBits < 16) ||
                                (e && e.windowBits) ||
                                (t.windowBits += 32),
                              15 < t.windowBits &&
                                t.windowBits < 48 &&
                                !(15 & t.windowBits) &&
                                (t.windowBits |= 15),
                              (this.err = 0),
                              (this.msg = ''),
                              (this.ended = !1),
                              (this.chunks = []),
                              (this.strm = new u()),
                              (this.strm.avail_out = 0))
                            var n = r.inflateInit2(this.strm, t.windowBits)
                            if (n !== o.Z_OK) throw new Error(s[n])
                            ;((this.header = new l()), r.inflateGetHeader(this.strm, this.header))
                          }
                          function h(e, t) {
                            var n = new d(t)
                            if ((n.push(e, !0), n.err)) throw n.msg || s[n.err]
                            return n.result
                          }
                          ;((d.prototype.push = function (e, t) {
                            var n,
                              s,
                              u,
                              l,
                              d,
                              h,
                              f = this.strm,
                              p = this.options.chunkSize,
                              v = this.options.dictionary,
                              m = !1
                            if (this.ended) return !1
                            ;((s = t === ~~t ? t : !0 === t ? o.Z_FINISH : o.Z_NO_FLUSH),
                              'string' == typeof e
                                ? (f.input = a.binstring2buf(e))
                                : '[object ArrayBuffer]' === c.call(e)
                                  ? (f.input = new Uint8Array(e))
                                  : (f.input = e),
                              (f.next_in = 0),
                              (f.avail_in = f.input.length))
                            do {
                              if (
                                (0 === f.avail_out &&
                                  ((f.output = new i.Buf8(p)), (f.next_out = 0), (f.avail_out = p)),
                                (n = r.inflate(f, o.Z_NO_FLUSH)) === o.Z_NEED_DICT &&
                                  v &&
                                  ((h =
                                    'string' == typeof v
                                      ? a.string2buf(v)
                                      : '[object ArrayBuffer]' === c.call(v)
                                        ? new Uint8Array(v)
                                        : v),
                                  (n = r.inflateSetDictionary(this.strm, h))),
                                n === o.Z_BUF_ERROR && !0 === m && ((n = o.Z_OK), (m = !1)),
                                n !== o.Z_STREAM_END && n !== o.Z_OK)
                              )
                                return (this.onEnd(n), !(this.ended = !0))
                              ;(f.next_out &&
                                ((0 !== f.avail_out &&
                                  n !== o.Z_STREAM_END &&
                                  (0 !== f.avail_in ||
                                    (s !== o.Z_FINISH && s !== o.Z_SYNC_FLUSH))) ||
                                  ('string' === this.options.to
                                    ? ((u = a.utf8border(f.output, f.next_out)),
                                      (l = f.next_out - u),
                                      (d = a.buf2string(f.output, u)),
                                      (f.next_out = l),
                                      (f.avail_out = p - l),
                                      l && i.arraySet(f.output, f.output, u, l, 0),
                                      this.onData(d))
                                    : this.onData(i.shrinkBuf(f.output, f.next_out)))),
                                0 === f.avail_in && 0 === f.avail_out && (m = !0))
                            } while ((0 < f.avail_in || 0 === f.avail_out) && n !== o.Z_STREAM_END)
                            return (
                              n === o.Z_STREAM_END && (s = o.Z_FINISH),
                              s === o.Z_FINISH
                                ? ((n = r.inflateEnd(this.strm)),
                                  this.onEnd(n),
                                  (this.ended = !0),
                                  n === o.Z_OK)
                                : s !== o.Z_SYNC_FLUSH || (this.onEnd(o.Z_OK), !(f.avail_out = 0))
                            )
                          }),
                            (d.prototype.onData = function (e) {
                              this.chunks.push(e)
                            }),
                            (d.prototype.onEnd = function (e) {
                              ;(e === o.Z_OK &&
                                ('string' === this.options.to
                                  ? (this.result = this.chunks.join(''))
                                  : (this.result = i.flattenChunks(this.chunks))),
                                (this.chunks = []),
                                (this.err = e),
                                (this.msg = this.strm.msg))
                            }),
                            (n.Inflate = d),
                            (n.inflate = h),
                            (n.inflateRaw = function (e, t) {
                              return (((t = t || {}).raw = !0), h(e, t))
                            }),
                            (n.ungzip = h))
                        },
                        {
                          './utils/common': 41,
                          './utils/strings': 42,
                          './zlib/constants': 44,
                          './zlib/gzheader': 47,
                          './zlib/inflate': 49,
                          './zlib/messages': 51,
                          './zlib/zstream': 53,
                        },
                      ],
                      41: [
                        function (e, t, n) {
                          var r =
                            'undefined' != typeof Uint8Array &&
                            'undefined' != typeof Uint16Array &&
                            'undefined' != typeof Int32Array
                          ;((n.assign = function (e) {
                            for (var t = Array.prototype.slice.call(arguments, 1); t.length; ) {
                              var n = t.shift()
                              if (n) {
                                if ('object' != P(n)) throw new TypeError(n + 'must be non-object')
                                for (var r in n) n.hasOwnProperty(r) && (e[r] = n[r])
                              }
                            }
                            return e
                          }),
                            (n.shrinkBuf = function (e, t) {
                              return e.length === t
                                ? e
                                : e.subarray
                                  ? e.subarray(0, t)
                                  : ((e.length = t), e)
                            }))
                          var i = {
                              arraySet: function (e, t, n, r, i) {
                                if (t.subarray && e.subarray) e.set(t.subarray(n, n + r), i)
                                else for (var a = 0; a < r; a++) e[i + a] = t[n + a]
                              },
                              flattenChunks: function (e) {
                                var t, n, r, i, a, o
                                for (t = r = 0, n = e.length; t < n; t++) r += e[t].length
                                for (o = new Uint8Array(r), t = i = 0, n = e.length; t < n; t++)
                                  ((a = e[t]), o.set(a, i), (i += a.length))
                                return o
                              },
                            },
                            a = {
                              arraySet: function (e, t, n, r, i) {
                                for (var a = 0; a < r; a++) e[i + a] = t[n + a]
                              },
                              flattenChunks: function (e) {
                                return [].concat.apply([], e)
                              },
                            }
                          ;((n.setTyped = function (e) {
                            e
                              ? ((n.Buf8 = Uint8Array),
                                (n.Buf16 = Uint16Array),
                                (n.Buf32 = Int32Array),
                                n.assign(n, i))
                              : ((n.Buf8 = Array),
                                (n.Buf16 = Array),
                                (n.Buf32 = Array),
                                n.assign(n, a))
                          }),
                            n.setTyped(r))
                        },
                        {},
                      ],
                      42: [
                        function (e, t, n) {
                          var r = e('./common'),
                            i = !0,
                            a = !0
                          try {
                            String.fromCharCode.apply(null, [0])
                          } catch (e) {
                            i = !1
                          }
                          try {
                            String.fromCharCode.apply(null, new Uint8Array(1))
                          } catch (e) {
                            a = !1
                          }
                          for (var o = new r.Buf8(256), s = 0; s < 256; s++)
                            o[s] =
                              252 <= s
                                ? 6
                                : 248 <= s
                                  ? 5
                                  : 240 <= s
                                    ? 4
                                    : 224 <= s
                                      ? 3
                                      : 192 <= s
                                        ? 2
                                        : 1
                          function u(e, t) {
                            if (t < 65537 && ((e.subarray && a) || (!e.subarray && i)))
                              return String.fromCharCode.apply(null, r.shrinkBuf(e, t))
                            for (var n = '', o = 0; o < t; o++) n += String.fromCharCode(e[o])
                            return n
                          }
                          ;((o[254] = o[254] = 1),
                            (n.string2buf = function (e) {
                              var t,
                                n,
                                i,
                                a,
                                o,
                                s = e.length,
                                u = 0
                              for (a = 0; a < s; a++)
                                (55296 == (64512 & (n = e.charCodeAt(a))) &&
                                  a + 1 < s &&
                                  56320 == (64512 & (i = e.charCodeAt(a + 1))) &&
                                  ((n = 65536 + ((n - 55296) << 10) + (i - 56320)), a++),
                                  (u += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4))
                              for (t = new r.Buf8(u), a = o = 0; o < u; a++)
                                (55296 == (64512 & (n = e.charCodeAt(a))) &&
                                  a + 1 < s &&
                                  56320 == (64512 & (i = e.charCodeAt(a + 1))) &&
                                  ((n = 65536 + ((n - 55296) << 10) + (i - 56320)), a++),
                                  n < 128
                                    ? (t[o++] = n)
                                    : (n < 2048
                                        ? (t[o++] = 192 | (n >>> 6))
                                        : (n < 65536
                                            ? (t[o++] = 224 | (n >>> 12))
                                            : ((t[o++] = 240 | (n >>> 18)),
                                              (t[o++] = 128 | ((n >>> 12) & 63))),
                                          (t[o++] = 128 | ((n >>> 6) & 63))),
                                      (t[o++] = 128 | (63 & n))))
                              return t
                            }),
                            (n.buf2binstring = function (e) {
                              return u(e, e.length)
                            }),
                            (n.binstring2buf = function (e) {
                              for (var t = new r.Buf8(e.length), n = 0, i = t.length; n < i; n++)
                                t[n] = e.charCodeAt(n)
                              return t
                            }),
                            (n.buf2string = function (e, t) {
                              var n,
                                r,
                                i,
                                a,
                                s = t || e.length,
                                l = new Array(2 * s)
                              for (n = r = 0; n < s; )
                                if ((i = e[n++]) < 128) l[r++] = i
                                else if (4 < (a = o[i])) ((l[r++] = 65533), (n += a - 1))
                                else {
                                  for (i &= 2 === a ? 31 : 3 === a ? 15 : 7; 1 < a && n < s; )
                                    ((i = (i << 6) | (63 & e[n++])), a--)
                                  1 < a
                                    ? (l[r++] = 65533)
                                    : i < 65536
                                      ? (l[r++] = i)
                                      : ((i -= 65536),
                                        (l[r++] = 55296 | ((i >> 10) & 1023)),
                                        (l[r++] = 56320 | (1023 & i)))
                                }
                              return u(l, r)
                            }),
                            (n.utf8border = function (e, t) {
                              var n
                              for (
                                (t = t || e.length) > e.length && (t = e.length), n = t - 1;
                                0 <= n && 128 == (192 & e[n]);

                              )
                                n--
                              return n < 0 || 0 === n ? t : n + o[e[n]] > t ? n : t
                            }))
                        },
                        { './common': 41 },
                      ],
                      43: [
                        function (e, t, n) {
                          t.exports = function (e, t, n, r) {
                            for (var i = 65535 & e, a = (e >>> 16) & 65535, o = 0; 0 !== n; ) {
                              for (
                                n -= o = 2e3 < n ? 2e3 : n;
                                (a = (a + (i = (i + t[r++]) | 0)) | 0), --o;

                              );
                              ;((i %= 65521), (a %= 65521))
                            }
                            return i | (a << 16)
                          }
                        },
                        {},
                      ],
                      44: [
                        function (e, t, n) {
                          t.exports = {
                            Z_NO_FLUSH: 0,
                            Z_PARTIAL_FLUSH: 1,
                            Z_SYNC_FLUSH: 2,
                            Z_FULL_FLUSH: 3,
                            Z_FINISH: 4,
                            Z_BLOCK: 5,
                            Z_TREES: 6,
                            Z_OK: 0,
                            Z_STREAM_END: 1,
                            Z_NEED_DICT: 2,
                            Z_ERRNO: -1,
                            Z_STREAM_ERROR: -2,
                            Z_DATA_ERROR: -3,
                            Z_BUF_ERROR: -5,
                            Z_NO_COMPRESSION: 0,
                            Z_BEST_SPEED: 1,
                            Z_BEST_COMPRESSION: 9,
                            Z_DEFAULT_COMPRESSION: -1,
                            Z_FILTERED: 1,
                            Z_HUFFMAN_ONLY: 2,
                            Z_RLE: 3,
                            Z_FIXED: 4,
                            Z_DEFAULT_STRATEGY: 0,
                            Z_BINARY: 0,
                            Z_TEXT: 1,
                            Z_UNKNOWN: 2,
                            Z_DEFLATED: 8,
                          }
                        },
                        {},
                      ],
                      45: [
                        function (e, t, n) {
                          var r = (function () {
                            for (var e, t = [], n = 0; n < 256; n++) {
                              e = n
                              for (var r = 0; r < 8; r++)
                                e = 1 & e ? 3988292384 ^ (e >>> 1) : e >>> 1
                              t[n] = e
                            }
                            return t
                          })()
                          t.exports = function (e, t, n, i) {
                            var a = r,
                              o = i + n
                            e ^= -1
                            for (var s = i; s < o; s++) e = (e >>> 8) ^ a[255 & (e ^ t[s])]
                            return -1 ^ e
                          }
                        },
                        {},
                      ],
                      46: [
                        function (e, t, n) {
                          var r,
                            i = e('../utils/common'),
                            a = e('./trees'),
                            o = e('./adler32'),
                            s = e('./crc32'),
                            u = e('./messages'),
                            l = 0,
                            c = 4,
                            d = 0,
                            h = -2,
                            f = -1,
                            p = 4,
                            v = 2,
                            m = 8,
                            g = 9,
                            y = 286,
                            x = 30,
                            _ = 19,
                            b = 2 * y + 1,
                            S = 15,
                            w = 3,
                            A = 258,
                            T = A + w + 1,
                            M = 42,
                            E = 113,
                            C = 1,
                            k = 2,
                            R = 3,
                            I = 4
                          function N(e, t) {
                            return ((e.msg = u[t]), t)
                          }
                          function P(e) {
                            return (e << 1) - (4 < e ? 9 : 0)
                          }
                          function L(e) {
                            for (var t = e.length; 0 <= --t; ) e[t] = 0
                          }
                          function D(e) {
                            var t = e.state,
                              n = t.pending
                            ;(n > e.avail_out && (n = e.avail_out),
                              0 !== n &&
                                (i.arraySet(e.output, t.pending_buf, t.pending_out, n, e.next_out),
                                (e.next_out += n),
                                (t.pending_out += n),
                                (e.total_out += n),
                                (e.avail_out -= n),
                                (t.pending -= n),
                                0 === t.pending && (t.pending_out = 0)))
                          }
                          function O(e, t) {
                            ;(a._tr_flush_block(
                              e,
                              0 <= e.block_start ? e.block_start : -1,
                              e.strstart - e.block_start,
                              t
                            ),
                              (e.block_start = e.strstart),
                              D(e.strm))
                          }
                          function F(e, t) {
                            e.pending_buf[e.pending++] = t
                          }
                          function B(e, t) {
                            ;((e.pending_buf[e.pending++] = (t >>> 8) & 255),
                              (e.pending_buf[e.pending++] = 255 & t))
                          }
                          function U(e, t) {
                            var n,
                              r,
                              i = e.max_chain_length,
                              a = e.strstart,
                              o = e.prev_length,
                              s = e.nice_match,
                              u = e.strstart > e.w_size - T ? e.strstart - (e.w_size - T) : 0,
                              l = e.window,
                              c = e.w_mask,
                              d = e.prev,
                              h = e.strstart + A,
                              f = l[a + o - 1],
                              p = l[a + o]
                            ;(e.prev_length >= e.good_match && (i >>= 2),
                              s > e.lookahead && (s = e.lookahead))
                            do {
                              if (
                                l[(n = t) + o] === p &&
                                l[n + o - 1] === f &&
                                l[n] === l[a] &&
                                l[++n] === l[a + 1]
                              ) {
                                ;((a += 2), n++)
                                do {} while (
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  l[++a] === l[++n] &&
                                  a < h
                                )
                                if (((r = A - (h - a)), (a = h - A), o < r)) {
                                  if (((e.match_start = t), s <= (o = r))) break
                                  ;((f = l[a + o - 1]), (p = l[a + o]))
                                }
                              }
                            } while ((t = d[t & c]) > u && 0 != --i)
                            return o <= e.lookahead ? o : e.lookahead
                          }
                          function z(e) {
                            var t,
                              n,
                              r,
                              a,
                              u,
                              l,
                              c,
                              d,
                              h,
                              f,
                              p = e.w_size
                            do {
                              if (
                                ((a = e.window_size - e.lookahead - e.strstart),
                                e.strstart >= p + (p - T))
                              ) {
                                for (
                                  i.arraySet(e.window, e.window, p, p, 0),
                                    e.match_start -= p,
                                    e.strstart -= p,
                                    e.block_start -= p,
                                    t = n = e.hash_size;
                                  (r = e.head[--t]), (e.head[t] = p <= r ? r - p : 0), --n;

                                );
                                for (
                                  t = n = p;
                                  (r = e.prev[--t]), (e.prev[t] = p <= r ? r - p : 0), --n;

                                );
                                a += p
                              }
                              if (0 === e.strm.avail_in) break
                              if (
                                ((l = e.strm),
                                (c = e.window),
                                (d = e.strstart + e.lookahead),
                                (f = void 0),
                                (h = a) < (f = l.avail_in) && (f = h),
                                (n =
                                  0 === f
                                    ? 0
                                    : ((l.avail_in -= f),
                                      i.arraySet(c, l.input, l.next_in, f, d),
                                      1 === l.state.wrap
                                        ? (l.adler = o(l.adler, c, f, d))
                                        : 2 === l.state.wrap && (l.adler = s(l.adler, c, f, d)),
                                      (l.next_in += f),
                                      (l.total_in += f),
                                      f)),
                                (e.lookahead += n),
                                e.lookahead + e.insert >= w)
                              )
                                for (
                                  u = e.strstart - e.insert,
                                    e.ins_h = e.window[u],
                                    e.ins_h =
                                      ((e.ins_h << e.hash_shift) ^ e.window[u + 1]) & e.hash_mask;
                                  e.insert &&
                                  ((e.ins_h =
                                    ((e.ins_h << e.hash_shift) ^ e.window[u + w - 1]) &
                                    e.hash_mask),
                                  (e.prev[u & e.w_mask] = e.head[e.ins_h]),
                                  (e.head[e.ins_h] = u),
                                  u++,
                                  e.insert--,
                                  !(e.lookahead + e.insert < w));

                                );
                            } while (e.lookahead < T && 0 !== e.strm.avail_in)
                          }
                          function V(e, t) {
                            for (var n, r; ; ) {
                              if (e.lookahead < T) {
                                if ((z(e), e.lookahead < T && t === l)) return C
                                if (0 === e.lookahead) break
                              }
                              if (
                                ((n = 0),
                                e.lookahead >= w &&
                                  ((e.ins_h =
                                    ((e.ins_h << e.hash_shift) ^ e.window[e.strstart + w - 1]) &
                                    e.hash_mask),
                                  (n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h]),
                                  (e.head[e.ins_h] = e.strstart)),
                                0 !== n &&
                                  e.strstart - n <= e.w_size - T &&
                                  (e.match_length = U(e, n)),
                                e.match_length >= w)
                              )
                                if (
                                  ((r = a._tr_tally(
                                    e,
                                    e.strstart - e.match_start,
                                    e.match_length - w
                                  )),
                                  (e.lookahead -= e.match_length),
                                  e.match_length <= e.max_lazy_match && e.lookahead >= w)
                                ) {
                                  for (
                                    e.match_length--;
                                    e.strstart++,
                                      (e.ins_h =
                                        ((e.ins_h << e.hash_shift) ^ e.window[e.strstart + w - 1]) &
                                        e.hash_mask),
                                      (n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h]),
                                      (e.head[e.ins_h] = e.strstart),
                                      0 != --e.match_length;

                                  );
                                  e.strstart++
                                } else
                                  ((e.strstart += e.match_length),
                                    (e.match_length = 0),
                                    (e.ins_h = e.window[e.strstart]),
                                    (e.ins_h =
                                      ((e.ins_h << e.hash_shift) ^ e.window[e.strstart + 1]) &
                                      e.hash_mask))
                              else
                                ((r = a._tr_tally(e, 0, e.window[e.strstart])),
                                  e.lookahead--,
                                  e.strstart++)
                              if (r && (O(e, !1), 0 === e.strm.avail_out)) return C
                            }
                            return (
                              (e.insert = e.strstart < w - 1 ? e.strstart : w - 1),
                              t === c
                                ? (O(e, !0), 0 === e.strm.avail_out ? R : I)
                                : e.last_lit && (O(e, !1), 0 === e.strm.avail_out)
                                  ? C
                                  : k
                            )
                          }
                          function H(e, t) {
                            for (var n, r, i; ; ) {
                              if (e.lookahead < T) {
                                if ((z(e), e.lookahead < T && t === l)) return C
                                if (0 === e.lookahead) break
                              }
                              if (
                                ((n = 0),
                                e.lookahead >= w &&
                                  ((e.ins_h =
                                    ((e.ins_h << e.hash_shift) ^ e.window[e.strstart + w - 1]) &
                                    e.hash_mask),
                                  (n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h]),
                                  (e.head[e.ins_h] = e.strstart)),
                                (e.prev_length = e.match_length),
                                (e.prev_match = e.match_start),
                                (e.match_length = w - 1),
                                0 !== n &&
                                  e.prev_length < e.max_lazy_match &&
                                  e.strstart - n <= e.w_size - T &&
                                  ((e.match_length = U(e, n)),
                                  e.match_length <= 5 &&
                                    (1 === e.strategy ||
                                      (e.match_length === w &&
                                        4096 < e.strstart - e.match_start)) &&
                                    (e.match_length = w - 1)),
                                e.prev_length >= w && e.match_length <= e.prev_length)
                              ) {
                                for (
                                  i = e.strstart + e.lookahead - w,
                                    r = a._tr_tally(
                                      e,
                                      e.strstart - 1 - e.prev_match,
                                      e.prev_length - w
                                    ),
                                    e.lookahead -= e.prev_length - 1,
                                    e.prev_length -= 2;
                                  ++e.strstart <= i &&
                                    ((e.ins_h =
                                      ((e.ins_h << e.hash_shift) ^ e.window[e.strstart + w - 1]) &
                                      e.hash_mask),
                                    (n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h]),
                                    (e.head[e.ins_h] = e.strstart)),
                                    0 != --e.prev_length;

                                );
                                if (
                                  ((e.match_available = 0),
                                  (e.match_length = w - 1),
                                  e.strstart++,
                                  r && (O(e, !1), 0 === e.strm.avail_out))
                                )
                                  return C
                              } else if (e.match_available) {
                                if (
                                  ((r = a._tr_tally(e, 0, e.window[e.strstart - 1])) && O(e, !1),
                                  e.strstart++,
                                  e.lookahead--,
                                  0 === e.strm.avail_out)
                                )
                                  return C
                              } else ((e.match_available = 1), e.strstart++, e.lookahead--)
                            }
                            return (
                              e.match_available &&
                                ((r = a._tr_tally(e, 0, e.window[e.strstart - 1])),
                                (e.match_available = 0)),
                              (e.insert = e.strstart < w - 1 ? e.strstart : w - 1),
                              t === c
                                ? (O(e, !0), 0 === e.strm.avail_out ? R : I)
                                : e.last_lit && (O(e, !1), 0 === e.strm.avail_out)
                                  ? C
                                  : k
                            )
                          }
                          function W(e, t, n, r, i) {
                            ;((this.good_length = e),
                              (this.max_lazy = t),
                              (this.nice_length = n),
                              (this.max_chain = r),
                              (this.func = i))
                          }
                          function G() {
                            ;((this.strm = null),
                              (this.status = 0),
                              (this.pending_buf = null),
                              (this.pending_buf_size = 0),
                              (this.pending_out = 0),
                              (this.pending = 0),
                              (this.wrap = 0),
                              (this.gzhead = null),
                              (this.gzindex = 0),
                              (this.method = m),
                              (this.last_flush = -1),
                              (this.w_size = 0),
                              (this.w_bits = 0),
                              (this.w_mask = 0),
                              (this.window = null),
                              (this.window_size = 0),
                              (this.prev = null),
                              (this.head = null),
                              (this.ins_h = 0),
                              (this.hash_size = 0),
                              (this.hash_bits = 0),
                              (this.hash_mask = 0),
                              (this.hash_shift = 0),
                              (this.block_start = 0),
                              (this.match_length = 0),
                              (this.prev_match = 0),
                              (this.match_available = 0),
                              (this.strstart = 0),
                              (this.match_start = 0),
                              (this.lookahead = 0),
                              (this.prev_length = 0),
                              (this.max_chain_length = 0),
                              (this.max_lazy_match = 0),
                              (this.level = 0),
                              (this.strategy = 0),
                              (this.good_match = 0),
                              (this.nice_match = 0),
                              (this.dyn_ltree = new i.Buf16(2 * b)),
                              (this.dyn_dtree = new i.Buf16(2 * (2 * x + 1))),
                              (this.bl_tree = new i.Buf16(2 * (2 * _ + 1))),
                              L(this.dyn_ltree),
                              L(this.dyn_dtree),
                              L(this.bl_tree),
                              (this.l_desc = null),
                              (this.d_desc = null),
                              (this.bl_desc = null),
                              (this.bl_count = new i.Buf16(S + 1)),
                              (this.heap = new i.Buf16(2 * y + 1)),
                              L(this.heap),
                              (this.heap_len = 0),
                              (this.heap_max = 0),
                              (this.depth = new i.Buf16(2 * y + 1)),
                              L(this.depth),
                              (this.l_buf = 0),
                              (this.lit_bufsize = 0),
                              (this.last_lit = 0),
                              (this.d_buf = 0),
                              (this.opt_len = 0),
                              (this.static_len = 0),
                              (this.matches = 0),
                              (this.insert = 0),
                              (this.bi_buf = 0),
                              (this.bi_valid = 0))
                          }
                          function j(e) {
                            var t
                            return e && e.state
                              ? ((e.total_in = e.total_out = 0),
                                (e.data_type = v),
                                ((t = e.state).pending = 0),
                                (t.pending_out = 0),
                                t.wrap < 0 && (t.wrap = -t.wrap),
                                (t.status = t.wrap ? M : E),
                                (e.adler = 2 === t.wrap ? 0 : 1),
                                (t.last_flush = l),
                                a._tr_init(t),
                                d)
                              : N(e, h)
                          }
                          function Q(e) {
                            var t = j(e)
                            return (
                              t === d &&
                                (function (e) {
                                  ;((e.window_size = 2 * e.w_size),
                                    L(e.head),
                                    (e.max_lazy_match = r[e.level].max_lazy),
                                    (e.good_match = r[e.level].good_length),
                                    (e.nice_match = r[e.level].nice_length),
                                    (e.max_chain_length = r[e.level].max_chain),
                                    (e.strstart = 0),
                                    (e.block_start = 0),
                                    (e.lookahead = 0),
                                    (e.insert = 0),
                                    (e.match_length = e.prev_length = w - 1),
                                    (e.match_available = 0),
                                    (e.ins_h = 0))
                                })(e.state),
                              t
                            )
                          }
                          function q(e, t, n, r, a, o) {
                            if (!e) return h
                            var s = 1
                            if (
                              (t === f && (t = 6),
                              r < 0 ? ((s = 0), (r = -r)) : 15 < r && ((s = 2), (r -= 16)),
                              a < 1 ||
                                g < a ||
                                n !== m ||
                                r < 8 ||
                                15 < r ||
                                t < 0 ||
                                9 < t ||
                                o < 0 ||
                                p < o)
                            )
                              return N(e, h)
                            8 === r && (r = 9)
                            var u = new G()
                            return (
                              ((e.state = u).strm = e),
                              (u.wrap = s),
                              (u.gzhead = null),
                              (u.w_bits = r),
                              (u.w_size = 1 << u.w_bits),
                              (u.w_mask = u.w_size - 1),
                              (u.hash_bits = a + 7),
                              (u.hash_size = 1 << u.hash_bits),
                              (u.hash_mask = u.hash_size - 1),
                              (u.hash_shift = ~~((u.hash_bits + w - 1) / w)),
                              (u.window = new i.Buf8(2 * u.w_size)),
                              (u.head = new i.Buf16(u.hash_size)),
                              (u.prev = new i.Buf16(u.w_size)),
                              (u.lit_bufsize = 1 << (a + 6)),
                              (u.pending_buf_size = 4 * u.lit_bufsize),
                              (u.pending_buf = new i.Buf8(u.pending_buf_size)),
                              (u.d_buf = 1 * u.lit_bufsize),
                              (u.l_buf = 3 * u.lit_bufsize),
                              (u.level = t),
                              (u.strategy = o),
                              (u.method = n),
                              Q(e)
                            )
                          }
                          ;((r = [
                            new W(0, 0, 0, 0, function (e, t) {
                              var n = 65535
                              for (n > e.pending_buf_size - 5 && (n = e.pending_buf_size - 5); ; ) {
                                if (e.lookahead <= 1) {
                                  if ((z(e), 0 === e.lookahead && t === l)) return C
                                  if (0 === e.lookahead) break
                                }
                                ;((e.strstart += e.lookahead), (e.lookahead = 0))
                                var r = e.block_start + n
                                if (
                                  (0 === e.strstart || e.strstart >= r) &&
                                  ((e.lookahead = e.strstart - r),
                                  (e.strstart = r),
                                  O(e, !1),
                                  0 === e.strm.avail_out)
                                )
                                  return C
                                if (
                                  e.strstart - e.block_start >= e.w_size - T &&
                                  (O(e, !1), 0 === e.strm.avail_out)
                                )
                                  return C
                              }
                              return (
                                (e.insert = 0),
                                t === c
                                  ? (O(e, !0), 0 === e.strm.avail_out ? R : I)
                                  : (e.strstart > e.block_start && (O(e, !1), e.strm.avail_out), C)
                              )
                            }),
                            new W(4, 4, 8, 4, V),
                            new W(4, 5, 16, 8, V),
                            new W(4, 6, 32, 32, V),
                            new W(4, 4, 16, 16, H),
                            new W(8, 16, 32, 32, H),
                            new W(8, 16, 128, 128, H),
                            new W(8, 32, 128, 256, H),
                            new W(32, 128, 258, 1024, H),
                            new W(32, 258, 258, 4096, H),
                          ]),
                            (n.deflateInit = function (e, t) {
                              return q(e, t, m, 15, 8, 0)
                            }),
                            (n.deflateInit2 = q),
                            (n.deflateReset = Q),
                            (n.deflateResetKeep = j),
                            (n.deflateSetHeader = function (e, t) {
                              return e && e.state
                                ? 2 !== e.state.wrap
                                  ? h
                                  : ((e.state.gzhead = t), d)
                                : h
                            }),
                            (n.deflate = function (e, t) {
                              var n, i, o, u
                              if (!e || !e.state || 5 < t || t < 0) return e ? N(e, h) : h
                              if (
                                ((i = e.state),
                                !e.output ||
                                  (!e.input && 0 !== e.avail_in) ||
                                  (666 === i.status && t !== c))
                              )
                                return N(e, 0 === e.avail_out ? -5 : h)
                              if (
                                ((i.strm = e),
                                (n = i.last_flush),
                                (i.last_flush = t),
                                i.status === M)
                              )
                                if (2 === i.wrap)
                                  ((e.adler = 0),
                                    F(i, 31),
                                    F(i, 139),
                                    F(i, 8),
                                    i.gzhead
                                      ? (F(
                                          i,
                                          (i.gzhead.text ? 1 : 0) +
                                            (i.gzhead.hcrc ? 2 : 0) +
                                            (i.gzhead.extra ? 4 : 0) +
                                            (i.gzhead.name ? 8 : 0) +
                                            (i.gzhead.comment ? 16 : 0)
                                        ),
                                        F(i, 255 & i.gzhead.time),
                                        F(i, (i.gzhead.time >> 8) & 255),
                                        F(i, (i.gzhead.time >> 16) & 255),
                                        F(i, (i.gzhead.time >> 24) & 255),
                                        F(
                                          i,
                                          9 === i.level ? 2 : 2 <= i.strategy || i.level < 2 ? 4 : 0
                                        ),
                                        F(i, 255 & i.gzhead.os),
                                        i.gzhead.extra &&
                                          i.gzhead.extra.length &&
                                          (F(i, 255 & i.gzhead.extra.length),
                                          F(i, (i.gzhead.extra.length >> 8) & 255)),
                                        i.gzhead.hcrc &&
                                          (e.adler = s(e.adler, i.pending_buf, i.pending, 0)),
                                        (i.gzindex = 0),
                                        (i.status = 69))
                                      : (F(i, 0),
                                        F(i, 0),
                                        F(i, 0),
                                        F(i, 0),
                                        F(i, 0),
                                        F(
                                          i,
                                          9 === i.level ? 2 : 2 <= i.strategy || i.level < 2 ? 4 : 0
                                        ),
                                        F(i, 3),
                                        (i.status = E)))
                                else {
                                  var f = (m + ((i.w_bits - 8) << 4)) << 8
                                  ;((f |=
                                    (2 <= i.strategy || i.level < 2
                                      ? 0
                                      : i.level < 6
                                        ? 1
                                        : 6 === i.level
                                          ? 2
                                          : 3) << 6),
                                    0 !== i.strstart && (f |= 32),
                                    (f += 31 - (f % 31)),
                                    (i.status = E),
                                    B(i, f),
                                    0 !== i.strstart &&
                                      (B(i, e.adler >>> 16), B(i, 65535 & e.adler)),
                                    (e.adler = 1))
                                }
                              if (69 === i.status)
                                if (i.gzhead.extra) {
                                  for (
                                    o = i.pending;
                                    i.gzindex < (65535 & i.gzhead.extra.length) &&
                                    (i.pending !== i.pending_buf_size ||
                                      (i.gzhead.hcrc &&
                                        i.pending > o &&
                                        (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                      D(e),
                                      (o = i.pending),
                                      i.pending !== i.pending_buf_size));

                                  )
                                    (F(i, 255 & i.gzhead.extra[i.gzindex]), i.gzindex++)
                                  ;(i.gzhead.hcrc &&
                                    i.pending > o &&
                                    (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                    i.gzindex === i.gzhead.extra.length &&
                                      ((i.gzindex = 0), (i.status = 73)))
                                } else i.status = 73
                              if (73 === i.status)
                                if (i.gzhead.name) {
                                  o = i.pending
                                  do {
                                    if (
                                      i.pending === i.pending_buf_size &&
                                      (i.gzhead.hcrc &&
                                        i.pending > o &&
                                        (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                      D(e),
                                      (o = i.pending),
                                      i.pending === i.pending_buf_size)
                                    ) {
                                      u = 1
                                      break
                                    }
                                    ;((u =
                                      i.gzindex < i.gzhead.name.length
                                        ? 255 & i.gzhead.name.charCodeAt(i.gzindex++)
                                        : 0),
                                      F(i, u))
                                  } while (0 !== u)
                                  ;(i.gzhead.hcrc &&
                                    i.pending > o &&
                                    (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                    0 === u && ((i.gzindex = 0), (i.status = 91)))
                                } else i.status = 91
                              if (91 === i.status)
                                if (i.gzhead.comment) {
                                  o = i.pending
                                  do {
                                    if (
                                      i.pending === i.pending_buf_size &&
                                      (i.gzhead.hcrc &&
                                        i.pending > o &&
                                        (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                      D(e),
                                      (o = i.pending),
                                      i.pending === i.pending_buf_size)
                                    ) {
                                      u = 1
                                      break
                                    }
                                    ;((u =
                                      i.gzindex < i.gzhead.comment.length
                                        ? 255 & i.gzhead.comment.charCodeAt(i.gzindex++)
                                        : 0),
                                      F(i, u))
                                  } while (0 !== u)
                                  ;(i.gzhead.hcrc &&
                                    i.pending > o &&
                                    (e.adler = s(e.adler, i.pending_buf, i.pending - o, o)),
                                    0 === u && (i.status = 103))
                                } else i.status = 103
                              if (
                                (103 === i.status &&
                                  (i.gzhead.hcrc
                                    ? (i.pending + 2 > i.pending_buf_size && D(e),
                                      i.pending + 2 <= i.pending_buf_size &&
                                        (F(i, 255 & e.adler),
                                        F(i, (e.adler >> 8) & 255),
                                        (e.adler = 0),
                                        (i.status = E)))
                                    : (i.status = E)),
                                0 !== i.pending)
                              ) {
                                if ((D(e), 0 === e.avail_out)) return ((i.last_flush = -1), d)
                              } else if (0 === e.avail_in && P(t) <= P(n) && t !== c)
                                return N(e, -5)
                              if (666 === i.status && 0 !== e.avail_in) return N(e, -5)
                              if (
                                0 !== e.avail_in ||
                                0 !== i.lookahead ||
                                (t !== l && 666 !== i.status)
                              ) {
                                var p =
                                  2 === i.strategy
                                    ? (function (e, t) {
                                        for (var n; ; ) {
                                          if (0 === e.lookahead && (z(e), 0 === e.lookahead)) {
                                            if (t === l) return C
                                            break
                                          }
                                          if (
                                            ((e.match_length = 0),
                                            (n = a._tr_tally(e, 0, e.window[e.strstart])),
                                            e.lookahead--,
                                            e.strstart++,
                                            n && (O(e, !1), 0 === e.strm.avail_out))
                                          )
                                            return C
                                        }
                                        return (
                                          (e.insert = 0),
                                          t === c
                                            ? (O(e, !0), 0 === e.strm.avail_out ? R : I)
                                            : e.last_lit && (O(e, !1), 0 === e.strm.avail_out)
                                              ? C
                                              : k
                                        )
                                      })(i, t)
                                    : 3 === i.strategy
                                      ? (function (e, t) {
                                          for (var n, r, i, o, s = e.window; ; ) {
                                            if (e.lookahead <= A) {
                                              if ((z(e), e.lookahead <= A && t === l)) return C
                                              if (0 === e.lookahead) break
                                            }
                                            if (
                                              ((e.match_length = 0),
                                              e.lookahead >= w &&
                                                0 < e.strstart &&
                                                (r = s[(i = e.strstart - 1)]) === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i])
                                            ) {
                                              o = e.strstart + A
                                              do {} while (
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                r === s[++i] &&
                                                i < o
                                              )
                                              ;((e.match_length = A - (o - i)),
                                                e.match_length > e.lookahead &&
                                                  (e.match_length = e.lookahead))
                                            }
                                            if (
                                              (e.match_length >= w
                                                ? ((n = a._tr_tally(e, 1, e.match_length - w)),
                                                  (e.lookahead -= e.match_length),
                                                  (e.strstart += e.match_length),
                                                  (e.match_length = 0))
                                                : ((n = a._tr_tally(e, 0, e.window[e.strstart])),
                                                  e.lookahead--,
                                                  e.strstart++),
                                              n && (O(e, !1), 0 === e.strm.avail_out))
                                            )
                                              return C
                                          }
                                          return (
                                            (e.insert = 0),
                                            t === c
                                              ? (O(e, !0), 0 === e.strm.avail_out ? R : I)
                                              : e.last_lit && (O(e, !1), 0 === e.strm.avail_out)
                                                ? C
                                                : k
                                          )
                                        })(i, t)
                                      : r[i.level].func(i, t)
                                if (((p !== R && p !== I) || (i.status = 666), p === C || p === R))
                                  return (0 === e.avail_out && (i.last_flush = -1), d)
                                if (
                                  p === k &&
                                  (1 === t
                                    ? a._tr_align(i)
                                    : 5 !== t &&
                                      (a._tr_stored_block(i, 0, 0, !1),
                                      3 === t &&
                                        (L(i.head),
                                        0 === i.lookahead &&
                                          ((i.strstart = 0), (i.block_start = 0), (i.insert = 0)))),
                                  D(e),
                                  0 === e.avail_out)
                                )
                                  return ((i.last_flush = -1), d)
                              }
                              return t !== c
                                ? d
                                : i.wrap <= 0
                                  ? 1
                                  : (2 === i.wrap
                                      ? (F(i, 255 & e.adler),
                                        F(i, (e.adler >> 8) & 255),
                                        F(i, (e.adler >> 16) & 255),
                                        F(i, (e.adler >> 24) & 255),
                                        F(i, 255 & e.total_in),
                                        F(i, (e.total_in >> 8) & 255),
                                        F(i, (e.total_in >> 16) & 255),
                                        F(i, (e.total_in >> 24) & 255))
                                      : (B(i, e.adler >>> 16), B(i, 65535 & e.adler)),
                                    D(e),
                                    0 < i.wrap && (i.wrap = -i.wrap),
                                    0 !== i.pending ? d : 1)
                            }),
                            (n.deflateEnd = function (e) {
                              var t
                              return e && e.state
                                ? (t = e.state.status) !== M &&
                                  69 !== t &&
                                  73 !== t &&
                                  91 !== t &&
                                  103 !== t &&
                                  t !== E &&
                                  666 !== t
                                  ? N(e, h)
                                  : ((e.state = null), t === E ? N(e, -3) : d)
                                : h
                            }),
                            (n.deflateSetDictionary = function (e, t) {
                              var n,
                                r,
                                a,
                                s,
                                u,
                                l,
                                c,
                                f,
                                p = t.length
                              if (!e || !e.state) return h
                              if (
                                2 === (s = (n = e.state).wrap) ||
                                (1 === s && n.status !== M) ||
                                n.lookahead
                              )
                                return h
                              for (
                                1 === s && (e.adler = o(e.adler, t, p, 0)),
                                  n.wrap = 0,
                                  p >= n.w_size &&
                                    (0 === s &&
                                      (L(n.head),
                                      (n.strstart = 0),
                                      (n.block_start = 0),
                                      (n.insert = 0)),
                                    (f = new i.Buf8(n.w_size)),
                                    i.arraySet(f, t, p - n.w_size, n.w_size, 0),
                                    (t = f),
                                    (p = n.w_size)),
                                  u = e.avail_in,
                                  l = e.next_in,
                                  c = e.input,
                                  e.avail_in = p,
                                  e.next_in = 0,
                                  e.input = t,
                                  z(n);
                                n.lookahead >= w;

                              ) {
                                for (
                                  r = n.strstart, a = n.lookahead - (w - 1);
                                  (n.ins_h =
                                    ((n.ins_h << n.hash_shift) ^ n.window[r + w - 1]) &
                                    n.hash_mask),
                                    (n.prev[r & n.w_mask] = n.head[n.ins_h]),
                                    (n.head[n.ins_h] = r),
                                    r++,
                                    --a;

                                );
                                ;((n.strstart = r), (n.lookahead = w - 1), z(n))
                              }
                              return (
                                (n.strstart += n.lookahead),
                                (n.block_start = n.strstart),
                                (n.insert = n.lookahead),
                                (n.lookahead = 0),
                                (n.match_length = n.prev_length = w - 1),
                                (n.match_available = 0),
                                (e.next_in = l),
                                (e.input = c),
                                (e.avail_in = u),
                                (n.wrap = s),
                                d
                              )
                            }),
                            (n.deflateInfo = 'pako deflate (from Nodeca project)'))
                        },
                        {
                          '../utils/common': 41,
                          './adler32': 43,
                          './crc32': 45,
                          './messages': 51,
                          './trees': 52,
                        },
                      ],
                      47: [
                        function (e, t, n) {
                          t.exports = function () {
                            ;((this.text = 0),
                              (this.time = 0),
                              (this.xflags = 0),
                              (this.os = 0),
                              (this.extra = null),
                              (this.extra_len = 0),
                              (this.name = ''),
                              (this.comment = ''),
                              (this.hcrc = 0),
                              (this.done = !1))
                          }
                        },
                        {},
                      ],
                      48: [
                        function (e, t, n) {
                          t.exports = function (e, t) {
                            var n,
                              r,
                              i,
                              a,
                              o,
                              s,
                              u,
                              l,
                              c,
                              d,
                              h,
                              f,
                              p,
                              v,
                              m,
                              g,
                              y,
                              x,
                              _,
                              b,
                              S,
                              w,
                              A,
                              T,
                              M
                            ;((n = e.state),
                              (r = e.next_in),
                              (T = e.input),
                              (i = r + (e.avail_in - 5)),
                              (a = e.next_out),
                              (M = e.output),
                              (o = a - (t - e.avail_out)),
                              (s = a + (e.avail_out - 257)),
                              (u = n.dmax),
                              (l = n.wsize),
                              (c = n.whave),
                              (d = n.wnext),
                              (h = n.window),
                              (f = n.hold),
                              (p = n.bits),
                              (v = n.lencode),
                              (m = n.distcode),
                              (g = (1 << n.lenbits) - 1),
                              (y = (1 << n.distbits) - 1))
                            e: do {
                              ;(p < 15 &&
                                ((f += T[r++] << p), (p += 8), (f += T[r++] << p), (p += 8)),
                                (x = v[f & g]))
                              t: for (;;) {
                                if (((f >>>= _ = x >>> 24), (p -= _), 0 == (_ = (x >>> 16) & 255)))
                                  M[a++] = 65535 & x
                                else {
                                  if (!(16 & _)) {
                                    if (!(64 & _)) {
                                      x = v[(65535 & x) + (f & ((1 << _) - 1))]
                                      continue t
                                    }
                                    if (32 & _) {
                                      n.mode = 12
                                      break e
                                    }
                                    ;((e.msg = 'invalid literal/length code'), (n.mode = 30))
                                    break e
                                  }
                                  ;((b = 65535 & x),
                                    (_ &= 15) &&
                                      (p < _ && ((f += T[r++] << p), (p += 8)),
                                      (b += f & ((1 << _) - 1)),
                                      (f >>>= _),
                                      (p -= _)),
                                    p < 15 &&
                                      ((f += T[r++] << p), (p += 8), (f += T[r++] << p), (p += 8)),
                                    (x = m[f & y]))
                                  n: for (;;) {
                                    if (
                                      ((f >>>= _ = x >>> 24),
                                      (p -= _),
                                      !(16 & (_ = (x >>> 16) & 255)))
                                    ) {
                                      if (!(64 & _)) {
                                        x = m[(65535 & x) + (f & ((1 << _) - 1))]
                                        continue n
                                      }
                                      ;((e.msg = 'invalid distance code'), (n.mode = 30))
                                      break e
                                    }
                                    if (
                                      ((S = 65535 & x),
                                      p < (_ &= 15) &&
                                        ((f += T[r++] << p),
                                        (p += 8) < _ && ((f += T[r++] << p), (p += 8))),
                                      u < (S += f & ((1 << _) - 1)))
                                    ) {
                                      ;((e.msg = 'invalid distance too far back'), (n.mode = 30))
                                      break e
                                    }
                                    if (((f >>>= _), (p -= _), (_ = a - o) < S)) {
                                      if (c < (_ = S - _) && n.sane) {
                                        ;((e.msg = 'invalid distance too far back'), (n.mode = 30))
                                        break e
                                      }
                                      if (((A = h), (w = 0) === d)) {
                                        if (((w += l - _), _ < b)) {
                                          for (b -= _; (M[a++] = h[w++]), --_; );
                                          ;((w = a - S), (A = M))
                                        }
                                      } else if (d < _) {
                                        if (((w += l + d - _), (_ -= d) < b)) {
                                          for (b -= _; (M[a++] = h[w++]), --_; );
                                          if (((w = 0), d < b)) {
                                            for (b -= _ = d; (M[a++] = h[w++]), --_; );
                                            ;((w = a - S), (A = M))
                                          }
                                        }
                                      } else if (((w += d - _), _ < b)) {
                                        for (b -= _; (M[a++] = h[w++]), --_; );
                                        ;((w = a - S), (A = M))
                                      }
                                      for (; 2 < b; )
                                        ((M[a++] = A[w++]),
                                          (M[a++] = A[w++]),
                                          (M[a++] = A[w++]),
                                          (b -= 3))
                                      b && ((M[a++] = A[w++]), 1 < b && (M[a++] = A[w++]))
                                    } else {
                                      for (
                                        w = a - S;
                                        (M[a++] = M[w++]),
                                          (M[a++] = M[w++]),
                                          (M[a++] = M[w++]),
                                          2 < (b -= 3);

                                      );
                                      b && ((M[a++] = M[w++]), 1 < b && (M[a++] = M[w++]))
                                    }
                                    break
                                  }
                                }
                                break
                              }
                            } while (r < i && a < s)
                            ;((r -= b = p >> 3),
                              (f &= (1 << (p -= b << 3)) - 1),
                              (e.next_in = r),
                              (e.next_out = a),
                              (e.avail_in = r < i ? i - r + 5 : 5 - (r - i)),
                              (e.avail_out = a < s ? s - a + 257 : 257 - (a - s)),
                              (n.hold = f),
                              (n.bits = p))
                          }
                        },
                        {},
                      ],
                      49: [
                        function (e, t, n) {
                          var r = e('../utils/common'),
                            i = e('./adler32'),
                            a = e('./crc32'),
                            o = e('./inffast'),
                            s = e('./inftrees'),
                            u = 1,
                            l = 2,
                            c = 0,
                            d = -2,
                            h = 1,
                            f = 852,
                            p = 592
                          function v(e) {
                            return (
                              ((e >>> 24) & 255) +
                              ((e >>> 8) & 65280) +
                              ((65280 & e) << 8) +
                              ((255 & e) << 24)
                            )
                          }
                          function m() {
                            ;((this.mode = 0),
                              (this.last = !1),
                              (this.wrap = 0),
                              (this.havedict = !1),
                              (this.flags = 0),
                              (this.dmax = 0),
                              (this.check = 0),
                              (this.total = 0),
                              (this.head = null),
                              (this.wbits = 0),
                              (this.wsize = 0),
                              (this.whave = 0),
                              (this.wnext = 0),
                              (this.window = null),
                              (this.hold = 0),
                              (this.bits = 0),
                              (this.length = 0),
                              (this.offset = 0),
                              (this.extra = 0),
                              (this.lencode = null),
                              (this.distcode = null),
                              (this.lenbits = 0),
                              (this.distbits = 0),
                              (this.ncode = 0),
                              (this.nlen = 0),
                              (this.ndist = 0),
                              (this.have = 0),
                              (this.next = null),
                              (this.lens = new r.Buf16(320)),
                              (this.work = new r.Buf16(288)),
                              (this.lendyn = null),
                              (this.distdyn = null),
                              (this.sane = 0),
                              (this.back = 0),
                              (this.was = 0))
                          }
                          function g(e) {
                            var t
                            return e && e.state
                              ? ((t = e.state),
                                (e.total_in = e.total_out = t.total = 0),
                                (e.msg = ''),
                                t.wrap && (e.adler = 1 & t.wrap),
                                (t.mode = h),
                                (t.last = 0),
                                (t.havedict = 0),
                                (t.dmax = 32768),
                                (t.head = null),
                                (t.hold = 0),
                                (t.bits = 0),
                                (t.lencode = t.lendyn = new r.Buf32(f)),
                                (t.distcode = t.distdyn = new r.Buf32(p)),
                                (t.sane = 1),
                                (t.back = -1),
                                c)
                              : d
                          }
                          function y(e) {
                            var t
                            return e && e.state
                              ? (((t = e.state).wsize = 0), (t.whave = 0), (t.wnext = 0), g(e))
                              : d
                          }
                          function x(e, t) {
                            var n, r
                            return e && e.state
                              ? ((r = e.state),
                                t < 0
                                  ? ((n = 0), (t = -t))
                                  : ((n = 1 + (t >> 4)), t < 48 && (t &= 15)),
                                t && (t < 8 || 15 < t)
                                  ? d
                                  : (null !== r.window && r.wbits !== t && (r.window = null),
                                    (r.wrap = n),
                                    (r.wbits = t),
                                    y(e)))
                              : d
                          }
                          function _(e, t) {
                            var n, r
                            return e
                              ? ((r = new m()),
                                ((e.state = r).window = null),
                                (n = x(e, t)) !== c && (e.state = null),
                                n)
                              : d
                          }
                          var b,
                            S,
                            w = !0
                          function A(e) {
                            if (w) {
                              var t
                              for (b = new r.Buf32(512), S = new r.Buf32(32), t = 0; t < 144; )
                                e.lens[t++] = 8
                              for (; t < 256; ) e.lens[t++] = 9
                              for (; t < 280; ) e.lens[t++] = 7
                              for (; t < 288; ) e.lens[t++] = 8
                              for (s(u, e.lens, 0, 288, b, 0, e.work, { bits: 9 }), t = 0; t < 32; )
                                e.lens[t++] = 5
                              ;(s(l, e.lens, 0, 32, S, 0, e.work, { bits: 5 }), (w = !1))
                            }
                            ;((e.lencode = b), (e.lenbits = 9), (e.distcode = S), (e.distbits = 5))
                          }
                          function T(e, t, n, i) {
                            var a,
                              o = e.state
                            return (
                              null === o.window &&
                                ((o.wsize = 1 << o.wbits),
                                (o.wnext = 0),
                                (o.whave = 0),
                                (o.window = new r.Buf8(o.wsize))),
                              i >= o.wsize
                                ? (r.arraySet(o.window, t, n - o.wsize, o.wsize, 0),
                                  (o.wnext = 0),
                                  (o.whave = o.wsize))
                                : (i < (a = o.wsize - o.wnext) && (a = i),
                                  r.arraySet(o.window, t, n - i, a, o.wnext),
                                  (i -= a)
                                    ? (r.arraySet(o.window, t, n - i, i, 0),
                                      (o.wnext = i),
                                      (o.whave = o.wsize))
                                    : ((o.wnext += a),
                                      o.wnext === o.wsize && (o.wnext = 0),
                                      o.whave < o.wsize && (o.whave += a))),
                              0
                            )
                          }
                          ;((n.inflateReset = y),
                            (n.inflateReset2 = x),
                            (n.inflateResetKeep = g),
                            (n.inflateInit = function (e) {
                              return _(e, 15)
                            }),
                            (n.inflateInit2 = _),
                            (n.inflate = function (e, t) {
                              var n,
                                f,
                                p,
                                m,
                                g,
                                y,
                                x,
                                _,
                                b,
                                S,
                                w,
                                M,
                                E,
                                C,
                                k,
                                R,
                                I,
                                N,
                                P,
                                L,
                                D,
                                O,
                                F,
                                B,
                                U = 0,
                                z = new r.Buf8(4),
                                V = [
                                  16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15,
                                ]
                              if (!e || !e.state || !e.output || (!e.input && 0 !== e.avail_in))
                                return d
                              ;(12 === (n = e.state).mode && (n.mode = 13),
                                (g = e.next_out),
                                (p = e.output),
                                (x = e.avail_out),
                                (m = e.next_in),
                                (f = e.input),
                                (y = e.avail_in),
                                (_ = n.hold),
                                (b = n.bits),
                                (S = y),
                                (w = x),
                                (O = c))
                              e: for (;;)
                                switch (n.mode) {
                                  case h:
                                    if (0 === n.wrap) {
                                      n.mode = 13
                                      break
                                    }
                                    for (; b < 16; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if (2 & n.wrap && 35615 === _) {
                                      ;((z[(n.check = 0)] = 255 & _),
                                        (z[1] = (_ >>> 8) & 255),
                                        (n.check = a(n.check, z, 2, 0)),
                                        (b = _ = 0),
                                        (n.mode = 2))
                                      break
                                    }
                                    if (
                                      ((n.flags = 0),
                                      n.head && (n.head.done = !1),
                                      !(1 & n.wrap) || (((255 & _) << 8) + (_ >> 8)) % 31)
                                    ) {
                                      ;((e.msg = 'incorrect header check'), (n.mode = 30))
                                      break
                                    }
                                    if (8 != (15 & _)) {
                                      ;((e.msg = 'unknown compression method'), (n.mode = 30))
                                      break
                                    }
                                    if (((b -= 4), (D = 8 + (15 & (_ >>>= 4))), 0 === n.wbits))
                                      n.wbits = D
                                    else if (D > n.wbits) {
                                      ;((e.msg = 'invalid window size'), (n.mode = 30))
                                      break
                                    }
                                    ;((n.dmax = 1 << D),
                                      (e.adler = n.check = 1),
                                      (n.mode = 512 & _ ? 10 : 12),
                                      (b = _ = 0))
                                    break
                                  case 2:
                                    for (; b < 16; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if (((n.flags = _), 8 != (255 & n.flags))) {
                                      ;((e.msg = 'unknown compression method'), (n.mode = 30))
                                      break
                                    }
                                    if (57344 & n.flags) {
                                      ;((e.msg = 'unknown header flags set'), (n.mode = 30))
                                      break
                                    }
                                    ;(n.head && (n.head.text = (_ >> 8) & 1),
                                      512 & n.flags &&
                                        ((z[0] = 255 & _),
                                        (z[1] = (_ >>> 8) & 255),
                                        (n.check = a(n.check, z, 2, 0))),
                                      (b = _ = 0),
                                      (n.mode = 3))
                                  case 3:
                                    for (; b < 32; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    ;(n.head && (n.head.time = _),
                                      512 & n.flags &&
                                        ((z[0] = 255 & _),
                                        (z[1] = (_ >>> 8) & 255),
                                        (z[2] = (_ >>> 16) & 255),
                                        (z[3] = (_ >>> 24) & 255),
                                        (n.check = a(n.check, z, 4, 0))),
                                      (b = _ = 0),
                                      (n.mode = 4))
                                  case 4:
                                    for (; b < 16; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    ;(n.head && ((n.head.xflags = 255 & _), (n.head.os = _ >> 8)),
                                      512 & n.flags &&
                                        ((z[0] = 255 & _),
                                        (z[1] = (_ >>> 8) & 255),
                                        (n.check = a(n.check, z, 2, 0))),
                                      (b = _ = 0),
                                      (n.mode = 5))
                                  case 5:
                                    if (1024 & n.flags) {
                                      for (; b < 16; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((n.length = _),
                                        n.head && (n.head.extra_len = _),
                                        512 & n.flags &&
                                          ((z[0] = 255 & _),
                                          (z[1] = (_ >>> 8) & 255),
                                          (n.check = a(n.check, z, 2, 0))),
                                        (b = _ = 0))
                                    } else n.head && (n.head.extra = null)
                                    n.mode = 6
                                  case 6:
                                    if (
                                      1024 & n.flags &&
                                      (y < (M = n.length) && (M = y),
                                      M &&
                                        (n.head &&
                                          ((D = n.head.extra_len - n.length),
                                          n.head.extra ||
                                            (n.head.extra = new Array(n.head.extra_len)),
                                          r.arraySet(n.head.extra, f, m, M, D)),
                                        512 & n.flags && (n.check = a(n.check, f, M, m)),
                                        (y -= M),
                                        (m += M),
                                        (n.length -= M)),
                                      n.length)
                                    )
                                      break e
                                    ;((n.length = 0), (n.mode = 7))
                                  case 7:
                                    if (2048 & n.flags) {
                                      if (0 === y) break e
                                      for (
                                        M = 0;
                                        (D = f[m + M++]),
                                          n.head &&
                                            D &&
                                            n.length < 65536 &&
                                            (n.head.name += String.fromCharCode(D)),
                                          D && M < y;

                                      );
                                      if (
                                        (512 & n.flags && (n.check = a(n.check, f, M, m)),
                                        (y -= M),
                                        (m += M),
                                        D)
                                      )
                                        break e
                                    } else n.head && (n.head.name = null)
                                    ;((n.length = 0), (n.mode = 8))
                                  case 8:
                                    if (4096 & n.flags) {
                                      if (0 === y) break e
                                      for (
                                        M = 0;
                                        (D = f[m + M++]),
                                          n.head &&
                                            D &&
                                            n.length < 65536 &&
                                            (n.head.comment += String.fromCharCode(D)),
                                          D && M < y;

                                      );
                                      if (
                                        (512 & n.flags && (n.check = a(n.check, f, M, m)),
                                        (y -= M),
                                        (m += M),
                                        D)
                                      )
                                        break e
                                    } else n.head && (n.head.comment = null)
                                    n.mode = 9
                                  case 9:
                                    if (512 & n.flags) {
                                      for (; b < 16; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      if (_ !== (65535 & n.check)) {
                                        ;((e.msg = 'header crc mismatch'), (n.mode = 30))
                                        break
                                      }
                                      b = _ = 0
                                    }
                                    ;(n.head &&
                                      ((n.head.hcrc = (n.flags >> 9) & 1), (n.head.done = !0)),
                                      (e.adler = n.check = 0),
                                      (n.mode = 12))
                                    break
                                  case 10:
                                    for (; b < 32; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    ;((e.adler = n.check = v(_)), (b = _ = 0), (n.mode = 11))
                                  case 11:
                                    if (0 === n.havedict)
                                      return (
                                        (e.next_out = g),
                                        (e.avail_out = x),
                                        (e.next_in = m),
                                        (e.avail_in = y),
                                        (n.hold = _),
                                        (n.bits = b),
                                        2
                                      )
                                    ;((e.adler = n.check = 1), (n.mode = 12))
                                  case 12:
                                    if (5 === t || 6 === t) break e
                                  case 13:
                                    if (n.last) {
                                      ;((_ >>>= 7 & b), (b -= 7 & b), (n.mode = 27))
                                      break
                                    }
                                    for (; b < 3; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    switch (((n.last = 1 & _), (b -= 1), 3 & (_ >>>= 1))) {
                                      case 0:
                                        n.mode = 14
                                        break
                                      case 1:
                                        if ((A(n), (n.mode = 20), 6 !== t)) break
                                        ;((_ >>>= 2), (b -= 2))
                                        break e
                                      case 2:
                                        n.mode = 17
                                        break
                                      case 3:
                                        ;((e.msg = 'invalid block type'), (n.mode = 30))
                                    }
                                    ;((_ >>>= 2), (b -= 2))
                                    break
                                  case 14:
                                    for (_ >>>= 7 & b, b -= 7 & b; b < 32; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if ((65535 & _) != ((_ >>> 16) ^ 65535)) {
                                      ;((e.msg = 'invalid stored block lengths'), (n.mode = 30))
                                      break
                                    }
                                    if (
                                      ((n.length = 65535 & _), (b = _ = 0), (n.mode = 15), 6 === t)
                                    )
                                      break e
                                  case 15:
                                    n.mode = 16
                                  case 16:
                                    if ((M = n.length)) {
                                      if ((y < M && (M = y), x < M && (M = x), 0 === M)) break e
                                      ;(r.arraySet(p, f, m, M, g),
                                        (y -= M),
                                        (m += M),
                                        (x -= M),
                                        (g += M),
                                        (n.length -= M))
                                      break
                                    }
                                    n.mode = 12
                                    break
                                  case 17:
                                    for (; b < 14; ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if (
                                      ((n.nlen = 257 + (31 & _)),
                                      (_ >>>= 5),
                                      (b -= 5),
                                      (n.ndist = 1 + (31 & _)),
                                      (_ >>>= 5),
                                      (b -= 5),
                                      (n.ncode = 4 + (15 & _)),
                                      (_ >>>= 4),
                                      (b -= 4),
                                      286 < n.nlen || 30 < n.ndist)
                                    ) {
                                      ;((e.msg = 'too many length or distance symbols'),
                                        (n.mode = 30))
                                      break
                                    }
                                    ;((n.have = 0), (n.mode = 18))
                                  case 18:
                                    for (; n.have < n.ncode; ) {
                                      for (; b < 3; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((n.lens[V[n.have++]] = 7 & _), (_ >>>= 3), (b -= 3))
                                    }
                                    for (; n.have < 19; ) n.lens[V[n.have++]] = 0
                                    if (
                                      ((n.lencode = n.lendyn),
                                      (n.lenbits = 7),
                                      (F = { bits: n.lenbits }),
                                      (O = s(0, n.lens, 0, 19, n.lencode, 0, n.work, F)),
                                      (n.lenbits = F.bits),
                                      O)
                                    ) {
                                      ;((e.msg = 'invalid code lengths set'), (n.mode = 30))
                                      break
                                    }
                                    ;((n.have = 0), (n.mode = 19))
                                  case 19:
                                    for (; n.have < n.nlen + n.ndist; ) {
                                      for (
                                        ;
                                        (R =
                                          ((U = n.lencode[_ & ((1 << n.lenbits) - 1)]) >>> 16) &
                                          255),
                                          (I = 65535 & U),
                                          !((k = U >>> 24) <= b);

                                      ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      if (I < 16) ((_ >>>= k), (b -= k), (n.lens[n.have++] = I))
                                      else {
                                        if (16 === I) {
                                          for (B = k + 2; b < B; ) {
                                            if (0 === y) break e
                                            ;(y--, (_ += f[m++] << b), (b += 8))
                                          }
                                          if (((_ >>>= k), (b -= k), 0 === n.have)) {
                                            ;((e.msg = 'invalid bit length repeat'), (n.mode = 30))
                                            break
                                          }
                                          ;((D = n.lens[n.have - 1]),
                                            (M = 3 + (3 & _)),
                                            (_ >>>= 2),
                                            (b -= 2))
                                        } else if (17 === I) {
                                          for (B = k + 3; b < B; ) {
                                            if (0 === y) break e
                                            ;(y--, (_ += f[m++] << b), (b += 8))
                                          }
                                          ;((b -= k),
                                            (D = 0),
                                            (M = 3 + (7 & (_ >>>= k))),
                                            (_ >>>= 3),
                                            (b -= 3))
                                        } else {
                                          for (B = k + 7; b < B; ) {
                                            if (0 === y) break e
                                            ;(y--, (_ += f[m++] << b), (b += 8))
                                          }
                                          ;((b -= k),
                                            (D = 0),
                                            (M = 11 + (127 & (_ >>>= k))),
                                            (_ >>>= 7),
                                            (b -= 7))
                                        }
                                        if (n.have + M > n.nlen + n.ndist) {
                                          ;((e.msg = 'invalid bit length repeat'), (n.mode = 30))
                                          break
                                        }
                                        for (; M--; ) n.lens[n.have++] = D
                                      }
                                    }
                                    if (30 === n.mode) break
                                    if (0 === n.lens[256]) {
                                      ;((e.msg = 'invalid code -- missing end-of-block'),
                                        (n.mode = 30))
                                      break
                                    }
                                    if (
                                      ((n.lenbits = 9),
                                      (F = { bits: n.lenbits }),
                                      (O = s(u, n.lens, 0, n.nlen, n.lencode, 0, n.work, F)),
                                      (n.lenbits = F.bits),
                                      O)
                                    ) {
                                      ;((e.msg = 'invalid literal/lengths set'), (n.mode = 30))
                                      break
                                    }
                                    if (
                                      ((n.distbits = 6),
                                      (n.distcode = n.distdyn),
                                      (F = { bits: n.distbits }),
                                      (O = s(l, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, F)),
                                      (n.distbits = F.bits),
                                      O)
                                    ) {
                                      ;((e.msg = 'invalid distances set'), (n.mode = 30))
                                      break
                                    }
                                    if (((n.mode = 20), 6 === t)) break e
                                  case 20:
                                    n.mode = 21
                                  case 21:
                                    if (6 <= y && 258 <= x) {
                                      ;((e.next_out = g),
                                        (e.avail_out = x),
                                        (e.next_in = m),
                                        (e.avail_in = y),
                                        (n.hold = _),
                                        (n.bits = b),
                                        o(e, w),
                                        (g = e.next_out),
                                        (p = e.output),
                                        (x = e.avail_out),
                                        (m = e.next_in),
                                        (f = e.input),
                                        (y = e.avail_in),
                                        (_ = n.hold),
                                        (b = n.bits),
                                        12 === n.mode && (n.back = -1))
                                      break
                                    }
                                    for (
                                      n.back = 0;
                                      (R =
                                        ((U = n.lencode[_ & ((1 << n.lenbits) - 1)]) >>> 16) & 255),
                                        (I = 65535 & U),
                                        !((k = U >>> 24) <= b);

                                    ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if (R && !(240 & R)) {
                                      for (
                                        N = k, P = R, L = I;
                                        (R =
                                          ((U =
                                            n.lencode[L + ((_ & ((1 << (N + P)) - 1)) >> N)]) >>>
                                            16) &
                                          255),
                                          (I = 65535 & U),
                                          !(N + (k = U >>> 24) <= b);

                                      ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((_ >>>= N), (b -= N), (n.back += N))
                                    }
                                    if (
                                      ((_ >>>= k), (b -= k), (n.back += k), (n.length = I), 0 === R)
                                    ) {
                                      n.mode = 26
                                      break
                                    }
                                    if (32 & R) {
                                      ;((n.back = -1), (n.mode = 12))
                                      break
                                    }
                                    if (64 & R) {
                                      ;((e.msg = 'invalid literal/length code'), (n.mode = 30))
                                      break
                                    }
                                    ;((n.extra = 15 & R), (n.mode = 22))
                                  case 22:
                                    if (n.extra) {
                                      for (B = n.extra; b < B; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((n.length += _ & ((1 << n.extra) - 1)),
                                        (_ >>>= n.extra),
                                        (b -= n.extra),
                                        (n.back += n.extra))
                                    }
                                    ;((n.was = n.length), (n.mode = 23))
                                  case 23:
                                    for (
                                      ;
                                      (R =
                                        ((U = n.distcode[_ & ((1 << n.distbits) - 1)]) >>> 16) &
                                        255),
                                        (I = 65535 & U),
                                        !((k = U >>> 24) <= b);

                                    ) {
                                      if (0 === y) break e
                                      ;(y--, (_ += f[m++] << b), (b += 8))
                                    }
                                    if (!(240 & R)) {
                                      for (
                                        N = k, P = R, L = I;
                                        (R =
                                          ((U =
                                            n.distcode[L + ((_ & ((1 << (N + P)) - 1)) >> N)]) >>>
                                            16) &
                                          255),
                                          (I = 65535 & U),
                                          !(N + (k = U >>> 24) <= b);

                                      ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((_ >>>= N), (b -= N), (n.back += N))
                                    }
                                    if (((_ >>>= k), (b -= k), (n.back += k), 64 & R)) {
                                      ;((e.msg = 'invalid distance code'), (n.mode = 30))
                                      break
                                    }
                                    ;((n.offset = I), (n.extra = 15 & R), (n.mode = 24))
                                  case 24:
                                    if (n.extra) {
                                      for (B = n.extra; b < B; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      ;((n.offset += _ & ((1 << n.extra) - 1)),
                                        (_ >>>= n.extra),
                                        (b -= n.extra),
                                        (n.back += n.extra))
                                    }
                                    if (n.offset > n.dmax) {
                                      ;((e.msg = 'invalid distance too far back'), (n.mode = 30))
                                      break
                                    }
                                    n.mode = 25
                                  case 25:
                                    if (0 === x) break e
                                    if (((M = w - x), n.offset > M)) {
                                      if ((M = n.offset - M) > n.whave && n.sane) {
                                        ;((e.msg = 'invalid distance too far back'), (n.mode = 30))
                                        break
                                      }
                                      ;((E =
                                        M > n.wnext ? ((M -= n.wnext), n.wsize - M) : n.wnext - M),
                                        M > n.length && (M = n.length),
                                        (C = n.window))
                                    } else ((C = p), (E = g - n.offset), (M = n.length))
                                    for (
                                      x < M && (M = x), x -= M, n.length -= M;
                                      (p[g++] = C[E++]), --M;

                                    );
                                    0 === n.length && (n.mode = 21)
                                    break
                                  case 26:
                                    if (0 === x) break e
                                    ;((p[g++] = n.length), x--, (n.mode = 21))
                                    break
                                  case 27:
                                    if (n.wrap) {
                                      for (; b < 32; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ |= f[m++] << b), (b += 8))
                                      }
                                      if (
                                        ((w -= x),
                                        (e.total_out += w),
                                        (n.total += w),
                                        w &&
                                          (e.adler = n.check =
                                            n.flags
                                              ? a(n.check, p, w, g - w)
                                              : i(n.check, p, w, g - w)),
                                        (w = x),
                                        (n.flags ? _ : v(_)) !== n.check)
                                      ) {
                                        ;((e.msg = 'incorrect data check'), (n.mode = 30))
                                        break
                                      }
                                      b = _ = 0
                                    }
                                    n.mode = 28
                                  case 28:
                                    if (n.wrap && n.flags) {
                                      for (; b < 32; ) {
                                        if (0 === y) break e
                                        ;(y--, (_ += f[m++] << b), (b += 8))
                                      }
                                      if (_ !== (4294967295 & n.total)) {
                                        ;((e.msg = 'incorrect length check'), (n.mode = 30))
                                        break
                                      }
                                      b = _ = 0
                                    }
                                    n.mode = 29
                                  case 29:
                                    O = 1
                                    break e
                                  case 30:
                                    O = -3
                                    break e
                                  case 31:
                                    return -4
                                  default:
                                    return d
                                }
                              return (
                                (e.next_out = g),
                                (e.avail_out = x),
                                (e.next_in = m),
                                (e.avail_in = y),
                                (n.hold = _),
                                (n.bits = b),
                                (n.wsize ||
                                  (w !== e.avail_out && n.mode < 30 && (n.mode < 27 || 4 !== t))) &&
                                T(e, e.output, e.next_out, w - e.avail_out)
                                  ? ((n.mode = 31), -4)
                                  : ((S -= e.avail_in),
                                    (w -= e.avail_out),
                                    (e.total_in += S),
                                    (e.total_out += w),
                                    (n.total += w),
                                    n.wrap &&
                                      w &&
                                      (e.adler = n.check =
                                        n.flags
                                          ? a(n.check, p, w, e.next_out - w)
                                          : i(n.check, p, w, e.next_out - w)),
                                    (e.data_type =
                                      n.bits +
                                      (n.last ? 64 : 0) +
                                      (12 === n.mode ? 128 : 0) +
                                      (20 === n.mode || 15 === n.mode ? 256 : 0)),
                                    ((0 == S && 0 === w) || 4 === t) && O === c && (O = -5),
                                    O)
                              )
                            }),
                            (n.inflateEnd = function (e) {
                              if (!e || !e.state) return d
                              var t = e.state
                              return (t.window && (t.window = null), (e.state = null), c)
                            }),
                            (n.inflateGetHeader = function (e, t) {
                              var n
                              return e && e.state && 2 & (n = e.state).wrap
                                ? (((n.head = t).done = !1), c)
                                : d
                            }),
                            (n.inflateSetDictionary = function (e, t) {
                              var n,
                                r = t.length
                              return e && e.state
                                ? 0 !== (n = e.state).wrap && 11 !== n.mode
                                  ? d
                                  : 11 === n.mode && i(1, t, r, 0) !== n.check
                                    ? -3
                                    : T(e, t, r, r)
                                      ? ((n.mode = 31), -4)
                                      : ((n.havedict = 1), c)
                                : d
                            }),
                            (n.inflateInfo = 'pako inflate (from Nodeca project)'))
                        },
                        {
                          '../utils/common': 41,
                          './adler32': 43,
                          './crc32': 45,
                          './inffast': 48,
                          './inftrees': 50,
                        },
                      ],
                      50: [
                        function (e, t, n) {
                          var r = e('../utils/common'),
                            i = [
                              3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51,
                              59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0,
                            ],
                            a = [
                              16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19,
                              19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78,
                            ],
                            o = [
                              1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385,
                              513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385,
                              24577, 0, 0,
                            ],
                            s = [
                              16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23,
                              23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64,
                            ]
                          t.exports = function (e, t, n, u, l, c, d, h) {
                            var f,
                              p,
                              v,
                              m,
                              g,
                              y,
                              x,
                              _,
                              b,
                              S = h.bits,
                              w = 0,
                              A = 0,
                              T = 0,
                              M = 0,
                              E = 0,
                              C = 0,
                              k = 0,
                              R = 0,
                              I = 0,
                              N = 0,
                              P = null,
                              L = 0,
                              D = new r.Buf16(16),
                              O = new r.Buf16(16),
                              F = null,
                              B = 0
                            for (w = 0; w <= 15; w++) D[w] = 0
                            for (A = 0; A < u; A++) D[t[n + A]]++
                            for (E = S, M = 15; 1 <= M && 0 === D[M]; M--);
                            if ((M < E && (E = M), 0 === M))
                              return ((l[c++] = 20971520), (l[c++] = 20971520), (h.bits = 1), 0)
                            for (T = 1; T < M && 0 === D[T]; T++);
                            for (E < T && (E = T), w = R = 1; w <= 15; w++)
                              if (((R <<= 1), (R -= D[w]) < 0)) return -1
                            if (0 < R && (0 === e || 1 !== M)) return -1
                            for (O[1] = 0, w = 1; w < 15; w++) O[w + 1] = O[w] + D[w]
                            for (A = 0; A < u; A++) 0 !== t[n + A] && (d[O[t[n + A]]++] = A)
                            if (
                              ((y =
                                0 === e
                                  ? ((P = F = d), 19)
                                  : 1 === e
                                    ? ((P = i), (L -= 257), (F = a), (B -= 257), 256)
                                    : ((P = o), (F = s), -1)),
                              (w = T),
                              (g = c),
                              (k = A = N = 0),
                              (v = -1),
                              (m = (I = 1 << (C = E)) - 1),
                              (1 === e && 852 < I) || (2 === e && 592 < I))
                            )
                              return 1
                            for (;;) {
                              for (
                                x = w - k,
                                  b =
                                    d[A] < y
                                      ? ((_ = 0), d[A])
                                      : d[A] > y
                                        ? ((_ = F[B + d[A]]), P[L + d[A]])
                                        : ((_ = 96), 0),
                                  f = 1 << (w - k),
                                  T = p = 1 << C;
                                (l[g + (N >> k) + (p -= f)] = (x << 24) | (_ << 16) | b), 0 !== p;

                              );
                              for (f = 1 << (w - 1); N & f; ) f >>= 1
                              if (
                                (0 !== f ? ((N &= f - 1), (N += f)) : (N = 0), A++, 0 == --D[w])
                              ) {
                                if (w === M) break
                                w = t[n + d[A]]
                              }
                              if (E < w && (N & m) !== v) {
                                for (
                                  0 === k && (k = E), g += T, R = 1 << (C = w - k);
                                  C + k < M && !((R -= D[C + k]) <= 0);

                                )
                                  (C++, (R <<= 1))
                                if (((I += 1 << C), (1 === e && 852 < I) || (2 === e && 592 < I)))
                                  return 1
                                l[(v = N & m)] = (E << 24) | (C << 16) | (g - c)
                              }
                            }
                            return (
                              0 !== N && (l[g + N] = ((w - k) << 24) | (64 << 16)),
                              (h.bits = E),
                              0
                            )
                          }
                        },
                        { '../utils/common': 41 },
                      ],
                      51: [
                        function (e, t, n) {
                          t.exports = {
                            2: 'need dictionary',
                            1: 'stream end',
                            0: '',
                            '-1': 'file error',
                            '-2': 'stream error',
                            '-3': 'data error',
                            '-4': 'insufficient memory',
                            '-5': 'buffer error',
                            '-6': 'incompatible version',
                          }
                        },
                        {},
                      ],
                      52: [
                        function (e, t, n) {
                          var r = e('../utils/common'),
                            i = 0,
                            a = 1
                          function o(e) {
                            for (var t = e.length; 0 <= --t; ) e[t] = 0
                          }
                          var s = 0,
                            u = 29,
                            l = 256,
                            c = l + 1 + u,
                            d = 30,
                            h = 19,
                            f = 2 * c + 1,
                            p = 15,
                            v = 16,
                            m = 7,
                            g = 256,
                            y = 16,
                            x = 17,
                            _ = 18,
                            b = [
                              0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,
                              4, 5, 5, 5, 5, 0,
                            ],
                            S = [
                              0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10,
                              10, 11, 11, 12, 12, 13, 13,
                            ],
                            w = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                            A = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                            T = new Array(2 * (c + 2))
                          o(T)
                          var M = new Array(2 * d)
                          o(M)
                          var E = new Array(512)
                          o(E)
                          var C = new Array(256)
                          o(C)
                          var k = new Array(u)
                          o(k)
                          var R,
                            I,
                            N,
                            P = new Array(d)
                          function L(e, t, n, r, i) {
                            ;((this.static_tree = e),
                              (this.extra_bits = t),
                              (this.extra_base = n),
                              (this.elems = r),
                              (this.max_length = i),
                              (this.has_stree = e && e.length))
                          }
                          function D(e, t) {
                            ;((this.dyn_tree = e), (this.max_code = 0), (this.stat_desc = t))
                          }
                          function O(e) {
                            return e < 256 ? E[e] : E[256 + (e >>> 7)]
                          }
                          function F(e, t) {
                            ;((e.pending_buf[e.pending++] = 255 & t),
                              (e.pending_buf[e.pending++] = (t >>> 8) & 255))
                          }
                          function B(e, t, n) {
                            e.bi_valid > v - n
                              ? ((e.bi_buf |= (t << e.bi_valid) & 65535),
                                F(e, e.bi_buf),
                                (e.bi_buf = t >> (v - e.bi_valid)),
                                (e.bi_valid += n - v))
                              : ((e.bi_buf |= (t << e.bi_valid) & 65535), (e.bi_valid += n))
                          }
                          function U(e, t, n) {
                            B(e, n[2 * t], n[2 * t + 1])
                          }
                          function z(e, t) {
                            for (var n = 0; (n |= 1 & e), (e >>>= 1), (n <<= 1), 0 < --t; );
                            return n >>> 1
                          }
                          function V(e, t, n) {
                            var r,
                              i,
                              a = new Array(p + 1),
                              o = 0
                            for (r = 1; r <= p; r++) a[r] = o = (o + n[r - 1]) << 1
                            for (i = 0; i <= t; i++) {
                              var s = e[2 * i + 1]
                              0 !== s && (e[2 * i] = z(a[s]++, s))
                            }
                          }
                          function H(e) {
                            var t
                            for (t = 0; t < c; t++) e.dyn_ltree[2 * t] = 0
                            for (t = 0; t < d; t++) e.dyn_dtree[2 * t] = 0
                            for (t = 0; t < h; t++) e.bl_tree[2 * t] = 0
                            ;((e.dyn_ltree[2 * g] = 1),
                              (e.opt_len = e.static_len = 0),
                              (e.last_lit = e.matches = 0))
                          }
                          function W(e) {
                            ;(8 < e.bi_valid
                              ? F(e, e.bi_buf)
                              : 0 < e.bi_valid && (e.pending_buf[e.pending++] = e.bi_buf),
                              (e.bi_buf = 0),
                              (e.bi_valid = 0))
                          }
                          function G(e, t, n, r) {
                            var i = 2 * t,
                              a = 2 * n
                            return e[i] < e[a] || (e[i] === e[a] && r[t] <= r[n])
                          }
                          function j(e, t, n) {
                            for (
                              var r = e.heap[n], i = n << 1;
                              i <= e.heap_len &&
                              (i < e.heap_len && G(t, e.heap[i + 1], e.heap[i], e.depth) && i++,
                              !G(t, r, e.heap[i], e.depth));

                            )
                              ((e.heap[n] = e.heap[i]), (n = i), (i <<= 1))
                            e.heap[n] = r
                          }
                          function Q(e, t, n) {
                            var r,
                              i,
                              a,
                              o,
                              s = 0
                            if (0 !== e.last_lit)
                              for (
                                ;
                                (r =
                                  (e.pending_buf[e.d_buf + 2 * s] << 8) |
                                  e.pending_buf[e.d_buf + 2 * s + 1]),
                                  (i = e.pending_buf[e.l_buf + s]),
                                  s++,
                                  0 === r
                                    ? U(e, i, t)
                                    : (U(e, (a = C[i]) + l + 1, t),
                                      0 !== (o = b[a]) && B(e, (i -= k[a]), o),
                                      U(e, (a = O(--r)), n),
                                      0 !== (o = S[a]) && B(e, (r -= P[a]), o)),
                                  s < e.last_lit;

                              );
                            U(e, g, t)
                          }
                          function q(e, t) {
                            var n,
                              r,
                              i,
                              a = t.dyn_tree,
                              o = t.stat_desc.static_tree,
                              s = t.stat_desc.has_stree,
                              u = t.stat_desc.elems,
                              l = -1
                            for (e.heap_len = 0, e.heap_max = f, n = 0; n < u; n++)
                              0 !== a[2 * n]
                                ? ((e.heap[++e.heap_len] = l = n), (e.depth[n] = 0))
                                : (a[2 * n + 1] = 0)
                            for (; e.heap_len < 2; )
                              ((a[2 * (i = e.heap[++e.heap_len] = l < 2 ? ++l : 0)] = 1),
                                (e.depth[i] = 0),
                                e.opt_len--,
                                s && (e.static_len -= o[2 * i + 1]))
                            for (t.max_code = l, n = e.heap_len >> 1; 1 <= n; n--) j(e, a, n)
                            for (
                              i = u;
                              (n = e.heap[1]),
                                (e.heap[1] = e.heap[e.heap_len--]),
                                j(e, a, 1),
                                (r = e.heap[1]),
                                (e.heap[--e.heap_max] = n),
                                (e.heap[--e.heap_max] = r),
                                (a[2 * i] = a[2 * n] + a[2 * r]),
                                (e.depth[i] =
                                  (e.depth[n] >= e.depth[r] ? e.depth[n] : e.depth[r]) + 1),
                                (a[2 * n + 1] = a[2 * r + 1] = i),
                                (e.heap[1] = i++),
                                j(e, a, 1),
                                2 <= e.heap_len;

                            );
                            ;((e.heap[--e.heap_max] = e.heap[1]),
                              (function (e, t) {
                                var n,
                                  r,
                                  i,
                                  a,
                                  o,
                                  s,
                                  u = t.dyn_tree,
                                  l = t.max_code,
                                  c = t.stat_desc.static_tree,
                                  d = t.stat_desc.has_stree,
                                  h = t.stat_desc.extra_bits,
                                  v = t.stat_desc.extra_base,
                                  m = t.stat_desc.max_length,
                                  g = 0
                                for (a = 0; a <= p; a++) e.bl_count[a] = 0
                                for (
                                  u[2 * e.heap[e.heap_max] + 1] = 0, n = e.heap_max + 1;
                                  n < f;
                                  n++
                                )
                                  (m < (a = u[2 * u[2 * (r = e.heap[n]) + 1] + 1] + 1) &&
                                    ((a = m), g++),
                                    (u[2 * r + 1] = a),
                                    l < r ||
                                      (e.bl_count[a]++,
                                      (o = 0),
                                      v <= r && (o = h[r - v]),
                                      (s = u[2 * r]),
                                      (e.opt_len += s * (a + o)),
                                      d && (e.static_len += s * (c[2 * r + 1] + o))))
                                if (0 !== g) {
                                  do {
                                    for (a = m - 1; 0 === e.bl_count[a]; ) a--
                                    ;(e.bl_count[a]--,
                                      (e.bl_count[a + 1] += 2),
                                      e.bl_count[m]--,
                                      (g -= 2))
                                  } while (0 < g)
                                  for (a = m; 0 !== a; a--)
                                    for (r = e.bl_count[a]; 0 !== r; )
                                      l < (i = e.heap[--n]) ||
                                        (u[2 * i + 1] !== a &&
                                          ((e.opt_len += (a - u[2 * i + 1]) * u[2 * i]),
                                          (u[2 * i + 1] = a)),
                                        r--)
                                }
                              })(e, t),
                              V(a, l, e.bl_count))
                          }
                          function X(e, t, n) {
                            var r,
                              i,
                              a = -1,
                              o = t[1],
                              s = 0,
                              u = 7,
                              l = 4
                            for (
                              0 === o && ((u = 138), (l = 3)), t[2 * (n + 1) + 1] = 65535, r = 0;
                              r <= n;
                              r++
                            )
                              ((i = o),
                                (o = t[2 * (r + 1) + 1]),
                                (++s < u && i === o) ||
                                  (s < l
                                    ? (e.bl_tree[2 * i] += s)
                                    : 0 !== i
                                      ? (i !== a && e.bl_tree[2 * i]++, e.bl_tree[2 * y]++)
                                      : s <= 10
                                        ? e.bl_tree[2 * x]++
                                        : e.bl_tree[2 * _]++,
                                  (a = i),
                                  (l =
                                    (s = 0) === o
                                      ? ((u = 138), 3)
                                      : i === o
                                        ? ((u = 6), 3)
                                        : ((u = 7), 4))))
                          }
                          function Y(e, t, n) {
                            var r,
                              i,
                              a = -1,
                              o = t[1],
                              s = 0,
                              u = 7,
                              l = 4
                            for (0 === o && ((u = 138), (l = 3)), r = 0; r <= n; r++)
                              if (((i = o), (o = t[2 * (r + 1) + 1]), !(++s < u && i === o))) {
                                if (s < l) for (; U(e, i, e.bl_tree), 0 != --s; );
                                else
                                  0 !== i
                                    ? (i !== a && (U(e, i, e.bl_tree), s--),
                                      U(e, y, e.bl_tree),
                                      B(e, s - 3, 2))
                                    : s <= 10
                                      ? (U(e, x, e.bl_tree), B(e, s - 3, 3))
                                      : (U(e, _, e.bl_tree), B(e, s - 11, 7))
                                ;((a = i),
                                  (l =
                                    (s = 0) === o
                                      ? ((u = 138), 3)
                                      : i === o
                                        ? ((u = 6), 3)
                                        : ((u = 7), 4)))
                              }
                          }
                          o(P)
                          var K = !1
                          function Z(e, t, n, i) {
                            ;(B(e, (s << 1) + (i ? 1 : 0), 3),
                              (function (e, t, n) {
                                ;(W(e),
                                  F(e, n),
                                  F(e, ~n),
                                  r.arraySet(e.pending_buf, e.window, t, n, e.pending),
                                  (e.pending += n))
                              })(e, t, n))
                          }
                          ;((n._tr_init = function (e) {
                            ;(K ||
                              ((function () {
                                var e,
                                  t,
                                  n,
                                  r,
                                  i,
                                  a = new Array(p + 1)
                                for (r = n = 0; r < u - 1; r++)
                                  for (k[r] = n, e = 0; e < 1 << b[r]; e++) C[n++] = r
                                for (C[n - 1] = r, r = i = 0; r < 16; r++)
                                  for (P[r] = i, e = 0; e < 1 << S[r]; e++) E[i++] = r
                                for (i >>= 7; r < d; r++)
                                  for (P[r] = i << 7, e = 0; e < 1 << (S[r] - 7); e++)
                                    E[256 + i++] = r
                                for (t = 0; t <= p; t++) a[t] = 0
                                for (e = 0; e <= 143; ) ((T[2 * e + 1] = 8), e++, a[8]++)
                                for (; e <= 255; ) ((T[2 * e + 1] = 9), e++, a[9]++)
                                for (; e <= 279; ) ((T[2 * e + 1] = 7), e++, a[7]++)
                                for (; e <= 287; ) ((T[2 * e + 1] = 8), e++, a[8]++)
                                for (V(T, c + 1, a), e = 0; e < d; e++)
                                  ((M[2 * e + 1] = 5), (M[2 * e] = z(e, 5)))
                                ;((R = new L(T, b, l + 1, c, p)),
                                  (I = new L(M, S, 0, d, p)),
                                  (N = new L(new Array(0), w, 0, h, m)))
                              })(),
                              (K = !0)),
                              (e.l_desc = new D(e.dyn_ltree, R)),
                              (e.d_desc = new D(e.dyn_dtree, I)),
                              (e.bl_desc = new D(e.bl_tree, N)),
                              (e.bi_buf = 0),
                              (e.bi_valid = 0),
                              H(e))
                          }),
                            (n._tr_stored_block = Z),
                            (n._tr_flush_block = function (e, t, n, r) {
                              var o,
                                s,
                                u = 0
                              ;(0 < e.level
                                ? (2 === e.strm.data_type &&
                                    (e.strm.data_type = (function (e) {
                                      var t,
                                        n = 4093624447
                                      for (t = 0; t <= 31; t++, n >>>= 1)
                                        if (1 & n && 0 !== e.dyn_ltree[2 * t]) return i
                                      if (
                                        0 !== e.dyn_ltree[18] ||
                                        0 !== e.dyn_ltree[20] ||
                                        0 !== e.dyn_ltree[26]
                                      )
                                        return a
                                      for (t = 32; t < l; t++)
                                        if (0 !== e.dyn_ltree[2 * t]) return a
                                      return i
                                    })(e)),
                                  q(e, e.l_desc),
                                  q(e, e.d_desc),
                                  (u = (function (e) {
                                    var t
                                    for (
                                      X(e, e.dyn_ltree, e.l_desc.max_code),
                                        X(e, e.dyn_dtree, e.d_desc.max_code),
                                        q(e, e.bl_desc),
                                        t = h - 1;
                                      3 <= t && 0 === e.bl_tree[2 * A[t] + 1];
                                      t--
                                    );
                                    return ((e.opt_len += 3 * (t + 1) + 5 + 5 + 4), t)
                                  })(e)),
                                  (o = (e.opt_len + 3 + 7) >>> 3),
                                  (s = (e.static_len + 3 + 7) >>> 3) <= o && (o = s))
                                : (o = s = n + 5),
                                n + 4 <= o && -1 !== t
                                  ? Z(e, t, n, r)
                                  : 4 === e.strategy || s === o
                                    ? (B(e, 2 + (r ? 1 : 0), 3), Q(e, T, M))
                                    : (B(e, 4 + (r ? 1 : 0), 3),
                                      (function (e, t, n, r) {
                                        var i
                                        for (
                                          B(e, t - 257, 5), B(e, n - 1, 5), B(e, r - 4, 4), i = 0;
                                          i < r;
                                          i++
                                        )
                                          B(e, e.bl_tree[2 * A[i] + 1], 3)
                                        ;(Y(e, e.dyn_ltree, t - 1), Y(e, e.dyn_dtree, n - 1))
                                      })(e, e.l_desc.max_code + 1, e.d_desc.max_code + 1, u + 1),
                                      Q(e, e.dyn_ltree, e.dyn_dtree)),
                                H(e),
                                r && W(e))
                            }),
                            (n._tr_tally = function (e, t, n) {
                              return (
                                (e.pending_buf[e.d_buf + 2 * e.last_lit] = (t >>> 8) & 255),
                                (e.pending_buf[e.d_buf + 2 * e.last_lit + 1] = 255 & t),
                                (e.pending_buf[e.l_buf + e.last_lit] = 255 & n),
                                e.last_lit++,
                                0 === t
                                  ? e.dyn_ltree[2 * n]++
                                  : (e.matches++,
                                    t--,
                                    e.dyn_ltree[2 * (C[n] + l + 1)]++,
                                    e.dyn_dtree[2 * O(t)]++),
                                e.last_lit === e.lit_bufsize - 1
                              )
                            }),
                            (n._tr_align = function (e) {
                              ;(B(e, 2, 3),
                                U(e, g, T),
                                (function (e) {
                                  16 === e.bi_valid
                                    ? (F(e, e.bi_buf), (e.bi_buf = 0), (e.bi_valid = 0))
                                    : 8 <= e.bi_valid &&
                                      ((e.pending_buf[e.pending++] = 255 & e.bi_buf),
                                      (e.bi_buf >>= 8),
                                      (e.bi_valid -= 8))
                                })(e))
                            }))
                        },
                        { '../utils/common': 41 },
                      ],
                      53: [
                        function (e, t, n) {
                          t.exports = function () {
                            ;((this.input = null),
                              (this.next_in = 0),
                              (this.avail_in = 0),
                              (this.total_in = 0),
                              (this.output = null),
                              (this.next_out = 0),
                              (this.avail_out = 0),
                              (this.total_out = 0),
                              (this.msg = ''),
                              (this.state = null),
                              (this.data_type = 2),
                              (this.adler = 0))
                          }
                        },
                        {},
                      ],
                      54: [
                        function (e, t, n) {
                          ;(function (e) {
                            !(function (e, t) {
                              if (!e.setImmediate) {
                                var n,
                                  r,
                                  i,
                                  a,
                                  o = 1,
                                  s = {},
                                  u = !1,
                                  l = e.document,
                                  c = Object.getPrototypeOf && Object.getPrototypeOf(e)
                                ;((c = c && c.setTimeout ? c : e),
                                  (n =
                                    '[object process]' === {}.toString.call(e.process)
                                      ? function (e) {
                                          process.nextTick(function () {
                                            h(e)
                                          })
                                        }
                                      : (function () {
                                            if (e.postMessage && !e.importScripts) {
                                              var t = !0,
                                                n = e.onmessage
                                              return (
                                                (e.onmessage = function () {
                                                  t = !1
                                                }),
                                                e.postMessage('', '*'),
                                                (e.onmessage = n),
                                                t
                                              )
                                            }
                                          })()
                                        ? ((a = 'setImmediate$' + Math.random() + '$'),
                                          e.addEventListener
                                            ? e.addEventListener('message', f, !1)
                                            : e.attachEvent('onmessage', f),
                                          function (t) {
                                            e.postMessage(a + t, '*')
                                          })
                                        : e.MessageChannel
                                          ? (((i = new MessageChannel()).port1.onmessage =
                                              function (e) {
                                                h(e.data)
                                              }),
                                            function (e) {
                                              i.port2.postMessage(e)
                                            })
                                          : l && 'onreadystatechange' in l.createElement('script')
                                            ? ((r = l.documentElement),
                                              function (e) {
                                                var t = l.createElement('script')
                                                ;((t.onreadystatechange = function () {
                                                  ;(h(e),
                                                    (t.onreadystatechange = null),
                                                    r.removeChild(t),
                                                    (t = null))
                                                }),
                                                  r.appendChild(t))
                                              })
                                            : function (e) {
                                                setTimeout(h, 0, e)
                                              }),
                                  (c.setImmediate = function (e) {
                                    'function' != typeof e && (e = new Function('' + e))
                                    for (
                                      var t = new Array(arguments.length - 1), r = 0;
                                      r < t.length;
                                      r++
                                    )
                                      t[r] = arguments[r + 1]
                                    var i = { callback: e, args: t }
                                    return ((s[o] = i), n(o), o++)
                                  }),
                                  (c.clearImmediate = d))
                              }
                              function d(e) {
                                delete s[e]
                              }
                              function h(e) {
                                if (u) setTimeout(h, 0, e)
                                else {
                                  var n = s[e]
                                  if (n) {
                                    u = !0
                                    try {
                                      !(function (e) {
                                        var n = e.callback,
                                          r = e.args
                                        switch (r.length) {
                                          case 0:
                                            n()
                                            break
                                          case 1:
                                            n(r[0])
                                            break
                                          case 2:
                                            n(r[0], r[1])
                                            break
                                          case 3:
                                            n(r[0], r[1], r[2])
                                            break
                                          default:
                                            n.apply(t, r)
                                        }
                                      })(n)
                                    } finally {
                                      ;(d(e), (u = !1))
                                    }
                                  }
                                }
                              }
                              function f(t) {
                                t.source === e &&
                                  'string' == typeof t.data &&
                                  0 === t.data.indexOf(a) &&
                                  h(+t.data.slice(a.length))
                              }
                            })('undefined' == typeof self ? (void 0 === e ? this : e) : self)
                          }).call(
                            this,
                            void 0 !== iU
                              ? iU
                              : 'undefined' != typeof self
                                ? self
                                : 'undefined' != typeof window
                                  ? window
                                  : {}
                          )
                        },
                        {},
                      ],
                    },
                    {},
                    [10]
                  )(10)
                })(uU)),
              uU.exports)
          var hU,
            fU,
            pU,
            vU = {}
          var mU,
            gU = (function () {
              if (pU) return fU
              pU = 1
              var e = cU
                  ? lU
                  : ((cU = 1),
                    (lU = function (e, t) {
                      if (((t = t.split(':')[0]), !(e = +e))) return !1
                      switch (t) {
                        case 'http':
                        case 'ws':
                          return 80 !== e
                        case 'https':
                        case 'wss':
                          return 443 !== e
                        case 'ftp':
                          return 21 !== e
                        case 'gopher':
                          return 70 !== e
                        case 'file':
                          return !1
                      }
                      return 0 !== e
                    })),
                t = (function () {
                  if (hU) return vU
                  hU = 1
                  var e = Object.prototype.hasOwnProperty
                  function t(e) {
                    try {
                      return decodeURIComponent(e.replace(/\+/g, ' '))
                    } catch (u$) {
                      return null
                    }
                  }
                  function n(e) {
                    try {
                      return encodeURIComponent(e)
                    } catch (u$) {
                      return null
                    }
                  }
                  return (
                    (vU.stringify = function (t, r) {
                      r = r || ''
                      var i,
                        a,
                        o = []
                      for (a in ('string' != typeof r && (r = '?'), t))
                        if (e.call(t, a)) {
                          if (
                            ((i = t[a]) || (null != i && !isNaN(i)) || (i = ''),
                            (a = n(a)),
                            (i = n(i)),
                            null === a || null === i)
                          )
                            continue
                          o.push(a + '=' + i)
                        }
                      return o.length ? r + o.join('&') : ''
                    }),
                    (vU.parse = function (e) {
                      for (var n, r = /([^=?#&]+)=?([^&]*)/g, i = {}; (n = r.exec(e)); ) {
                        var a = t(n[1]),
                          o = t(n[2])
                        null === a || null === o || a in i || (i[a] = o)
                      }
                      return i
                    }),
                    vU
                  )
                })(),
                n = /^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,
                r = /[\n\r\t]/g,
                i = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//,
                a = /:\d+$/,
                o = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,
                s = /^[a-zA-Z]:/
              function u(e) {
                return (e || '').toString().replace(n, '')
              }
              var l = [
                  ['#', 'hash'],
                  ['?', 'query'],
                  function (e, t) {
                    return h(t.protocol) ? e.replace(/\\/g, '/') : e
                  },
                  ['/', 'pathname'],
                  ['@', 'auth', 1],
                  [NaN, 'host', void 0, 1, 1],
                  [/:(\d*)$/, 'port', void 0, 1],
                  [NaN, 'hostname', void 0, 1, 1],
                ],
                c = { hash: 1, query: 1 }
              function d(e) {
                var t,
                  n =
                    ('undefined' != typeof window
                      ? window
                      : void 0 !== iU
                        ? iU
                        : 'undefined' != typeof self
                          ? self
                          : {}
                    ).location || {},
                  r = {},
                  a = P((e = e || n))
                if ('blob:' === e.protocol) r = new p(unescape(e.pathname), {})
                else if ('string' === a) for (t in ((r = new p(e, {})), c)) delete r[t]
                else if ('object' === a) {
                  for (t in e) t in c || (r[t] = e[t])
                  void 0 === r.slashes && (r.slashes = i.test(e.href))
                }
                return r
              }
              function h(e) {
                return (
                  'file:' === e ||
                  'ftp:' === e ||
                  'http:' === e ||
                  'https:' === e ||
                  'ws:' === e ||
                  'wss:' === e
                )
              }
              function f(e, t) {
                ;((e = (e = u(e)).replace(r, '')), (t = t || {}))
                var n,
                  i = o.exec(e),
                  a = i[1] ? i[1].toLowerCase() : '',
                  s = !!i[2],
                  l = !!i[3],
                  c = 0
                return (
                  s
                    ? l
                      ? ((n = i[2] + i[3] + i[4]), (c = i[2].length + i[3].length))
                      : ((n = i[2] + i[4]), (c = i[2].length))
                    : l
                      ? ((n = i[3] + i[4]), (c = i[3].length))
                      : (n = i[4]),
                  'file:' === a
                    ? c >= 2 && (n = n.slice(2))
                    : h(a)
                      ? (n = i[4])
                      : a
                        ? s && (n = n.slice(2))
                        : c >= 2 && h(t.protocol) && (n = i[4]),
                  { protocol: a, slashes: s || h(a), slashesCount: c, rest: n }
                )
              }
              function p(n, i, a) {
                if (((n = (n = u(n)).replace(r, '')), !(this instanceof p))) return new p(n, i, a)
                var o,
                  c,
                  v,
                  m,
                  g,
                  y,
                  x = l.slice(),
                  _ = P(i),
                  b = this,
                  S = 0
                for (
                  'object' !== _ && 'string' !== _ && ((a = i), (i = null)),
                    a && 'function' != typeof a && (a = t.parse),
                    o = !(c = f(n || '', (i = d(i)))).protocol && !c.slashes,
                    b.slashes = c.slashes || (o && i.slashes),
                    b.protocol = c.protocol || i.protocol || '',
                    n = c.rest,
                    (('file:' === c.protocol && (2 !== c.slashesCount || s.test(n))) ||
                      (!c.slashes && (c.protocol || c.slashesCount < 2 || !h(b.protocol)))) &&
                      (x[3] = [/(.*)/, 'pathname']);
                  S < x.length;
                  S++
                )
                  'function' != typeof (m = x[S])
                    ? ((v = m[0]),
                      (y = m[1]),
                      v != v
                        ? (b[y] = n)
                        : 'string' == typeof v
                          ? ~(g = '@' === v ? n.lastIndexOf(v) : n.indexOf(v)) &&
                            ('number' == typeof m[2]
                              ? ((b[y] = n.slice(0, g)), (n = n.slice(g + m[2])))
                              : ((b[y] = n.slice(g)), (n = n.slice(0, g))))
                          : (g = v.exec(n)) && ((b[y] = g[1]), (n = n.slice(0, g.index))),
                      (b[y] = b[y] || (o && m[3] && i[y]) || ''),
                      m[4] && (b[y] = b[y].toLowerCase()))
                    : (n = m(n, b))
                ;(a && (b.query = a(b.query)),
                  o &&
                    i.slashes &&
                    '/' !== b.pathname.charAt(0) &&
                    ('' !== b.pathname || '' !== i.pathname) &&
                    (b.pathname = (function (e, t) {
                      if ('' === e) return t
                      for (
                        var n = (t || '/').split('/').slice(0, -1).concat(e.split('/')),
                          r = n.length,
                          i = n[r - 1],
                          a = !1,
                          o = 0;
                        r--;

                      )
                        '.' === n[r]
                          ? n.splice(r, 1)
                          : '..' === n[r]
                            ? (n.splice(r, 1), o++)
                            : o && (0 === r && (a = !0), n.splice(r, 1), o--)
                      return (
                        a && n.unshift(''),
                        ('.' !== i && '..' !== i) || n.push(''),
                        n.join('/')
                      )
                    })(b.pathname, i.pathname)),
                  '/' !== b.pathname.charAt(0) && h(b.protocol) && (b.pathname = '/' + b.pathname),
                  e(b.port, b.protocol) || ((b.host = b.hostname), (b.port = '')),
                  (b.username = b.password = ''),
                  b.auth &&
                    (~(g = b.auth.indexOf(':'))
                      ? ((b.username = b.auth.slice(0, g)),
                        (b.username = encodeURIComponent(decodeURIComponent(b.username))),
                        (b.password = b.auth.slice(g + 1)),
                        (b.password = encodeURIComponent(decodeURIComponent(b.password))))
                      : (b.username = encodeURIComponent(decodeURIComponent(b.auth))),
                    (b.auth = b.password ? b.username + ':' + b.password : b.username)),
                  (b.origin =
                    'file:' !== b.protocol && h(b.protocol) && b.host
                      ? b.protocol + '//' + b.host
                      : 'null'),
                  (b.href = b.toString()))
              }
              return (
                (p.prototype = {
                  set: function (n, r, i) {
                    var o = this
                    switch (n) {
                      case 'query':
                        ;('string' == typeof r && r.length && (r = (i || t.parse)(r)), (o[n] = r))
                        break
                      case 'port':
                        ;((o[n] = r),
                          e(r, o.protocol)
                            ? r && (o.host = o.hostname + ':' + r)
                            : ((o.host = o.hostname), (o[n] = '')))
                        break
                      case 'hostname':
                        ;((o[n] = r), o.port && (r += ':' + o.port), (o.host = r))
                        break
                      case 'host':
                        ;((o[n] = r),
                          a.test(r)
                            ? ((r = r.split(':')), (o.port = r.pop()), (o.hostname = r.join(':')))
                            : ((o.hostname = r), (o.port = '')))
                        break
                      case 'protocol':
                        ;((o.protocol = r.toLowerCase()), (o.slashes = !i))
                        break
                      case 'pathname':
                      case 'hash':
                        if (r) {
                          var s = 'pathname' === n ? '/' : '#'
                          o[n] = r.charAt(0) !== s ? s + r : r
                        } else o[n] = r
                        break
                      case 'username':
                      case 'password':
                        o[n] = encodeURIComponent(r)
                        break
                      case 'auth':
                        var u = r.indexOf(':')
                        ~u
                          ? ((o.username = r.slice(0, u)),
                            (o.username = encodeURIComponent(decodeURIComponent(o.username))),
                            (o.password = r.slice(u + 1)),
                            (o.password = encodeURIComponent(decodeURIComponent(o.password))))
                          : (o.username = encodeURIComponent(decodeURIComponent(r)))
                    }
                    for (var c = 0; c < l.length; c++) {
                      var d = l[c]
                      d[4] && (o[d[1]] = o[d[1]].toLowerCase())
                    }
                    return (
                      (o.auth = o.password ? o.username + ':' + o.password : o.username),
                      (o.origin =
                        'file:' !== o.protocol && h(o.protocol) && o.host
                          ? o.protocol + '//' + o.host
                          : 'null'),
                      (o.href = o.toString()),
                      o
                    )
                  },
                  toString: function (e) {
                    ;(e && 'function' == typeof e) || (e = t.stringify)
                    var n,
                      r = this,
                      i = r.host,
                      o = r.protocol
                    o && ':' !== o.charAt(o.length - 1) && (o += ':')
                    var s = o + ((r.protocol && r.slashes) || h(r.protocol) ? '//' : '')
                    return (
                      r.username
                        ? ((s += r.username), r.password && (s += ':' + r.password), (s += '@'))
                        : r.password
                          ? ((s += ':' + r.password), (s += '@'))
                          : 'file:' !== r.protocol &&
                            h(r.protocol) &&
                            !i &&
                            '/' !== r.pathname &&
                            (s += '@'),
                      (':' === i[i.length - 1] || (a.test(r.hostname) && !r.port)) && (i += ':'),
                      (s += i + r.pathname),
                      (n = 'object' === P(r.query) ? e(r.query) : r.query) &&
                        (s += '?' !== n.charAt(0) ? '?' + n : n),
                      r.hash && (s += r.hash),
                      s
                    )
                  },
                }),
                (p.extractProtocol = f),
                (p.location = d),
                (p.trimLeft = u),
                (p.qs = t),
                (fU = p)
              )
            })(),
            yU = aU(gU),
            xU = { exports: {} }
          var _U,
            bU,
            SU,
            wU,
            AU,
            TU =
              (mU ||
                ((mU = 1),
                (function (e) {
                  e.exports = (function () {
                    var e,
                      t,
                      n = { version: '0.2.0' },
                      r = (n.settings = {
                        minimum: 0.08,
                        easing: 'ease',
                        positionUsing: '',
                        speed: 200,
                        trickle: !0,
                        trickleRate: 0.02,
                        trickleSpeed: 800,
                        showSpinner: !0,
                        barSelector: '[role="bar"]',
                        spinnerSelector: '[role="spinner"]',
                        parent: 'body',
                        template:
                          '<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>',
                      })
                    function i(e, t, n) {
                      return e < t ? t : e > n ? n : e
                    }
                    function a(e) {
                      return 100 * (-1 + e)
                    }
                    function o(e, t, n) {
                      var i
                      return (
                        ((i =
                          'translate3d' === r.positionUsing
                            ? { transform: 'translate3d(' + a(e) + '%,0,0)' }
                            : 'translate' === r.positionUsing
                              ? { transform: 'translate(' + a(e) + '%,0)' }
                              : { 'margin-left': a(e) + '%' }).transition = 'all ' + t + 'ms ' + n),
                        i
                      )
                    }
                    ;((n.configure = function (e) {
                      var t, n
                      for (t in e) void 0 !== (n = e[t]) && e.hasOwnProperty(t) && (r[t] = n)
                      return this
                    }),
                      (n.status = null),
                      (n.set = function (e) {
                        var t = n.isStarted()
                        ;((e = i(e, r.minimum, 1)), (n.status = 1 === e ? null : e))
                        var a = n.render(!t),
                          l = a.querySelector(r.barSelector),
                          c = r.speed,
                          d = r.easing
                        return (
                          a.offsetWidth,
                          s(function (t) {
                            ;('' === r.positionUsing && (r.positionUsing = n.getPositioningCSS()),
                              u(l, o(e, c, d)),
                              1 === e
                                ? (u(a, { transition: 'none', opacity: 1 }),
                                  a.offsetWidth,
                                  setTimeout(function () {
                                    ;(u(a, { transition: 'all ' + c + 'ms linear', opacity: 0 }),
                                      setTimeout(function () {
                                        ;(n.remove(), t())
                                      }, c))
                                  }, c))
                                : setTimeout(t, c))
                          }),
                          this
                        )
                      }),
                      (n.isStarted = function () {
                        return 'number' == typeof n.status
                      }),
                      (n.start = function () {
                        n.status || n.set(0)
                        var e = function () {
                          setTimeout(function () {
                            n.status && (n.trickle(), e())
                          }, r.trickleSpeed)
                        }
                        return (r.trickle && e(), this)
                      }),
                      (n.done = function (e) {
                        return e || n.status ? n.inc(0.3 + 0.5 * Math.random()).set(1) : this
                      }),
                      (n.inc = function (e) {
                        var t = n.status
                        return t
                          ? ('number' != typeof e &&
                              (e = (1 - t) * i(Math.random() * t, 0.1, 0.95)),
                            (t = i(t + e, 0, 0.994)),
                            n.set(t))
                          : n.start()
                      }),
                      (n.trickle = function () {
                        return n.inc(Math.random() * r.trickleRate)
                      }),
                      (e = 0),
                      (t = 0),
                      (n.promise = function (r) {
                        return r && 'resolved' !== r.state()
                          ? (0 === t && n.start(),
                            e++,
                            t++,
                            r.always(function () {
                              0 === --t ? ((e = 0), n.done()) : n.set((e - t) / e)
                            }),
                            this)
                          : this
                      }),
                      (n.render = function (e) {
                        if (n.isRendered()) return document.getElementById('nprogress')
                        c(document.documentElement, 'nprogress-busy')
                        var t = document.createElement('div')
                        ;((t.id = 'nprogress'), (t.innerHTML = r.template))
                        var i,
                          o = t.querySelector(r.barSelector),
                          s = e ? '-100' : a(n.status || 0),
                          l = document.querySelector(r.parent)
                        return (
                          u(o, {
                            transition: 'all 0 linear',
                            transform: 'translate3d(' + s + '%,0,0)',
                          }),
                          r.showSpinner || ((i = t.querySelector(r.spinnerSelector)) && f(i)),
                          l != document.body && c(l, 'nprogress-custom-parent'),
                          l.appendChild(t),
                          t
                        )
                      }),
                      (n.remove = function () {
                        ;(d(document.documentElement, 'nprogress-busy'),
                          d(document.querySelector(r.parent), 'nprogress-custom-parent'))
                        var e = document.getElementById('nprogress')
                        e && f(e)
                      }),
                      (n.isRendered = function () {
                        return !!document.getElementById('nprogress')
                      }),
                      (n.getPositioningCSS = function () {
                        var e = document.body.style,
                          t =
                            'WebkitTransform' in e
                              ? 'Webkit'
                              : 'MozTransform' in e
                                ? 'Moz'
                                : 'msTransform' in e
                                  ? 'ms'
                                  : 'OTransform' in e
                                    ? 'O'
                                    : ''
                        return t + 'Perspective' in e
                          ? 'translate3d'
                          : t + 'Transform' in e
                            ? 'translate'
                            : 'margin'
                      }))
                    var s = (function () {
                        var e = []
                        function t() {
                          var n = e.shift()
                          n && n(t)
                        }
                        return function (n) {
                          ;(e.push(n), 1 == e.length && t())
                        }
                      })(),
                      u = (function () {
                        var e = ['Webkit', 'O', 'Moz', 'ms'],
                          t = {}
                        function n(e) {
                          return e.replace(/^-ms-/, 'ms-').replace(/-([\da-z])/gi, function (e, t) {
                            return t.toUpperCase()
                          })
                        }
                        function r(t) {
                          var n = document.body.style
                          if (t in n) return t
                          for (
                            var r, i = e.length, a = t.charAt(0).toUpperCase() + t.slice(1);
                            i--;

                          )
                            if ((r = e[i] + a) in n) return r
                          return t
                        }
                        function i(e) {
                          return ((e = n(e)), t[e] || (t[e] = r(e)))
                        }
                        function a(e, t, n) {
                          ;((t = i(t)), (e.style[t] = n))
                        }
                        return function (e, t) {
                          var n,
                            r,
                            i = arguments
                          if (2 == i.length)
                            for (n in t) void 0 !== (r = t[n]) && t.hasOwnProperty(n) && a(e, n, r)
                          else a(e, i[1], i[2])
                        }
                      })()
                    function l(e, t) {
                      return ('string' == typeof e ? e : h(e)).indexOf(' ' + t + ' ') >= 0
                    }
                    function c(e, t) {
                      var n = h(e),
                        r = n + t
                      l(n, t) || (e.className = r.substring(1))
                    }
                    function d(e, t) {
                      var n,
                        r = h(e)
                      l(e, t) &&
                        ((n = r.replace(' ' + t + ' ', ' ')),
                        (e.className = n.substring(1, n.length - 1)))
                    }
                    function h(e) {
                      return (' ' + (e.className || '') + ' ').replace(/\s+/gi, ' ')
                    }
                    function f(e) {
                      e && e.parentNode && e.parentNode.removeChild(e)
                    }
                    return n
                  })()
                })(xU)),
              xU.exports),
            MU = aU(TU)
          ;(!(function (e) {
            ;((e.Idle = 'Idle'),
              (e.Listening = 'Listening'),
              (e.Responding = 'Responding'),
              (e.Thinking = 'Thinking'))
          })(_U || (_U = {})),
            (function (e) {
              ;((e.cpu = 'cpu'), (e.gpu = 'gpu'))
            })(bU || (bU = {})),
            (function (e) {
              ;((e.High = 'High'), (e.Low = 'Low'), (e.Standard = 'Standard'))
            })(SU || (SU = {})),
            (function (e) {
              ;((e.GAUSSIAN_SPLATTING_3D = 'GAUSSIAN_SPLATTING_3D'),
                (e.REALTIME_AVATAR_3D = 'REALTIME_AVATAR_3D'),
                (e.REALTIME_AVATAR_LIVE2D = 'REALTIME_AVATAR_LIVE2D'),
                (e.REALTIME_AVATAR_MOBILE2D = 'REALTIME_AVATAR_MOBILE2D'))
            })(wU || (wU = {})),
            (function (e) {
              ;((e.Idle = 'idle'),
                (e.Listening = 'listen'),
                (e.Responding = 'speak'),
                (e.Thinking = 'think'))
            })(AU || (AU = {})))
          var EU = (function () {
            function e(t, n, r) {
              w(this, e)
              var i = [],
                a = [],
                o = [],
                s = [],
                u = []
              this.mixer = t
              for (
                var l = r.hello.size,
                  c = r.idle.size + l,
                  d = r.listen.size + c,
                  h = r.speak.size + d,
                  f = r.think.size + h,
                  p = 0;
                p < n.length;
                p++
              ) {
                var v = n[p],
                  m = t.clipAction(v)
                if (p < l) i.push(m)
                else if (p < c) {
                  if ((a.push(m), d == c)) {
                    var g = t.clipAction(v.clone())
                    o.push(g)
                  }
                  if (s == o) {
                    var y = t.clipAction(v.clone())
                    s.push(y)
                  }
                  if (f == h) {
                    var x = t.clipAction(v.clone())
                    u.push(x)
                  }
                } else p < d ? o.push(m) : p < h ? s.push(m) : p < f && u.push(m)
                ;(e.actions.push(m), e.SetWeight(m, 0))
              }
              ;((this.hello = new kU(i, r.hello.isGroup)),
                (this.idle = new RU(a, r.idle.isGroup)),
                (this.listen = new IU(o, r.listen.isGroup)),
                (this.think = new NU(u, r.think.isGroup)),
                (this.speak = new PU(s, r.speak.isGroup)))
            }
            return T(
              e,
              [
                {
                  key: 'curPlaying',
                  value: function () {
                    return this.hello.isPlaying || this.idle.isPlaying
                      ? _U.Idle
                      : this.listen.isPlaying
                        ? _U.Listening
                        : this.think.isPlaying
                          ? _U.Thinking
                          : this.speak.isPlaying
                            ? _U.Responding
                            : void 0
                  },
                },
                {
                  key: 'dispose',
                  value: function () {
                    ;(this.hello.dispose(),
                      this.idle.dispose(),
                      this.listen.dispose(),
                      this.think.dispose(),
                      this.speak.dispose())
                  },
                },
                {
                  key: 'resetAllActions',
                  value: function () {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                    switch (this.curPlaying()) {
                      case _U.Idle:
                        e.LastAction = this.hello.actions[this.hello.stage]
                        break
                      case _U.Listening:
                        e.LastAction = this.listen.actions[this.listen.stage]
                        break
                      case _U.Thinking:
                        e.LastAction = this.think.actions[this.think.stage]
                        break
                      case _U.Responding:
                        e.LastAction = this.speak.actions[this.speak.stage]
                        break
                      default:
                        e.LastAction = void 0
                    }
                    ;(e.LastAction &&
                      ((e.LastAction.loop = hc),
                      (e.LastAction.clampWhenFinished = !0),
                      e.SetWeight(e.LastAction, 1)),
                      t &&
                        (e.PauseAllActions(),
                        e.actions.forEach(function (t) {
                          ;((t.time = 0), e.SetWeight(t, 0))
                        }),
                        (e.LastAction = void 0)),
                      (this.hello.isPlaying = !1),
                      (this.idle.isPlaying = !1),
                      (this.listen.isPlaying = !1),
                      (this.think.isPlaying = !1),
                      (this.speak.isPlaying = !1))
                  },
                },
                {
                  key: 'update',
                  value: function (t) {
                    if (!e.IsBlending)
                      if (((e.CurPlaying = this.curPlaying()), null == e.CurPlaying))
                        switch (t) {
                          case _U.Idle:
                            this.idle.update(t)
                            break
                          case _U.Listening:
                            this.listen.update(t)
                            break
                          case _U.Thinking:
                            this.think.update(t)
                            break
                          case _U.Responding:
                            this.speak.update(t)
                            break
                          default:
                            this.idle.update(t)
                        }
                      else
                        switch (e.CurPlaying) {
                          case _U.Idle:
                            this.idle.update(t)
                            break
                          case _U.Listening:
                            this.listen.update(t)
                            break
                          case _U.Thinking:
                            this.think.update(t)
                            break
                          case _U.Responding:
                            this.speak.update(t)
                            break
                          default:
                            this.idle.update(t)
                        }
                  },
                },
                {
                  key: 'updateBS',
                  value: function (e) {
                    var t = {
                      browDownLeft: 0,
                      browDownRight: 0,
                      browInnerUp: 0,
                      browOuterUpLeft: 0,
                      browOuterUpRight: 0,
                      mouthCheekPuff: 0,
                      cheekSquintLeft: 0,
                      cheekSquintRight: 0,
                      eyeBlinkLeft: 0,
                      eyeBlinkRight: 0,
                      eyeLookDownLeft: 0,
                      eyeLookDownRight: 0,
                      eyeLookInLeft: 0,
                      eyeLookInRight: 0,
                      eyeLookOutLeft: 0,
                      eyeLookOutRight: 0,
                      eyeLookUpLeft: 0,
                      eyeLookUpRight: 0,
                      eyeSquintLeft: 0,
                      eyeSquintRight: 0,
                      eyeWideLeft: 0,
                      eyeWideRight: 0,
                      jawForward: 0,
                      jawLeft: 0,
                      jawOpen: 0,
                      jawRight: 0,
                      mouthClose: 0,
                      mouthDimpleLeft: 0,
                      mouthDimpleRight: 0,
                      mouthFrownLeft: 0,
                      mouthFrownRight: 0,
                      mouthFunnel: 0,
                      mouthLeft: 0,
                      mouthLowerDownLeft: 0,
                      mouthLowerDownRight: 0,
                      mouthPressLeft: 0,
                      mouthPressRight: 0,
                      mouthPucker: 0,
                      mouthRight: 0,
                      mouthRollLower: 0,
                      mouthRollUpper: 0,
                      mouthShrugLower: 0,
                      mouthShrugUpper: 0,
                      mouthSmileLeft: 0,
                      mouthSmileRight: 0,
                      mouthStretchLeft: 0,
                      mouthStretchRight: 0,
                      mouthUpperUpLeft: 0,
                      mouthUpperUpRight: 0,
                      noseSneerLeft: 0,
                      noseSneerRight: 0,
                      tongueOut: 0,
                    }
                    return (null != e && (t = e), t)
                  },
                },
              ],
              [
                {
                  key: 'SetWeight',
                  value: function (e, t) {
                    ;((e.enabled = !0), e.setEffectiveTimeScale(1), e.setEffectiveWeight(t))
                  },
                },
                {
                  key: 'PrepareCrossFade',
                  value: function (t, n, r) {
                    var i = r
                    ;(e.UnPauseAllActions(),
                      e.ExecuteCrossFade(t, n, i),
                      (e.IsBlending = !0),
                      setTimeout(function () {
                        e.IsBlending = !1
                      }, r + 0.1))
                  },
                },
                {
                  key: 'PauseAllActions',
                  value: function () {
                    e.actions.forEach(function (e) {
                      e.paused = !0
                    })
                  },
                },
                {
                  key: 'UnPauseAllActions',
                  value: function () {
                    e.actions.forEach(function (e) {
                      e.paused = !1
                    })
                  },
                },
                {
                  key: 'ExecuteCrossFade',
                  value: function (t, n, r) {
                    ;(e.SetWeight(n, 1), (n.time = 0), t.crossFadeTo(n, r, !0))
                  },
                },
              ]
            )
          })()
          ;((EU.IsBlending = !1), (EU.actions = []), (EU.NeedReset = !1), (EU.NeedFullReset = !1))
          var CU = (function () {
              return T(
                function e(t, n) {
                  ;(w(this, e),
                    (this.isPlaying = !1),
                    (this.stage = 0),
                    (this.actions = []),
                    (this.blendingTime = 0.5),
                    (this.isGroup = !1),
                    (this.actions = t),
                    (this.isGroup = n))
                },
                [
                  {
                    key: 'dispose',
                    value: function () {
                      this.actions = []
                    },
                  },
                  { key: 'update', value: function (e) {} },
                ]
              )
            })(),
            kU = (function (e) {
              function t(e, n) {
                return (w(this, t), y(this, t, [e, n]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'update',
                    value: function (e) {
                      if (
                        (null == EU.CurPlaying &&
                          e == _U.Idle &&
                          0 == this.isPlaying &&
                          ((this.stage = 0),
                          (this.actions[this.stage].time = 0),
                          EU.SetWeight(this.actions[this.stage], 1),
                          (this.actions[this.stage].loop = fc),
                          (this.actions[this.stage].clampWhenFinished = !1),
                          (this.actions[this.stage].paused = !1),
                          this.actions[this.stage].play(),
                          null != EU.LastAction &&
                            EU.PrepareCrossFade(
                              EU.LastAction,
                              this.actions[this.stage],
                              this.blendingTime
                            ),
                          (this.isPlaying = !0)),
                        EU.CurPlaying == _U.Idle &&
                          e == _U.Idle &&
                          1 == this.isPlaying &&
                          this.actions[this.stage].time >
                            this.actions[this.stage].getClip().duration - this.blendingTime)
                      ) {
                        var t = this.stage + 1
                        ;(t >= this.actions.length && (t = 0),
                          (this.actions[t].time = 0),
                          EU.SetWeight(this.actions[t], 1),
                          (this.actions[t].loop = fc),
                          this.actions[t].play(),
                          EU.PrepareCrossFade(
                            this.actions[this.stage],
                            this.actions[t],
                            this.blendingTime
                          ),
                          (this.stage = t))
                      }
                    },
                  },
                ])
              )
            })(CU),
            RU = (function (e) {
              function t(e, n) {
                return (w(this, t), y(this, t, [e, n]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'update',
                    value: function (e) {
                      ;(null == EU.CurPlaying &&
                        e == _U.Idle &&
                        0 == this.isPlaying &&
                        ((this.stage = 0),
                        (this.actions[this.stage].time = 0),
                        EU.SetWeight(this.actions[this.stage], 1),
                        (this.actions[this.stage].loop = fc),
                        (this.actions[this.stage].clampWhenFinished = !1),
                        (this.actions[this.stage].paused = !1),
                        this.actions[this.stage].play(),
                        null != EU.LastAction &&
                          EU.PrepareCrossFade(
                            EU.LastAction,
                            this.actions[this.stage],
                            this.blendingTime
                          ),
                        (this.isPlaying = !0)),
                        EU.CurPlaying == _U.Idle &&
                          e != _U.Idle &&
                          1 == this.isPlaying &&
                          0 == this.stage &&
                          ((this.actions[this.stage].loop = hc),
                          (this.actions[this.stage].clampWhenFinished = !0),
                          (this.isPlaying = !1),
                          (EU.LastAction = this.actions[this.stage])))
                    },
                  },
                ])
              )
            })(CU),
            IU = (function (e) {
              function t(e, n) {
                return (w(this, t), y(this, t, [e, n]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'update',
                    value: function (e) {
                      ;(null == EU.CurPlaying &&
                        e == _U.Listening &&
                        0 == this.isPlaying &&
                        ((this.stage = 0),
                        (this.actions[this.stage].time = 0),
                        this.actions[this.stage].play(),
                        EU.SetWeight(this.actions[this.stage], 1),
                        (this.actions[this.stage].loop = this.isGroup ? hc : fc),
                        (this.actions[this.stage].clampWhenFinished = !!this.isGroup),
                        null != EU.LastAction &&
                          EU.PrepareCrossFade(
                            EU.LastAction,
                            this.actions[this.stage],
                            this.blendingTime
                          ),
                        (this.isPlaying = !0)),
                        this.isGroup &&
                          (EU.CurPlaying == _U.Listening &&
                            e == _U.Listening &&
                            1 == this.isPlaying &&
                            0 == this.stage &&
                            this.actions[this.stage].time >
                              this.actions[this.stage].getClip().duration - this.blendingTime &&
                            ((this.actions[this.stage + 1].time = 0),
                            EU.SetWeight(this.actions[this.stage + 1], 1),
                            (this.actions[this.stage + 1].loop = fc),
                            this.actions[this.stage + 1].play(),
                            EU.PrepareCrossFade(
                              this.actions[this.stage],
                              this.actions[this.stage + 1],
                              this.blendingTime
                            ),
                            (this.stage = 1)),
                          EU.CurPlaying != _U.Listening ||
                            e == _U.Listening ||
                            1 != this.isPlaying ||
                            (0 != this.stage && 1 != this.stage) ||
                            ((this.actions[2].time = 0),
                            this.actions[2].play(),
                            EU.SetWeight(this.actions[2], 1),
                            (this.actions[2].loop = hc),
                            EU.PrepareCrossFade(
                              this.actions[this.stage],
                              this.actions[2],
                              this.blendingTime
                            ),
                            (this.stage = 2))),
                        EU.CurPlaying == _U.Listening &&
                          e != _U.Listening &&
                          1 == this.isPlaying &&
                          this.stage == (this.isGroup ? this.actions.length - 1 : 0) &&
                          ((this.actions[this.stage].loop = hc),
                          (this.actions[this.stage].clampWhenFinished = !0),
                          (this.isPlaying = !1),
                          (EU.LastAction = this.actions[this.stage])))
                    },
                  },
                ])
              )
            })(CU),
            NU = (function (e) {
              function t(e, n) {
                return (w(this, t), y(this, t, [e, n]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'update',
                    value: function (e) {
                      ;(null == EU.CurPlaying &&
                        e == _U.Thinking &&
                        0 == this.isPlaying &&
                        ((this.stage = 0),
                        (this.actions[this.stage].time = 0),
                        this.actions[this.stage].play(),
                        EU.SetWeight(this.actions[this.stage], 1),
                        (this.actions[this.stage].loop = hc),
                        null != EU.LastAction &&
                          EU.PrepareCrossFade(
                            EU.LastAction,
                            this.actions[this.stage],
                            this.blendingTime
                          ),
                        (this.isPlaying = !0)),
                        this.isGroup &&
                          (EU.CurPlaying == _U.Thinking &&
                            e == _U.Thinking &&
                            1 == this.isPlaying &&
                            0 == this.stage &&
                            this.actions[this.stage].time >
                              this.actions[this.stage].getClip().duration - this.blendingTime &&
                            ((this.actions[this.stage + 1].time = 0),
                            this.actions[this.stage + 1].play(),
                            EU.SetWeight(this.actions[this.stage + 1], 1),
                            (this.actions[this.stage + 1].loop = fc),
                            EU.PrepareCrossFade(
                              this.actions[this.stage],
                              this.actions[this.stage + 1],
                              this.blendingTime
                            ),
                            (this.stage = 1)),
                          EU.CurPlaying != _U.Thinking ||
                            e == _U.Thinking ||
                            1 != this.isPlaying ||
                            (0 != this.stage && 1 != this.stage) ||
                            ((this.actions[2].time = 0),
                            this.actions[2].play(),
                            EU.SetWeight(this.actions[2], 1),
                            (this.actions[2].loop = hc),
                            EU.PrepareCrossFade(
                              this.actions[this.stage],
                              this.actions[2],
                              this.blendingTime
                            ),
                            (this.stage = 2))),
                        EU.CurPlaying == _U.Thinking &&
                          e != _U.Thinking &&
                          1 == this.isPlaying &&
                          this.stage == (this.isGroup ? this.actions.length - 1 : 0) &&
                          ((this.actions[this.stage].loop = hc),
                          (this.actions[this.stage].clampWhenFinished = !0),
                          this.actions[this.stage].time >
                            this.actions[this.stage].getClip().duration - 0.3 &&
                            ((this.isPlaying = !1), (EU.LastAction = this.actions[this.stage]))))
                    },
                  },
                ])
              )
            })(CU),
            PU = (function (e) {
              function t(e, n) {
                return (w(this, t), y(this, t, [e, n]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'getRandonNumber',
                    value: function (e, t) {
                      var n = e - t
                      return t + Math.round(Math.random() * n)
                    },
                  },
                  {
                    key: 'update',
                    value: function (e) {
                      if (
                        (null == EU.CurPlaying &&
                          e == _U.Responding &&
                          0 == this.isPlaying &&
                          ((this.stage = Math.ceil(
                            this.getRandonNumber(0, this.actions.length - 1)
                          )),
                          (this.actions[this.stage].time = 0),
                          this.actions[this.stage].play(),
                          EU.SetWeight(this.actions[this.stage], 1),
                          (this.actions[this.stage].loop = hc),
                          (this.actions[this.stage].clampWhenFinished = !0),
                          null != EU.LastAction &&
                            EU.PrepareCrossFade(
                              EU.LastAction,
                              this.actions[this.stage],
                              this.blendingTime
                            ),
                          (this.isPlaying = !0)),
                        EU.CurPlaying == _U.Responding &&
                          e == _U.Responding &&
                          1 == this.isPlaying &&
                          this.actions[this.stage].time >=
                            this.actions[this.stage].getClip().duration - this.blendingTime)
                      ) {
                        var t = this.actions[this.stage]
                        ;((this.stage =
                          (this.stage +
                            Math.ceil(this.getRandonNumber(1, this.actions.length - 1))) %
                          this.actions.length),
                          (this.actions[this.stage].time = 0),
                          this.actions[this.stage].play(),
                          EU.SetWeight(this.actions[this.stage], 1),
                          (this.actions[this.stage].loop = hc),
                          (this.actions[this.stage].clampWhenFinished = !0),
                          EU.PrepareCrossFade(t, this.actions[this.stage], this.blendingTime))
                      }
                      EU.CurPlaying == _U.Responding &&
                        e != _U.Responding &&
                        1 == this.isPlaying &&
                        ((this.actions[this.stage].loop = hc),
                        (this.actions[this.stage].clampWhenFinished = !0),
                        (this.isPlaying = !1),
                        (EU.LastAction = this.actions[this.stage]))
                    },
                  },
                ])
              )
            })(CU)
          function LU(e, t) {
            if (0 === t)
              return (
                console.warn(
                  'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.'
                ),
                e
              )
            if (2 === t || 1 === t) {
              var n = e.getIndex()
              if (null === n) {
                var r = [],
                  i = e.getAttribute('position')
                if (void 0 === i)
                  return (
                    console.error(
                      'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.'
                    ),
                    e
                  )
                for (var a = 0; a < i.count; a++) r.push(a)
                ;(e.setIndex(r), (n = e.getIndex()))
              }
              var o = n.count - 2,
                s = []
              if (2 === t)
                for (var u = 1; u <= o; u++)
                  (s.push(n.getX(0)), s.push(n.getX(u)), s.push(n.getX(u + 1)))
              else
                for (var l = 0; l < o; l++)
                  l % 2 == 0
                    ? (s.push(n.getX(l)), s.push(n.getX(l + 1)), s.push(n.getX(l + 2)))
                    : (s.push(n.getX(l + 2)), s.push(n.getX(l + 1)), s.push(n.getX(l)))
              s.length / 3 !== o &&
                console.error(
                  'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.'
                )
              var c = e.clone()
              return (c.setIndex(s), c.clearGroups(), c)
            }
            return (
              console.error(
                'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:',
                t
              ),
              e
            )
          }
          var DU = (function (e) {
            function t(e) {
              var n
              return (
                w(this, t),
                ((n = y(this, t, [e])).dracoLoader = null),
                (n.ktx2Loader = null),
                (n.meshoptDecoder = null),
                (n.pluginCallbacks = []),
                n.register(function (e) {
                  return new VU(e)
                }),
                n.register(function (e) {
                  return new HU(e)
                }),
                n.register(function (e) {
                  return new ZU(e)
                }),
                n.register(function (e) {
                  return new JU(e)
                }),
                n.register(function (e) {
                  return new $U(e)
                }),
                n.register(function (e) {
                  return new GU(e)
                }),
                n.register(function (e) {
                  return new jU(e)
                }),
                n.register(function (e) {
                  return new QU(e)
                }),
                n.register(function (e) {
                  return new qU(e)
                }),
                n.register(function (e) {
                  return new zU(e)
                }),
                n.register(function (e) {
                  return new XU(e)
                }),
                n.register(function (e) {
                  return new WU(e)
                }),
                n.register(function (e) {
                  return new KU(e)
                }),
                n.register(function (e) {
                  return new YU(e)
                }),
                n.register(function (e) {
                  return new BU(e)
                }),
                n.register(function (e) {
                  return new ez(e)
                }),
                n.register(function (e) {
                  return new tz(e)
                }),
                n
              )
            }
            return (
              b(t, e),
              T(t, [
                {
                  key: 'load',
                  value: function (e, t, n, r) {
                    var i,
                      a = this
                    if ('' !== this.resourcePath) i = this.resourcePath
                    else if ('' !== this.path) {
                      var o = zv.extractUrlBase(e)
                      i = zv.resolveURL(o, this.path)
                    } else i = zv.extractUrlBase(e)
                    this.manager.itemStart(e)
                    var s = function (t) {
                        ;(r ? r(t) : console.error(t), a.manager.itemError(e), a.manager.itemEnd(e))
                      },
                      u = new Sv(this.manager)
                    ;(u.setPath(this.path),
                      u.setResponseType('arraybuffer'),
                      u.setRequestHeader(this.requestHeader),
                      u.setWithCredentials(this.withCredentials),
                      u.load(
                        e,
                        function (n) {
                          try {
                            a.parse(
                              n,
                              i,
                              function (n) {
                                ;(t(n), a.manager.itemEnd(e))
                              },
                              s
                            )
                          } catch (u$) {
                            s(u$)
                          }
                        },
                        n,
                        s
                      ))
                  },
                },
                {
                  key: 'setDRACOLoader',
                  value: function (e) {
                    return ((this.dracoLoader = e), this)
                  },
                },
                {
                  key: 'setKTX2Loader',
                  value: function (e) {
                    return ((this.ktx2Loader = e), this)
                  },
                },
                {
                  key: 'setMeshoptDecoder',
                  value: function (e) {
                    return ((this.meshoptDecoder = e), this)
                  },
                },
                {
                  key: 'register',
                  value: function (e) {
                    return (
                      -1 === this.pluginCallbacks.indexOf(e) && this.pluginCallbacks.push(e),
                      this
                    )
                  },
                },
                {
                  key: 'unregister',
                  value: function (e) {
                    return (
                      -1 !== this.pluginCallbacks.indexOf(e) &&
                        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e), 1),
                      this
                    )
                  },
                },
                {
                  key: 'parse',
                  value: function (e, t, n, r) {
                    var i,
                      a = {},
                      o = {},
                      s = new TextDecoder()
                    if ('string' == typeof e) i = JSON.parse(e)
                    else if (e instanceof ArrayBuffer) {
                      if (s.decode(new Uint8Array(e, 0, 4)) === nz) {
                        try {
                          a[FU.KHR_BINARY_GLTF] = new az(e)
                        } catch (p) {
                          return void (r && r(p))
                        }
                        i = JSON.parse(a[FU.KHR_BINARY_GLTF].content)
                      } else i = JSON.parse(s.decode(e))
                    } else i = e
                    if (void 0 === i.asset || i.asset.version[0] < 2)
                      r &&
                        r(
                          new Error(
                            'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'
                          )
                        )
                    else {
                      var u = new Iz(i, {
                        path: t || this.resourcePath || '',
                        crossOrigin: this.crossOrigin,
                        requestHeader: this.requestHeader,
                        manager: this.manager,
                        ktx2Loader: this.ktx2Loader,
                        meshoptDecoder: this.meshoptDecoder,
                      })
                      u.fileLoader.setRequestHeader(this.requestHeader)
                      for (var l = 0; l < this.pluginCallbacks.length; l++) {
                        var c = this.pluginCallbacks[l](u)
                        ;(c.name ||
                          console.error('THREE.GLTFLoader: Invalid plugin found: missing name'),
                          (o[c.name] = c),
                          (a[c.name] = !0))
                      }
                      if (i.extensionsUsed)
                        for (var d = 0; d < i.extensionsUsed.length; ++d) {
                          var h = i.extensionsUsed[d],
                            f = i.extensionsRequired || []
                          switch (h) {
                            case FU.KHR_MATERIALS_UNLIT:
                              a[h] = new UU()
                              break
                            case FU.KHR_DRACO_MESH_COMPRESSION:
                              a[h] = new oz(i, this.dracoLoader)
                              break
                            case FU.KHR_TEXTURE_TRANSFORM:
                              a[h] = new sz()
                              break
                            case FU.KHR_MESH_QUANTIZATION:
                              a[h] = new uz()
                              break
                            default:
                              f.indexOf(h) >= 0 &&
                                void 0 === o[h] &&
                                console.warn('THREE.GLTFLoader: Unknown extension "' + h + '".')
                          }
                        }
                      ;(u.setExtensions(a), u.setPlugins(o), u.parse(n, r))
                    }
                  },
                },
                {
                  key: 'parseAsync',
                  value: function (e, t) {
                    var n = this
                    return new Promise(function (r, i) {
                      n.parse(e, t, r, i)
                    })
                  },
                },
              ])
            )
          })(xv)
          function OU() {
            var e = {}
            return {
              get: function (t) {
                return e[t]
              },
              add: function (t, n) {
                e[t] = n
              },
              remove: function (t) {
                delete e[t]
              },
              removeAll: function () {
                e = {}
              },
            }
          }
          var FU = {
              KHR_BINARY_GLTF: 'KHR_binary_glTF',
              KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',
              KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',
              KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',
              KHR_MATERIALS_DISPERSION: 'KHR_materials_dispersion',
              KHR_MATERIALS_IOR: 'KHR_materials_ior',
              KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',
              KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',
              KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',
              KHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',
              KHR_MATERIALS_ANISOTROPY: 'KHR_materials_anisotropy',
              KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',
              KHR_MATERIALS_VOLUME: 'KHR_materials_volume',
              KHR_TEXTURE_BASISU: 'KHR_texture_basisu',
              KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',
              KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',
              KHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',
              EXT_MATERIALS_BUMP: 'EXT_materials_bump',
              EXT_TEXTURE_WEBP: 'EXT_texture_webp',
              EXT_TEXTURE_AVIF: 'EXT_texture_avif',
              EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',
              EXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing',
            },
            BU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.parser = t),
                    (this.name = FU.KHR_LIGHTS_PUNCTUAL),
                    (this.cache = { refs: {}, uses: {} }))
                },
                [
                  {
                    key: '_markDefs',
                    value: function () {
                      for (
                        var e = this.parser, t = this.parser.json.nodes || [], n = 0, r = t.length;
                        n < r;
                        n++
                      ) {
                        var i = t[n]
                        i.extensions &&
                          i.extensions[this.name] &&
                          void 0 !== i.extensions[this.name].light &&
                          e._addNodeRef(this.cache, i.extensions[this.name].light)
                      }
                    },
                  },
                  {
                    key: '_loadLight',
                    value: function (e) {
                      var t = this.parser,
                        n = 'light:' + e,
                        r = t.cache.get(n)
                      if (r) return r
                      var i,
                        a = t.json,
                        o = (((a.extensions && a.extensions[this.name]) || {}).lights || [])[e],
                        s = new Uh(16777215)
                      void 0 !== o.color && s.setRGB(o.color[0], o.color[1], o.color[2], wc)
                      var u = void 0 !== o.range ? o.range : 0
                      switch (o.type) {
                        case 'directional':
                          ;((i = new Uv(s)).target.position.set(0, 0, -1), i.add(i.target))
                          break
                        case 'point':
                          ;(i = new Ov(s)).distance = u
                          break
                        case 'spot':
                          ;(((i = new Iv(s)).distance = u),
                            (o.spot = o.spot || {}),
                            (o.spot.innerConeAngle =
                              void 0 !== o.spot.innerConeAngle ? o.spot.innerConeAngle : 0),
                            (o.spot.outerConeAngle =
                              void 0 !== o.spot.outerConeAngle
                                ? o.spot.outerConeAngle
                                : Math.PI / 4),
                            (i.angle = o.spot.outerConeAngle),
                            (i.penumbra = 1 - o.spot.innerConeAngle / o.spot.outerConeAngle),
                            i.target.position.set(0, 0, -1),
                            i.add(i.target))
                          break
                        default:
                          throw new Error('THREE.GLTFLoader: Unexpected light type: ' + o.type)
                      }
                      return (
                        i.position.set(0, 0, 0),
                        Tz(i, o),
                        void 0 !== o.intensity && (i.intensity = o.intensity),
                        (i.name = t.createUniqueName(o.name || 'light_' + e)),
                        (r = Promise.resolve(i)),
                        t.cache.add(n, r),
                        r
                      )
                    },
                  },
                  {
                    key: 'getDependency',
                    value: function (e, t) {
                      if ('light' === e) return this._loadLight(t)
                    },
                  },
                  {
                    key: 'createNodeAttachment',
                    value: function (e) {
                      var t = this,
                        n = this.parser,
                        r = n.json.nodes[e],
                        i = ((r.extensions && r.extensions[this.name]) || {}).light
                      return void 0 === i
                        ? null
                        : this._loadLight(i).then(function (e) {
                            return n._getNodeRef(t.cache, i, e)
                          })
                    },
                  },
                ]
              )
            })(),
            UU = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this.name = FU.KHR_MATERIALS_UNLIT))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function () {
                      return Wh
                    },
                  },
                  {
                    key: 'extendParams',
                    value: function (e, t, n) {
                      var r = []
                      ;((e.color = new Uh(1, 1, 1)), (e.opacity = 1))
                      var i = t.pbrMetallicRoughness
                      if (i) {
                        if (Array.isArray(i.baseColorFactor)) {
                          var a = i.baseColorFactor
                          ;(e.color.setRGB(a[0], a[1], a[2], wc), (e.opacity = a[3]))
                        }
                        void 0 !== i.baseColorTexture &&
                          r.push(n.assignTexture(e, 'map', i.baseColorTexture, Sc))
                      }
                      return Promise.all(r)
                    },
                  },
                ]
              )
            })(),
            zU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_EMISSIVE_STRENGTH))
                },
                [
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser.json.materials[e]
                      if (!n.extensions || !n.extensions[this.name]) return Promise.resolve()
                      var r = n.extensions[this.name].emissiveStrength
                      return (void 0 !== r && (t.emissiveIntensity = r), Promise.resolve())
                    },
                  },
                ]
              )
            })(),
            VU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_CLEARCOAT))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      if (
                        (void 0 !== a.clearcoatFactor && (t.clearcoat = a.clearcoatFactor),
                        void 0 !== a.clearcoatTexture &&
                          i.push(n.assignTexture(t, 'clearcoatMap', a.clearcoatTexture)),
                        void 0 !== a.clearcoatRoughnessFactor &&
                          (t.clearcoatRoughness = a.clearcoatRoughnessFactor),
                        void 0 !== a.clearcoatRoughnessTexture &&
                          i.push(
                            n.assignTexture(t, 'clearcoatRoughnessMap', a.clearcoatRoughnessTexture)
                          ),
                        void 0 !== a.clearcoatNormalTexture &&
                          (i.push(
                            n.assignTexture(t, 'clearcoatNormalMap', a.clearcoatNormalTexture)
                          ),
                          void 0 !== a.clearcoatNormalTexture.scale))
                      ) {
                        var o = a.clearcoatNormalTexture.scale
                        t.clearcoatNormalScale = new Gc(o, o)
                      }
                      return Promise.all(i)
                    },
                  },
                ]
              )
            })(),
            HU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_DISPERSION))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser.json.materials[e]
                      if (!n.extensions || !n.extensions[this.name]) return Promise.resolve()
                      var r = n.extensions[this.name]
                      return (
                        (t.dispersion = void 0 !== r.dispersion ? r.dispersion : 0),
                        Promise.resolve()
                      )
                    },
                  },
                ]
              )
            })(),
            WU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_IRIDESCENCE))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      return (
                        void 0 !== a.iridescenceFactor && (t.iridescence = a.iridescenceFactor),
                        void 0 !== a.iridescenceTexture &&
                          i.push(n.assignTexture(t, 'iridescenceMap', a.iridescenceTexture)),
                        void 0 !== a.iridescenceIor && (t.iridescenceIOR = a.iridescenceIor),
                        void 0 === t.iridescenceThicknessRange &&
                          (t.iridescenceThicknessRange = [100, 400]),
                        void 0 !== a.iridescenceThicknessMinimum &&
                          (t.iridescenceThicknessRange[0] = a.iridescenceThicknessMinimum),
                        void 0 !== a.iridescenceThicknessMaximum &&
                          (t.iridescenceThicknessRange[1] = a.iridescenceThicknessMaximum),
                        void 0 !== a.iridescenceThicknessTexture &&
                          i.push(
                            n.assignTexture(
                              t,
                              'iridescenceThicknessMap',
                              a.iridescenceThicknessTexture
                            )
                          ),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            GU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_SHEEN))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = []
                      ;((t.sheenColor = new Uh(0, 0, 0)), (t.sheenRoughness = 0), (t.sheen = 1))
                      var a = r.extensions[this.name]
                      if (void 0 !== a.sheenColorFactor) {
                        var o = a.sheenColorFactor
                        t.sheenColor.setRGB(o[0], o[1], o[2], wc)
                      }
                      return (
                        void 0 !== a.sheenRoughnessFactor &&
                          (t.sheenRoughness = a.sheenRoughnessFactor),
                        void 0 !== a.sheenColorTexture &&
                          i.push(n.assignTexture(t, 'sheenColorMap', a.sheenColorTexture, Sc)),
                        void 0 !== a.sheenRoughnessTexture &&
                          i.push(n.assignTexture(t, 'sheenRoughnessMap', a.sheenRoughnessTexture)),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            jU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_TRANSMISSION))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      return (
                        void 0 !== a.transmissionFactor && (t.transmission = a.transmissionFactor),
                        void 0 !== a.transmissionTexture &&
                          i.push(n.assignTexture(t, 'transmissionMap', a.transmissionTexture)),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            QU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_VOLUME))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      ;((t.thickness = void 0 !== a.thicknessFactor ? a.thicknessFactor : 0),
                        void 0 !== a.thicknessTexture &&
                          i.push(n.assignTexture(t, 'thicknessMap', a.thicknessTexture)),
                        (t.attenuationDistance = a.attenuationDistance || 1 / 0))
                      var o = a.attenuationColor || [1, 1, 1]
                      return (
                        (t.attenuationColor = new Uh().setRGB(o[0], o[1], o[2], wc)),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            qU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_IOR))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser.json.materials[e]
                      if (!n.extensions || !n.extensions[this.name]) return Promise.resolve()
                      var r = n.extensions[this.name]
                      return ((t.ior = void 0 !== r.ior ? r.ior : 1.5), Promise.resolve())
                    },
                  },
                ]
              )
            })(),
            XU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_SPECULAR))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      ;((t.specularIntensity = void 0 !== a.specularFactor ? a.specularFactor : 1),
                        void 0 !== a.specularTexture &&
                          i.push(n.assignTexture(t, 'specularIntensityMap', a.specularTexture)))
                      var o = a.specularColorFactor || [1, 1, 1]
                      return (
                        (t.specularColor = new Uh().setRGB(o[0], o[1], o[2], wc)),
                        void 0 !== a.specularColorTexture &&
                          i.push(
                            n.assignTexture(t, 'specularColorMap', a.specularColorTexture, Sc)
                          ),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            YU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.EXT_MATERIALS_BUMP))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      return (
                        (t.bumpScale = void 0 !== a.bumpFactor ? a.bumpFactor : 1),
                        void 0 !== a.bumpTexture &&
                          i.push(n.assignTexture(t, 'bumpMap', a.bumpTexture)),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            KU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_MATERIALS_ANISOTROPY))
                },
                [
                  {
                    key: 'getMaterialType',
                    value: function (e) {
                      var t = this.parser.json.materials[e]
                      return t.extensions && t.extensions[this.name] ? Yp : null
                    },
                  },
                  {
                    key: 'extendMaterialParams',
                    value: function (e, t) {
                      var n = this.parser,
                        r = n.json.materials[e]
                      if (!r.extensions || !r.extensions[this.name]) return Promise.resolve()
                      var i = [],
                        a = r.extensions[this.name]
                      return (
                        void 0 !== a.anisotropyStrength && (t.anisotropy = a.anisotropyStrength),
                        void 0 !== a.anisotropyRotation &&
                          (t.anisotropyRotation = a.anisotropyRotation),
                        void 0 !== a.anisotropyTexture &&
                          i.push(n.assignTexture(t, 'anisotropyMap', a.anisotropyTexture)),
                        Promise.all(i)
                      )
                    },
                  },
                ]
              )
            })(),
            ZU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.parser = t), (this.name = FU.KHR_TEXTURE_BASISU))
                },
                [
                  {
                    key: 'loadTexture',
                    value: function (e) {
                      var t = this.parser,
                        n = t.json,
                        r = n.textures[e]
                      if (!r.extensions || !r.extensions[this.name]) return null
                      var i = r.extensions[this.name],
                        a = t.options.ktx2Loader
                      if (!a) {
                        if (n.extensionsRequired && n.extensionsRequired.indexOf(this.name) >= 0)
                          throw new Error(
                            'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures'
                          )
                        return null
                      }
                      return t.loadTextureImage(e, i.source, a)
                    },
                  },
                ]
              )
            })(),
            JU = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.parser = t),
                    (this.name = FU.EXT_TEXTURE_WEBP),
                    (this.isSupported = null))
                },
                [
                  {
                    key: 'loadTexture',
                    value: function (e) {
                      var t = this.name,
                        n = this.parser,
                        r = n.json,
                        i = r.textures[e]
                      if (!i.extensions || !i.extensions[t]) return null
                      var a = i.extensions[t],
                        o = r.images[a.source],
                        s = n.textureLoader
                      if (o.uri) {
                        var u = n.options.manager.getHandler(o.uri)
                        null !== u && (s = u)
                      }
                      return this.detectSupport().then(function (i) {
                        if (i) return n.loadTextureImage(e, a.source, s)
                        if (r.extensionsRequired && r.extensionsRequired.indexOf(t) >= 0)
                          throw new Error(
                            'THREE.GLTFLoader: WebP required by asset but unsupported.'
                          )
                        return n.loadTexture(e)
                      })
                    },
                  },
                  {
                    key: 'detectSupport',
                    value: function () {
                      return (
                        this.isSupported ||
                          (this.isSupported = new Promise(function (e) {
                            var t = new Image()
                            ;((t.src =
                              'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA'),
                              (t.onload = t.onerror =
                                function () {
                                  e(1 === t.height)
                                }))
                          })),
                        this.isSupported
                      )
                    },
                  },
                ]
              )
            })(),
            $U = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.parser = t),
                    (this.name = FU.EXT_TEXTURE_AVIF),
                    (this.isSupported = null))
                },
                [
                  {
                    key: 'loadTexture',
                    value: function (e) {
                      var t = this.name,
                        n = this.parser,
                        r = n.json,
                        i = r.textures[e]
                      if (!i.extensions || !i.extensions[t]) return null
                      var a = i.extensions[t],
                        o = r.images[a.source],
                        s = n.textureLoader
                      if (o.uri) {
                        var u = n.options.manager.getHandler(o.uri)
                        null !== u && (s = u)
                      }
                      return this.detectSupport().then(function (i) {
                        if (i) return n.loadTextureImage(e, a.source, s)
                        if (r.extensionsRequired && r.extensionsRequired.indexOf(t) >= 0)
                          throw new Error(
                            'THREE.GLTFLoader: AVIF required by asset but unsupported.'
                          )
                        return n.loadTexture(e)
                      })
                    },
                  },
                  {
                    key: 'detectSupport',
                    value: function () {
                      return (
                        this.isSupported ||
                          (this.isSupported = new Promise(function (e) {
                            var t = new Image()
                            ;((t.src =
                              'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI='),
                              (t.onload = t.onerror =
                                function () {
                                  e(1 === t.height)
                                }))
                          })),
                        this.isSupported
                      )
                    },
                  },
                ]
              )
            })(),
            ez = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.name = FU.EXT_MESHOPT_COMPRESSION), (this.parser = t))
                },
                [
                  {
                    key: 'loadBufferView',
                    value: function (e) {
                      var t = this.parser.json,
                        n = t.bufferViews[e]
                      if (n.extensions && n.extensions[this.name]) {
                        var r = n.extensions[this.name],
                          i = this.parser.getDependency('buffer', r.buffer),
                          a = this.parser.options.meshoptDecoder
                        if (!a || !a.supported) {
                          if (t.extensionsRequired && t.extensionsRequired.indexOf(this.name) >= 0)
                            throw new Error(
                              'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files'
                            )
                          return null
                        }
                        return i.then(function (e) {
                          var t = r.byteOffset || 0,
                            n = r.byteLength || 0,
                            i = r.count,
                            o = r.byteStride,
                            s = new Uint8Array(e, t, n)
                          return a.decodeGltfBufferAsync
                            ? a.decodeGltfBufferAsync(i, o, s, r.mode, r.filter).then(function (e) {
                                return e.buffer
                              })
                            : a.ready.then(function () {
                                var e = new ArrayBuffer(i * o)
                                return (
                                  a.decodeGltfBuffer(new Uint8Array(e), i, o, s, r.mode, r.filter),
                                  e
                                )
                              })
                        })
                      }
                      return null
                    },
                  },
                ]
              )
            })(),
            tz = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.name = FU.EXT_MESH_GPU_INSTANCING), (this.parser = t))
                },
                [
                  {
                    key: 'createNodeMesh',
                    value: function (e) {
                      var t = this,
                        n = this.parser.json,
                        r = n.nodes[e]
                      if (!r.extensions || !r.extensions[this.name] || void 0 === r.mesh)
                        return null
                      var i,
                        a = L(n.meshes[r.mesh].primitives)
                      try {
                        for (a.s(); !(i = a.n()).done; ) {
                          var o = i.value
                          if (
                            o.mode !== hz.TRIANGLES &&
                            o.mode !== hz.TRIANGLE_STRIP &&
                            o.mode !== hz.TRIANGLE_FAN &&
                            void 0 !== o.mode
                          )
                            return null
                        }
                      } catch (h) {
                        a.e(h)
                      } finally {
                        a.f()
                      }
                      var s = r.extensions[this.name].attributes,
                        u = [],
                        l = {},
                        c = function (e) {
                          u.push(
                            t.parser.getDependency('accessor', s[e]).then(function (t) {
                              return ((l[e] = t), l[e])
                            })
                          )
                        }
                      for (var d in s) c(d)
                      return u.length < 1
                        ? null
                        : (u.push(this.parser.createNodeMesh(e)),
                          Promise.all(u).then(function (e) {
                            var n,
                              r = e.pop(),
                              i = r.isGroup ? r.children : [r],
                              a = e[0].count,
                              o = [],
                              s = L(i)
                            try {
                              for (s.s(); !(n = s.n()).done; ) {
                                for (
                                  var u = n.value,
                                    c = new qd(),
                                    d = new gd(),
                                    f = new md(),
                                    p = new gd(1, 1, 1),
                                    v = new fp(u.geometry, u.material, a),
                                    m = 0;
                                  m < a;
                                  m++
                                )
                                  (l.TRANSLATION && d.fromBufferAttribute(l.TRANSLATION, m),
                                    l.ROTATION && f.fromBufferAttribute(l.ROTATION, m),
                                    l.SCALE && p.fromBufferAttribute(l.SCALE, m),
                                    v.setMatrixAt(m, c.compose(d, f, p)))
                                for (var g in l)
                                  if ('_COLOR_0' === g) {
                                    var y = l[g]
                                    v.instanceColor = new ap(y.array, y.itemSize, y.normalized)
                                  } else
                                    'TRANSLATION' !== g &&
                                      'ROTATION' !== g &&
                                      'SCALE' !== g &&
                                      u.geometry.setAttribute(g, l[g])
                                ;(_h.prototype.copy.call(v, u),
                                  t.parser.assignFinalMaterial(v),
                                  o.push(v))
                              }
                            } catch (h) {
                              s.e(h)
                            } finally {
                              s.f()
                            }
                            return r.isGroup ? (r.clear(), r.add.apply(r, o), r) : o[0]
                          }))
                    },
                  },
                ]
              )
            })(),
            nz = 'glTF',
            rz = 1313821514,
            iz = 5130562,
            az = T(function e(t) {
              ;(w(this, e),
                (this.name = FU.KHR_BINARY_GLTF),
                (this.content = null),
                (this.body = null))
              var n = new DataView(t, 0, 12),
                r = new TextDecoder()
              if (
                ((this.header = {
                  magic: r.decode(new Uint8Array(t.slice(0, 4))),
                  version: n.getUint32(4, !0),
                  length: n.getUint32(8, !0),
                }),
                this.header.magic !== nz)
              )
                throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.')
              if (this.header.version < 2)
                throw new Error('THREE.GLTFLoader: Legacy binary file detected.')
              for (var i = this.header.length - 12, a = new DataView(t, 12), o = 0; o < i; ) {
                var s = a.getUint32(o, !0)
                o += 4
                var u = a.getUint32(o, !0)
                if (((o += 4), u === rz)) {
                  var l = new Uint8Array(t, 12 + o, s)
                  this.content = r.decode(l)
                } else if (u === iz) {
                  var c = 12 + o
                  this.body = t.slice(c, c + s)
                }
                o += s
              }
              if (null === this.content)
                throw new Error('THREE.GLTFLoader: JSON content not found.')
            }),
            oz = (function () {
              return T(
                function e(t, n) {
                  if ((w(this, e), !n))
                    throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.')
                  ;((this.name = FU.KHR_DRACO_MESH_COMPRESSION),
                    (this.json = t),
                    (this.dracoLoader = n),
                    this.dracoLoader.preload())
                },
                [
                  {
                    key: 'decodePrimitive',
                    value: function (e, t) {
                      var n = this.json,
                        r = this.dracoLoader,
                        i = e.extensions[this.name].bufferView,
                        a = e.extensions[this.name].attributes,
                        o = {},
                        s = {},
                        u = {}
                      for (var l in a) {
                        var c = gz[l] || l.toLowerCase()
                        o[c] = a[l]
                      }
                      for (var d in e.attributes) {
                        var h = gz[d] || d.toLowerCase()
                        if (void 0 !== a[d]) {
                          var f = n.accessors[e.attributes[d]],
                            p = fz[f.componentType]
                          ;((u[h] = p.name), (s[h] = !0 === f.normalized))
                        }
                      }
                      return t.getDependency('bufferView', i).then(function (e) {
                        return new Promise(function (t, n) {
                          r.decodeDracoFile(
                            e,
                            function (e) {
                              for (var n in e.attributes) {
                                var r = e.attributes[n],
                                  i = s[n]
                                void 0 !== i && (r.normalized = i)
                              }
                              t(e)
                            },
                            o,
                            u,
                            wc,
                            n
                          )
                        })
                      })
                    },
                  },
                ]
              )
            })(),
            sz = (function () {
              return T(
                function e() {
                  ;(w(this, e), (this.name = FU.KHR_TEXTURE_TRANSFORM))
                },
                [
                  {
                    key: 'extendTexture',
                    value: function (e, t) {
                      return (void 0 !== t.texCoord && t.texCoord !== e.channel) ||
                        void 0 !== t.offset ||
                        void 0 !== t.rotation ||
                        void 0 !== t.scale
                        ? ((e = e.clone()),
                          void 0 !== t.texCoord && (e.channel = t.texCoord),
                          void 0 !== t.offset && e.offset.fromArray(t.offset),
                          void 0 !== t.rotation && (e.rotation = t.rotation),
                          void 0 !== t.scale && e.repeat.fromArray(t.scale),
                          (e.needsUpdate = !0),
                          e)
                        : e
                    },
                  },
                ]
              )
            })(),
            uz = T(function e() {
              ;(w(this, e), (this.name = FU.KHR_MESH_QUANTIZATION))
            }),
            lz = (function (e) {
              function t(e, n, r, i) {
                return (w(this, t), y(this, t, [e, n, r, i]))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'copySampleValue_',
                    value: function (e) {
                      for (
                        var t = this.resultBuffer,
                          n = this.sampleValues,
                          r = this.valueSize,
                          i = e * r * 3 + r,
                          a = 0;
                        a !== r;
                        a++
                      )
                        t[a] = n[i + a]
                      return t
                    },
                  },
                  {
                    key: 'interpolate_',
                    value: function (e, t, n, r) {
                      for (
                        var i = this.resultBuffer,
                          a = this.sampleValues,
                          o = this.valueSize,
                          s = 2 * o,
                          u = 3 * o,
                          l = r - t,
                          c = (n - t) / l,
                          d = c * c,
                          h = d * c,
                          f = e * u,
                          p = f - u,
                          v = -2 * h + 3 * d,
                          m = h - d,
                          g = 1 - v,
                          y = m - d + c,
                          x = 0;
                        x !== o;
                        x++
                      ) {
                        var _ = a[p + x + o],
                          b = a[p + x + s] * l,
                          S = a[f + x + o],
                          w = a[f + x] * l
                        i[x] = g * _ + y * b + v * S + m * w
                      }
                      return i
                    },
                  },
                ])
              )
            })(nv),
            cz = new md(),
            dz = (function (e) {
              function t() {
                return (w(this, t), y(this, t, arguments))
              }
              return (
                b(t, e),
                T(t, [
                  {
                    key: 'interpolate_',
                    value: function (e, r, i, a) {
                      var o = n(t, 'interpolate_', this, 3)([e, r, i, a])
                      return (cz.fromArray(o).normalize().toArray(o), o)
                    },
                  },
                ])
              )
            })(lz),
            hz = {
              POINTS: 0,
              LINES: 1,
              LINE_LOOP: 2,
              LINE_STRIP: 3,
              TRIANGLES: 4,
              TRIANGLE_STRIP: 5,
              TRIANGLE_FAN: 6,
            },
            fz = {
              5120: Int8Array,
              5121: Uint8Array,
              5122: Int16Array,
              5123: Uint16Array,
              5125: Uint32Array,
              5126: Float32Array,
            },
            pz = { 9728: cl, 9729: hl, 9984: 1004, 9985: fl, 9986: dl, 9987: pl },
            vz = { 33071: ul, 33648: ll, 10497: sl },
            mz = { SCALAR: 1, VEC2: 2, VEC3: 3, VEC4: 4, MAT2: 4, MAT3: 9, MAT4: 16 },
            gz = {
              POSITION: 'position',
              NORMAL: 'normal',
              TANGENT: 'tangent',
              TEXCOORD_0: 'uv',
              TEXCOORD_1: 'uv1',
              TEXCOORD_2: 'uv2',
              TEXCOORD_3: 'uv3',
              COLOR_0: 'color',
              WEIGHTS_0: 'skinWeight',
              JOINTS_0: 'skinIndex',
            },
            yz = {
              scale: 'scale',
              translation: 'position',
              rotation: 'quaternion',
              weights: 'morphTargetInfluences',
            },
            xz = { CUBICSPLINE: void 0, LINEAR: vc, STEP: pc },
            _z = 'OPAQUE',
            bz = 'MASK',
            Sz = 'BLEND'
          function wz(e) {
            return (
              void 0 === e.DefaultMaterial &&
                (e.DefaultMaterial = new Xp({
                  color: 16777215,
                  emissive: 0,
                  metalness: 1,
                  roughness: 1,
                  transparent: !1,
                  depthTest: !0,
                  side: 0,
                })),
              e.DefaultMaterial
            )
          }
          function Az(e, t, n) {
            for (var r in n.extensions)
              void 0 === e[r] &&
                ((t.userData.gltfExtensions = t.userData.gltfExtensions || {}),
                (t.userData.gltfExtensions[r] = n.extensions[r]))
          }
          function Tz(e, t) {
            void 0 !== t.extras &&
              ('object' === P(t.extras)
                ? Object.assign(e.userData, t.extras)
                : console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + t.extras))
          }
          function Mz(e, t) {
            if ((e.updateMorphTargets(), void 0 !== t.weights))
              for (var n = 0, r = t.weights.length; n < r; n++)
                e.morphTargetInfluences[n] = t.weights[n]
            if (t.extras && Array.isArray(t.extras.targetNames)) {
              var i = t.extras.targetNames
              if (e.morphTargetInfluences.length === i.length) {
                e.morphTargetDictionary = {}
                for (var a = 0, o = i.length; a < o; a++) e.morphTargetDictionary[i[a]] = a
              } else
                console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.')
            }
          }
          function Ez(e) {
            var t,
              n = e.extensions && e.extensions[FU.KHR_DRACO_MESH_COMPRESSION]
            if (
              ((t = n
                ? 'draco:' + n.bufferView + ':' + n.indices + ':' + Cz(n.attributes)
                : e.indices + ':' + Cz(e.attributes) + ':' + e.mode),
              void 0 !== e.targets)
            )
              for (var r = 0, i = e.targets.length; r < i; r++) t += ':' + Cz(e.targets[r])
            return t
          }
          function Cz(e) {
            for (var t = '', n = Object.keys(e).sort(), r = 0, i = n.length; r < i; r++)
              t += n[r] + ':' + e[n[r]] + ';'
            return t
          }
          function kz(e) {
            switch (e) {
              case Int8Array:
                return 1 / 127
              case Uint8Array:
                return 1 / 255
              case Int16Array:
                return 1 / 32767
              case Uint16Array:
                return 1 / 65535
              default:
                throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.')
            }
          }
          var Rz = new qd(),
            Iz = (function () {
              return T(
                function e() {
                  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                  ;(w(this, e),
                    (this.json = t),
                    (this.extensions = {}),
                    (this.plugins = {}),
                    (this.options = n),
                    (this.cache = new OU()),
                    (this.associations = new Map()),
                    (this.primitiveCache = {}),
                    (this.nodeCache = {}),
                    (this.meshCache = { refs: {}, uses: {} }),
                    (this.cameraCache = { refs: {}, uses: {} }),
                    (this.lightCache = { refs: {}, uses: {} }),
                    (this.sourceCache = {}),
                    (this.textureCache = {}),
                    (this.nodeNamesUsed = {}))
                  var r = !1,
                    i = -1,
                    a = !1,
                    o = -1
                  if ('undefined' != typeof navigator) {
                    var s = navigator.userAgent
                    r = !0 === /^((?!chrome|android).)*safari/i.test(s)
                    var u = s.match(/Version\/(\d+)/)
                    ;((i = r && u ? parseInt(u[1], 10) : -1),
                      (o = (a = s.indexOf('Firefox') > -1)
                        ? s.match(/Firefox\/([0-9]+)\./)[1]
                        : -1))
                  }
                  ;('undefined' == typeof createImageBitmap || (r && i < 17) || (a && o < 98)
                    ? (this.textureLoader = new Av(this.options.manager))
                    : (this.textureLoader = new Hv(this.options.manager)),
                    this.textureLoader.setCrossOrigin(this.options.crossOrigin),
                    this.textureLoader.setRequestHeader(this.options.requestHeader),
                    (this.fileLoader = new Sv(this.options.manager)),
                    this.fileLoader.setResponseType('arraybuffer'),
                    'use-credentials' === this.options.crossOrigin &&
                      this.fileLoader.setWithCredentials(!0))
                },
                [
                  {
                    key: 'setExtensions',
                    value: function (e) {
                      this.extensions = e
                    },
                  },
                  {
                    key: 'setPlugins',
                    value: function (e) {
                      this.plugins = e
                    },
                  },
                  {
                    key: 'parse',
                    value: function (e, t) {
                      var n = this,
                        r = this.json,
                        i = this.extensions
                      ;(this.cache.removeAll(),
                        (this.nodeCache = {}),
                        this._invokeAll(function (e) {
                          return e._markDefs && e._markDefs()
                        }),
                        Promise.all(
                          this._invokeAll(function (e) {
                            return e.beforeRoot && e.beforeRoot()
                          })
                        )
                          .then(function () {
                            return Promise.all([
                              n.getDependencies('scene'),
                              n.getDependencies('animation'),
                              n.getDependencies('camera'),
                            ])
                          })
                          .then(function (t) {
                            var a = {
                              scene: t[0][r.scene || 0],
                              scenes: t[0],
                              animations: t[1],
                              cameras: t[2],
                              asset: r.asset,
                              parser: n,
                              userData: {},
                            }
                            return (
                              Az(i, a, r),
                              Tz(a, r),
                              Promise.all(
                                n._invokeAll(function (e) {
                                  return e.afterRoot && e.afterRoot(a)
                                })
                              ).then(function () {
                                var t,
                                  n = L(a.scenes)
                                try {
                                  for (n.s(); !(t = n.n()).done; ) {
                                    t.value.updateMatrixWorld()
                                  }
                                } catch (r) {
                                  n.e(r)
                                } finally {
                                  n.f()
                                }
                                e(a)
                              })
                            )
                          })
                          .catch(t))
                    },
                  },
                  {
                    key: '_markDefs',
                    value: function () {
                      for (
                        var e = this.json.nodes || [],
                          t = this.json.skins || [],
                          n = this.json.meshes || [],
                          r = 0,
                          i = t.length;
                        r < i;
                        r++
                      )
                        for (var a = t[r].joints, o = 0, s = a.length; o < s; o++)
                          e[a[o]].isBone = !0
                      for (var u = 0, l = e.length; u < l; u++) {
                        var c = e[u]
                        ;(void 0 !== c.mesh &&
                          (this._addNodeRef(this.meshCache, c.mesh),
                          void 0 !== c.skin && (n[c.mesh].isSkinnedMesh = !0)),
                          void 0 !== c.camera && this._addNodeRef(this.cameraCache, c.camera))
                      }
                    },
                  },
                  {
                    key: '_addNodeRef',
                    value: function (e, t) {
                      void 0 !== t &&
                        (void 0 === e.refs[t] && (e.refs[t] = e.uses[t] = 0), e.refs[t]++)
                    },
                  },
                  {
                    key: '_getNodeRef',
                    value: function (e, t, n) {
                      var r = this
                      if (e.refs[t] <= 1) return n
                      var i = n.clone(),
                        a = function (e, t) {
                          var n = r.associations.get(e)
                          null != n && r.associations.set(t, n)
                          var i,
                            o = L(e.children.entries())
                          try {
                            for (o.s(); !(i = o.n()).done; ) {
                              var s = C(i.value, 2),
                                u = s[0],
                                l = s[1]
                              a(l, t.children[u])
                            }
                          } catch (c) {
                            o.e(c)
                          } finally {
                            o.f()
                          }
                        }
                      return (a(n, i), (i.name += '_instance_' + e.uses[t]++), i)
                    },
                  },
                  {
                    key: '_invokeOne',
                    value: function (e) {
                      var t = Object.values(this.plugins)
                      t.push(this)
                      for (var n = 0; n < t.length; n++) {
                        var r = e(t[n])
                        if (r) return r
                      }
                      return null
                    },
                  },
                  {
                    key: '_invokeAll',
                    value: function (e) {
                      var t = Object.values(this.plugins)
                      t.unshift(this)
                      for (var n = [], r = 0; r < t.length; r++) {
                        var i = e(t[r])
                        i && n.push(i)
                      }
                      return n
                    },
                  },
                  {
                    key: 'getDependency',
                    value: function (e, t) {
                      var n = e + ':' + t,
                        r = this.cache.get(n)
                      if (!r) {
                        switch (e) {
                          case 'scene':
                            r = this.loadScene(t)
                            break
                          case 'node':
                            r = this._invokeOne(function (e) {
                              return e.loadNode && e.loadNode(t)
                            })
                            break
                          case 'mesh':
                            r = this._invokeOne(function (e) {
                              return e.loadMesh && e.loadMesh(t)
                            })
                            break
                          case 'accessor':
                            r = this.loadAccessor(t)
                            break
                          case 'bufferView':
                            r = this._invokeOne(function (e) {
                              return e.loadBufferView && e.loadBufferView(t)
                            })
                            break
                          case 'buffer':
                            r = this.loadBuffer(t)
                            break
                          case 'material':
                            r = this._invokeOne(function (e) {
                              return e.loadMaterial && e.loadMaterial(t)
                            })
                            break
                          case 'texture':
                            r = this._invokeOne(function (e) {
                              return e.loadTexture && e.loadTexture(t)
                            })
                            break
                          case 'skin':
                            r = this.loadSkin(t)
                            break
                          case 'animation':
                            r = this._invokeOne(function (e) {
                              return e.loadAnimation && e.loadAnimation(t)
                            })
                            break
                          case 'camera':
                            r = this.loadCamera(t)
                            break
                          default:
                            if (
                              !(r = this._invokeOne(function (n) {
                                return n != this && n.getDependency && n.getDependency(e, t)
                              }))
                            )
                              throw new Error('Unknown type: ' + e)
                        }
                        this.cache.add(n, r)
                      }
                      return r
                    },
                  },
                  {
                    key: 'getDependencies',
                    value: function (e) {
                      var t = this.cache.get(e)
                      if (!t) {
                        var n = this,
                          r = this.json[e + ('mesh' === e ? 'es' : 's')] || []
                        ;((t = Promise.all(
                          r.map(function (t, r) {
                            return n.getDependency(e, r)
                          })
                        )),
                          this.cache.add(e, t))
                      }
                      return t
                    },
                  },
                  {
                    key: 'loadBuffer',
                    value: function (e) {
                      var t = this.json.buffers[e],
                        n = this.fileLoader
                      if (t.type && 'arraybuffer' !== t.type)
                        throw new Error(
                          'THREE.GLTFLoader: ' + t.type + ' buffer type is not supported.'
                        )
                      if (void 0 === t.uri && 0 === e)
                        return Promise.resolve(this.extensions[FU.KHR_BINARY_GLTF].body)
                      var r = this.options
                      return new Promise(function (e, i) {
                        n.load(zv.resolveURL(t.uri, r.path), e, void 0, function () {
                          i(new Error('THREE.GLTFLoader: Failed to load buffer "' + t.uri + '".'))
                        })
                      })
                    },
                  },
                  {
                    key: 'loadBufferView',
                    value: function (e) {
                      var t = this.json.bufferViews[e]
                      return this.getDependency('buffer', t.buffer).then(function (e) {
                        var n = t.byteLength || 0,
                          r = t.byteOffset || 0
                        return e.slice(r, r + n)
                      })
                    },
                  },
                  {
                    key: 'loadAccessor',
                    value: function (e) {
                      var t = this,
                        n = this.json,
                        r = this.json.accessors[e]
                      if (void 0 === r.bufferView && void 0 === r.sparse) {
                        var i = mz[r.type],
                          a = fz[r.componentType],
                          o = !0 === r.normalized,
                          s = new a(r.count * i)
                        return Promise.resolve(new Kh(s, i, o))
                      }
                      var u = []
                      return (
                        void 0 !== r.bufferView
                          ? u.push(this.getDependency('bufferView', r.bufferView))
                          : u.push(null),
                        void 0 !== r.sparse &&
                          (u.push(this.getDependency('bufferView', r.sparse.indices.bufferView)),
                          u.push(this.getDependency('bufferView', r.sparse.values.bufferView))),
                        Promise.all(u).then(function (e) {
                          var i,
                            a,
                            o = e[0],
                            s = mz[r.type],
                            u = fz[r.componentType],
                            l = u.BYTES_PER_ELEMENT,
                            c = l * s,
                            d = r.byteOffset || 0,
                            h =
                              void 0 !== r.bufferView
                                ? n.bufferViews[r.bufferView].byteStride
                                : void 0,
                            f = !0 === r.normalized
                          if (h && h !== c) {
                            var p = Math.floor(d / h),
                              v =
                                'InterleavedBuffer:' +
                                r.bufferView +
                                ':' +
                                r.componentType +
                                ':' +
                                p +
                                ':' +
                                r.count,
                              m = t.cache.get(v)
                            ;(m ||
                              ((i = new u(o, p * h, (r.count * h) / l)),
                              (m = new Vf(i, h / l)),
                              t.cache.add(v, m)),
                              (a = new Wf(m, s, (d % h) / l, f)))
                          } else
                            ((i = null === o ? new u(r.count * s) : new u(o, d, r.count * s)),
                              (a = new Kh(i, s, f)))
                          if (void 0 !== r.sparse) {
                            var g = mz.SCALAR,
                              y = fz[r.sparse.indices.componentType],
                              x = r.sparse.indices.byteOffset || 0,
                              _ = r.sparse.values.byteOffset || 0,
                              b = new y(e[1], x, r.sparse.count * g),
                              S = new u(e[2], _, r.sparse.count * s)
                            ;(null !== o && (a = new Kh(a.array.slice(), a.itemSize, a.normalized)),
                              (a.normalized = !1))
                            for (var w = 0, A = b.length; w < A; w++) {
                              var T = b[w]
                              if (
                                (a.setX(T, S[w * s]),
                                s >= 2 && a.setY(T, S[w * s + 1]),
                                s >= 3 && a.setZ(T, S[w * s + 2]),
                                s >= 4 && a.setW(T, S[w * s + 3]),
                                s >= 5)
                              )
                                throw new Error(
                                  'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.'
                                )
                            }
                            a.normalized = f
                          }
                          return a
                        })
                      )
                    },
                  },
                  {
                    key: 'loadTexture',
                    value: function (e) {
                      var t = this.json,
                        n = this.options,
                        r = t.textures[e].source,
                        i = t.images[r],
                        a = this.textureLoader
                      if (i.uri) {
                        var o = n.manager.getHandler(i.uri)
                        null !== o && (a = o)
                      }
                      return this.loadTextureImage(e, r, a)
                    },
                  },
                  {
                    key: 'loadTextureImage',
                    value: function (e, t, n) {
                      var r = this,
                        i = this.json,
                        a = i.textures[e],
                        o = i.images[t],
                        s = (o.uri || o.bufferView) + ':' + a.sampler
                      if (this.textureCache[s]) return this.textureCache[s]
                      var u = this.loadImageSource(t, n)
                        .then(function (t) {
                          ;((t.flipY = !1),
                            (t.name = a.name || o.name || ''),
                            '' === t.name &&
                              'string' == typeof o.uri &&
                              !1 === o.uri.startsWith('data:image/') &&
                              (t.name = o.uri))
                          var n = (i.samplers || {})[a.sampler] || {}
                          return (
                            (t.magFilter = pz[n.magFilter] || hl),
                            (t.minFilter = pz[n.minFilter] || pl),
                            (t.wrapS = vz[n.wrapS] || sl),
                            (t.wrapT = vz[n.wrapT] || sl),
                            (t.generateMipmaps =
                              !t.isCompressedTexture && t.minFilter !== cl && t.minFilter !== hl),
                            r.associations.set(t, { textures: e }),
                            t
                          )
                        })
                        .catch(function () {
                          return null
                        })
                      return ((this.textureCache[s] = u), u)
                    },
                  },
                  {
                    key: 'loadImageSource',
                    value: function (e, t) {
                      var n = this.json,
                        r = this.options
                      if (void 0 !== this.sourceCache[e])
                        return this.sourceCache[e].then(function (e) {
                          return e.clone()
                        })
                      var i = n.images[e],
                        a = self.URL || self.webkitURL,
                        o = i.uri || '',
                        s = !1
                      if (void 0 !== i.bufferView)
                        o = this.getDependency('bufferView', i.bufferView).then(function (e) {
                          s = !0
                          var t = new Blob([e], { type: i.mimeType })
                          return (o = a.createObjectURL(t))
                        })
                      else if (void 0 === i.uri)
                        throw new Error(
                          'THREE.GLTFLoader: Image ' + e + ' is missing URI and bufferView'
                        )
                      var u = Promise.resolve(o)
                        .then(function (e) {
                          return new Promise(function (n, i) {
                            var a = n
                            ;(!0 === t.isImageBitmapLoader &&
                              (a = function (e) {
                                var t = new cd(e)
                                ;((t.needsUpdate = !0), n(t))
                              }),
                              t.load(zv.resolveURL(e, r.path), a, void 0, i))
                          })
                        })
                        .then(function (e) {
                          var t
                          return (
                            !0 === s && a.revokeObjectURL(o),
                            Tz(e, i),
                            (e.userData.mimeType =
                              i.mimeType ||
                              ((t = i.uri).search(/\.jpe?g($|\?)/i) > 0 ||
                              0 === t.search(/^data\:image\/jpeg/)
                                ? 'image/jpeg'
                                : t.search(/\.webp($|\?)/i) > 0 ||
                                    0 === t.search(/^data\:image\/webp/)
                                  ? 'image/webp'
                                  : t.search(/\.ktx2($|\?)/i) > 0 ||
                                      0 === t.search(/^data\:image\/ktx2/)
                                    ? 'image/ktx2'
                                    : 'image/png')),
                            e
                          )
                        })
                        .catch(function (e) {
                          throw (console.error("THREE.GLTFLoader: Couldn't load texture", o), e)
                        })
                      return ((this.sourceCache[e] = u), u)
                    },
                  },
                  {
                    key: 'assignTexture',
                    value: function (e, t, n, r) {
                      var i = this
                      return this.getDependency('texture', n.index).then(function (a) {
                        if (!a) return null
                        if (
                          (void 0 !== n.texCoord &&
                            n.texCoord > 0 &&
                            ((a = a.clone()).channel = n.texCoord),
                          i.extensions[FU.KHR_TEXTURE_TRANSFORM])
                        ) {
                          var o =
                            void 0 !== n.extensions
                              ? n.extensions[FU.KHR_TEXTURE_TRANSFORM]
                              : void 0
                          if (o) {
                            var s = i.associations.get(a)
                            ;((a = i.extensions[FU.KHR_TEXTURE_TRANSFORM].extendTexture(a, o)),
                              i.associations.set(a, s))
                          }
                        }
                        return (void 0 !== r && (a.colorSpace = r), (e[t] = a), a)
                      })
                    },
                  },
                  {
                    key: 'assignFinalMaterial',
                    value: function (e) {
                      var t = e.geometry,
                        n = e.material,
                        r = void 0 === t.attributes.tangent,
                        i = void 0 !== t.attributes.color,
                        a = void 0 === t.attributes.normal
                      if (e.isPoints) {
                        var o = 'PointsMaterial:' + n.uuid,
                          s = this.cache.get(o)
                        ;(s ||
                          ((s = new Dp()),
                          Hh.prototype.copy.call(s, n),
                          s.color.copy(n.color),
                          (s.map = n.map),
                          (s.sizeAttenuation = !1),
                          this.cache.add(o, s)),
                          (n = s))
                      } else if (e.isLine) {
                        var u = 'LineBasicMaterial:' + n.uuid,
                          l = this.cache.get(u)
                        ;(l ||
                          ((l = new bp()),
                          Hh.prototype.copy.call(l, n),
                          l.color.copy(n.color),
                          (l.map = n.map),
                          this.cache.add(u, l)),
                          (n = l))
                      }
                      if (r || i || a) {
                        var c = 'ClonedMaterial:' + n.uuid + ':'
                        ;(r && (c += 'derivative-tangents:'),
                          i && (c += 'vertex-colors:'),
                          a && (c += 'flat-shading:'))
                        var d = this.cache.get(c)
                        ;(d ||
                          ((d = n.clone()),
                          i && (d.vertexColors = !0),
                          a && (d.flatShading = !0),
                          r &&
                            (d.normalScale && (d.normalScale.y *= -1),
                            d.clearcoatNormalScale && (d.clearcoatNormalScale.y *= -1)),
                          this.cache.add(c, d),
                          this.associations.set(d, this.associations.get(n))),
                          (n = d))
                      }
                      e.material = n
                    },
                  },
                  {
                    key: 'getMaterialType',
                    value: function () {
                      return Xp
                    },
                  },
                  {
                    key: 'loadMaterial',
                    value: function (e) {
                      var t,
                        n = this,
                        r = this.json,
                        i = this.extensions,
                        a = r.materials[e],
                        o = {},
                        s = []
                      if ((a.extensions || {})[FU.KHR_MATERIALS_UNLIT]) {
                        var u = i[FU.KHR_MATERIALS_UNLIT]
                        ;((t = u.getMaterialType()), s.push(u.extendParams(o, a, n)))
                      } else {
                        var l = a.pbrMetallicRoughness || {}
                        if (
                          ((o.color = new Uh(1, 1, 1)),
                          (o.opacity = 1),
                          Array.isArray(l.baseColorFactor))
                        ) {
                          var c = l.baseColorFactor
                          ;(o.color.setRGB(c[0], c[1], c[2], wc), (o.opacity = c[3]))
                        }
                        ;(void 0 !== l.baseColorTexture &&
                          s.push(n.assignTexture(o, 'map', l.baseColorTexture, Sc)),
                          (o.metalness = void 0 !== l.metallicFactor ? l.metallicFactor : 1),
                          (o.roughness = void 0 !== l.roughnessFactor ? l.roughnessFactor : 1),
                          void 0 !== l.metallicRoughnessTexture &&
                            (s.push(n.assignTexture(o, 'metalnessMap', l.metallicRoughnessTexture)),
                            s.push(n.assignTexture(o, 'roughnessMap', l.metallicRoughnessTexture))),
                          (t = this._invokeOne(function (t) {
                            return t.getMaterialType && t.getMaterialType(e)
                          })),
                          s.push(
                            Promise.all(
                              this._invokeAll(function (t) {
                                return t.extendMaterialParams && t.extendMaterialParams(e, o)
                              })
                            )
                          ))
                      }
                      !0 === a.doubleSided && (o.side = 2)
                      var d = a.alphaMode || _z
                      if (
                        (d === Sz
                          ? ((o.transparent = !0), (o.depthWrite = !1))
                          : ((o.transparent = !1),
                            d === bz &&
                              (o.alphaTest = void 0 !== a.alphaCutoff ? a.alphaCutoff : 0.5)),
                        void 0 !== a.normalTexture &&
                          t !== Wh &&
                          (s.push(n.assignTexture(o, 'normalMap', a.normalTexture)),
                          (o.normalScale = new Gc(1, 1)),
                          void 0 !== a.normalTexture.scale))
                      ) {
                        var h = a.normalTexture.scale
                        o.normalScale.set(h, h)
                      }
                      if (
                        (void 0 !== a.occlusionTexture &&
                          t !== Wh &&
                          (s.push(n.assignTexture(o, 'aoMap', a.occlusionTexture)),
                          void 0 !== a.occlusionTexture.strength &&
                            (o.aoMapIntensity = a.occlusionTexture.strength)),
                        void 0 !== a.emissiveFactor && t !== Wh)
                      ) {
                        var f = a.emissiveFactor
                        o.emissive = new Uh().setRGB(f[0], f[1], f[2], wc)
                      }
                      return (
                        void 0 !== a.emissiveTexture &&
                          t !== Wh &&
                          s.push(n.assignTexture(o, 'emissiveMap', a.emissiveTexture, Sc)),
                        Promise.all(s).then(function () {
                          var r = new t(o)
                          return (
                            a.name && (r.name = a.name),
                            Tz(r, a),
                            n.associations.set(r, { materials: e }),
                            a.extensions && Az(i, r, a),
                            r
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'createUniqueName',
                    value: function (e) {
                      var t = em.sanitizeNodeName(e || '')
                      return t in this.nodeNamesUsed
                        ? t + '_' + ++this.nodeNamesUsed[t]
                        : ((this.nodeNamesUsed[t] = 0), t)
                    },
                  },
                  {
                    key: 'loadGeometries',
                    value: function (e) {
                      var t = this,
                        n = this.extensions,
                        r = this.primitiveCache
                      function i(e) {
                        return n[FU.KHR_DRACO_MESH_COMPRESSION]
                          .decodePrimitive(e, t)
                          .then(function (n) {
                            return Nz(n, e, t)
                          })
                      }
                      for (var a = [], o = 0, s = e.length; o < s; o++) {
                        var u = e[o],
                          l = Ez(u),
                          c = r[l]
                        if (c) a.push(c.promise)
                        else {
                          var d = void 0
                          ;((d =
                            u.extensions && u.extensions[FU.KHR_DRACO_MESH_COMPRESSION]
                              ? i(u)
                              : Nz(new uf(), u, t)),
                            (r[l] = { primitive: u, promise: d }),
                            a.push(d))
                        }
                      }
                      return Promise.all(a)
                    },
                  },
                  {
                    key: 'loadMesh',
                    value: function (e) {
                      for (
                        var t = this,
                          n = this.json,
                          r = this.extensions,
                          i = n.meshes[e],
                          a = i.primitives,
                          o = [],
                          s = 0,
                          u = a.length;
                        s < u;
                        s++
                      ) {
                        var l =
                          void 0 === a[s].material
                            ? wz(this.cache)
                            : this.getDependency('material', a[s].material)
                        o.push(l)
                      }
                      return (
                        o.push(t.loadGeometries(a)),
                        Promise.all(o).then(function (n) {
                          for (
                            var o = n.slice(0, n.length - 1),
                              s = n[n.length - 1],
                              u = [],
                              l = 0,
                              c = s.length;
                            l < c;
                            l++
                          ) {
                            var d = s[l],
                              h = a[l],
                              f = void 0,
                              p = o[l]
                            if (
                              h.mode === hz.TRIANGLES ||
                              h.mode === hz.TRIANGLE_STRIP ||
                              h.mode === hz.TRIANGLE_FAN ||
                              void 0 === h.mode
                            )
                              (!0 ===
                                (f = !0 === i.isSkinnedMesh ? new $f(d, p) : new _f(d, p))
                                  .isSkinnedMesh && f.normalizeSkinWeights(),
                                h.mode === hz.TRIANGLE_STRIP
                                  ? (f.geometry = LU(f.geometry, 1))
                                  : h.mode === hz.TRIANGLE_FAN && (f.geometry = LU(f.geometry, 2)))
                            else if (h.mode === hz.LINES) f = new Pp(d, p)
                            else if (h.mode === hz.LINE_STRIP) f = new kp(d, p)
                            else if (h.mode === hz.LINE_LOOP) f = new Lp(d, p)
                            else {
                              if (h.mode !== hz.POINTS)
                                throw new Error(
                                  'THREE.GLTFLoader: Primitive mode unsupported: ' + h.mode
                                )
                              f = new zp(d, p)
                            }
                            ;(Object.keys(f.geometry.morphAttributes).length > 0 && Mz(f, i),
                              (f.name = t.createUniqueName(i.name || 'mesh_' + e)),
                              Tz(f, i),
                              h.extensions && Az(r, f, h),
                              t.assignFinalMaterial(f),
                              u.push(f))
                          }
                          for (var v = 0, m = u.length; v < m; v++)
                            t.associations.set(u[v], { meshes: e, primitives: v })
                          if (1 === u.length) return (i.extensions && Az(r, u[0], i), u[0])
                          var g = new Ff()
                          ;(i.extensions && Az(r, g, i), t.associations.set(g, { meshes: e }))
                          for (var y = 0, x = u.length; y < x; y++) g.add(u[y])
                          return g
                        })
                      )
                    },
                  },
                  {
                    key: 'loadCamera',
                    value: function (e) {
                      var t,
                        n = this.json.cameras[e],
                        r = n[n.type]
                      if (r)
                        return (
                          'perspective' === n.type
                            ? (t = new Nf(
                                Wc.radToDeg(r.yfov),
                                r.aspectRatio || 1,
                                r.znear || 1,
                                r.zfar || 2e6
                              ))
                            : 'orthographic' === n.type &&
                              (t = new Fv(-r.xmag, r.xmag, r.ymag, -r.ymag, r.znear, r.zfar)),
                          n.name && (t.name = this.createUniqueName(n.name)),
                          Tz(t, n),
                          Promise.resolve(t)
                        )
                      console.warn('THREE.GLTFLoader: Missing camera parameters.')
                    },
                  },
                  {
                    key: 'loadSkin',
                    value: function (e) {
                      for (
                        var t = this.json.skins[e], n = [], r = 0, i = t.joints.length;
                        r < i;
                        r++
                      )
                        n.push(this._loadNodeShallow(t.joints[r]))
                      return (
                        void 0 !== t.inverseBindMatrices
                          ? n.push(this.getDependency('accessor', t.inverseBindMatrices))
                          : n.push(null),
                        Promise.all(n).then(function (e) {
                          for (
                            var n = e.pop(), r = e, i = [], a = [], o = 0, s = r.length;
                            o < s;
                            o++
                          ) {
                            var u = r[o]
                            if (u) {
                              i.push(u)
                              var l = new qd()
                              ;(null !== n && l.fromArray(n.array, 16 * o), a.push(l))
                            } else
                              console.warn(
                                'THREE.GLTFLoader: Joint "%s" could not be found.',
                                t.joints[o]
                              )
                          }
                          return new ip(i, a)
                        })
                      )
                    },
                  },
                  {
                    key: 'loadAnimation',
                    value: function (e) {
                      for (
                        var t = this.json,
                          n = this,
                          r = t.animations[e],
                          i = r.name ? r.name : 'animation_' + e,
                          a = [],
                          o = [],
                          s = [],
                          u = [],
                          l = [],
                          c = 0,
                          d = r.channels.length;
                        c < d;
                        c++
                      ) {
                        var h = r.channels[c],
                          f = r.samplers[h.sampler],
                          p = h.target,
                          v = p.node,
                          m = void 0 !== r.parameters ? r.parameters[f.input] : f.input,
                          g = void 0 !== r.parameters ? r.parameters[f.output] : f.output
                        void 0 !== p.node &&
                          (a.push(this.getDependency('node', v)),
                          o.push(this.getDependency('accessor', m)),
                          s.push(this.getDependency('accessor', g)),
                          u.push(f),
                          l.push(p))
                      }
                      return Promise.all([
                        Promise.all(a),
                        Promise.all(o),
                        Promise.all(s),
                        Promise.all(u),
                        Promise.all(l),
                      ]).then(function (e) {
                        for (
                          var t = e[0],
                            r = e[1],
                            a = e[2],
                            o = e[3],
                            s = e[4],
                            u = [],
                            l = 0,
                            c = t.length;
                          l < c;
                          l++
                        ) {
                          var d = t[l],
                            h = r[l],
                            f = a[l],
                            p = o[l],
                            v = s[l]
                          if (void 0 !== d) {
                            d.updateMatrix && d.updateMatrix()
                            var m = n._createAnimationTracks(d, h, f, p, v)
                            if (m) for (var g = 0; g < m.length; g++) u.push(m[g])
                          }
                        }
                        return new pv(i, void 0, u)
                      })
                    },
                  },
                  {
                    key: 'createNodeMesh',
                    value: function (e) {
                      var t = this.json,
                        n = this,
                        r = t.nodes[e]
                      return void 0 === r.mesh
                        ? null
                        : n.getDependency('mesh', r.mesh).then(function (e) {
                            var t = n._getNodeRef(n.meshCache, r.mesh, e)
                            return (
                              void 0 !== r.weights &&
                                t.traverse(function (e) {
                                  if (e.isMesh)
                                    for (var t = 0, n = r.weights.length; t < n; t++)
                                      e.morphTargetInfluences[t] = r.weights[t]
                                }),
                              t
                            )
                          })
                    },
                  },
                  {
                    key: 'loadNode',
                    value: function (e) {
                      for (
                        var t = this,
                          n = this.json.nodes[e],
                          r = t._loadNodeShallow(e),
                          i = [],
                          a = n.children || [],
                          o = 0,
                          s = a.length;
                        o < s;
                        o++
                      )
                        i.push(t.getDependency('node', a[o]))
                      var u =
                        void 0 === n.skin ? Promise.resolve(null) : t.getDependency('skin', n.skin)
                      return Promise.all([r, Promise.all(i), u]).then(function (e) {
                        var t = e[0],
                          n = e[1],
                          r = e[2]
                        null !== r &&
                          t.traverse(function (e) {
                            e.isSkinnedMesh && e.bind(r, Rz)
                          })
                        for (var i = 0, a = n.length; i < a; i++) t.add(n[i])
                        return t
                      })
                    },
                  },
                  {
                    key: '_loadNodeShallow',
                    value: function (e) {
                      var t = this.json,
                        n = this.extensions,
                        r = this
                      if (void 0 !== this.nodeCache[e]) return this.nodeCache[e]
                      var i = t.nodes[e],
                        a = i.name ? r.createUniqueName(i.name) : '',
                        o = [],
                        s = r._invokeOne(function (t) {
                          return t.createNodeMesh && t.createNodeMesh(e)
                        })
                      return (
                        s && o.push(s),
                        void 0 !== i.camera &&
                          o.push(
                            r.getDependency('camera', i.camera).then(function (e) {
                              return r._getNodeRef(r.cameraCache, i.camera, e)
                            })
                          ),
                        r
                          ._invokeAll(function (t) {
                            return t.createNodeAttachment && t.createNodeAttachment(e)
                          })
                          .forEach(function (e) {
                            o.push(e)
                          }),
                        (this.nodeCache[e] = Promise.all(o).then(function (t) {
                          var o
                          if (
                            (o =
                              !0 === i.isBone
                                ? new ep()
                                : t.length > 1
                                  ? new Ff()
                                  : 1 === t.length
                                    ? t[0]
                                    : new _h()) !== t[0]
                          )
                            for (var s = 0, u = t.length; s < u; s++) o.add(t[s])
                          if (
                            (i.name && ((o.userData.name = i.name), (o.name = a)),
                            Tz(o, i),
                            i.extensions && Az(n, o, i),
                            void 0 !== i.matrix)
                          ) {
                            var l = new qd()
                            ;(l.fromArray(i.matrix), o.applyMatrix4(l))
                          } else
                            (void 0 !== i.translation && o.position.fromArray(i.translation),
                              void 0 !== i.rotation && o.quaternion.fromArray(i.rotation),
                              void 0 !== i.scale && o.scale.fromArray(i.scale))
                          return (
                            r.associations.has(o) || r.associations.set(o, {}),
                            (r.associations.get(o).nodes = e),
                            o
                          )
                        })),
                        this.nodeCache[e]
                      )
                    },
                  },
                  {
                    key: 'loadScene',
                    value: function (e) {
                      var t = this.extensions,
                        n = this.json.scenes[e],
                        r = this,
                        i = new Ff()
                      ;(n.name && (i.name = r.createUniqueName(n.name)),
                        Tz(i, n),
                        n.extensions && Az(t, i, n))
                      for (var a = n.nodes || [], o = [], s = 0, u = a.length; s < u; s++)
                        o.push(r.getDependency('node', a[s]))
                      return Promise.all(o).then(function (e) {
                        for (var t = 0, n = e.length; t < n; t++) i.add(e[t])
                        return (
                          (r.associations = (function (e) {
                            var t,
                              n = new Map(),
                              i = L(r.associations)
                            try {
                              for (i.s(); !(t = i.n()).done; ) {
                                var a = C(t.value, 2),
                                  o = a[0],
                                  s = a[1]
                                ;(o instanceof Hh || o instanceof cd) && n.set(o, s)
                              }
                            } catch (u) {
                              i.e(u)
                            } finally {
                              i.f()
                            }
                            return (
                              e.traverse(function (e) {
                                var t = r.associations.get(e)
                                null != t && n.set(e, t)
                              }),
                              n
                            )
                          })(i)),
                          i
                        )
                      })
                    },
                  },
                  {
                    key: '_createAnimationTracks',
                    value: function (e, t, n, r, i) {
                      var a,
                        o = [],
                        s = e.name ? e.name : e.uuid,
                        u = []
                      switch (
                        (yz[i.path] === yz.weights
                          ? e.traverse(function (e) {
                              e.morphTargetInfluences && u.push(e.name ? e.name : e.uuid)
                            })
                          : u.push(s),
                        yz[i.path])
                      ) {
                        case yz.weights:
                          a = lv
                          break
                        case yz.rotation:
                          a = dv
                          break
                        case yz.position:
                        case yz.scale:
                          a = fv
                          break
                        default:
                          if (1 === n.itemSize) a = lv
                          else a = fv
                      }
                      for (
                        var l = void 0 !== r.interpolation ? xz[r.interpolation] : vc,
                          c = this._getArrayFromAccessor(n),
                          d = 0,
                          h = u.length;
                        d < h;
                        d++
                      ) {
                        var f = new a(u[d] + '.' + yz[i.path], t.array, c, l)
                        ;('CUBICSPLINE' === r.interpolation &&
                          this._createCubicSplineTrackInterpolant(f),
                          o.push(f))
                      }
                      return o
                    },
                  },
                  {
                    key: '_getArrayFromAccessor',
                    value: function (e) {
                      var t = e.array
                      if (e.normalized) {
                        for (
                          var n = kz(t.constructor),
                            r = new Float32Array(t.length),
                            i = 0,
                            a = t.length;
                          i < a;
                          i++
                        )
                          r[i] = t[i] * n
                        t = r
                      }
                      return t
                    },
                  },
                  {
                    key: '_createCubicSplineTrackInterpolant',
                    value: function (e) {
                      ;((e.createInterpolant = function (e) {
                        return new (this instanceof dv ? dz : lz)(
                          this.times,
                          this.values,
                          this.getValueSize() / 3,
                          e
                        )
                      }),
                        (e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0))
                    },
                  },
                ]
              )
            })()
          function Nz(e, t, n) {
            var r = t.attributes,
              i = []
            function a(t, r) {
              return n.getDependency('accessor', t).then(function (t) {
                e.setAttribute(r, t)
              })
            }
            for (var o in r) {
              var s = gz[o] || o.toLowerCase()
              s in e.attributes || i.push(a(r[o], s))
            }
            if (void 0 !== t.indices && !e.index) {
              var u = n.getDependency('accessor', t.indices).then(function (t) {
                e.setIndex(t)
              })
              i.push(u)
            }
            return (
              nd.workingColorSpace !== wc &&
                'COLOR_0' in r &&
                console.warn(
                  'THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(
                    nd.workingColorSpace,
                    '" not supported.'
                  )
                ),
              Tz(e, t),
              (function (e, t, n) {
                var r = t.attributes,
                  i = new _d()
                if (void 0 !== r.POSITION) {
                  var a = n.json.accessors[r.POSITION],
                    o = a.min,
                    s = a.max
                  if (void 0 !== o && void 0 !== s) {
                    if ((i.set(new gd(o[0], o[1], o[2]), new gd(s[0], s[1], s[2])), a.normalized)) {
                      var u = kz(fz[a.componentType])
                      ;(i.min.multiplyScalar(u), i.max.multiplyScalar(u))
                    }
                    var l = t.targets
                    if (void 0 !== l) {
                      for (var c = new gd(), d = new gd(), h = 0, f = l.length; h < f; h++) {
                        var p = l[h]
                        if (void 0 !== p.POSITION) {
                          var v = n.json.accessors[p.POSITION],
                            m = v.min,
                            g = v.max
                          if (void 0 !== m && void 0 !== g) {
                            if (
                              (d.setX(Math.max(Math.abs(m[0]), Math.abs(g[0]))),
                              d.setY(Math.max(Math.abs(m[1]), Math.abs(g[1]))),
                              d.setZ(Math.max(Math.abs(m[2]), Math.abs(g[2]))),
                              v.normalized)
                            ) {
                              var y = kz(fz[v.componentType])
                              d.multiplyScalar(y)
                            }
                            c.max(d)
                          } else
                            console.warn(
                              'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.'
                            )
                        }
                      }
                      i.expandByVector(c)
                    }
                    e.boundingBox = i
                    var x = new Bd()
                    ;(i.getCenter(x.center),
                      (x.radius = i.min.distanceTo(i.max) / 2),
                      (e.boundingSphere = x))
                  } else
                    console.warn(
                      'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.'
                    )
                }
              })(e, t, n),
              Promise.all(i).then(function () {
                return void 0 !== t.targets
                  ? (function (e, t, n) {
                      for (var r = !1, i = !1, a = !1, o = 0, s = t.length; o < s; o++) {
                        var u = t[o]
                        if (
                          (void 0 !== u.POSITION && (r = !0),
                          void 0 !== u.NORMAL && (i = !0),
                          void 0 !== u.COLOR_0 && (a = !0),
                          r && i && a)
                        )
                          break
                      }
                      if (!r && !i && !a) return Promise.resolve(e)
                      for (var l = [], c = [], d = [], h = 0, f = t.length; h < f; h++) {
                        var p = t[h]
                        if (r) {
                          var v =
                            void 0 !== p.POSITION
                              ? n.getDependency('accessor', p.POSITION)
                              : e.attributes.position
                          l.push(v)
                        }
                        if (i) {
                          var m =
                            void 0 !== p.NORMAL
                              ? n.getDependency('accessor', p.NORMAL)
                              : e.attributes.normal
                          c.push(m)
                        }
                        if (a) {
                          var g =
                            void 0 !== p.COLOR_0
                              ? n.getDependency('accessor', p.COLOR_0)
                              : e.attributes.color
                          d.push(g)
                        }
                      }
                      return Promise.all([Promise.all(l), Promise.all(c), Promise.all(d)]).then(
                        function (t) {
                          var n = t[0],
                            o = t[1],
                            s = t[2]
                          return (
                            r && (e.morphAttributes.position = n),
                            i && (e.morphAttributes.normal = o),
                            a && (e.morphAttributes.color = s),
                            (e.morphTargetsRelative = !0),
                            e
                          )
                        }
                      )
                    })(e, t.targets, n)
                  : e
              })
            )
          }
          var Pz = {
              offset: {
                browDownLeft: 0,
                browDownRight: 0,
                browInnerUp: 0,
                browOuterUpLeft: 0,
                browOuterUpRight: 0,
                cheekPuff: 0,
                cheekSquintLeft: 0,
                cheekSquintRight: 0,
                eyeBlinkLeft: 0,
                eyeBlinkRight: 0,
                eyeLookDownLeft: 0,
                eyeLookDownRight: 0,
                eyeLookInLeft: 0,
                eyeLookInRight: 0,
                eyeLookOutLeft: 0,
                eyeLookOutRight: 0,
                eyeLookUpLeft: 0,
                eyeLookUpRight: 0,
                eyeSquintLeft: 0,
                eyeSquintRight: 0,
                eyeWideLeft: 0,
                eyeWideRight: 0,
                jawForward: 0,
                jawLeft: 0,
                jawOpen: 0,
                jawRight: 0,
                mouthClose: 0,
                mouthDimpleLeft: 0,
                mouthDimpleRight: 0,
                mouthFrownLeft: 0,
                mouthFrownRight: 0,
                mouthFunnel: 0,
                mouthLeft: 0,
                mouthLowerDownLeft: 0,
                mouthLowerDownRight: 0,
                mouthPressLeft: 0,
                mouthPressRight: 0,
                mouthPucker: 0,
                mouthRight: 0,
                mouthRollLower: 0,
                mouthRollUpper: 0,
                mouthShrugLower: 0,
                mouthShrugUpper: 0,
                mouthSmileLeft: 0,
                mouthSmileRight: 0,
                mouthStretchLeft: 0,
                mouthStretchRight: 0,
                mouthUpperUpLeft: 0,
                mouthUpperUpRight: 0,
                noseSneerLeft: 0,
                noseSneerRight: 0,
                tongueOut: 0,
              },
              scale: {
                browDownLeft: 1,
                browDownRight: 1,
                browInnerUp: 1,
                browOuterUpLeft: 1,
                browOuterUpRight: 1,
                cheekPuff: 1,
                cheekSquintLeft: 1,
                cheekSquintRight: 1,
                eyeBlinkLeft: 1,
                eyeBlinkRight: 1,
                eyeLookDownLeft: 1,
                eyeLookDownRight: 1,
                eyeLookInLeft: 1,
                eyeLookInRight: 1,
                eyeLookOutLeft: 1,
                eyeLookOutRight: 1,
                eyeLookUpLeft: 1,
                eyeLookUpRight: 1,
                eyeSquintLeft: 1,
                eyeSquintRight: 1,
                eyeWideLeft: 1,
                eyeWideRight: 1,
                jawForward: 1,
                jawLeft: 1,
                jawOpen: 1.2,
                jawRight: 1,
                mouthClose: 0.2,
                mouthDimpleLeft: 1.3,
                mouthDimpleRight: 1.3,
                mouthFrownLeft: 1.3,
                mouthFrownRight: 1.3,
                mouthFunnel: 1.3,
                mouthLeft: 1.3,
                mouthLowerDownLeft: 0.7,
                mouthLowerDownRight: 0.7,
                mouthPressLeft: 1.3,
                mouthPressRight: 1.3,
                mouthPucker: 1,
                mouthRight: 1.3,
                mouthRollLower: 1.3,
                mouthRollUpper: 1.3,
                mouthShrugLower: 1.3,
                mouthShrugUpper: 0.1,
                mouthSmileLeft: 1,
                mouthSmileRight: 1,
                mouthStretchLeft: 1.3,
                mouthStretchRight: 1.3,
                mouthUpperUpLeft: 1.3,
                mouthUpperUpRight: 1.3,
                noseSneerLeft: 1,
                noseSneerRight: 1,
                tongueOut: 1,
              },
            },
            Lz = {
              hello: { size: 2, isGroup: !1 },
              idle: { size: 1, isGroup: !1 },
              listen: { size: 0, isGroup: !1 },
              speak: { size: 6, isGroup: !1 },
              think: { size: 3, isGroup: !0 },
              other: [],
            },
            Dz = { x: 0, y: 1.8, z: 1 },
            Oz = { x: -10, y: 0, z: 0 },
            Fz = '0xffffff',
            Bz = 'false',
            Uz = (function () {
              function e(t, n) {
                ;(w(this, e),
                  (this.zipUrls = { urls: new Map() }),
                  (this.useFlame = !1),
                  (this.lastTime = 0),
                  (this.startTime = 0),
                  (this.expressionData = {}),
                  (this.chatState = _U.Idle),
                  Object.assign(this.zipUrls, { zip: n }))
                var r = t.getBoundingClientRect(),
                  i = r.width,
                  a = r.height
                ;((e._canvas.style.visibility = 'visible'),
                  (e._canvas.width = i),
                  (e._canvas.height = a),
                  t.appendChild(e._canvas),
                  (this.clock = new Gv()),
                  (this.startTime = performance.now() / 1e3))
              }
              return T(
                e,
                [
                  {
                    key: 'dispose',
                    value: function () {
                      ;((e._canvas.style.visibility = 'hidden'),
                        this.disposeModel(),
                        this.zipUrls.urls.forEach(function (e) {
                          URL.revokeObjectURL(e)
                        }))
                    },
                  },
                  {
                    key: 'disposeModel',
                    value: function () {
                      var e, t
                      ;(this.mixer &&
                        (this.mixer.stopAllAction(),
                        this.viewer &&
                          this.viewer.avatarMesh &&
                          this.mixer.uncacheRoot(this.viewer.avatarMesh),
                        (this.mixer = void 0),
                        null === (e = this.animManager) || void 0 === e || e.dispose()),
                        null === (t = this.viewer) || void 0 === t || t.dispose())
                    },
                  },
                  {
                    key: 'getCamera',
                    value: function () {
                      var e
                      return null === (e = this.viewer) || void 0 === e ? void 0 : e.camera
                    },
                  },
                  {
                    key: 'updateBS',
                    value: function (e) {
                      var t = {
                        browDownLeft: 0,
                        browDownRight: 0,
                        browInnerUp: 0,
                        browOuterUpLeft: 0,
                        browOuterUpRight: 0,
                        mouthCheekPuff: 0,
                        cheekSquintLeft: 0,
                        cheekSquintRight: 0,
                        eyeBlinkLeft: 0,
                        eyeBlinkRight: 0,
                        eyeLookDownLeft: 0,
                        eyeLookDownRight: 0,
                        eyeLookInLeft: 0,
                        eyeLookInRight: 0,
                        eyeLookOutLeft: 0,
                        eyeLookOutRight: 0,
                        eyeLookUpLeft: 0,
                        eyeLookUpRight: 0,
                        eyeSquintLeft: 0,
                        eyeSquintRight: 0,
                        eyeWideLeft: 0,
                        eyeWideRight: 0,
                        jawForward: 0,
                        jawLeft: 0,
                        jawOpen: 0,
                        jawRight: 0,
                        mouthClose: 0,
                        mouthDimpleLeft: 0,
                        mouthDimpleRight: 0,
                        mouthFrownLeft: 0,
                        mouthFrownRight: 0,
                        mouthFunnel: 0,
                        mouthLeft: 0,
                        mouthLowerDownLeft: 0,
                        mouthLowerDownRight: 0,
                        mouthPressLeft: 0,
                        mouthPressRight: 0,
                        mouthPucker: 0,
                        mouthRight: 0,
                        mouthRollLower: 0,
                        mouthRollUpper: 0,
                        mouthShrugLower: 0,
                        mouthShrugUpper: 0,
                        mouthSmileLeft: 0,
                        mouthSmileRight: 0,
                        mouthStretchLeft: 0,
                        mouthStretchRight: 0,
                        mouthUpperUpLeft: 0,
                        mouthUpperUpRight: 0,
                        noseSneerLeft: 0,
                        noseSneerRight: 0,
                        tongueOut: 0,
                      }
                      return (null != e && (t = e), t)
                    },
                  },
                  {
                    key: 'render',
                    value: function () {
                      var e,
                        t = this
                      if (!this.viewer || !this.viewer.selfDrivenMode)
                        throw new Error('Cannot start viewer unless it is in self driven mode.')
                      if (this.viewer.webXRMode)
                        this.viewer.renderer.setAnimationLoop(this.viewer.selfDrivenUpdateFunc)
                      else {
                        this.viewer.requestFrameId = requestAnimationFrame(function () {
                          return t.render()
                        })
                        var n = 1 / 30,
                          r =
                            (performance.now() / 1e3 - this.startTime) %
                            (this.viewer.totalFrames * n),
                          i = Math.floor(r / n)
                        if (
                          ((this.viewer.frame = i),
                          this.getChatState &&
                            ((this.chatState = this.getChatState()),
                            null === (e = this.animManager) ||
                              void 0 === e ||
                              e.update(this.chatState)),
                          this.getExpressionData &&
                            (this.expressionData = this.updateBS(this.getExpressionData())),
                          0 == this.viewer.useFlame)
                        ) {
                          if (!this.mixer || !this.animManager) return
                          var a = this.clock.getDelta()
                          if ((this.mixer.update(a), this.motioncfg))
                            for (var o in this.expressionData) {
                              var s = this.motioncfg.offset[o],
                                u = this.motioncfg.scale[o]
                              void 0 !== s &&
                                void 0 !== u &&
                                (this.expressionData[o] = this.expressionData[o] * u + s)
                            }
                          this.setExpression()
                        }
                        ;(this.viewer.update(this.viewer.renderer, this.viewer.camera),
                          this.viewer.shouldRender()
                            ? (this.viewer.render(), this.viewer.consecutiveRenderFrames++)
                            : (this.viewer.consecutiveRenderFrames = 0),
                          (this.viewer.renderNextFrame = !1))
                      }
                      this.viewer.selfDrivenModeRunning = !0
                    },
                  },
                  {
                    key: 'isHexColorStrict',
                    value: function (e) {
                      if ('string' != typeof e) return !1
                      return /^(#|0x)[0-9A-Fa-f]{6}$/i.test(e)
                    },
                  },
                  {
                    key: 'setExpression',
                    value: function () {
                      var e = this
                      ;(this.viewer &&
                        this.viewer.splatMesh &&
                        (this.viewer.splatMesh.bsWeight = this.expressionData),
                        this.model &&
                          this.model.traverse(function (t) {
                            if (t.isMesh || t.isSkinnedMesh) {
                              var n = t.geometry.morphAttributes
                              if (!0 === Object.keys(n).length > 0) {
                                var r = t.morphTargetDictionary
                                for (var i in r) {
                                  var a = r[i],
                                    o = e.expressionData[i]
                                  void 0 !== o &&
                                    (t.morphTargetInfluences[a] = Math.max(0, Math.min(1, o)))
                                }
                              }
                            }
                          }))
                    },
                  },
                  {
                    key: 'loadFlameModel',
                    value: function (e, t) {
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function n() {
                          var r, i, a, o, s, u, l, c, d
                          return h().w(
                            function (n) {
                              for (;;)
                                switch (n.n) {
                                  case 0:
                                    return (
                                      (n.n = 1),
                                      Promise.all([
                                        this.unpackAndLoadGlb(e + '/skin.glb'),
                                        this.unpackAndLoadJson(e + '/lbs_weight_20k.json'),
                                        this.unpackAndLoadJson(e + '/flame_params.json'),
                                        this.unpackAndLoadJson(e + '/vertex_order.json'),
                                        this.unpackAndLoadJson(e + '/bone_tree.json'),
                                      ])
                                    )
                                  case 1:
                                    if (
                                      ((r = n.v),
                                      (i = C(r, 5)),
                                      (a = i[0]),
                                      (o = i[1]),
                                      (s = i[2]),
                                      (u = i[3]),
                                      (l = i[4]),
                                      this.viewer)
                                    ) {
                                      n.n = 2
                                      break
                                    }
                                    throw new Error('render viewer is not initialized')
                                  case 2:
                                    ;(a.traverse(function (e) {
                                      ;(e.isSkinnedMesh && (c = e),
                                        e instanceof ep && 'hip' == e.name && (d = e))
                                    }),
                                      (this.viewer.sortedIndexes = u),
                                      (this.viewer.flame_params = s),
                                      (this.viewer.lbs_weight_80k = o),
                                      (this.viewer.bone_tree = l),
                                      (this.viewer.totalFrames = s.expr.length),
                                      null != c &&
                                        (this.viewer.gaussianSplatCount =
                                          c.geometry.attributes.position.count),
                                      (this.viewer.avatarMesh = a),
                                      (this.viewer.skinModel = c),
                                      (this.viewer.boneRoot = d),
                                      (this.motioncfg = t),
                                      null != c && this.viewer.updateMorphTarget(c),
                                      this.viewer.threeScene.add(a),
                                      (a.visible = !1),
                                      null != c && c.skeleton.computeBoneTexture())
                                  case 3:
                                    return n.a(2)
                                }
                            },
                            n,
                            this
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'loadModel',
                    value: function (e, t, n) {
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function r() {
                          var i, a, o, s, u, l, c
                          return h().w(
                            function (r) {
                              for (;;)
                                switch (r.n) {
                                  case 0:
                                    return (
                                      (r.n = 1),
                                      Promise.all([
                                        this.unpackAndLoadGlb(e + '/skin.glb'),
                                        this.unpackAndLoadGlb(e + '/animation.glb'),
                                        this.unpackAndLoadJson(e + '/vertex_order.json'),
                                      ])
                                    )
                                  case 1:
                                    if (
                                      ((i = r.v),
                                      (a = C(i, 3)),
                                      (o = a[0]),
                                      (s = a[1]),
                                      (u = a[2]),
                                      this.viewer)
                                    ) {
                                      r.n = 2
                                      break
                                    }
                                    throw new Error('render viewer is not initialized')
                                  case 2:
                                    ;(o.traverse(function (e) {
                                      ;(e.isSkinnedMesh && (l = e),
                                        e instanceof ep && 'hip' == e.name && (c = e))
                                    }),
                                      (this.viewer.sortedIndexes = u),
                                      null != l &&
                                        (this.viewer.gaussianSplatCount =
                                          l.geometry.attributes.position.count),
                                      (this.viewer.avatarMesh = o),
                                      (this.viewer.skinModel = l),
                                      (this.viewer.boneRoot = c),
                                      (this.mixer = new rm(o)),
                                      (this.animManager = new EU(this.mixer, s, t)),
                                      (this.motioncfg = n),
                                      null != l && this.viewer.updateMorphTarget(l),
                                      this.viewer.threeScene.add(o),
                                      (o.visible = !1),
                                      null != l && l.skeleton.computeBoneTexture())
                                  case 3:
                                    return r.a(2)
                                }
                            },
                            r,
                            this
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'unpackFileAsBlob',
                    value: function (e) {
                      var t, n
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function r() {
                          var i, a
                          return h().w(
                            function (r) {
                              for (;;)
                                switch (r.n) {
                                  case 0:
                                    if (this.zipUrls.urls.has(e)) {
                                      r.n = 2
                                      break
                                    }
                                    return (
                                      (r.n = 1),
                                      null ===
                                        (n =
                                          null === (t = this.zipUrls.zip) || void 0 === t
                                            ? void 0
                                            : t.file(e)) || void 0 === n
                                        ? void 0
                                        : n.async('blob')
                                    )
                                  case 1:
                                    ;((i = r.v),
                                      (a = URL.createObjectURL(i)),
                                      this.zipUrls.urls.set(e, a))
                                  case 2:
                                    return r.a(2, this.zipUrls.urls.get(e))
                                }
                            },
                            r,
                            this
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'unpackAndLoadGlb',
                    value: function (e) {
                      var t, n
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function r() {
                          var i, a, o
                          return h().w(
                            function (r) {
                              for (;;)
                                switch (r.n) {
                                  case 0:
                                    if (this.zipUrls.urls.has(e)) {
                                      r.n = 2
                                      break
                                    }
                                    return (
                                      (r.n = 1),
                                      null ===
                                        (n =
                                          null === (t = this.zipUrls.zip) || void 0 === t
                                            ? void 0
                                            : t.file(e)) || void 0 === n
                                        ? void 0
                                        : n.async('arraybuffer')
                                    )
                                  case 1:
                                    ;((i = r.v),
                                      (a = new Blob([i], { type: 'model/gltf-binary' })),
                                      (o = URL.createObjectURL(a)),
                                      this.zipUrls.urls.set(e, o))
                                  case 2:
                                    return r.a(2, this.LoadGLTF(this.zipUrls.urls.get(e)))
                                }
                            },
                            r,
                            this
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'unpackAndLoadJson',
                    value: function (e) {
                      var t, n
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function r() {
                          var i
                          return h().w(
                            function (r) {
                              for (;;)
                                switch (r.n) {
                                  case 0:
                                    return (
                                      (r.n = 1),
                                      null ===
                                        (n =
                                          null === (t = this.zipUrls.zip) || void 0 === t
                                            ? void 0
                                            : t.file(e)) || void 0 === n
                                        ? void 0
                                        : n.async('string')
                                    )
                                  case 1:
                                    return ((i = r.v), r.a(2, JSON.parse(i)))
                                }
                            },
                            r,
                            this
                          )
                        })
                      )
                    },
                  },
                  {
                    key: 'LoadGLTF',
                    value: function (e) {
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function t() {
                          return h().w(function (t) {
                            for (;;)
                              if (0 === t.n)
                                return t.a(
                                  2,
                                  new Promise(function (t, n) {
                                    new DU(void 0).load(
                                      e,
                                      function (e) {
                                        e.animations.length > 0 ? t(e.animations) : t(e.scene)
                                      },
                                      void 0,
                                      function (e) {
                                        n(e)
                                      }
                                    )
                                  })
                                )
                          }, t)
                        })
                      )
                    },
                  },
                ],
                [
                  {
                    key: 'getInstance',
                    value: function (t, n, r) {
                      var i, a, o, s, u, l
                      return YO(
                        this,
                        void 0,
                        void 0,
                        h().m(function c() {
                          var d, f, p, v, m, g, y, x, _, b, S, w, A, T
                          return h().w(
                            function (c) {
                              for (;;)
                                switch ((c.p = c.n)) {
                                  case 0:
                                    if (null == this.instance) {
                                      c.n = 1
                                      break
                                    }
                                    return c.a(2, this.instance)
                                  case 1:
                                    if (
                                      ((c.p = 1),
                                      (f = yU((d = n))),
                                      (p = f.pathname),
                                      (v = p.match(/\/([^/]+?)\.zip/)),
                                      v && v[1])
                                    ) {
                                      c.n = 2
                                      break
                                    }
                                    throw new Error('character model is not found')
                                  case 2:
                                    return (
                                      MU.start(),
                                      (c.n = 3),
                                      rU.get(d, {
                                        responseType: 'arraybuffer',
                                        timeout: 1e5,
                                        onDownloadProgress: function (e) {
                                          if (e.lengthComputable && e && e.total) {
                                            var t = e.loaded / e.total
                                            ;(MU.set(t),
                                              (null == r ? void 0 : r.downloadProgress) &&
                                                (null == r || r.downloadProgress(t)))
                                          }
                                        },
                                      })
                                    )
                                  case 3:
                                    return (
                                      (m = c.v),
                                      (null == r ? void 0 : r.loadProgress) &&
                                        (null == r || r.loadProgress(0.1)),
                                      MU.done(),
                                      console.log('download completed:', m.data),
                                      (g = m.data),
                                      (c.n = 4),
                                      dU.loadAsync(g)
                                    )
                                  case 4:
                                    if (
                                      ((y = c.v),
                                      (x = ''),
                                      Object.values(y.files).forEach(function (e) {
                                        var t, n
                                        e.dir &&
                                          (x =
                                            null === (t = e.name) || void 0 === t
                                              ? void 0
                                              : t.slice(
                                                  0,
                                                  (null === (n = e.name) || void 0 === n
                                                    ? void 0
                                                    : n.length) - 1
                                                ))
                                      }),
                                      x)
                                    ) {
                                      c.n = 5
                                      break
                                    }
                                    throw new Error('file fold is not found')
                                  case 5:
                                    if (
                                      ((_ = new e(t, y)),
                                      ((b = new gd()).x =
                                        (null === (i = Dz) || void 0 === i ? void 0 : i.x) || 0),
                                      (b.y =
                                        (null === (a = Dz) || void 0 === a ? void 0 : a.y) || 0),
                                      (b.z =
                                        (null === (o = Dz) || void 0 === o ? void 0 : o.z) || 1),
                                      ((S = new gd()).x =
                                        (null === (s = Oz) || void 0 === s ? void 0 : s.x) || 0),
                                      (S.y =
                                        (null === (u = Oz) || void 0 === u ? void 0 : u.y) || 0),
                                      (S.z =
                                        (null === (l = Oz) || void 0 === l ? void 0 : l.z) || 0),
                                      (w = 16777215),
                                      Fz && (w = parseInt(Fz, 16)),
                                      r &&
                                        r.backgroundColor &&
                                        _.isHexColorStrict(r.backgroundColor) &&
                                        (w = parseInt(r.backgroundColor, 16)),
                                      (_.getChatState = null == r ? void 0 : r.getChatState),
                                      (_.getExpressionData =
                                        null == r ? void 0 : r.getExpressionData),
                                      Bz && (_.useFlame = 'false' != Bz),
                                      console.log(b, w),
                                      (_.viewer = new XO({
                                        rootElement: t,
                                        threejsCanvas: e._canvas,
                                        cameraUp: [0, 1, 0],
                                        initialCameraPosition: [b.x, b.y, b.z],
                                        initialCameraRotation: [S.x, S.y, S.z],
                                        sphericalHarmonicsDegree: 0,
                                        backgroundColor: w,
                                      })),
                                      (_.viewer.useFlame = _.useFlame),
                                      1 != _.viewer.useFlame)
                                    ) {
                                      c.n = 7
                                      break
                                    }
                                    return ((c.n = 6), _.loadFlameModel(x, Pz))
                                  case 6:
                                    c.n = 8
                                    break
                                  case 7:
                                    return ((c.n = 8), _.loadModel(x, Lz, Pz))
                                  case 8:
                                    return (
                                      (null == r ? void 0 : r.loadProgress) &&
                                        (null == r || r.loadProgress(0.2)),
                                      (c.n = 9),
                                      _.unpackFileAsBlob(x + '/offset.ply')
                                    )
                                  case 9:
                                    return (
                                      (A = c.v),
                                      (null == r ? void 0 : r.loadProgress) &&
                                        (null == r || r.loadProgress(0.3)),
                                      _.viewer
                                        .addSplatScene(A, {
                                          progressiveLoad: !0,
                                          sharedMemoryForWorkers: !1,
                                          showLoadingUI: !1,
                                          format: ub,
                                        })
                                        .then(function () {
                                          ;(_.render(),
                                            (null == r ? void 0 : r.loadProgress) &&
                                              (null == r || r.loadProgress(1)))
                                        }),
                                      c.a(2, _)
                                    )
                                  case 10:
                                    ;((c.p = 10), (T = c.v), console.error(T))
                                  case 11:
                                    return c.a(2)
                                }
                            },
                            c,
                            this,
                            [[1, 10]]
                          )
                        })
                      )
                    },
                  },
                ]
              )
            })()
          Uz._canvas = document.createElement('canvas')
          var zz = (function (e) {
            function t(e) {
              var n
              w(this, t)
              var r = e.container,
                i = e.assetsPath,
                a = e.ws,
                o = e.downloadProgress,
                s = e.loadProgress
              return (
                M((n = y(this, t)), '_avatarDivEle', void 0),
                M(n, '_assetsPath', ''),
                M(n, '_ws', void 0),
                M(n, '_downloadProgress', void 0),
                M(n, '_loadProgress', void 0),
                M(n, '_loadPercent', 0),
                M(n, '_downloadPercent', 0),
                M(n, '_processor', void 0),
                M(n, '_renderer', void 0),
                M(n, '_audioMute', !1),
                M(n, 'curState', ys.Idle),
                (n._avatarDivEle = r),
                (n._assetsPath = i),
                (n._ws = a),
                (n._downloadProgress = o
                  ? function (e) {
                      ;((n._downloadPercent = e), o(e))
                    }
                  : function (e) {
                      n._downloadPercent = e
                    }),
                (n._loadProgress = s
                  ? function (e) {
                      ;((n._loadPercent = e), s(e))
                    }
                  : function (e) {
                      n._loadPercent = e
                    }),
                n._init(),
                n
              )
            }
            return (
              b(t, e),
              T(t, [
                {
                  key: '_init',
                  value: function () {
                    if (!this._avatarDivEle || !this._assetsPath || !this._ws)
                      throw new Error(
                        'Lack of necessary initialization parameters for gaussian render'
                      )
                    ;((this._processor = new Cu(this)), this._bindEventTypes())
                  },
                },
                {
                  key: 'start',
                  value: function () {
                    ;(this.getData(), this.render())
                  },
                },
                {
                  key: 'getData',
                  value:
                    ((r = v(
                      h().m(function e() {
                        var t = this
                        return h().w(
                          function (e) {
                            for (;;)
                              switch (e.n) {
                                case 0:
                                  this._ws.on(ps.WS_MESSAGE, function (e) {
                                    t._downloadPercent < 1 ||
                                      t._loadPercent < 1 ||
                                      (t.emit(fs.MessageReceived, t.curState),
                                      t._processor.add({
                                        avatar_motion_data: {
                                          first_package: !0,
                                          segment_num: 1,
                                          binary_size: e.size,
                                          use_binary_frame: !1,
                                        },
                                      }),
                                      t._processor.add({
                                        avatar_motion_data: {
                                          first_package: !1,
                                          motion_data_slice: e,
                                          is_audio_mute: t._audioMute,
                                        },
                                      }))
                                  })
                                case 1:
                                  return e.a(2)
                              }
                          },
                          e,
                          this
                        )
                      })
                    )),
                    function () {
                      return r.apply(this, arguments)
                    }),
                },
                {
                  key: 'render',
                  value:
                    ((n = v(
                      h().m(function e() {
                        return h().w(
                          function (e) {
                            for (;;)
                              switch (e.n) {
                                case 0:
                                  return (
                                    (e.n = 1),
                                    Uz.getInstance(this._avatarDivEle, this._assetsPath, {
                                      getChatState: this.getChatState.bind(this),
                                      getExpressionData: this.getArkitFaceFrame.bind(this),
                                      downloadProgress: this._downloadProgress.bind(this),
                                      loadProgress: this._loadProgress.bind(this),
                                    })
                                  )
                                case 1:
                                  this._renderer = e.v
                                case 2:
                                  return e.a(2)
                              }
                          },
                          e,
                          this
                        )
                      })
                    )),
                    function () {
                      return n.apply(this, arguments)
                    }),
                },
                {
                  key: 'setAvatarMute',
                  value: function (e) {
                    ;(this._processor.setMute(e), (this._audioMute = e))
                  },
                },
                {
                  key: 'getChatState',
                  value: function () {
                    return this.curState
                  },
                },
                {
                  key: 'getArkitFaceFrame',
                  value: function () {
                    var e
                    return null === (e = this._processor) || void 0 === e
                      ? void 0
                      : e.getArkitFaceFrame().arkitFace
                  },
                },
                {
                  key: 'interrupt',
                  value: function () {
                    var e
                    ;(this._ws.send('%interrupt%'),
                      null === (e = this._processor) || void 0 === e || e.interrupt(),
                      (this.curState = ys.Idle),
                      this.emit(fs.StateChanged, this.curState))
                  },
                },
                {
                  key: 'sendSpeech',
                  value: function (e) {
                    var t
                    ;(this._ws.send(e),
                      (this.curState = ys.Listening),
                      this.emit(fs.StateChanged, this.curState),
                      null === (t = this._processor) || void 0 === t || t.clear())
                  },
                },
                {
                  key: 'exit',
                  value: function () {
                    var e, t
                    ;(null === (e = this._renderer) || void 0 === e || e.dispose(),
                      (this.curState = ys.Idle),
                      (this._downloadPercent = 0),
                      (this._loadPercent = 0),
                      null === (t = this._processor) || void 0 === t || t.clear(),
                      this.removeAllListeners())
                  },
                },
                {
                  key: '_bindEventTypes',
                  value: function () {
                    var e = this
                    ;(this.on(vs.Player_StartSpeaking, function (t) {
                      ;(console.log('startSpeach'),
                        (e.curState = ys.Responding),
                        e.emit(fs.StateChanged, e.curState),
                        e._ws.send(
                          JSON.stringify({ header: { name: fs.StartSpeech }, payload: {} })
                        ))
                    }),
                      this.on(vs.Player_EndSpeaking, function (t) {
                        ;(console.log('endSpeach'),
                          (e.curState = ys.Idle),
                          e.emit(fs.StateChanged, e.curState),
                          e._ws.send(
                            JSON.stringify({ header: { name: fs.EndSpeech }, payload: {} })
                          ))
                      }),
                      this.on(fs.ErrorReceived, function (t) {
                        ;(console.log('ErrorReceived', t),
                          (e.curState = ys.Idle),
                          e.emit(fs.StateChanged, e.curState),
                          e._ws.send(
                            JSON.stringify({
                              header: { name: fs.ErrorReceived },
                              payload: s({}, t),
                            })
                          ))
                      }),
                      this._ws.on(ps.WS_CLOSE, function () {
                        e.exit()
                      }))
                  },
                },
              ])
            )
            var n, r
          })(hs)
          function Vz() {
            return navigator.mediaDevices.enumerateDevices()
          }
          function Hz(e, t, n) {
            return Wz.apply(this, arguments)
          }
          function Wz() {
            return (
              (Wz = v(
                h().m(function e(t, n, r) {
                  var i, a, o
                  return h().w(function (e) {
                    for (;;)
                      if (0 === e.n)
                        return (
                          (i = (null == r ? void 0 : r.video) ||
                            r || {
                              width: { ideal: 500, min: 320 },
                              height: { ideal: 500, min: 320 },
                              aspectRatio: { ideal: 1 },
                            }),
                          (a = (null == r ? void 0 : r.audio) ||
                            r || {
                              echoCancellation: !0,
                              noiseSuppression: !0,
                              autoGainControl: !0,
                            }),
                          (o = {
                            video: 'object' === P(n) ? s(s({}, n), i) : n,
                            audio: 'object' === P(t) ? s(s({}, t), a) : t,
                          }),
                          console.log(o, 'constraints'),
                          e.a(
                            2,
                            navigator.mediaDevices.getUserMedia(o).then(function (e) {
                              return (console.log(e), e)
                            })
                          )
                        )
                  }, e)
                })
              )),
              Wz.apply(this, arguments)
            )
          }
          function Gz(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 'videoinput'
            return e.filter(function (e) {
              return e.kind === t
            })
          }
          var jz = null,
            Qz = null
          function qz() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
              t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
              n = document.createElement('canvas')
            ;(document.body.appendChild(n),
              (n.width = e || 500),
              (n.height = t || 500),
              (n.style.width = '1px'),
              (n.style.height = '1px'),
              (n.style.position = 'fixed'),
              (n.style.visibility = 'hidden'))
            var r = n.getContext('2d')
            ;((r.fillStyle = 'hsl(0,0, 0, 1)'),
              r.fillRect(0, 0, n.width, n.height),
              (function e() {
                ;((r.fillStyle = 'rgb(255, 255, 255)'),
                  r.fillRect(0, 0, n.width, n.height),
                  requestAnimationFrame(e))
              })())
            var i = n.captureStream(30)
            return (
              ((jz = i.getVideoTracks()[0]).stop = function () {
                n.remove()
              }),
              (jz.onended = function () {
                var e
                null === (e = jz) || void 0 === e || e.stop()
              }),
              jz
            )
          }
          function Xz() {
            if (Qz) return Qz
            var e = new (window.AudioContext || window.webkitAudioContext)(),
              t = e.createOscillator()
            t.frequency.setValueAtTime(0, e.currentTime)
            var n = e.createGain()
            n.gain.setValueAtTime(0, e.currentTime)
            var r = e.createMediaStreamDestination()
            return (
              t.connect(n),
              n.connect(r),
              t.start(),
              ((Qz = r.stream.getAudioTracks()[0]).stop = function () {
                e.close()
              }),
              (Qz.onended = function () {
                var e
                null === (e = Qz) || void 0 === e || e.stop()
              }),
              Qz
            )
          }
          function Yz(e) {
            ;(console.debug('Stopping peer connection'),
              e.getTransceivers &&
                e.getTransceivers().forEach(function (e) {
                  e.stop && e.stop()
                }),
              e.getSenders() &&
                e.getSenders().forEach(function (e) {
                  ;(console.log('sender', e), e.track && e.track.stop && e.track.stop())
                }),
              setTimeout(function () {
                e.close()
              }, 500))
          }
          function Kz(e, t, n, r) {
            return Zz.apply(this, arguments)
          }
          function Zz() {
            return (
              (Zz = v(
                h().m(function e(t, n, r, i) {
                  var a, o, u, l, c, d, f, p
                  return h().w(function (e) {
                    for (;;)
                      switch (e.n) {
                        case 0:
                          return (
                            t.getTracks().forEach(
                              (function () {
                                var e = v(
                                  h().m(function e(r) {
                                    return h().w(function (e) {
                                      for (;;)
                                        switch (e.n) {
                                          case 0:
                                            n.addTrack(r, t)
                                          case 1:
                                            return e.a(2)
                                        }
                                    }, e)
                                  })
                                )
                                return function (t) {
                                  return e.apply(this, arguments)
                                }
                              })()
                            ),
                            n.addEventListener('track', function (e) {
                              r && r.srcObject !== e.streams[0] && (r.srcObject = e.streams[0])
                            }),
                            (a = n.createDataChannel('text')),
                            (e.n = 1),
                            n.createOffer()
                          )
                        case 1:
                          return ((o = e.v), (e.n = 2), n.setLocalDescription(o))
                        case 2:
                          return (
                            (u = Math.random().toString(36).substring(7)),
                            (l = function (e) {
                              var t = s(s({}, e), {}, { webrtc_id: u })
                              return (
                                i
                                  ? ((t.userId = i),
                                    console.log(' userId:', t))
                                  : console.log(' userId:', t),
                                t
                              )
                            }),
                            (n.onicecandidate = function (e) {
                              var t = e.candidate
                              if (t) {
                                console.debug('Sending ICE candidate', t)
                                var n = { 'Content-Type': 'application/json' }
                                ;(i &&
                                  ((n['X-User-ID'] = i),
                                  console.log(' ICEID:', i)),
                                  fetch('/webrtc/offer', {
                                    method: 'POST',
                                    headers: n,
                                    body: JSON.stringify(
                                      l({ candidate: t.toJSON(), type: 'ice-candidate' })
                                    ),
                                  }))
                              }
                            }),
                            (c = { 'Content-Type': 'application/json' }),
                            i &&
                              ((c['X-User-ID'] = i),
                              console.log(' WebRTC offerID:', i)),
                            (d = '/webrtc/offer'),
                            i &&
                              ((d += '?userId='.concat(encodeURIComponent(i))),
                              console.log(' WebRTC offerID:', i)),
                            (e.n = 3),
                            fetch(d, {
                              method: 'POST',
                              headers: c,
                              body: JSON.stringify(l({ sdp: o.sdp, type: o.type })),
                            })
                          )
                        case 3:
                          return ((f = e.v), (e.n = 4), f.json())
                        case 4:
                          return ((p = e.v), (e.n = 5), n.setRemoteDescription(p))
                        case 5:
                          return e.a(2, [a, u])
                      }
                  }, e)
                })
              )),
              Zz.apply(this, arguments)
            )
          }
          function Jz() {
            try {
              ;(console.log('  wj_oss_authority ...'),
                console.log(' :', window.location.origin),
                console.log('  iframe :', $z()))
              var e = null
              return (
                console.log('  URL ...'),
                (e = (function () {
                  try {
                    var e = new URLSearchParams(window.location.search).get('wj_oss_authority')
                    if (e)
                      return (console.log('  URL :', e), decodeURIComponent(e))
                  } catch (t) {
                    console.error('  URL :', t)
                  }
                  return null
                })())
                  ? console.log('  URL :', e)
                  : console.log(' URL ...'),
                e ||
                  (console.log(' URL  localStorage ...'),
                  (e = localStorage.getItem('wj_oss_authority')) &&
                    console.log('  localStorage :', e)),
                console.log(' :', e),
                e
                  ? (function (e) {
                      if (!e) return (console.log(' '), null)
                      try {
                        console.log('  JSON ...')
                        var t = JSON.parse(e)
                        if (
                          (console.log(' :', t),
                          console.log(' :', t.length),
                          !Array.isArray(t))
                        )
                          return (console.warn(' wj_oss_authority '), null)
                        var n = {
                          accountType: t[0] || void 0,
                          unknown1: t[1] || void 0,
                          grade: t[2] || void 0,
                          unknown2: t[3] || void 0,
                          unknown3: t[4] || void 0,
                          userId: t[5] || void 0,
                          phone: t[6] || void 0,
                          userName: t[7] || void 0,
                          studentId: t[8] || void 0,
                          idNumber: t[9] || void 0,
                          userType: t[10] || void 0,
                          personnelType: t[11] || void 0,
                          rawData: t,
                        }
                        return (
                          console.log(' :'),
                          console.log('     (0):', n.accountType),
                          console.log('     (7):', n.userName),
                          console.log('    ID (5):', n.userId),
                          console.log('    / (8):', n.studentId),
                          console.log('     (2):', n.grade),
                          console.log('     (6):', n.phone),
                          console.log('     (9):', n.idNumber),
                          console.log('     (10):', n.userType),
                          console.log('     (11):', n.personnelType),
                          console.log('    :', n),
                          n
                        )
                      } catch (r) {
                        return (console.error('  wj_oss_authority :', r), null)
                      }
                    })(e)
                  : (console.log('  wj_oss_authority '), null)
              )
            } catch (t) {
              return (console.error('  wj_oss_authority :', t), null)
            }
          }
          function $z() {
            try {
              return window.self !== window.top
            } catch (u$) {
              return !0
            }
          }
          var eV = 'https://www.zhgk-mind.com/api/dwsurvey/anon/response'
          function tV(e) {
            return nV.apply(this, arguments)
          }
          function nV() {
            return (nV = v(
              h().m(function e(t) {
                var n, r, i, a, o
                return h().w(
                  function (e) {
                    for (;;)
                      switch ((e.p = e.n)) {
                        case 0:
                          return (
                            (e.p = 0),
                            console.log(' ...'),
                            console.log('  - userId:', t),
                            (r = { userId: t }),
                            console.log(' :', ''.concat(eV, '/getUserResultInfo.do')),
                            console.log(' :', JSON.stringify(r, null, 2)),
                            (e.n = 1),
                            fetch(''.concat(eV, '/getUserResultInfo.do'), {
                              method: 'POST',
                              headers: { 'Content-Type': 'application/json' },
                              body: JSON.stringify(r),
                            })
                          )
                        case 1:
                          if (
                            ((i = e.v), console.log(' :', i.status, i.statusText), i.ok)
                          ) {
                            e.n = 2
                            break
                          }
                          throw new Error('HTTP error! status: '.concat(i.status))
                        case 2:
                          return ((e.n = 3), i.json())
                        case 3:
                          return (
                            (a = e.v),
                            console.log(' :'),
                            console.log('    :', a.resultCode),
                            console.log('    :', a.resultMsg),
                            console.log(
                              '    :',
                              (null === (n = a.data) || void 0 === n ? void 0 : n.length) || 0
                            ),
                            a.data &&
                              a.data.length > 0 &&
                              (console.log('    :'),
                              a.data.forEach(function (e, t) {
                                ;(console.log(
                                  '     '
                                    .concat(t + 1, '. ')
                                    .concat(e.name, ' (')
                                    .concat(e.code, ') - ')
                                    .concat(e.resulte)
                                ),
                                  console.log('        ID: '.concat(e.userId)),
                                  console.log(
                                    '        : '.concat(e.value.substring(0, 100), '...')
                                  ))
                              })),
                            e.a(2, a)
                          )
                        case 4:
                          throw (
                            (e.p = 4),
                            (o = e.v),
                            console.error(' :', o),
                            o
                          )
                        case 5:
                          return e.a(2)
                      }
                  },
                  e,
                  null,
                  [[0, 4]]
                )
              })
            )).apply(this, arguments)
          }
          function rV(e) {
            return (
              (rV =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e
                    }),
              rV(e)
            )
          }
          function iV(e) {
            var t = (function (e, t) {
              if ('object' != rV(e) || !e) return e
              var n = e[Symbol.toPrimitive]
              if (void 0 !== n) {
                var r = n.call(e, t)
                if ('object' != rV(r)) return r
                throw new TypeError('@@toPrimitive must return a primitive value.')
              }
              return ('string' === t ? String : Number)(e)
            })(e, 'string')
            return 'symbol' == rV(t) ? t : t + ''
          }
          function aV(e, t, n) {
            return (
              (t = iV(t)) in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          function oV(e, t) {
            var n = Object.keys(e)
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(e)
              ;(t &&
                (r = r.filter(function (t) {
                  return Object.getOwnPropertyDescriptor(e, t).enumerable
                })),
                n.push.apply(n, r))
            }
            return n
          }
          function sV(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? arguments[t] : {}
              t % 2
                ? oV(Object(n), !0).forEach(function (t) {
                    aV(e, t, n[t])
                  })
                : Object.getOwnPropertyDescriptors
                  ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
                  : oV(Object(n)).forEach(function (t) {
                      Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
            }
            return e
          }
          function uV() {
            return (
              (uV = Object.assign
                ? Object.assign.bind()
                : function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                      var n = arguments[t]
                      for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r])
                    }
                    return e
                  }),
              uV.apply(null, arguments)
            )
          }
          var lV = Array.isArray,
            cV = function (e) {
              return 'string' == typeof e
            },
            dV = function (e) {
              return null !== e && 'object' === P(e)
            }
          function hV(e) {
            var t = arguments.length > 2 ? arguments[2] : void 0
            return 'function' == typeof e
              ? e(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {})
              : null != e
                ? e
                : t
          }
          function fV() {
            for (var e = [], t = 0; t < arguments.length; t++) {
              var n = t < 0 || arguments.length <= t ? void 0 : arguments[t]
              if (n)
                if (cV(n)) e.push(n)
                else if (lV(n))
                  for (var r = 0; r < n.length; r++) {
                    var i = fV(n[r])
                    i && e.push(i)
                  }
                else if (dV(n)) for (var a in n) n[a] && e.push(a)
            }
            return e.join(' ')
          }
          function pV() {
            var e = []
            return (
              (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).forEach(
                function (t) {
                  Array.isArray(t)
                    ? e.push.apply(e, I(t))
                    : (null == t ? void 0 : t.type) === Vi
                      ? e.push.apply(e, I(pV(t.children)))
                      : e.push(t)
                }
              ),
              e.filter(function (e) {
                return !(function (e) {
                  return (
                    e &&
                    (e.type === Wi ||
                      (e.type === Vi && 0 === e.children.length) ||
                      (e.type === Hi && '' === e.children.trim()))
                  )
                })(e)
              })
            )
          }
          var vV = function (e) {
            var t = e
            return (
              (t.install = function (n) {
                n.component(t.displayName || t.name, e)
              }),
              e
            )
          }
          function mV(e) {
            return { type: Object, default: e }
          }
          function gV(e) {
            return { type: Boolean, default: e }
          }
          function yV(e, t) {
            var n = {
              validator: function () {
                return !0
              },
              default: e,
            }
            return n
          }
          function xV(e) {
            return { type: Array, default: e }
          }
          function _V(e) {
            return { type: String, default: e }
          }
          var bV = 'anticon',
            SV = Symbol('GlobalFormContextKey'),
            wV = Symbol('configProvider'),
            AV = {
              getPrefixCls: function (e, t) {
                return t || (e ? 'ant-'.concat(e) : 'ant')
              },
              iconPrefixCls: Ra(function () {
                return bV
              }),
              getPopupContainer: Ra(function () {
                return function () {
                  return document.body
                }
              }),
              direction: Ra(function () {
                return 'ltr'
              }),
            },
            TV = function () {
              return ni(wV, AV)
            },
            MV = Symbol('DisabledContextKey'),
            EV = function () {
              return ni(MV, tn(void 0))
            },
            CV = { placeholder: 'Select time', rangePlaceholder: ['Start time', 'End time'] },
            kV = {
              lang: uV(
                {
                  placeholder: 'Select date',
                  yearPlaceholder: 'Select year',
                  quarterPlaceholder: 'Select quarter',
                  monthPlaceholder: 'Select month',
                  weekPlaceholder: 'Select week',
                  rangePlaceholder: ['Start date', 'End date'],
                  rangeYearPlaceholder: ['Start year', 'End year'],
                  rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],
                  rangeMonthPlaceholder: ['Start month', 'End month'],
                  rangeWeekPlaceholder: ['Start week', 'End week'],
                },
                {
                  locale: 'en_US',
                  today: 'Today',
                  now: 'Now',
                  backToToday: 'Back to today',
                  ok: 'Ok',
                  clear: 'Clear',
                  month: 'Month',
                  year: 'Year',
                  timeSelect: 'select time',
                  dateSelect: 'select date',
                  weekSelect: 'Choose a week',
                  monthSelect: 'Choose a month',
                  yearSelect: 'Choose a year',
                  decadeSelect: 'Choose a decade',
                  yearFormat: 'YYYY',
                  dateFormat: 'M/D/YYYY',
                  dayFormat: 'D',
                  dateTimeFormat: 'M/D/YYYY HH:mm:ss',
                  monthBeforeYear: !0,
                  previousMonth: 'Previous month (PageUp)',
                  nextMonth: 'Next month (PageDown)',
                  previousYear: 'Last year (Control + left)',
                  nextYear: 'Next year (Control + right)',
                  previousDecade: 'Last decade',
                  nextDecade: 'Next decade',
                  previousCentury: 'Last century',
                  nextCentury: 'Next century',
                }
              ),
              timePickerLocale: uV({}, CV),
            },
            RV = '${label} is not a valid ${type}',
            IV = {
              locale: 'en',
              Pagination: {
                items_per_page: '/ page',
                jump_to: 'Go to',
                jump_to_confirm: 'confirm',
                page: '',
                prev_page: 'Previous Page',
                next_page: 'Next Page',
                prev_5: 'Previous 5 Pages',
                next_5: 'Next 5 Pages',
                prev_3: 'Previous 3 Pages',
                next_3: 'Next 3 Pages',
              },
              DatePicker: kV,
              TimePicker: CV,
              Calendar: kV,
              global: { placeholder: 'Please select' },
              Table: {
                filterTitle: 'Filter menu',
                filterConfirm: 'OK',
                filterReset: 'Reset',
                filterEmptyText: 'No filters',
                filterCheckall: 'Select all items',
                filterSearchPlaceholder: 'Search in filters',
                emptyText: 'No data',
                selectAll: 'Select current page',
                selectInvert: 'Invert current page',
                selectNone: 'Clear all data',
                selectionAll: 'Select all data',
                sortTitle: 'Sort',
                expand: 'Expand row',
                collapse: 'Collapse row',
                triggerDesc: 'Click to sort descending',
                triggerAsc: 'Click to sort ascending',
                cancelSort: 'Click to cancel sorting',
              },
              Tour: { Next: 'Next', Previous: 'Previous', Finish: 'Finish' },
              Modal: { okText: 'OK', cancelText: 'Cancel', justOkText: 'OK' },
              Popconfirm: { okText: 'OK', cancelText: 'Cancel' },
              Transfer: {
                titles: ['', ''],
                searchPlaceholder: 'Search here',
                itemUnit: 'item',
                itemsUnit: 'items',
                remove: 'Remove',
                selectCurrent: 'Select current page',
                removeCurrent: 'Remove current page',
                selectAll: 'Select all data',
                removeAll: 'Remove all data',
                selectInvert: 'Invert current page',
              },
              Upload: {
                uploading: 'Uploading...',
                removeFile: 'Remove file',
                uploadError: 'Upload error',
                previewFile: 'Preview file',
                downloadFile: 'Download file',
              },
              Empty: { description: 'No data' },
              Icon: { icon: 'icon' },
              Text: { edit: 'Edit', copy: 'Copy', copied: 'Copied', expand: 'Expand' },
              PageHeader: { back: 'Back' },
              Form: {
                optional: '(optional)',
                defaultValidateMessages: {
                  default: 'Field validation error for ${label}',
                  required: 'Please enter ${label}',
                  enum: '${label} must be one of [${enum}]',
                  whitespace: '${label} cannot be a blank character',
                  date: {
                    format: '${label} date format is invalid',
                    parse: '${label} cannot be converted to a date',
                    invalid: '${label} is an invalid date',
                  },
                  types: {
                    string: RV,
                    method: RV,
                    array: RV,
                    object: RV,
                    number: RV,
                    date: RV,
                    boolean: RV,
                    integer: RV,
                    float: RV,
                    regexp: RV,
                    email: RV,
                    url: RV,
                    hex: RV,
                  },
                  string: {
                    len: '${label} must be ${len} characters',
                    min: '${label} must be at least ${min} characters',
                    max: '${label} must be up to ${max} characters',
                    range: '${label} must be between ${min}-${max} characters',
                  },
                  number: {
                    len: '${label} must be equal to ${len}',
                    min: '${label} must be minimum ${min}',
                    max: '${label} must be maximum ${max}',
                    range: '${label} must be between ${min}-${max}',
                  },
                  array: {
                    len: 'Must be ${len} ${label}',
                    min: 'At least ${min} ${label}',
                    max: 'At most ${max} ${label}',
                    range: 'The amount of ${label} must be between ${min}-${max}',
                  },
                  pattern: { mismatch: '${label} does not match the pattern ${pattern}' },
                },
              },
              Image: { preview: 'Preview' },
              QRCode: { expired: 'QR code expired', refresh: 'Refresh', scanned: 'Scanned' },
            },
            NV = ar({
              compatConfig: { MODE: 3 },
              name: 'LocaleReceiver',
              props: {
                componentName: String,
                defaultLocale: { type: [Object, Function] },
                children: { type: Function },
              },
              setup: function (e, t) {
                var n = t.slots,
                  r = ni('localeData', {}),
                  i = Ra(function () {
                    var t = e.componentName,
                      n = void 0 === t ? 'global' : t,
                      i = e.defaultLocale || IV[n || 'global'],
                      a = r.antLocale,
                      o = n && a ? a[n] : {}
                    return uV(uV({}, 'function' == typeof i ? i() : i), o || {})
                  }),
                  a = Ra(function () {
                    var e = r.antLocale,
                      t = e && e.locale
                    return e && e.exist && !t ? IV.locale : t
                  })
                return function () {
                  var t = e.children || n.default,
                    o = r.antLocale
                  return null == t ? void 0 : t(i.value, a.value, o)
                }
              },
            })
          function PV(e) {
            for (var t, n = 0, r = 0, i = e.length; i >= 4; ++r, i -= 4)
              ((t =
                1540483477 *
                  (65535 &
                    (t =
                      (255 & e.charCodeAt(r)) |
                      ((255 & e.charCodeAt(++r)) << 8) |
                      ((255 & e.charCodeAt(++r)) << 16) |
                      ((255 & e.charCodeAt(++r)) << 24))) +
                ((59797 * (t >>> 16)) << 16)),
                (n =
                  (1540483477 * (65535 & (t ^= t >>> 24)) + ((59797 * (t >>> 16)) << 16)) ^
                  (1540483477 * (65535 & n) + ((59797 * (n >>> 16)) << 16))))
            switch (i) {
              case 3:
                n ^= (255 & e.charCodeAt(r + 2)) << 16
              case 2:
                n ^= (255 & e.charCodeAt(r + 1)) << 8
              case 1:
                n =
                  1540483477 * (65535 & (n ^= 255 & e.charCodeAt(r))) + ((59797 * (n >>> 16)) << 16)
            }
            return (
              ((n = 1540483477 * (65535 & (n ^= n >>> 13)) + ((59797 * (n >>> 16)) << 16)) ^
                (n >>> 15)) >>>
              0
            ).toString(36)
          }
          var LV = (function () {
              return T(
                function e(t) {
                  ;(w(this, e), (this.cache = new Map()), (this.instanceId = t))
                },
                [
                  {
                    key: 'get',
                    value: function (e) {
                      return this.cache.get(Array.isArray(e) ? e.join('%') : e) || null
                    },
                  },
                  {
                    key: 'update',
                    value: function (e, t) {
                      var n = Array.isArray(e) ? e.join('%') : e,
                        r = t(this.cache.get(n))
                      null === r ? this.cache.delete(n) : this.cache.set(n, r)
                    },
                  },
                ]
              )
            })(),
            DV = 'data-token-hash',
            OV = 'data-css-hash',
            FV = '__cssinjs_instance__'
          function BV() {
            var e = Math.random().toString(12).slice(2)
            if ('undefined' != typeof document && document.head && document.body) {
              var t = document.body.querySelectorAll('style['.concat(OV, ']')) || [],
                n = document.head.firstChild
              Array.from(t).forEach(function (t) {
                ;((t[FV] = t[FV] || e), t[FV] === e && document.head.insertBefore(t, n))
              })
              var r = {}
              Array.from(document.querySelectorAll('style['.concat(OV, ']'))).forEach(function (t) {
                var n,
                  i = t.getAttribute(OV)
                r[i]
                  ? t[FV] === e && (null === (n = t.parentNode) || void 0 === n || n.removeChild(t))
                  : (r[i] = !0)
              })
            }
            return new LV(e)
          }
          var UV,
            zV,
            VV = Symbol('StyleContextKey'),
            HV = { cache: BV(), defaultCache: !0, hashPriority: 'low' },
            WV = function () {
              var e = (function () {
                var e,
                  t,
                  n,
                  r,
                  i = ya()
                if (i && i.appContext) {
                  var a =
                    null ===
                      (n =
                        null ===
                          (t = null === (e = i.appContext) || void 0 === e ? void 0 : e.config) ||
                        void 0 === t
                          ? void 0
                          : t.globalProperties) || void 0 === n
                      ? void 0
                      : n.__ANTDV_CSSINJS_CACHE__
                  a
                    ? (r = a)
                    : ((r = BV()),
                      i.appContext.config.globalProperties &&
                        (i.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__ = r))
                } else r = BV()
                return r
              })()
              return ni(VV, nn(uV(uV({}, HV), { cache: e })))
            }
          function GV(e, t, n, r) {
            var i = WV(),
              a = nn(''),
              o = nn()
            Mi(function () {
              a.value = [e].concat(I(t.value)).join('%')
            })
            var s = function (e) {
              i.value.cache.update(e, function (e) {
                var t = C(e || [], 2),
                  n = t[0],
                  i = void 0 === n ? 0 : n,
                  a = t[1]
                return 0 === i - 1 ? (null == r || r(a, !1), null) : [i - 1, a]
              })
            }
            return (
              Ei(
                a,
                function (e, t) {
                  ;(t && s(t),
                    i.value.cache.update(e, function (e) {
                      var t = C(e || [], 2),
                        r = t[0]
                      return [(void 0 === r ? 0 : r) + 1, t[1] || n()]
                    }),
                    (o.value = i.value.cache.get(a.value)[1]))
                },
                { immediate: !0 }
              ),
              wr(function () {
                s(a.value)
              }),
              o
            )
          }
          function jV() {
            return !(
              'undefined' == typeof window ||
              !window.document ||
              !window.document.createElement
            )
          }
          vV(
            ar({
              name: 'AStyleProvider',
              inheritAttrs: !1,
              props: {
                autoClear: gV(),
                mock: _V(),
                cache: mV(),
                defaultCache: gV(),
                hashPriority: _V(),
                container: UV ? { type: UV, default: zV } : yV(zV),
                ssrInline: gV(),
                transformers: xV(),
                linters: xV(),
              },
              setup: function (e, t) {
                var n = t.slots
                return (
                  (function (e) {
                    var t = WV(),
                      n = nn(uV(uV({}, HV), { cache: BV() }))
                    ;(Ei(
                      [
                        function () {
                          return on(e)
                        },
                        t,
                      ],
                      function () {
                        var r = uV({}, t.value),
                          i = on(e)
                        Object.keys(i).forEach(function (e) {
                          var t = i[e]
                          void 0 !== i[e] && (r[e] = t)
                        })
                        var a = i.cache
                        ;((r.cache = r.cache || BV()),
                          (r.defaultCache = !a && t.value.defaultCache),
                          (n.value = r))
                      },
                      { immediate: !0 }
                    ),
                      ti(VV, n))
                  })(e),
                  function () {
                    var e
                    return null === (e = n.default) || void 0 === e ? void 0 : e.call(n)
                  }
                )
              },
            })
          )
          var QV = 'data-vc-order',
            qV = new Map()
          function XV() {
            var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).mark
            return e ? (e.startsWith('data-') ? e : 'data-'.concat(e)) : 'vc-util-key'
          }
          function YV(e) {
            return e.attachTo ? e.attachTo : document.querySelector('head') || document.body
          }
          function KV(e) {
            return Array.from((qV.get(e) || e).children).filter(function (e) {
              return 'STYLE' === e.tagName
            })
          }
          function ZV(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
            if (!jV()) return null
            var n = t.csp,
              r = t.prepend,
              i = document.createElement('style')
            ;(i.setAttribute(
              QV,
              (function (e) {
                return 'queue' === e ? 'prependQueue' : e ? 'prepend' : 'append'
              })(r)
            ),
              (null == n ? void 0 : n.nonce) && (i.nonce = null == n ? void 0 : n.nonce),
              (i.innerHTML = e))
            var a = YV(t),
              o = a.firstChild
            if (r) {
              if ('queue' === r) {
                var s = KV(a).filter(function (e) {
                  return ['prepend', 'prependQueue'].includes(e.getAttribute(QV))
                })
                if (s.length) return (a.insertBefore(i, s[s.length - 1].nextSibling), i)
              }
              a.insertBefore(i, o)
            } else a.appendChild(i)
            return i
          }
          function JV(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
            return KV(YV(t)).find(function (n) {
              return n.getAttribute(XV(t)) === e
            })
          }
          function $V(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
              n = JV(e, t)
            n && YV(t).removeChild(n)
          }
          function eH(e, t) {
            var n,
              r,
              i,
              a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
            !(function (e, t) {
              var n = qV.get(e)
              if (
                !n ||
                !(function (e, t) {
                  return !!e && !!e.contains && e.contains(t)
                })(document, n)
              ) {
                var r = ZV('', t),
                  i = r.parentNode
                ;(qV.set(e, i), e.removeChild(r))
              }
            })(YV(a), a)
            var o = JV(t, a)
            if (o)
              return (
                (null === (n = a.csp) || void 0 === n ? void 0 : n.nonce) &&
                  o.nonce !== (null === (r = a.csp) || void 0 === r ? void 0 : r.nonce) &&
                  (o.nonce = null === (i = a.csp) || void 0 === i ? void 0 : i.nonce),
                o.innerHTML !== e && (o.innerHTML = e),
                o
              )
            var s = ZV(e, a)
            return (s.setAttribute(XV(a), t), s)
          }
          var tH = (function () {
            function e() {
              ;(w(this, e), (this.cache = new Map()), (this.keys = []), (this.cacheCallTimes = 0))
            }
            return T(e, [
              {
                key: 'size',
                value: function () {
                  return this.keys.length
                },
              },
              {
                key: 'internalGet',
                value: function (e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    n = { map: this.cache }
                  return (
                    e.forEach(function (e) {
                      var t
                      n = n
                        ? null === (t = null == n ? void 0 : n.map) || void 0 === t
                          ? void 0
                          : t.get(e)
                        : void 0
                    }),
                    (null == n ? void 0 : n.value) && t && (n.value[1] = this.cacheCallTimes++),
                    null == n ? void 0 : n.value
                  )
                },
              },
              {
                key: 'get',
                value: function (e) {
                  var t
                  return null === (t = this.internalGet(e, !0)) || void 0 === t ? void 0 : t[0]
                },
              },
              {
                key: 'has',
                value: function (e) {
                  return !!this.internalGet(e)
                },
              },
              {
                key: 'set',
                value: function (t, n) {
                  var r = this
                  if (!this.has(t)) {
                    if (this.size() + 1 > e.MAX_CACHE_SIZE + e.MAX_CACHE_OFFSET) {
                      var i = this.keys.reduce(
                          function (e, t) {
                            var n = C(e, 2)[1]
                            return r.internalGet(t)[1] < n ? [t, r.internalGet(t)[1]] : e
                          },
                          [this.keys[0], this.cacheCallTimes]
                        ),
                        a = C(i, 1)[0]
                      this.delete(a)
                    }
                    this.keys.push(t)
                  }
                  var o = this.cache
                  t.forEach(function (e, i) {
                    if (i === t.length - 1) o.set(e, { value: [n, r.cacheCallTimes++] })
                    else {
                      var a = o.get(e)
                      ;(a ? a.map || (a.map = new Map()) : o.set(e, { map: new Map() }),
                        (o = o.get(e).map))
                    }
                  })
                },
              },
              {
                key: 'deleteByPath',
                value: function (e, t) {
                  var n,
                    r = e.get(t[0])
                  if (1 === t.length)
                    return (
                      r.map ? e.set(t[0], { map: r.map }) : e.delete(t[0]),
                      null === (n = r.value) || void 0 === n ? void 0 : n[0]
                    )
                  var i = this.deleteByPath(r.map, t.slice(1))
                  return ((r.map && 0 !== r.map.size) || r.value || e.delete(t[0]), i)
                },
              },
              {
                key: 'delete',
                value: function (e) {
                  if (this.has(e))
                    return (
                      (this.keys = this.keys.filter(function (t) {
                        return !(function (e, t) {
                          if (e.length !== t.length) return !1
                          for (var n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1
                          return !0
                        })(t, e)
                      })),
                      this.deleteByPath(this.cache, e)
                    )
                },
              },
            ])
          })()
          ;((tH.MAX_CACHE_SIZE = 20), (tH.MAX_CACHE_OFFSET = 5))
          var nH = function () {},
            rH = 0,
            iH = (function () {
              return T(
                function e(t) {
                  ;(w(this, e),
                    (this.derivatives = Array.isArray(t) ? t : [t]),
                    (this.id = rH),
                    0 === t.length && nH(t.length > 0),
                    (rH += 1))
                },
                [
                  {
                    key: 'getDerivativeToken',
                    value: function (e) {
                      return this.derivatives.reduce(
                        function (t, n) {
                          return n(e, t)
                        },
                        void 0
                      )
                    },
                  },
                ]
              )
            })(),
            aH = new tH()
          function oH(e) {
            var t = Array.isArray(e) ? e : [e]
            return (aH.has(t) || aH.set(t, new iH(t)), aH.get(t))
          }
          var sH = new WeakMap()
          function uH(e) {
            var t = sH.get(e) || ''
            return (
              t ||
                (Object.keys(e).forEach(function (n) {
                  var r = e[n]
                  ;((t += n),
                    r instanceof iH
                      ? (t += r.id)
                      : r && 'object' === P(r)
                        ? (t += uH(r))
                        : (t += r))
                }),
                sH.set(e, t)),
              t
            )
          }
          var lH = 'random-'.concat(Date.now(), '-').concat(Math.random()).replace(/\./g, ''),
            cH = '_bAmBoO_'
          var dH = void 0
          function hH() {
            return (
              void 0 === dH &&
                (dH = (function (e, t, n) {
                  var r, i
                  if (jV()) {
                    eH(e, lH)
                    var a = document.createElement('div')
                    ;((a.style.position = 'fixed'),
                      (a.style.left = '0'),
                      (a.style.top = '0'),
                      null == t || t(a),
                      document.body.appendChild(a))
                    var o = n
                      ? n(a)
                      : null === (r = getComputedStyle(a).content) || void 0 === r
                        ? void 0
                        : r.includes(cH)
                    return (
                      null === (i = a.parentNode) || void 0 === i || i.removeChild(a),
                      $V(lH),
                      o
                    )
                  }
                  return !1
                })(
                  '@layer '
                    .concat(lH, ' { .')
                    .concat(lH, ' { content: "')
                    .concat(cH, '"!important; } }'),
                  function (e) {
                    e.className = lH
                  }
                )),
              dH
            )
          }
          var fH = {},
            pH = new Map()
          function vH(e, t) {
            pH.set(e, (pH.get(e) || 0) - 1)
            var n = Array.from(pH.keys()),
              r = n.filter(function (e) {
                return (pH.get(e) || 0) <= 0
              })
            n.length - r.length > 0 &&
              r.forEach(function (e) {
                ;(!(function (e, t) {
                  'undefined' != typeof document &&
                    document
                      .querySelectorAll('style['.concat(DV, '="').concat(e, '"]'))
                      .forEach(function (e) {
                        var n
                        e[FV] === t &&
                          (null === (n = e.parentNode) || void 0 === n || n.removeChild(e))
                      })
                })(e, t),
                  pH.delete(e))
              })
          }
          function mH(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : tn({}),
              r = WV(),
              i = Ra(function () {
                return uV.apply(void 0, [{}].concat(I(t.value)))
              }),
              a = Ra(function () {
                return uH(i.value)
              }),
              o = Ra(function () {
                return uH(n.value.override || fH)
              }),
              s = GV(
                'token',
                Ra(function () {
                  return [n.value.salt || '', e.value.id, a.value, o.value]
                }),
                function () {
                  var t = n.value,
                    r = t.salt,
                    a = void 0 === r ? '' : r,
                    o = t.override,
                    s = void 0 === o ? fH : o,
                    u = t.formatToken,
                    l = t.getComputedToken,
                    c = l
                      ? l(i.value, s, e.value)
                      : (function (e, t, n, r) {
                          var i = uV(uV({}, n.getDerivativeToken(e)), t)
                          return (r && (i = r(i)), i)
                        })(i.value, s, e.value, u),
                    d = (function (e, t) {
                      return PV(''.concat(t, '_').concat(uH(e)))
                    })(c, a)
                  ;((c._tokenKey = d),
                    (function (e) {
                      pH.set(e, (pH.get(e) || 0) + 1)
                    })(d))
                  var h = ''.concat('css', '-').concat(PV(d))
                  return ((c._hashId = h), [c, h])
                },
                function (e) {
                  var t
                  vH(
                    e[0]._tokenKey,
                    null === (t = r.value) || void 0 === t ? void 0 : t.cache.instanceId
                  )
                }
              )
            return s
          }
          var gH = {
              animationIterationCount: 1,
              aspectRatio: 1,
              borderImageOutset: 1,
              borderImageSlice: 1,
              borderImageWidth: 1,
              boxFlex: 1,
              boxFlexGroup: 1,
              boxOrdinalGroup: 1,
              columnCount: 1,
              columns: 1,
              flex: 1,
              flexGrow: 1,
              flexPositive: 1,
              flexShrink: 1,
              flexNegative: 1,
              flexOrder: 1,
              gridRow: 1,
              gridRowEnd: 1,
              gridRowSpan: 1,
              gridRowStart: 1,
              gridColumn: 1,
              gridColumnEnd: 1,
              gridColumnSpan: 1,
              gridColumnStart: 1,
              msGridRow: 1,
              msGridRowSpan: 1,
              msGridColumn: 1,
              msGridColumnSpan: 1,
              fontWeight: 1,
              lineHeight: 1,
              opacity: 1,
              order: 1,
              orphans: 1,
              tabSize: 1,
              widows: 1,
              zIndex: 1,
              zoom: 1,
              WebkitLineClamp: 1,
              fillOpacity: 1,
              floodOpacity: 1,
              stopOpacity: 1,
              strokeDasharray: 1,
              strokeDashoffset: 1,
              strokeMiterlimit: 1,
              strokeOpacity: 1,
              strokeWidth: 1,
            },
            yH = 'comm',
            xH = 'rule',
            _H = 'decl',
            bH = Math.abs,
            SH = String.fromCharCode
          function wH(e) {
            return e.trim()
          }
          function AH(e, t, n) {
            return e.replace(t, n)
          }
          function TH(e, t, n) {
            return e.indexOf(t, n)
          }
          function MH(e, t) {
            return 0 | e.charCodeAt(t)
          }
          function EH(e, t, n) {
            return e.slice(t, n)
          }
          function CH(e) {
            return e.length
          }
          function kH(e, t) {
            return (t.push(e), e)
          }
          var RH = 1,
            IH = 1,
            NH = 0,
            PH = 0,
            LH = 0,
            DH = ''
          function OH(e, t, n, r, i, a, o, s) {
            return {
              value: e,
              root: t,
              parent: n,
              type: r,
              props: i,
              children: a,
              line: RH,
              column: IH,
              length: o,
              return: '',
              siblings: s,
            }
          }
          function FH() {
            return ((LH = PH > 0 ? MH(DH, --PH) : 0), IH--, 10 === LH && ((IH = 1), RH--), LH)
          }
          function BH() {
            return ((LH = PH < NH ? MH(DH, PH++) : 0), IH++, 10 === LH && ((IH = 1), RH++), LH)
          }
          function UH() {
            return MH(DH, PH)
          }
          function zH() {
            return PH
          }
          function VH(e, t) {
            return EH(DH, e, t)
          }
          function HH(e) {
            switch (e) {
              case 0:
              case 9:
              case 10:
              case 13:
              case 32:
                return 5
              case 33:
              case 43:
              case 44:
              case 47:
              case 62:
              case 64:
              case 126:
              case 59:
              case 123:
              case 125:
                return 4
              case 58:
                return 3
              case 34:
              case 39:
              case 40:
              case 91:
                return 2
              case 41:
              case 93:
                return 1
            }
            return 0
          }
          function WH(e) {
            return wH(VH(PH - 1, QH(91 === e ? e + 2 : 40 === e ? e + 1 : e)))
          }
          function GH(e) {
            for (; (LH = UH()) && LH < 33; ) BH()
            return HH(e) > 2 || HH(LH) > 3 ? '' : ' '
          }
          function jH(e, t) {
            for (
              ;
              --t && BH() && !(LH < 48 || LH > 102 || (LH > 57 && LH < 65) || (LH > 70 && LH < 97));

            );
            return VH(e, zH() + (t < 6 && 32 == UH() && 32 == BH()))
          }
          function QH(e) {
            for (; BH(); )
              switch (LH) {
                case e:
                  return PH
                case 34:
                case 39:
                  34 !== e && 39 !== e && QH(LH)
                  break
                case 40:
                  41 === e && QH(e)
                  break
                case 92:
                  BH()
              }
            return PH
          }
          function qH(e, t) {
            for (; BH() && e + LH !== 57 && (e + LH !== 84 || 47 !== UH()); );
            return '/*' + VH(t, PH - 1) + '*' + SH(47 === e ? e : BH())
          }
          function XH(e) {
            for (; !HH(UH()); ) BH()
            return VH(e, PH)
          }
          function YH(e) {
            return (function (e) {
              return ((DH = ''), e)
            })(
              KH(
                '',
                null,
                null,
                null,
                [''],
                (e = (function (e) {
                  return ((RH = IH = 1), (NH = CH((DH = e))), (PH = 0), [])
                })(e)),
                0,
                [0],
                e
              )
            )
          }
          function KH(e, t, n, r, i, a, o, s, u) {
            for (
              var l = 0,
                c = 0,
                d = o,
                h = 0,
                f = 0,
                p = 0,
                v = 1,
                m = 1,
                g = 1,
                y = 0,
                x = '',
                _ = i,
                b = a,
                S = r,
                w = x;
              m;

            )
              switch (((p = y), (y = BH()))) {
                case 40:
                  if (108 != p && 58 == MH(w, d - 1)) {
                    ;-1 != TH((w += AH(WH(y), '&', '&\f')), '&\f', bH(l ? s[l - 1] : 0)) && (g = -1)
                    break
                  }
                case 34:
                case 39:
                case 91:
                  w += WH(y)
                  break
                case 9:
                case 10:
                case 13:
                case 32:
                  w += GH(p)
                  break
                case 92:
                  w += jH(zH() - 1, 7)
                  continue
                case 47:
                  switch (UH()) {
                    case 42:
                    case 47:
                      ;(kH(JH(qH(BH(), zH()), t, n, u), u),
                        (5 != HH(p || 1) && 5 != HH(UH() || 1)) ||
                          !CH(w) ||
                          ' ' === EH(w, -1, void 0) ||
                          (w += ' '))
                      break
                    default:
                      w += '/'
                  }
                  break
                case 123 * v:
                  s[l++] = CH(w) * g
                case 125 * v:
                case 59:
                case 0:
                  switch (y) {
                    case 0:
                    case 125:
                      m = 0
                    case 59 + c:
                      ;(-1 == g && (w = AH(w, /\f/g, '')),
                        f > 0 &&
                          (CH(w) - d || (0 === v && 47 === p)) &&
                          kH(
                            f > 32
                              ? $H(w + ';', r, n, d - 1, u)
                              : $H(AH(w, ' ', '') + ';', r, n, d - 2, u),
                            u
                          ))
                      break
                    case 59:
                      w += ';'
                    default:
                      if (
                        (kH((S = ZH(w, t, n, l, c, i, s, x, (_ = []), (b = []), d, a)), a),
                        123 === y)
                      )
                        if (0 === c) KH(w, t, S, S, _, a, d, s, b)
                        else {
                          switch (h) {
                            case 99:
                              if (110 === MH(w, 3)) break
                            case 108:
                              if (97 === MH(w, 2)) break
                            default:
                              c = 0
                            case 100:
                            case 109:
                            case 115:
                          }
                          c
                            ? KH(
                                e,
                                S,
                                S,
                                r && kH(ZH(e, S, S, 0, 0, i, s, x, i, (_ = []), d, b), b),
                                i,
                                b,
                                d,
                                s,
                                r ? _ : b
                              )
                            : KH(w, S, S, S, [''], b, 0, s, b)
                        }
                  }
                  ;((l = c = f = 0), (v = g = 1), (x = w = ''), (d = o))
                  break
                case 58:
                  ;((d = 1 + CH(w)), (f = p))
                default:
                  if (v < 1)
                    if (123 == y) --v
                    else if (125 == y && 0 == v++ && 125 == FH()) continue
                  switch (((w += SH(y)), y * v)) {
                    case 38:
                      g = c > 0 ? 1 : ((w += '\f'), -1)
                      break
                    case 44:
                      ;((s[l++] = (CH(w) - 1) * g), (g = 1))
                      break
                    case 64:
                      ;(45 === UH() && (w += WH(BH())),
                        (h = UH()),
                        (c = d = CH((x = w += XH(zH())))),
                        y++)
                      break
                    case 45:
                      45 === p && 2 == CH(w) && (v = 0)
                  }
              }
            return a
          }
          function ZH(e, t, n, r, i, a, o, s, u, l, c, d) {
            for (
              var h = i - 1,
                f = 0 === i ? a : [''],
                p = (function (e) {
                  return e.length
                })(f),
                v = 0,
                m = 0,
                g = 0;
              v < r;
              ++v
            )
              for (var y = 0, x = EH(e, h + 1, (h = bH((m = o[v])))), _ = e; y < p; ++y)
                (_ = wH(m > 0 ? f[y] + ' ' + x : AH(x, /&\f/g, f[y]))) && (u[g++] = _)
            return OH(e, t, n, 0 === i ? xH : s, u, l, c, d)
          }
          function JH(e, t, n, r) {
            return OH(e, t, n, yH, SH(LH), EH(e, 2, -2), 0, r)
          }
          function $H(e, t, n, r, i) {
            return OH(e, t, n, _H, EH(e, 0, r), EH(e, r + 1, -1), r, i)
          }
          function eW(e, t) {
            for (var n = '', r = 0; r < e.length; r++) n += t(e[r], r, e, t) || ''
            return n
          }
          function tW(e, t, n, r) {
            switch (e.type) {
              case '@layer':
                if (e.children.length) break
              case '@import':
              case '@namespace':
              case _H:
                return (e.return = e.return || e.value)
              case yH:
                return ''
              case '@keyframes':
                return (e.return = e.value + '{' + eW(e.children, r) + '}')
              case xH:
                if (!CH((e.value = e.props.join(',')))) return ''
            }
            return CH((n = eW(e.children, r))) ? (e.return = e.value + '{' + n + '}') : ''
          }
          var nW,
            rW = 'data-ant-cssinjs-cache-path',
            iW = !0
          function aW(e) {
            return (
              (function () {
                var e
                if (!nW && ((nW = {}), jV())) {
                  var t = document.createElement('div')
                  ;((t.className = rW),
                    (t.style.position = 'fixed'),
                    (t.style.visibility = 'hidden'),
                    (t.style.top = '-9999px'),
                    document.body.appendChild(t))
                  var n = getComputedStyle(t).content || ''
                  ;(n = n.replace(/^"/, '').replace(/"$/, '')).split(';').forEach(function (e) {
                    var t = C(e.split(':'), 2),
                      n = t[0],
                      r = t[1]
                    nW[n] = r
                  })
                  var r = document.querySelector('style['.concat(rW, ']'))
                  ;(r &&
                    ((iW = !1), null === (e = r.parentNode) || void 0 === e || e.removeChild(r)),
                    document.body.removeChild(t))
                }
              })(),
              !!nW[e]
            )
          }
          var oW = jV(),
            sW = '_multi_value_'
          function uW(e) {
            return eW(YH(e), tW).replace(/\{%%%\:[^;];}/g, ';')
          }
          var lW = new Set(),
            cW = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : { root: !0, parentSelectors: [] },
                r = n.root,
                i = n.injectHash,
                a = n.parentSelectors,
                o = t.hashId,
                s = t.layer,
                u = (t.path, t.hashPriority),
                l = t.transformers,
                c = void 0 === l ? [] : l,
                d = (t.linters, ''),
                h = {}
              function f(e) {
                var n = e.getName(o)
                if (!h[n]) {
                  var r = C(cW(e.style, t, { root: !1, parentSelectors: a }), 1)[0]
                  h[n] = '@keyframes '.concat(e.getName(o)).concat(r)
                }
              }
              var p = (function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                return (
                  t.forEach(function (t) {
                    Array.isArray(t) ? e(t, n) : t && n.push(t)
                  }),
                  n
                )
              })(Array.isArray(e) ? e : [e])
              if (
                (p.forEach(function (e) {
                  var n = 'string' != typeof e || r ? e : {}
                  if ('string' == typeof n) d += ''.concat(n, '\n')
                  else if (n._keyframe) f(n)
                  else {
                    var s = c.reduce(function (e, t) {
                      var n
                      return (
                        (null === (n = null == t ? void 0 : t.visit) || void 0 === n
                          ? void 0
                          : n.call(t, e)) || e
                      )
                    }, n)
                    Object.keys(s).forEach(function (e) {
                      var n,
                        l = s[e]
                      if (
                        'object' !== P(l) ||
                        !l ||
                        ('animationName' === e && l._keyframe) ||
                        (function (e) {
                          return 'object' === P(e) && e && ('_skip_check_' in e || sW in e)
                        })(l)
                      ) {
                        var c = function (e, t) {
                            var n = e.replace(/[A-Z]/g, function (e) {
                                return '-'.concat(e.toLowerCase())
                              }),
                              r = t
                            ;(gH[e] || 'number' != typeof r || 0 === r || (r = ''.concat(r, 'px')),
                              'animationName' === e &&
                                (null == t ? void 0 : t._keyframe) &&
                                (f(t), (r = t.getName(o))),
                              (d += ''.concat(n, ':').concat(r, ';')))
                          },
                          p = null !== (n = null == l ? void 0 : l.value) && void 0 !== n ? n : l
                        'object' === P(l) && (null == l ? void 0 : l[sW]) && Array.isArray(p)
                          ? p.forEach(function (t) {
                              c(e, t)
                            })
                          : c(e, p)
                      } else {
                        var v = !1,
                          m = e.trim(),
                          g = !1
                        ;(r || i) && o
                          ? m.startsWith('@')
                            ? (v = !0)
                            : (m = (function (e, t, n) {
                                if (!t) return e
                                var r = '.'.concat(t),
                                  i = 'low' === n ? ':where('.concat(r, ')') : r,
                                  a = e.split(',').map(function (e) {
                                    var t,
                                      n = e.trim().split(/\s+/),
                                      r = n[0] || '',
                                      a =
                                        (null === (t = r.match(/^\w+/)) || void 0 === t
                                          ? void 0
                                          : t[0]) || ''
                                    return [(r = ''.concat(a).concat(i).concat(r.slice(a.length)))]
                                      .concat(I(n.slice(1)))
                                      .join(' ')
                                  })
                                return a.join(',')
                              })(e, o, u))
                          : !r || o || ('&' !== m && '' !== m) || ((m = ''), (g = !0))
                        var y = C(
                            cW(l, t, {
                              root: g,
                              injectHash: v,
                              parentSelectors: [].concat(I(a), [m]),
                            }),
                            2
                          ),
                          x = y[0],
                          _ = y[1]
                        ;((h = uV(uV({}, h), _)), (d += ''.concat(m).concat(x)))
                      }
                    })
                  }
                }),
                r)
              ) {
                if (s && hH()) {
                  var v = s.split(','),
                    m = v[v.length - 1].trim()
                  ;((d = '@layer '.concat(m, ' {').concat(d, '}')),
                    v.length > 1 && (d = '@layer '.concat(s, '{%%%:%}').concat(d)))
                }
              } else d = '{'.concat(d, '}')
              return [d, h]
            }
          function dW(e, t) {
            var n = WV(),
              r = Ra(function () {
                return e.value.token._tokenKey
              }),
              i = Ra(function () {
                return [r.value].concat(I(e.value.path))
              }),
              a = oW
            return (
              GV(
                'style',
                i,
                function () {
                  var o = e.value,
                    s = o.path,
                    u = o.hashId,
                    l = o.layer,
                    c = o.nonce,
                    d = o.clientOnly,
                    h = o.order,
                    f = void 0 === h ? 0 : h,
                    p = i.value.join('|')
                  if (aW(p)) {
                    var v = (function (e) {
                        var t = nW[e],
                          n = null
                        if (t && jV())
                          if (iW) n = '_FILE_STYLE__'
                          else {
                            var r = document.querySelector(
                              'style['.concat(OV, '="').concat(nW[e], '"]')
                            )
                            r ? (n = r.innerHTML) : delete nW[e]
                          }
                        return [n, t]
                      })(p),
                      m = C(v, 2),
                      g = m[0],
                      y = m[1]
                    if (g) return [g, r.value, y, {}, d, f]
                  }
                  var x = t(),
                    _ = n.value,
                    b = _.hashPriority,
                    S = _.container,
                    w = _.transformers,
                    A = _.linters,
                    T = _.cache,
                    M = C(
                      cW(x, {
                        hashId: u,
                        hashPriority: b,
                        layer: l,
                        path: s.join('-'),
                        transformers: w,
                        linters: A,
                      }),
                      2
                    ),
                    E = M[0],
                    k = M[1],
                    R = uW(E),
                    I = (function (e, t) {
                      return PV(''.concat(e.join('%')).concat(t))
                    })(i.value, R)
                  if (a) {
                    var N = { mark: OV, prepend: 'queue', attachTo: S, priority: f },
                      P = 'function' == typeof c ? c() : c
                    P && (N.csp = { nonce: P })
                    var L = eH(R, I, N)
                    ;((L[FV] = T.instanceId),
                      L.setAttribute(DV, r.value),
                      Object.keys(k).forEach(function (e) {
                        lW.has(e) ||
                          (lW.add(e),
                          eH(uW(k[e]), '_effect-'.concat(e), {
                            mark: OV,
                            prepend: 'queue',
                            attachTo: S,
                          }))
                      }))
                  }
                  return [R, r.value, I, k, d, f]
                },
                function (e, t) {
                  var r = C(e, 3)[2]
                  ;(t || n.value.autoClear) && oW && $V(r, { mark: OV })
                }
              ),
              function (e) {
                return e
              }
            )
          }
          var hW = (function () {
            return T(
              function e(t, n) {
                ;(w(this, e), (this._keyframe = !0), (this.name = t), (this.style = n))
              },
              [
                {
                  key: 'getName',
                  value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ''
                    return e ? ''.concat(e, '-').concat(this.name) : this.name
                  },
                },
              ]
            )
          })()
          function fW(e, t) {
            ;(function (e) {
              return 'string' == typeof e && -1 !== e.indexOf('.') && 1 === parseFloat(e)
            })(e) && (e = '100%')
            var n = (function (e) {
              return 'string' == typeof e && -1 !== e.indexOf('%')
            })(e)
            return (
              (e = 360 === t ? e : Math.min(t, Math.max(0, parseFloat(e)))),
              n && (e = parseInt(String(e * t), 10) / 100),
              Math.abs(e - t) < 1e-6
                ? 1
                : (e =
                    360 === t
                      ? (e < 0 ? (e % t) + t : e % t) / parseFloat(String(t))
                      : (e % t) / parseFloat(String(t)))
            )
          }
          function pW(e) {
            return Math.min(1, Math.max(0, e))
          }
          function vW(e) {
            return ((e = parseFloat(e)), (isNaN(e) || e < 0 || e > 1) && (e = 1), e)
          }
          function mW(e) {
            return e <= 1 ? ''.concat(100 * Number(e), '%') : e
          }
          function gW(e) {
            return 1 === e.length ? '0' + e : String(e)
          }
          function yW(e, t, n) {
            ;((e = fW(e, 255)), (t = fW(t, 255)), (n = fW(n, 255)))
            var r = Math.max(e, t, n),
              i = Math.min(e, t, n),
              a = 0,
              o = 0,
              s = (r + i) / 2
            if (r === i) ((o = 0), (a = 0))
            else {
              var u = r - i
              switch (((o = s > 0.5 ? u / (2 - r - i) : u / (r + i)), r)) {
                case e:
                  a = (t - n) / u + (t < n ? 6 : 0)
                  break
                case t:
                  a = (n - e) / u + 2
                  break
                case n:
                  a = (e - t) / u + 4
              }
              a /= 6
            }
            return { h: a, s: o, l: s }
          }
          function xW(e, t, n) {
            return (
              n < 0 && (n += 1),
              n > 1 && (n -= 1),
              n < 1 / 6
                ? e + 6 * n * (t - e)
                : n < 0.5
                  ? t
                  : n < 2 / 3
                    ? e + (t - e) * (2 / 3 - n) * 6
                    : e
            )
          }
          function _W(e, t, n) {
            ;((e = fW(e, 255)), (t = fW(t, 255)), (n = fW(n, 255)))
            var r = Math.max(e, t, n),
              i = Math.min(e, t, n),
              a = 0,
              o = r,
              s = r - i,
              u = 0 === r ? 0 : s / r
            if (r === i) a = 0
            else {
              switch (r) {
                case e:
                  a = (t - n) / s + (t < n ? 6 : 0)
                  break
                case t:
                  a = (n - e) / s + 2
                  break
                case n:
                  a = (e - t) / s + 4
              }
              a /= 6
            }
            return { h: a, s: u, v: o }
          }
          function bW(e, t, n, r) {
            var i = [
              gW(Math.round(e).toString(16)),
              gW(Math.round(t).toString(16)),
              gW(Math.round(n).toString(16)),
            ]
            return r &&
              i[0].startsWith(i[0].charAt(1)) &&
              i[1].startsWith(i[1].charAt(1)) &&
              i[2].startsWith(i[2].charAt(1))
              ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0)
              : i.join('')
          }
          function SW(e) {
            return Math.round(255 * parseFloat(e)).toString(16)
          }
          function wW(e) {
            return AW(e) / 255
          }
          function AW(e) {
            return parseInt(e, 16)
          }
          var TW = {
            aliceblue: '#f0f8ff',
            antiquewhite: '#faebd7',
            aqua: '#00ffff',
            aquamarine: '#7fffd4',
            azure: '#f0ffff',
            beige: '#f5f5dc',
            bisque: '#ffe4c4',
            black: '#000000',
            blanchedalmond: '#ffebcd',
            blue: '#0000ff',
            blueviolet: '#8a2be2',
            brown: '#a52a2a',
            burlywood: '#deb887',
            cadetblue: '#5f9ea0',
            chartreuse: '#7fff00',
            chocolate: '#d2691e',
            coral: '#ff7f50',
            cornflowerblue: '#6495ed',
            cornsilk: '#fff8dc',
            crimson: '#dc143c',
            cyan: '#00ffff',
            darkblue: '#00008b',
            darkcyan: '#008b8b',
            darkgoldenrod: '#b8860b',
            darkgray: '#a9a9a9',
            darkgreen: '#006400',
            darkgrey: '#a9a9a9',
            darkkhaki: '#bdb76b',
            darkmagenta: '#8b008b',
            darkolivegreen: '#556b2f',
            darkorange: '#ff8c00',
            darkorchid: '#9932cc',
            darkred: '#8b0000',
            darksalmon: '#e9967a',
            darkseagreen: '#8fbc8f',
            darkslateblue: '#483d8b',
            darkslategray: '#2f4f4f',
            darkslategrey: '#2f4f4f',
            darkturquoise: '#00ced1',
            darkviolet: '#9400d3',
            deeppink: '#ff1493',
            deepskyblue: '#00bfff',
            dimgray: '#696969',
            dimgrey: '#696969',
            dodgerblue: '#1e90ff',
            firebrick: '#b22222',
            floralwhite: '#fffaf0',
            forestgreen: '#228b22',
            fuchsia: '#ff00ff',
            gainsboro: '#dcdcdc',
            ghostwhite: '#f8f8ff',
            goldenrod: '#daa520',
            gold: '#ffd700',
            gray: '#808080',
            green: '#008000',
            greenyellow: '#adff2f',
            grey: '#808080',
            honeydew: '#f0fff0',
            hotpink: '#ff69b4',
            indianred: '#cd5c5c',
            indigo: '#4b0082',
            ivory: '#fffff0',
            khaki: '#f0e68c',
            lavenderblush: '#fff0f5',
            lavender: '#e6e6fa',
            lawngreen: '#7cfc00',
            lemonchiffon: '#fffacd',
            lightblue: '#add8e6',
            lightcoral: '#f08080',
            lightcyan: '#e0ffff',
            lightgoldenrodyellow: '#fafad2',
            lightgray: '#d3d3d3',
            lightgreen: '#90ee90',
            lightgrey: '#d3d3d3',
            lightpink: '#ffb6c1',
            lightsalmon: '#ffa07a',
            lightseagreen: '#20b2aa',
            lightskyblue: '#87cefa',
            lightslategray: '#778899',
            lightslategrey: '#778899',
            lightsteelblue: '#b0c4de',
            lightyellow: '#ffffe0',
            lime: '#00ff00',
            limegreen: '#32cd32',
            linen: '#faf0e6',
            magenta: '#ff00ff',
            maroon: '#800000',
            mediumaquamarine: '#66cdaa',
            mediumblue: '#0000cd',
            mediumorchid: '#ba55d3',
            mediumpurple: '#9370db',
            mediumseagreen: '#3cb371',
            mediumslateblue: '#7b68ee',
            mediumspringgreen: '#00fa9a',
            mediumturquoise: '#48d1cc',
            mediumvioletred: '#c71585',
            midnightblue: '#191970',
            mintcream: '#f5fffa',
            mistyrose: '#ffe4e1',
            moccasin: '#ffe4b5',
            navajowhite: '#ffdead',
            navy: '#000080',
            oldlace: '#fdf5e6',
            olive: '#808000',
            olivedrab: '#6b8e23',
            orange: '#ffa500',
            orangered: '#ff4500',
            orchid: '#da70d6',
            palegoldenrod: '#eee8aa',
            palegreen: '#98fb98',
            paleturquoise: '#afeeee',
            palevioletred: '#db7093',
            papayawhip: '#ffefd5',
            peachpuff: '#ffdab9',
            peru: '#cd853f',
            pink: '#ffc0cb',
            plum: '#dda0dd',
            powderblue: '#b0e0e6',
            purple: '#800080',
            rebeccapurple: '#663399',
            red: '#ff0000',
            rosybrown: '#bc8f8f',
            royalblue: '#4169e1',
            saddlebrown: '#8b4513',
            salmon: '#fa8072',
            sandybrown: '#f4a460',
            seagreen: '#2e8b57',
            seashell: '#fff5ee',
            sienna: '#a0522d',
            silver: '#c0c0c0',
            skyblue: '#87ceeb',
            slateblue: '#6a5acd',
            slategray: '#708090',
            slategrey: '#708090',
            snow: '#fffafa',
            springgreen: '#00ff7f',
            steelblue: '#4682b4',
            tan: '#d2b48c',
            teal: '#008080',
            thistle: '#d8bfd8',
            tomato: '#ff6347',
            turquoise: '#40e0d0',
            violet: '#ee82ee',
            wheat: '#f5deb3',
            white: '#ffffff',
            whitesmoke: '#f5f5f5',
            yellow: '#ffff00',
            yellowgreen: '#9acd32',
          }
          function MW(e) {
            var t = { r: 0, g: 0, b: 0 },
              n = 1,
              r = null,
              i = null,
              a = null,
              o = !1,
              s = !1
            return (
              'string' == typeof e &&
                (e = (function (e) {
                  if (((e = e.trim().toLowerCase()), 0 === e.length)) return !1
                  var t = !1
                  if (TW[e]) ((e = TW[e]), (t = !0))
                  else if ('transparent' === e) return { r: 0, g: 0, b: 0, a: 0, format: 'name' }
                  var n = RW.rgb.exec(e)
                  if (n) return { r: n[1], g: n[2], b: n[3] }
                  if (((n = RW.rgba.exec(e)), n)) return { r: n[1], g: n[2], b: n[3], a: n[4] }
                  if (((n = RW.hsl.exec(e)), n)) return { h: n[1], s: n[2], l: n[3] }
                  if (((n = RW.hsla.exec(e)), n)) return { h: n[1], s: n[2], l: n[3], a: n[4] }
                  if (((n = RW.hsv.exec(e)), n)) return { h: n[1], s: n[2], v: n[3] }
                  if (((n = RW.hsva.exec(e)), n)) return { h: n[1], s: n[2], v: n[3], a: n[4] }
                  if (((n = RW.hex8.exec(e)), n))
                    return {
                      r: AW(n[1]),
                      g: AW(n[2]),
                      b: AW(n[3]),
                      a: wW(n[4]),
                      format: t ? 'name' : 'hex8',
                    }
                  if (((n = RW.hex6.exec(e)), n))
                    return { r: AW(n[1]), g: AW(n[2]), b: AW(n[3]), format: t ? 'name' : 'hex' }
                  if (((n = RW.hex4.exec(e)), n))
                    return {
                      r: AW(n[1] + n[1]),
                      g: AW(n[2] + n[2]),
                      b: AW(n[3] + n[3]),
                      a: wW(n[4] + n[4]),
                      format: t ? 'name' : 'hex8',
                    }
                  if (((n = RW.hex3.exec(e)), n))
                    return {
                      r: AW(n[1] + n[1]),
                      g: AW(n[2] + n[2]),
                      b: AW(n[3] + n[3]),
                      format: t ? 'name' : 'hex',
                    }
                  return !1
                })(e)),
              'object' === P(e) &&
                (IW(e.r) && IW(e.g) && IW(e.b)
                  ? ((t = (function (e, t, n) {
                      return { r: 255 * fW(e, 255), g: 255 * fW(t, 255), b: 255 * fW(n, 255) }
                    })(e.r, e.g, e.b)),
                    (o = !0),
                    (s = '%' === String(e.r).substr(-1) ? 'prgb' : 'rgb'))
                  : IW(e.h) && IW(e.s) && IW(e.v)
                    ? ((r = mW(e.s)),
                      (i = mW(e.v)),
                      (t = (function (e, t, n) {
                        ;((e = 6 * fW(e, 360)), (t = fW(t, 100)), (n = fW(n, 100)))
                        var r = Math.floor(e),
                          i = e - r,
                          a = n * (1 - t),
                          o = n * (1 - i * t),
                          s = n * (1 - (1 - i) * t),
                          u = r % 6
                        return {
                          r: 255 * [n, o, a, a, s, n][u],
                          g: 255 * [s, n, n, o, a, a][u],
                          b: 255 * [a, a, s, n, n, o][u],
                        }
                      })(e.h, r, i)),
                      (o = !0),
                      (s = 'hsv'))
                    : IW(e.h) &&
                      IW(e.s) &&
                      IW(e.l) &&
                      ((r = mW(e.s)),
                      (a = mW(e.l)),
                      (t = (function (e, t, n) {
                        var r, i, a
                        if (((e = fW(e, 360)), (t = fW(t, 100)), (n = fW(n, 100)), 0 === t))
                          ((i = n), (a = n), (r = n))
                        else {
                          var o = n < 0.5 ? n * (1 + t) : n + t - n * t,
                            s = 2 * n - o
                          ;((r = xW(s, o, e + 1 / 3)), (i = xW(s, o, e)), (a = xW(s, o, e - 1 / 3)))
                        }
                        return { r: 255 * r, g: 255 * i, b: 255 * a }
                      })(e.h, r, a)),
                      (o = !0),
                      (s = 'hsl')),
                Object.prototype.hasOwnProperty.call(e, 'a') && (n = e.a)),
              (n = vW(n)),
              {
                ok: o,
                format: e.format || s,
                r: Math.min(255, Math.max(t.r, 0)),
                g: Math.min(255, Math.max(t.g, 0)),
                b: Math.min(255, Math.max(t.b, 0)),
                a: n,
              }
            )
          }
          var EW = '(?:'.concat('[-\\+]?\\d*\\.\\d+%?', ')|(?:').concat('[-\\+]?\\d+%?', ')'),
            CW = '[\\s|\\(]+('
              .concat(EW, ')[,|\\s]+(')
              .concat(EW, ')[,|\\s]+(')
              .concat(EW, ')\\s*\\)?'),
            kW = '[\\s|\\(]+('
              .concat(EW, ')[,|\\s]+(')
              .concat(EW, ')[,|\\s]+(')
              .concat(EW, ')[,|\\s]+(')
              .concat(EW, ')\\s*\\)?'),
            RW = {
              CSS_UNIT: new RegExp(EW),
              rgb: new RegExp('rgb' + CW),
              rgba: new RegExp('rgba' + kW),
              hsl: new RegExp('hsl' + CW),
              hsla: new RegExp('hsla' + kW),
              hsv: new RegExp('hsv' + CW),
              hsva: new RegExp('hsva' + kW),
              hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
              hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
              hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
              hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
            }
          function IW(e) {
            return Boolean(RW.CSS_UNIT.exec(String(e)))
          }
          var NW = (function () {
              function e(t, n) {
                var r
                if ((void 0 === t && (t = ''), void 0 === n && (n = {}), t instanceof e)) return t
                ;('number' == typeof t &&
                  (t = (function (e) {
                    return { r: e >> 16, g: (65280 & e) >> 8, b: 255 & e }
                  })(t)),
                  (this.originalInput = t))
                var i = MW(t)
                ;((this.originalInput = t),
                  (this.r = i.r),
                  (this.g = i.g),
                  (this.b = i.b),
                  (this.a = i.a),
                  (this.roundA = Math.round(100 * this.a) / 100),
                  (this.format = null !== (r = n.format) && void 0 !== r ? r : i.format),
                  (this.gradientType = n.gradientType),
                  this.r < 1 && (this.r = Math.round(this.r)),
                  this.g < 1 && (this.g = Math.round(this.g)),
                  this.b < 1 && (this.b = Math.round(this.b)),
                  (this.isValid = i.ok))
              }
              return (
                (e.prototype.isDark = function () {
                  return this.getBrightness() < 128
                }),
                (e.prototype.isLight = function () {
                  return !this.isDark()
                }),
                (e.prototype.getBrightness = function () {
                  var e = this.toRgb()
                  return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3
                }),
                (e.prototype.getLuminance = function () {
                  var e = this.toRgb(),
                    t = e.r / 255,
                    n = e.g / 255,
                    r = e.b / 255
                  return (
                    0.2126 * (t <= 0.03928 ? t / 12.92 : Math.pow((t + 0.055) / 1.055, 2.4)) +
                    0.7152 * (n <= 0.03928 ? n / 12.92 : Math.pow((n + 0.055) / 1.055, 2.4)) +
                    0.0722 * (r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4))
                  )
                }),
                (e.prototype.getAlpha = function () {
                  return this.a
                }),
                (e.prototype.setAlpha = function (e) {
                  return ((this.a = vW(e)), (this.roundA = Math.round(100 * this.a) / 100), this)
                }),
                (e.prototype.isMonochrome = function () {
                  return 0 === this.toHsl().s
                }),
                (e.prototype.toHsv = function () {
                  var e = _W(this.r, this.g, this.b)
                  return { h: 360 * e.h, s: e.s, v: e.v, a: this.a }
                }),
                (e.prototype.toHsvString = function () {
                  var e = _W(this.r, this.g, this.b),
                    t = Math.round(360 * e.h),
                    n = Math.round(100 * e.s),
                    r = Math.round(100 * e.v)
                  return 1 === this.a
                    ? 'hsv('.concat(t, ', ').concat(n, '%, ').concat(r, '%)')
                    : 'hsva('
                        .concat(t, ', ')
                        .concat(n, '%, ')
                        .concat(r, '%, ')
                        .concat(this.roundA, ')')
                }),
                (e.prototype.toHsl = function () {
                  var e = yW(this.r, this.g, this.b)
                  return { h: 360 * e.h, s: e.s, l: e.l, a: this.a }
                }),
                (e.prototype.toHslString = function () {
                  var e = yW(this.r, this.g, this.b),
                    t = Math.round(360 * e.h),
                    n = Math.round(100 * e.s),
                    r = Math.round(100 * e.l)
                  return 1 === this.a
                    ? 'hsl('.concat(t, ', ').concat(n, '%, ').concat(r, '%)')
                    : 'hsla('
                        .concat(t, ', ')
                        .concat(n, '%, ')
                        .concat(r, '%, ')
                        .concat(this.roundA, ')')
                }),
                (e.prototype.toHex = function (e) {
                  return (void 0 === e && (e = !1), bW(this.r, this.g, this.b, e))
                }),
                (e.prototype.toHexString = function (e) {
                  return (void 0 === e && (e = !1), '#' + this.toHex(e))
                }),
                (e.prototype.toHex8 = function (e) {
                  return (
                    void 0 === e && (e = !1),
                    (function (e, t, n, r, i) {
                      var a = [
                        gW(Math.round(e).toString(16)),
                        gW(Math.round(t).toString(16)),
                        gW(Math.round(n).toString(16)),
                        gW(SW(r)),
                      ]
                      return i &&
                        a[0].startsWith(a[0].charAt(1)) &&
                        a[1].startsWith(a[1].charAt(1)) &&
                        a[2].startsWith(a[2].charAt(1)) &&
                        a[3].startsWith(a[3].charAt(1))
                        ? a[0].charAt(0) + a[1].charAt(0) + a[2].charAt(0) + a[3].charAt(0)
                        : a.join('')
                    })(this.r, this.g, this.b, this.a, e)
                  )
                }),
                (e.prototype.toHex8String = function (e) {
                  return (void 0 === e && (e = !1), '#' + this.toHex8(e))
                }),
                (e.prototype.toHexShortString = function (e) {
                  return (
                    void 0 === e && (e = !1),
                    1 === this.a ? this.toHexString(e) : this.toHex8String(e)
                  )
                }),
                (e.prototype.toRgb = function () {
                  return {
                    r: Math.round(this.r),
                    g: Math.round(this.g),
                    b: Math.round(this.b),
                    a: this.a,
                  }
                }),
                (e.prototype.toRgbString = function () {
                  var e = Math.round(this.r),
                    t = Math.round(this.g),
                    n = Math.round(this.b)
                  return 1 === this.a
                    ? 'rgb('.concat(e, ', ').concat(t, ', ').concat(n, ')')
                    : 'rgba('
                        .concat(e, ', ')
                        .concat(t, ', ')
                        .concat(n, ', ')
                        .concat(this.roundA, ')')
                }),
                (e.prototype.toPercentageRgb = function () {
                  var e = function (e) {
                    return ''.concat(Math.round(100 * fW(e, 255)), '%')
                  }
                  return { r: e(this.r), g: e(this.g), b: e(this.b), a: this.a }
                }),
                (e.prototype.toPercentageRgbString = function () {
                  var e = function (e) {
                    return Math.round(100 * fW(e, 255))
                  }
                  return 1 === this.a
                    ? 'rgb('
                        .concat(e(this.r), '%, ')
                        .concat(e(this.g), '%, ')
                        .concat(e(this.b), '%)')
                    : 'rgba('
                        .concat(e(this.r), '%, ')
                        .concat(e(this.g), '%, ')
                        .concat(e(this.b), '%, ')
                        .concat(this.roundA, ')')
                }),
                (e.prototype.toName = function () {
                  if (0 === this.a) return 'transparent'
                  if (this.a < 1) return !1
                  for (
                    var e = '#' + bW(this.r, this.g, this.b, !1), t = 0, n = Object.entries(TW);
                    t < n.length;
                    t++
                  ) {
                    var r = n[t],
                      i = r[0]
                    if (e === r[1]) return i
                  }
                  return !1
                }),
                (e.prototype.toString = function (e) {
                  var t = Boolean(e)
                  e = null != e ? e : this.format
                  var n = !1,
                    r = this.a < 1 && this.a >= 0
                  return t || !r || (!e.startsWith('hex') && 'name' !== e)
                    ? ('rgb' === e && (n = this.toRgbString()),
                      'prgb' === e && (n = this.toPercentageRgbString()),
                      ('hex' !== e && 'hex6' !== e) || (n = this.toHexString()),
                      'hex3' === e && (n = this.toHexString(!0)),
                      'hex4' === e && (n = this.toHex8String(!0)),
                      'hex8' === e && (n = this.toHex8String()),
                      'name' === e && (n = this.toName()),
                      'hsl' === e && (n = this.toHslString()),
                      'hsv' === e && (n = this.toHsvString()),
                      n || this.toHexString())
                    : 'name' === e && 0 === this.a
                      ? this.toName()
                      : this.toRgbString()
                }),
                (e.prototype.toNumber = function () {
                  return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b)
                }),
                (e.prototype.clone = function () {
                  return new e(this.toString())
                }),
                (e.prototype.lighten = function (t) {
                  void 0 === t && (t = 10)
                  var n = this.toHsl()
                  return ((n.l += t / 100), (n.l = pW(n.l)), new e(n))
                }),
                (e.prototype.brighten = function (t) {
                  void 0 === t && (t = 10)
                  var n = this.toRgb()
                  return (
                    (n.r = Math.max(0, Math.min(255, n.r - Math.round((-t / 100) * 255)))),
                    (n.g = Math.max(0, Math.min(255, n.g - Math.round((-t / 100) * 255)))),
                    (n.b = Math.max(0, Math.min(255, n.b - Math.round((-t / 100) * 255)))),
                    new e(n)
                  )
                }),
                (e.prototype.darken = function (t) {
                  void 0 === t && (t = 10)
                  var n = this.toHsl()
                  return ((n.l -= t / 100), (n.l = pW(n.l)), new e(n))
                }),
                (e.prototype.tint = function (e) {
                  return (void 0 === e && (e = 10), this.mix('white', e))
                }),
                (e.prototype.shade = function (e) {
                  return (void 0 === e && (e = 10), this.mix('black', e))
                }),
                (e.prototype.desaturate = function (t) {
                  void 0 === t && (t = 10)
                  var n = this.toHsl()
                  return ((n.s -= t / 100), (n.s = pW(n.s)), new e(n))
                }),
                (e.prototype.saturate = function (t) {
                  void 0 === t && (t = 10)
                  var n = this.toHsl()
                  return ((n.s += t / 100), (n.s = pW(n.s)), new e(n))
                }),
                (e.prototype.greyscale = function () {
                  return this.desaturate(100)
                }),
                (e.prototype.spin = function (t) {
                  var n = this.toHsl(),
                    r = (n.h + t) % 360
                  return ((n.h = r < 0 ? 360 + r : r), new e(n))
                }),
                (e.prototype.mix = function (t, n) {
                  void 0 === n && (n = 50)
                  var r = this.toRgb(),
                    i = new e(t).toRgb(),
                    a = n / 100
                  return new e({
                    r: (i.r - r.r) * a + r.r,
                    g: (i.g - r.g) * a + r.g,
                    b: (i.b - r.b) * a + r.b,
                    a: (i.a - r.a) * a + r.a,
                  })
                }),
                (e.prototype.analogous = function (t, n) {
                  ;(void 0 === t && (t = 6), void 0 === n && (n = 30))
                  var r = this.toHsl(),
                    i = 360 / n,
                    a = [this]
                  for (r.h = (r.h - ((i * t) >> 1) + 720) % 360; --t; )
                    ((r.h = (r.h + i) % 360), a.push(new e(r)))
                  return a
                }),
                (e.prototype.complement = function () {
                  var t = this.toHsl()
                  return ((t.h = (t.h + 180) % 360), new e(t))
                }),
                (e.prototype.monochromatic = function (t) {
                  void 0 === t && (t = 6)
                  for (var n = this.toHsv(), r = n.h, i = n.s, a = n.v, o = [], s = 1 / t; t--; )
                    (o.push(new e({ h: r, s: i, v: a })), (a = (a + s) % 1))
                  return o
                }),
                (e.prototype.splitcomplement = function () {
                  var t = this.toHsl(),
                    n = t.h
                  return [
                    this,
                    new e({ h: (n + 72) % 360, s: t.s, l: t.l }),
                    new e({ h: (n + 216) % 360, s: t.s, l: t.l }),
                  ]
                }),
                (e.prototype.onBackground = function (t) {
                  var n = this.toRgb(),
                    r = new e(t).toRgb(),
                    i = n.a + r.a * (1 - n.a)
                  return new e({
                    r: (n.r * n.a + r.r * r.a * (1 - n.a)) / i,
                    g: (n.g * n.a + r.g * r.a * (1 - n.a)) / i,
                    b: (n.b * n.a + r.b * r.a * (1 - n.a)) / i,
                    a: i,
                  })
                }),
                (e.prototype.triad = function () {
                  return this.polyad(3)
                }),
                (e.prototype.tetrad = function () {
                  return this.polyad(4)
                }),
                (e.prototype.polyad = function (t) {
                  for (var n = this.toHsl(), r = n.h, i = [this], a = 360 / t, o = 1; o < t; o++)
                    i.push(new e({ h: (r + o * a) % 360, s: n.s, l: n.l }))
                  return i
                }),
                (e.prototype.equals = function (t) {
                  return this.toRgbString() === new e(t).toRgbString()
                }),
                e
              )
            })(),
            PW = [
              { index: 7, opacity: 0.15 },
              { index: 6, opacity: 0.25 },
              { index: 5, opacity: 0.3 },
              { index: 5, opacity: 0.45 },
              { index: 5, opacity: 0.65 },
              { index: 5, opacity: 0.85 },
              { index: 4, opacity: 0.9 },
              { index: 3, opacity: 0.95 },
              { index: 2, opacity: 0.97 },
              { index: 1, opacity: 0.98 },
            ]
          function LW(e) {
            var t = _W(e.r, e.g, e.b)
            return { h: 360 * t.h, s: t.s, v: t.v }
          }
          function DW(e) {
            var t = e.r,
              n = e.g,
              r = e.b
            return '#'.concat(bW(t, n, r, !1))
          }
          function OW(e, t, n) {
            var r
            return (
              (r =
                Math.round(e.h) >= 60 && Math.round(e.h) <= 240
                  ? n
                    ? Math.round(e.h) - 2 * t
                    : Math.round(e.h) + 2 * t
                  : n
                    ? Math.round(e.h) + 2 * t
                    : Math.round(e.h) - 2 * t) < 0
                ? (r += 360)
                : r >= 360 && (r -= 360),
              r
            )
          }
          function FW(e, t, n) {
            return 0 === e.h && 0 === e.s
              ? e.s
              : ((r = n ? e.s - 0.16 * t : 4 === t ? e.s + 0.16 : e.s + 0.05 * t) > 1 && (r = 1),
                n && 5 === t && r > 0.1 && (r = 0.1),
                r < 0.06 && (r = 0.06),
                Number(r.toFixed(2)))
            var r
          }
          function BW(e, t, n) {
            var r
            return ((r = n ? e.v + 0.05 * t : e.v - 0.15 * t) > 1 && (r = 1), Number(r.toFixed(2)))
          }
          function UW(e) {
            for (
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = [],
                r = MW(e),
                i = 5;
              i > 0;
              i -= 1
            ) {
              var a = LW(r),
                o = DW(MW({ h: OW(a, i, !0), s: FW(a, i, !0), v: BW(a, i, !0) }))
              n.push(o)
            }
            n.push(DW(r))
            for (var s = 1; s <= 4; s += 1) {
              var u = LW(r),
                l = DW(MW({ h: OW(u, s), s: FW(u, s), v: BW(u, s) }))
              n.push(l)
            }
            return 'dark' === t.theme
              ? PW.map(function (e) {
                  var r = e.index,
                    i = e.opacity,
                    a = DW(
                      (function (e, t, n) {
                        var r = n / 100
                        return {
                          r: (t.r - e.r) * r + e.r,
                          g: (t.g - e.g) * r + e.g,
                          b: (t.b - e.b) * r + e.b,
                        }
                      })(MW(t.backgroundColor || '#141414'), MW(n[r]), 100 * i)
                    )
                  return a
                })
              : n
          }
          var zW = {
              red: '#F5222D',
              volcano: '#FA541C',
              orange: '#FA8C16',
              gold: '#FAAD14',
              yellow: '#FADB14',
              lime: '#A0D911',
              green: '#52C41A',
              cyan: '#13C2C2',
              blue: '#1890FF',
              geekblue: '#2F54EB',
              purple: '#722ED1',
              magenta: '#EB2F96',
              grey: '#666666',
            },
            VW = {},
            HW = {}
          Object.keys(zW).forEach(function (e) {
            ;((VW[e] = UW(zW[e])),
              (VW[e].primary = VW[e][5]),
              (HW[e] = UW(zW[e], { theme: 'dark', backgroundColor: '#141414' })),
              (HW[e].primary = HW[e][5]))
          })
          var WW = VW.blue
          var GW = {
              blue: '#1677ff',
              purple: '#722ED1',
              cyan: '#13C2C2',
              green: '#52C41A',
              magenta: '#EB2F96',
              pink: '#eb2f96',
              red: '#F5222D',
              orange: '#FA8C16',
              yellow: '#FADB14',
              volcano: '#FA541C',
              geekblue: '#2F54EB',
              gold: '#FAAD14',
              lime: '#A0D911',
            },
            jW = uV(uV({}, GW), {
              colorPrimary: '#1677ff',
              colorSuccess: '#52c41a',
              colorWarning: '#faad14',
              colorError: '#ff4d4f',
              colorInfo: '#1677ff',
              colorTextBase: '',
              colorBgBase: '',
              fontFamily:
                "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",
              fontSize: 14,
              lineWidth: 1,
              lineType: 'solid',
              motionUnit: 0.1,
              motionBase: 0,
              motionEaseOutCirc: 'cubic-bezier(0.08, 0.82, 0.17, 1)',
              motionEaseInOutCirc: 'cubic-bezier(0.78, 0.14, 0.15, 0.86)',
              motionEaseOut: 'cubic-bezier(0.215, 0.61, 0.355, 1)',
              motionEaseInOut: 'cubic-bezier(0.645, 0.045, 0.355, 1)',
              motionEaseOutBack: 'cubic-bezier(0.12, 0.4, 0.29, 1.46)',
              motionEaseInBack: 'cubic-bezier(0.71, -0.46, 0.88, 0.6)',
              motionEaseInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',
              motionEaseOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',
              borderRadius: 6,
              sizeUnit: 4,
              sizeStep: 4,
              sizePopupArrow: 16,
              controlHeight: 32,
              zIndexBase: 0,
              zIndexPopupBase: 1e3,
              opacityImage: 1,
              wireframe: !1,
            })
          var QW = function (e, t) {
              return new NW(e).setAlpha(t).toRgbString()
            },
            qW = function (e, t) {
              return new NW(e).darken(t).toHexString()
            },
            XW = function (e) {
              var t = UW(e)
              return {
                1: t[0],
                2: t[1],
                3: t[2],
                4: t[3],
                5: t[4],
                6: t[5],
                7: t[6],
                8: t[4],
                9: t[5],
                10: t[6],
              }
            },
            YW = function (e, t) {
              var n = e || '#fff',
                r = t || '#000'
              return {
                colorBgBase: n,
                colorTextBase: r,
                colorText: QW(r, 0.88),
                colorTextSecondary: QW(r, 0.65),
                colorTextTertiary: QW(r, 0.45),
                colorTextQuaternary: QW(r, 0.25),
                colorFill: QW(r, 0.15),
                colorFillSecondary: QW(r, 0.06),
                colorFillTertiary: QW(r, 0.04),
                colorFillQuaternary: QW(r, 0.02),
                colorBgLayout: qW(n, 4),
                colorBgContainer: qW(n, 0),
                colorBgElevated: qW(n, 0),
                colorBgSpotlight: QW(r, 0.85),
                colorBorder: qW(n, 15),
                colorBorderSecondary: qW(n, 6),
              }
            }
          var KW = function (e) {
            var t = (function (e) {
                var t = new Array(10).fill(null).map(function (t, n) {
                  var r = n - 1,
                    i = e * Math.pow(2.71828, r / 5),
                    a = n > 1 ? Math.floor(i) : Math.ceil(i)
                  return 2 * Math.floor(a / 2)
                })
                return (
                  (t[1] = e),
                  t.map(function (e) {
                    return { size: e, lineHeight: (e + 8) / e }
                  })
                )
              })(e),
              n = t.map(function (e) {
                return e.size
              }),
              r = t.map(function (e) {
                return e.lineHeight
              })
            return {
              fontSizeSM: n[0],
              fontSize: n[1],
              fontSizeLG: n[2],
              fontSizeXL: n[3],
              fontSizeHeading1: n[6],
              fontSizeHeading2: n[5],
              fontSizeHeading3: n[4],
              fontSizeHeading4: n[3],
              fontSizeHeading5: n[2],
              lineHeight: r[1],
              lineHeightLG: r[2],
              lineHeightSM: r[0],
              lineHeightHeading1: r[6],
              lineHeightHeading2: r[5],
              lineHeightHeading3: r[4],
              lineHeightHeading4: r[3],
              lineHeightHeading5: r[2],
            }
          }
          function ZW(e) {
            return e >= 0 && e <= 255
          }
          function JW(e, t) {
            var n = new NW(e).toRgb(),
              r = n.r,
              i = n.g,
              a = n.b
            if (n.a < 1) return e
            for (
              var o = new NW(t).toRgb(), s = o.r, u = o.g, l = o.b, c = 0.01;
              c <= 1;
              c += 0.01
            ) {
              var d = Math.round((r - s * (1 - c)) / c),
                h = Math.round((i - u * (1 - c)) / c),
                f = Math.round((a - l * (1 - c)) / c)
              if (ZW(d) && ZW(h) && ZW(f))
                return new NW({ r: d, g: h, b: f, a: Math.round(100 * c) / 100 }).toRgbString()
            }
            return new NW({ r: r, g: i, b: a, a: 1 }).toRgbString()
          }
          var $W = function (e, t) {
            var n = {}
            for (var r in e)
              Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
            if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
              var i = 0
              for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                t.indexOf(r[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                  (n[r[i]] = e[r[i]])
            }
            return n
          }
          function eG(e) {
            var t = e.override,
              n = $W(e, ['override']),
              r = uV({}, t)
            Object.keys(jW).forEach(function (e) {
              delete r[e]
            })
            var i = uV(uV({}, n), r),
              a = 1200,
              o = 1600,
              s = 2e3
            return uV(
              uV(uV({}, i), {
                colorLink: i.colorInfoText,
                colorLinkHover: i.colorInfoHover,
                colorLinkActive: i.colorInfoActive,
                colorFillContent: i.colorFillSecondary,
                colorFillContentHover: i.colorFill,
                colorFillAlter: i.colorFillQuaternary,
                colorBgContainerDisabled: i.colorFillTertiary,
                colorBorderBg: i.colorBgContainer,
                colorSplit: JW(i.colorBorderSecondary, i.colorBgContainer),
                colorTextPlaceholder: i.colorTextQuaternary,
                colorTextDisabled: i.colorTextQuaternary,
                colorTextHeading: i.colorText,
                colorTextLabel: i.colorTextSecondary,
                colorTextDescription: i.colorTextTertiary,
                colorTextLightSolid: i.colorWhite,
                colorHighlight: i.colorError,
                colorBgTextHover: i.colorFillSecondary,
                colorBgTextActive: i.colorFill,
                colorIcon: i.colorTextTertiary,
                colorIconHover: i.colorText,
                colorErrorOutline: JW(i.colorErrorBg, i.colorBgContainer),
                colorWarningOutline: JW(i.colorWarningBg, i.colorBgContainer),
                fontSizeIcon: i.fontSizeSM,
                lineWidth: i.lineWidth,
                controlOutlineWidth: 2 * i.lineWidth,
                controlInteractiveSize: i.controlHeight / 2,
                controlItemBgHover: i.colorFillTertiary,
                controlItemBgActive: i.colorPrimaryBg,
                controlItemBgActiveHover: i.colorPrimaryBgHover,
                controlItemBgActiveDisabled: i.colorFill,
                controlTmpOutline: i.colorFillQuaternary,
                controlOutline: JW(i.colorPrimaryBg, i.colorBgContainer),
                lineType: i.lineType,
                borderRadius: i.borderRadius,
                borderRadiusXS: i.borderRadiusXS,
                borderRadiusSM: i.borderRadiusSM,
                borderRadiusLG: i.borderRadiusLG,
                fontWeightStrong: 600,
                opacityLoading: 0.65,
                linkDecoration: 'none',
                linkHoverDecoration: 'none',
                linkFocusDecoration: 'none',
                controlPaddingHorizontal: 12,
                controlPaddingHorizontalSM: 8,
                paddingXXS: i.sizeXXS,
                paddingXS: i.sizeXS,
                paddingSM: i.sizeSM,
                padding: i.size,
                paddingMD: i.sizeMD,
                paddingLG: i.sizeLG,
                paddingXL: i.sizeXL,
                paddingContentHorizontalLG: i.sizeLG,
                paddingContentVerticalLG: i.sizeMS,
                paddingContentHorizontal: i.sizeMS,
                paddingContentVertical: i.sizeSM,
                paddingContentHorizontalSM: i.size,
                paddingContentVerticalSM: i.sizeXS,
                marginXXS: i.sizeXXS,
                marginXS: i.sizeXS,
                marginSM: i.sizeSM,
                margin: i.size,
                marginMD: i.sizeMD,
                marginLG: i.sizeLG,
                marginXL: i.sizeXL,
                marginXXL: i.sizeXXL,
                boxShadow:
                  '\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ',
                boxShadowSecondary:
                  '\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ',
                boxShadowTertiary:
                  '\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ',
                screenXS: 480,
                screenXSMin: 480,
                screenXSMax: 575,
                screenSM: 576,
                screenSMMin: 576,
                screenSMMax: 767,
                screenMD: 768,
                screenMDMin: 768,
                screenMDMax: 991,
                screenLG: 992,
                screenLGMin: 992,
                screenLGMax: 1199,
                screenXL: a,
                screenXLMin: a,
                screenXLMax: 1599,
                screenXXL: o,
                screenXXLMin: o,
                screenXXLMax: 1999,
                screenXXXL: s,
                screenXXXLMin: s,
                boxShadowPopoverArrow: '3px 3px 7px rgba(0, 0, 0, 0.1)',
                boxShadowCard: '\n      0 1px 2px -2px '
                  .concat(new NW('rgba(0, 0, 0, 0.16)').toRgbString(), ',\n      0 3px 6px 0 ')
                  .concat(new NW('rgba(0, 0, 0, 0.12)').toRgbString(), ',\n      0 5px 12px 4px ')
                  .concat(new NW('rgba(0, 0, 0, 0.09)').toRgbString(), '\n    '),
                boxShadowDrawerRight:
                  '\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ',
                boxShadowDrawerLeft:
                  '\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ',
                boxShadowDrawerUp:
                  '\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ',
                boxShadowDrawerDown:
                  '\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ',
                boxShadowTabsOverflowLeft: 'inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)',
                boxShadowTabsOverflowRight: 'inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)',
                boxShadowTabsOverflowTop: 'inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)',
                boxShadowTabsOverflowBottom: 'inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)',
              }),
              r
            )
          }
          var tG = function (e) {
              return {
                boxSizing: 'border-box',
                margin: 0,
                padding: 0,
                color: e.colorText,
                fontSize: e.fontSize,
                lineHeight: e.lineHeight,
                listStyle: 'none',
                fontFamily: e.fontFamily,
              }
            },
            nG = function (e) {
              return {
                a: M(
                  M(
                    M(
                      {
                        color: e.colorLink,
                        textDecoration: e.linkDecoration,
                        backgroundColor: 'transparent',
                        outline: 'none',
                        cursor: 'pointer',
                        transition: 'color '.concat(e.motionDurationSlow),
                        '-webkit-text-decoration-skip': 'objects',
                        '&:hover': { color: e.colorLinkHover },
                        '&:active': { color: e.colorLinkActive },
                      },
                      '&:active,\n  &:hover',
                      { textDecoration: e.linkHoverDecoration, outline: 0 }
                    ),
                    '&:focus',
                    { textDecoration: e.linkFocusDecoration, outline: 0 }
                  ),
                  '&[disabled]',
                  { color: e.colorTextDisabled, cursor: 'not-allowed' }
                ),
              }
            },
            rG = function (e, t) {
              var n = e.fontFamily,
                r = e.fontSize,
                i = '[class^="'.concat(t, '"], [class*=" ').concat(t, '"]')
              return M(
                {},
                i,
                M(
                  {
                    fontFamily: n,
                    fontSize: r,
                    boxSizing: 'border-box',
                    '&::before, &::after': { boxSizing: 'border-box' },
                  },
                  i,
                  { boxSizing: 'border-box', '&::before, &::after': { boxSizing: 'border-box' } }
                )
              )
            }
          function iG(e, t, n) {
            return function (r) {
              var i = Ra(function () {
                  return null == r ? void 0 : r.value
                }),
                a = C(pG(), 3),
                o = a[0],
                s = a[1],
                u = a[2],
                l = TV(),
                c = l.getPrefixCls,
                d = l.iconPrefixCls,
                h = Ra(function () {
                  return c()
                })
              return (
                dW(
                  Ra(function () {
                    return {
                      theme: o.value,
                      token: s.value,
                      hashId: u.value,
                      path: ['Shared', h.value],
                    }
                  }),
                  function () {
                    return [{ '&': nG(s.value) }]
                  }
                ),
                [
                  dW(
                    Ra(function () {
                      return {
                        theme: o.value,
                        token: s.value,
                        hashId: u.value,
                        path: [e, i.value, d.value],
                      }
                    }),
                    function () {
                      var r = (function (e) {
                          var t,
                            n = e,
                            r = uG
                          aG &&
                            ((t = new Set()),
                            (n = new Proxy(e, {
                              get: function (e, n) {
                                return (oG && t.add(n), e[n])
                              },
                            })),
                            (r = function (e, n) {
                              Array.from(t)
                            }))
                          return { token: n, keys: t, flush: r }
                        })(s.value),
                        a = r.token,
                        o = r.flush,
                        l = uV(uV({}, 'function' == typeof n ? n(a) : n), s.value[e]),
                        c = sG(
                          a,
                          {
                            componentCls: '.'.concat(i.value),
                            prefixCls: i.value,
                            iconCls: '.'.concat(d.value),
                            antCls: '.'.concat(h.value),
                          },
                          l
                        ),
                        f = t(c, {
                          hashId: u.value,
                          prefixCls: i.value,
                          rootPrefixCls: h.value,
                          iconPrefixCls: d.value,
                          overrideComponentToken: s.value[e],
                        })
                      return (o(e, l), [rG(s.value, i.value), f])
                    }
                  ),
                  u,
                ]
              )
            }
          }
          var aG = 'undefined' != typeof CSSINJS_STATISTIC,
            oG = !0
          function sG() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n]
            if (!aG) return uV.apply(void 0, [{}].concat(t))
            oG = !1
            var r = {}
            return (
              t.forEach(function (e) {
                Object.keys(e).forEach(function (t) {
                  Object.defineProperty(r, t, {
                    configurable: !0,
                    enumerable: !0,
                    get: function () {
                      return e[t]
                    },
                  })
                })
              }),
              (oG = !0),
              r
            )
          }
          function uG() {}
          var lG = oH(function (e) {
              var t = Object.keys(GW)
                .map(function (t) {
                  var n = UW(e[t])
                  return new Array(10).fill(1).reduce(function (e, r, i) {
                    return ((e[''.concat(t, '-').concat(i + 1)] = n[i]), e)
                  }, {})
                })
                .reduce(function (e, t) {
                  return (e = uV(uV({}, e), t))
                }, {})
              return uV(
                uV(
                  uV(
                    uV(
                      uV(
                        uV(uV({}, e), t),
                        (function (e, t) {
                          var n = t.generateColorPalettes,
                            r = t.generateNeutralColorPalettes,
                            i = e.colorSuccess,
                            a = e.colorWarning,
                            o = e.colorError,
                            s = e.colorInfo,
                            u = e.colorPrimary,
                            l = e.colorBgBase,
                            c = e.colorTextBase,
                            d = n(u),
                            h = n(i),
                            f = n(a),
                            p = n(o),
                            v = n(s)
                          return uV(uV({}, r(l, c)), {
                            colorPrimaryBg: d[1],
                            colorPrimaryBgHover: d[2],
                            colorPrimaryBorder: d[3],
                            colorPrimaryBorderHover: d[4],
                            colorPrimaryHover: d[5],
                            colorPrimary: d[6],
                            colorPrimaryActive: d[7],
                            colorPrimaryTextHover: d[8],
                            colorPrimaryText: d[9],
                            colorPrimaryTextActive: d[10],
                            colorSuccessBg: h[1],
                            colorSuccessBgHover: h[2],
                            colorSuccessBorder: h[3],
                            colorSuccessBorderHover: h[4],
                            colorSuccessHover: h[4],
                            colorSuccess: h[6],
                            colorSuccessActive: h[7],
                            colorSuccessTextHover: h[8],
                            colorSuccessText: h[9],
                            colorSuccessTextActive: h[10],
                            colorErrorBg: p[1],
                            colorErrorBgHover: p[2],
                            colorErrorBorder: p[3],
                            colorErrorBorderHover: p[4],
                            colorErrorHover: p[5],
                            colorError: p[6],
                            colorErrorActive: p[7],
                            colorErrorTextHover: p[8],
                            colorErrorText: p[9],
                            colorErrorTextActive: p[10],
                            colorWarningBg: f[1],
                            colorWarningBgHover: f[2],
                            colorWarningBorder: f[3],
                            colorWarningBorderHover: f[4],
                            colorWarningHover: f[4],
                            colorWarning: f[6],
                            colorWarningActive: f[7],
                            colorWarningTextHover: f[8],
                            colorWarningText: f[9],
                            colorWarningTextActive: f[10],
                            colorInfoBg: v[1],
                            colorInfoBgHover: v[2],
                            colorInfoBorder: v[3],
                            colorInfoBorderHover: v[4],
                            colorInfoHover: v[4],
                            colorInfo: v[6],
                            colorInfoActive: v[7],
                            colorInfoTextHover: v[8],
                            colorInfoText: v[9],
                            colorInfoTextActive: v[10],
                            colorBgMask: new NW('#000').setAlpha(0.45).toRgbString(),
                            colorWhite: '#fff',
                          })
                        })(e, { generateColorPalettes: XW, generateNeutralColorPalettes: YW })
                      ),
                      KW(e.fontSize)
                    ),
                    (function (e) {
                      var t = e.sizeUnit,
                        n = e.sizeStep
                      return {
                        sizeXXL: t * (n + 8),
                        sizeXL: t * (n + 4),
                        sizeLG: t * (n + 2),
                        sizeMD: t * (n + 1),
                        sizeMS: t * n,
                        size: t * n,
                        sizeSM: t * (n - 1),
                        sizeXS: t * (n - 2),
                        sizeXXS: t * (n - 3),
                      }
                    })(e)
                  ),
                  (function (e) {
                    var t = e.controlHeight
                    return {
                      controlHeightSM: 0.75 * t,
                      controlHeightXS: 0.5 * t,
                      controlHeightLG: 1.25 * t,
                    }
                  })(e)
                ),
                (function (e) {
                  var t,
                    n,
                    r,
                    i,
                    a,
                    o = e.motionUnit,
                    s = e.motionBase,
                    u = e.borderRadius,
                    l = e.lineWidth
                  return uV(
                    {
                      motionDurationFast: ''.concat((s + o).toFixed(1), 's'),
                      motionDurationMid: ''.concat((s + 2 * o).toFixed(1), 's'),
                      motionDurationSlow: ''.concat((s + 3 * o).toFixed(1), 's'),
                      lineWidthBold: l + 1,
                    },
                    ((n = t = u),
                    (r = t),
                    (i = t),
                    (a = t),
                    t < 6 && t >= 5
                      ? (n = t + 1)
                      : t < 16 && t >= 6
                        ? (n = t + 2)
                        : t >= 16 && (n = 16),
                    t < 7 && t >= 5
                      ? (r = 4)
                      : t < 8 && t >= 7
                        ? (r = 5)
                        : t < 14 && t >= 8
                          ? (r = 6)
                          : t < 16 && t >= 14
                            ? (r = 7)
                            : t >= 16 && (r = 8),
                    t < 6 && t >= 2 ? (i = 1) : t >= 6 && (i = 2),
                    t > 4 && t < 8 ? (a = 4) : t >= 8 && (a = 6),
                    {
                      borderRadius: t > 16 ? 16 : t,
                      borderRadiusXS: i,
                      borderRadiusSM: r,
                      borderRadiusLG: n,
                      borderRadiusOuter: a,
                    })
                  )
                })(e)
              )
            }),
            cG = { token: jW, hashed: !0 },
            dG = Symbol('DesignTokenContext'),
            hG = nn(),
            fG = ar({
              props: { value: mV() },
              setup: function (e, t) {
                var n,
                  r = t.slots
                return (
                  (n = Ra(function () {
                    return e.value
                  })),
                  ti(dG, n),
                  Ei(
                    n,
                    function () {
                      var e
                      ;((hG.value = on(n)), (e = hG).dep && e.dep.trigger())
                    },
                    { immediate: !0, deep: !0 }
                  ),
                  function () {
                    var e
                    return null === (e = r.default) || void 0 === e ? void 0 : e.call(r)
                  }
                )
              },
            })
          function pG() {
            var e = ni(
                dG,
                Ra(function () {
                  return hG.value || cG
                })
              ),
              t = Ra(function () {
                return ''.concat('4.2.6', '-').concat(e.value.hashed || '')
              }),
              n = Ra(function () {
                return e.value.theme || lG
              }),
              r = mH(
                n,
                Ra(function () {
                  return [jW, e.value.token]
                }),
                Ra(function () {
                  return {
                    salt: t.value,
                    override: uV({ override: e.value.token }, e.value.components),
                    formatToken: eG,
                  }
                })
              )
            return [
              n,
              Ra(function () {
                return r.value[0]
              }),
              Ra(function () {
                return e.value.hashed ? r.value[1] : ''
              }),
            ]
          }
          var vG = ar({
            compatConfig: { MODE: 3 },
            setup: function () {
              var e = C(pG(), 2)[1],
                t = Ra(function () {
                  return new NW(e.value.colorBgBase).toHsl().l < 0.5 ? { opacity: 0.65 } : {}
                })
              return function () {
                return ia(
                  'svg',
                  {
                    style: t.value,
                    width: '184',
                    height: '152',
                    viewBox: '0 0 184 152',
                    xmlns: 'http://www.w3.org/2000/svg',
                  },
                  [
                    ia('g', { fill: 'none', 'fill-rule': 'evenodd' }, [
                      ia('g', { transform: 'translate(24 31.67)' }, [
                        ia(
                          'ellipse',
                          {
                            'fill-opacity': '.8',
                            fill: '#F5F5F7',
                            cx: '67.797',
                            cy: '106.89',
                            rx: '67.797',
                            ry: '12.668',
                          },
                          null
                        ),
                        ia(
                          'path',
                          {
                            d: 'M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z',
                            fill: '#AEB8C2',
                          },
                          null
                        ),
                        ia(
                          'path',
                          {
                            d: 'M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z',
                            fill: 'url(#linearGradient-1)',
                            transform: 'translate(13.56)',
                          },
                          null
                        ),
                        ia(
                          'path',
                          {
                            d: 'M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z',
                            fill: '#F5F5F7',
                          },
                          null
                        ),
                        ia(
                          'path',
                          {
                            d: 'M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z',
                            fill: '#DCE0E6',
                          },
                          null
                        ),
                      ]),
                      ia(
                        'path',
                        {
                          d: 'M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z',
                          fill: '#DCE0E6',
                        },
                        null
                      ),
                      ia('g', { transform: 'translate(149.65 15.383)', fill: '#FFF' }, [
                        ia(
                          'ellipse',
                          { cx: '20.654', cy: '3.167', rx: '2.849', ry: '2.815' },
                          null
                        ),
                        ia(
                          'path',
                          { d: 'M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z' },
                          null
                        ),
                      ]),
                    ]),
                  ]
                )
              }
            },
          })
          vG.PRESENTED_IMAGE_DEFAULT = !0
          var mG = ar({
            compatConfig: { MODE: 3 },
            setup: function () {
              var e = C(pG(), 2)[1],
                t = Ra(function () {
                  var t = e.value,
                    n = t.colorFill,
                    r = t.colorFillTertiary,
                    i = t.colorFillQuaternary,
                    a = t.colorBgContainer
                  return {
                    borderColor: new NW(n).onBackground(a).toHexString(),
                    shadowColor: new NW(r).onBackground(a).toHexString(),
                    contentColor: new NW(i).onBackground(a).toHexString(),
                  }
                })
              return function () {
                return ia(
                  'svg',
                  {
                    width: '64',
                    height: '41',
                    viewBox: '0 0 64 41',
                    xmlns: 'http://www.w3.org/2000/svg',
                  },
                  [
                    ia('g', { transform: 'translate(0 1)', fill: 'none', 'fill-rule': 'evenodd' }, [
                      ia(
                        'ellipse',
                        { fill: t.value.shadowColor, cx: '32', cy: '33', rx: '32', ry: '7' },
                        null
                      ),
                      ia('g', { 'fill-rule': 'nonzero', stroke: t.value.borderColor }, [
                        ia(
                          'path',
                          {
                            d: 'M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z',
                          },
                          null
                        ),
                        ia(
                          'path',
                          {
                            d: 'M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z',
                            fill: t.value.contentColor,
                          },
                          null
                        ),
                      ]),
                    ]),
                  ]
                )
              }
            },
          })
          mG.PRESENTED_IMAGE_SIMPLE = !0
          var gG = function (e) {
              var t = e.componentCls,
                n = e.margin,
                r = e.marginXS,
                i = e.marginXL
              return M(
                {},
                t,
                M(
                  M(
                    M(
                      M(
                        {
                          marginInline: r,
                          fontSize: e.fontSize,
                          lineHeight: e.lineHeight,
                          textAlign: 'center',
                        },
                        ''.concat(t, '-image'),
                        {
                          height: e.emptyImgHeight,
                          marginBottom: r,
                          opacity: e.opacityImage,
                          img: { height: '100%' },
                          svg: { height: '100%', margin: 'auto' },
                        }
                      ),
                      ''.concat(t, '-footer'),
                      { marginTop: n }
                    ),
                    '&-normal',
                    M({ marginBlock: i, color: e.colorTextDisabled }, ''.concat(t, '-image'), {
                      height: e.emptyImgHeightMD,
                    })
                  ),
                  '&-small',
                  M({ marginBlock: r, color: e.colorTextDisabled }, ''.concat(t, '-image'), {
                    height: e.emptyImgHeightSM,
                  })
                )
              )
            },
            yG = iG('Empty', function (e) {
              var t = e.componentCls,
                n = e.controlHeightLG,
                r = sG(e, {
                  emptyImgCls: ''.concat(t, '-img'),
                  emptyImgHeight: 2.5 * n,
                  emptyImgHeightMD: n,
                  emptyImgHeightSM: 0.875 * n,
                })
              return [gG(r)]
            }),
            xG = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            _G = ar({
              name: 'AEmpty',
              compatConfig: { MODE: 3 },
              inheritAttrs: !1,
              props: { prefixCls: String, imageStyle: mV(), image: yV(), description: yV() },
              setup: function (e, t) {
                var n = t.slots,
                  r = void 0 === n ? {} : n,
                  i = t.attrs,
                  a = MG('empty', e),
                  o = a.direction,
                  s = a.prefixCls,
                  u = C(yG(s), 2),
                  l = u[0],
                  c = u[1]
                return function () {
                  var t,
                    n,
                    a = s.value,
                    u = uV(uV({}, e), i),
                    d = u.image,
                    h =
                      void 0 === d
                        ? (null === (t = r.image) || void 0 === t ? void 0 : t.call(r)) || Ia(vG)
                        : d,
                    f = u.description,
                    p =
                      void 0 === f
                        ? (null === (n = r.description) || void 0 === n ? void 0 : n.call(r)) ||
                          void 0
                        : f,
                    v = u.imageStyle,
                    m = u.class,
                    g = void 0 === m ? '' : m,
                    y = xG(u, ['image', 'description', 'imageStyle', 'class']),
                    x = 'function' == typeof h ? h() : h,
                    _ = 'object' === P(x) && 'type' in x && x.type.PRESENTED_IMAGE_SIMPLE
                  return l(
                    ia(
                      NV,
                      {
                        componentName: 'Empty',
                        children: function (e) {
                          var t = void 0 !== p ? p : e.description,
                            n = null
                          return (
                            (n =
                              'string' == typeof x
                                ? ia(
                                    'img',
                                    { alt: 'string' == typeof t ? t : 'empty', src: x },
                                    null
                                  )
                                : x),
                            ia(
                              'div',
                              sV(
                                {
                                  class: fV(
                                    a,
                                    g,
                                    c.value,
                                    M(
                                      M({}, ''.concat(a, '-normal'), _),
                                      ''.concat(a, '-rtl'),
                                      'rtl' === o.value
                                    )
                                  ),
                                },
                                y
                              ),
                              [
                                ia('div', { class: ''.concat(a, '-image'), style: v }, [n]),
                                t && ia('p', { class: ''.concat(a, '-description') }, [t]),
                                r.default &&
                                  ia('div', { class: ''.concat(a, '-footer') }, [pV(r.default())]),
                              ]
                            )
                          )
                        },
                      },
                      null
                    )
                  )
                }
              },
            })
          ;((_G.PRESENTED_IMAGE_DEFAULT = function () {
            return Ia(vG)
          }),
            (_G.PRESENTED_IMAGE_SIMPLE = function () {
              return Ia(mG)
            }))
          var bG = vV(_G),
            SG = function (e) {
              var t = MG('empty', e).prefixCls
              return (function (e) {
                switch (e) {
                  case 'Table':
                  case 'List':
                    return ia(bG, { image: bG.PRESENTED_IMAGE_SIMPLE }, null)
                  case 'Select':
                  case 'TreeSelect':
                  case 'Cascader':
                  case 'Transfer':
                  case 'Mentions':
                    return ia(
                      bG,
                      { image: bG.PRESENTED_IMAGE_SIMPLE, class: ''.concat(t.value, '-small') },
                      null
                    )
                  default:
                    return ia(bG, null, null)
                }
              })(e.componentName)
            }
          function wG(e) {
            return ia(SG, { componentName: e }, null)
          }
          var AG = Symbol('SizeContextKey'),
            TG = function () {
              return ni(AG, tn(void 0))
            },
            MG = function (e, t) {
              var n = TG(),
                r = EV(),
                i = ni(
                  wV,
                  uV(uV({}, AV), {
                    renderEmpty: function (e) {
                      return Ia(SG, { componentName: e })
                    },
                  })
                ),
                a = Ra(function () {
                  return i.getPrefixCls(e, t.prefixCls)
                }),
                o = Ra(function () {
                  var e, n
                  return null !== (e = t.direction) && void 0 !== e
                    ? e
                    : null === (n = i.direction) || void 0 === n
                      ? void 0
                      : n.value
                }),
                s = Ra(function () {
                  var e
                  return null !== (e = t.iconPrefixCls) && void 0 !== e ? e : i.iconPrefixCls.value
                }),
                u = Ra(function () {
                  return i.getPrefixCls()
                }),
                l = Ra(function () {
                  var e
                  return null === (e = i.autoInsertSpaceInButton) || void 0 === e ? void 0 : e.value
                }),
                c = i.renderEmpty,
                d = i.space,
                h = i.pageHeader,
                f = i.form,
                p = Ra(function () {
                  var e, n
                  return null !== (e = t.getTargetContainer) && void 0 !== e
                    ? e
                    : null === (n = i.getTargetContainer) || void 0 === n
                      ? void 0
                      : n.value
                }),
                v = Ra(function () {
                  var e, n, r
                  return null !==
                    (n = null !== (e = t.getContainer) && void 0 !== e ? e : t.getPopupContainer) &&
                    void 0 !== n
                    ? n
                    : null === (r = i.getPopupContainer) || void 0 === r
                      ? void 0
                      : r.value
                }),
                m = Ra(function () {
                  var e, n
                  return null !== (e = t.dropdownMatchSelectWidth) && void 0 !== e
                    ? e
                    : null === (n = i.dropdownMatchSelectWidth) || void 0 === n
                      ? void 0
                      : n.value
                }),
                g = Ra(function () {
                  var e
                  return (
                    (void 0 === t.virtual
                      ? !1 !== (null === (e = i.virtual) || void 0 === e ? void 0 : e.value)
                      : !1 !== t.virtual) && !1 !== m.value
                  )
                }),
                y = Ra(function () {
                  return t.size || n.value
                }),
                x = Ra(function () {
                  var e, n, r
                  return null !== (e = t.autocomplete) && void 0 !== e
                    ? e
                    : null === (r = null === (n = i.input) || void 0 === n ? void 0 : n.value) ||
                        void 0 === r
                      ? void 0
                      : r.autocomplete
                }),
                _ = Ra(function () {
                  var e
                  return null !== (e = t.disabled) && void 0 !== e ? e : r.value
                }),
                b = Ra(function () {
                  var e
                  return null !== (e = t.csp) && void 0 !== e ? e : i.csp
                }),
                S = Ra(function () {
                  var e, n
                  return null !== (e = t.wave) && void 0 !== e
                    ? e
                    : null === (n = i.wave) || void 0 === n
                      ? void 0
                      : n.value
                })
              return {
                configProvider: i,
                prefixCls: a,
                direction: o,
                size: y,
                getTargetContainer: p,
                getPopupContainer: v,
                space: d,
                pageHeader: h,
                form: f,
                autoInsertSpaceInButton: l,
                renderEmpty: c,
                virtual: g,
                dropdownMatchSelectWidth: m,
                rootPrefixCls: u,
                getPrefixCls: i.getPrefixCls,
                autocomplete: x,
                csp: b,
                iconPrefixCls: s,
                disabled: _,
                select: i.select,
                wave: S,
              }
            }
          function EG(e, t, n) {
            return (
              n &&
                (function (e, t) {
                  for (var n = 0; n < t.length; n++) {
                    var r = t[n]
                    ;((r.enumerable = r.enumerable || !1),
                      (r.configurable = !0),
                      'value' in r && (r.writable = !0),
                      Object.defineProperty(e, r.key, r))
                  }
                })(e, n),
              e
            )
          }
          function CG() {
            return (CG =
              Object.assign ||
              function (e) {
                for (var t = 1; t < arguments.length; t++) {
                  var n = arguments[t]
                  for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
              }).apply(this, arguments)
          }
          function kG(e, t) {
            ;((e.prototype = Object.create(t.prototype)),
              (e.prototype.constructor = e),
              (e.__proto__ = t))
          }
          function RG(e, t) {
            if (null == e) return {}
            var n,
              r,
              i = {},
              a = Object.keys(e)
            for (r = 0; r < a.length; r++) t.indexOf((n = a[r])) >= 0 || (i[n] = e[n])
            return i
          }
          function IG(e) {
            return (
              1 == (null != (t = e) && 'object' == P(t) && !1 === Array.isArray(t)) &&
              '[object Object]' === Object.prototype.toString.call(e)
            )
            var t
          }
          var NG = Object.prototype,
            PG = NG.toString,
            LG = NG.hasOwnProperty,
            DG = /^\s*function (\w+)/
          function OG(e) {
            var t,
              n = null !== (t = null == e ? void 0 : e.type) && void 0 !== t ? t : e
            if (n) {
              var r = n.toString().match(DG)
              return r ? r[1] : ''
            }
            return ''
          }
          var FG = function (e) {
              var t, n
              return (
                !1 !== IG(e) &&
                'function' == typeof (t = e.constructor) &&
                !1 !== IG((n = t.prototype)) &&
                !1 !== n.hasOwnProperty('isPrototypeOf')
              )
            },
            BG = function (e) {
              return e
            },
            UG = function (e, t) {
              return LG.call(e, t)
            },
            zG =
              Number.isInteger ||
              function (e) {
                return 'number' == typeof e && isFinite(e) && Math.floor(e) === e
              },
            VG =
              Array.isArray ||
              function (e) {
                return '[object Array]' === PG.call(e)
              },
            HG = function (e) {
              return '[object Function]' === PG.call(e)
            },
            WG = function (e) {
              return FG(e) && UG(e, '_vueTypes_name')
            },
            GG = function (e) {
              return (
                FG(e) &&
                (UG(e, 'type') ||
                  ['_vueTypes_name', 'validator', 'default', 'required'].some(function (t) {
                    return UG(e, t)
                  }))
              )
            }
          function jG(e, t) {
            return Object.defineProperty(e.bind(t), '__original', { value: e })
          }
          function QG(e, t, n) {
            var r,
              i = !0,
              a = ''
            r = FG(e) ? e : { type: e }
            var o = WG(r) ? r._vueTypes_name + ' - ' : ''
            if (GG(r) && null !== r.type) {
              if (void 0 === r.type || !0 === r.type) return i
              if (!r.required && void 0 === t) return i
              VG(r.type)
                ? ((i = r.type.some(function (e) {
                    return !0 === QG(e, t)
                  })),
                  (a = r.type
                    .map(function (e) {
                      return OG(e)
                    })
                    .join(' or ')))
                : (i =
                    'Array' === (a = OG(r))
                      ? VG(t)
                      : 'Object' === a
                        ? FG(t)
                        : 'String' === a || 'Number' === a || 'Boolean' === a || 'Function' === a
                          ? (function (e) {
                              if (null == e) return ''
                              var t = e.constructor.toString().match(DG)
                              return t ? t[1] : ''
                            })(t) === a
                          : t instanceof r.type)
            }
            if (!i) return o + 'value "' + t + '" should be of type "' + a + '"'
            if (UG(r, 'validator') && HG(r.validator)) {
              var s = BG,
                u = []
              if (
                ((BG = function (e) {
                  u.push(e)
                }),
                (i = r.validator(t)),
                (BG = s),
                !i)
              ) {
                var l = (u.length > 1 ? '* ' : '') + u.join('\n* ')
                return ((u.length = 0), l)
              }
            }
            return i
          }
          function qG(e, t) {
            var n = Object.defineProperties(t, {
                _vueTypes_name: { value: e, writable: !0 },
                isRequired: {
                  get: function () {
                    return ((this.required = !0), this)
                  },
                },
                def: {
                  value: function (e) {
                    return void 0 !== e || this.default
                      ? HG(e) || !0 === QG(this, e)
                        ? ((this.default = VG(e)
                            ? function () {
                                return [].concat(e)
                              }
                            : FG(e)
                              ? function () {
                                  return Object.assign({}, e)
                                }
                              : e),
                          this)
                        : (BG(this._vueTypes_name + ' - invalid default value: "' + e + '"'), this)
                      : this
                  },
                },
              }),
              r = n.validator
            return (HG(r) && (n.validator = jG(r, n)), n)
          }
          function XG(e, t) {
            var n = qG(e, t)
            return Object.defineProperty(n, 'validate', {
              value: function (e) {
                return (
                  HG(this.validator) &&
                    BG(
                      this._vueTypes_name +
                        ' - calling .validate() will overwrite the current custom validator function. Validator info:\n' +
                        JSON.stringify(this)
                    ),
                  (this.validator = jG(e, this)),
                  this
                )
              },
            })
          }
          function YG(e, t, n) {
            var r,
              i,
              a =
                ((r = t),
                (i = {}),
                Object.getOwnPropertyNames(r).forEach(function (e) {
                  i[e] = Object.getOwnPropertyDescriptor(r, e)
                }),
                Object.defineProperties({}, i))
            if (((a._vueTypes_name = e), !FG(n))) return a
            var o,
              s,
              u = n.validator,
              l = RG(n, ['validator'])
            if (HG(u)) {
              var c = a.validator
              ;(c && (c = null !== (s = (o = c).__original) && void 0 !== s ? s : o),
                (a.validator = jG(
                  c
                    ? function (e) {
                        return c.call(this, e) && u.call(this, e)
                      }
                    : u,
                  a
                )))
            }
            return Object.assign(a, l)
          }
          function KG(e) {
            return e.replace(/^(?!\s*$)/gm, '  ')
          }
          var ZG = (function () {
            function e() {}
            return (
              (e.extend = function (e) {
                var t = this
                if (VG(e))
                  return (
                    e.forEach(function (e) {
                      return t.extend(e)
                    }),
                    this
                  )
                var n = e.name,
                  r = e.validate,
                  i = void 0 !== r && r,
                  a = e.getter,
                  o = void 0 !== a && a,
                  s = RG(e, ['name', 'validate', 'getter'])
                if (UG(this, n))
                  throw new TypeError('[VueTypes error]: Type "' + n + '" already defined')
                var u,
                  l = s.type
                return WG(l)
                  ? (delete s.type,
                    Object.defineProperty(
                      this,
                      n,
                      o
                        ? {
                            get: function () {
                              return YG(n, l, s)
                            },
                          }
                        : {
                            value: function () {
                              var e,
                                t = YG(n, l, s)
                              return (
                                t.validator &&
                                  (t.validator = (e = t.validator).bind.apply(
                                    e,
                                    [t].concat([].slice.call(arguments))
                                  )),
                                t
                              )
                            },
                          }
                    ))
                  : ((u = o
                      ? {
                          get: function () {
                            var e = Object.assign({}, s)
                            return i ? XG(n, e) : qG(n, e)
                          },
                          enumerable: !0,
                        }
                      : {
                          value: function () {
                            var e,
                              t,
                              r = Object.assign({}, s)
                            return (
                              (e = i ? XG(n, r) : qG(n, r)),
                              r.validator &&
                                (e.validator = (t = r.validator).bind.apply(
                                  t,
                                  [e].concat([].slice.call(arguments))
                                )),
                              e
                            )
                          },
                          enumerable: !0,
                        }),
                    Object.defineProperty(this, n, u))
              }),
              EG(e, 0, [
                {
                  key: 'any',
                  get: function () {
                    return XG('any', {})
                  },
                },
                {
                  key: 'func',
                  get: function () {
                    return XG('function', { type: Function }).def(this.defaults.func)
                  },
                },
                {
                  key: 'bool',
                  get: function () {
                    return XG('boolean', { type: Boolean }).def(this.defaults.bool)
                  },
                },
                {
                  key: 'string',
                  get: function () {
                    return XG('string', { type: String }).def(this.defaults.string)
                  },
                },
                {
                  key: 'number',
                  get: function () {
                    return XG('number', { type: Number }).def(this.defaults.number)
                  },
                },
                {
                  key: 'array',
                  get: function () {
                    return XG('array', { type: Array }).def(this.defaults.array)
                  },
                },
                {
                  key: 'object',
                  get: function () {
                    return XG('object', { type: Object }).def(this.defaults.object)
                  },
                },
                {
                  key: 'integer',
                  get: function () {
                    return qG('integer', {
                      type: Number,
                      validator: function (e) {
                        return zG(e)
                      },
                    }).def(this.defaults.integer)
                  },
                },
                {
                  key: 'symbol',
                  get: function () {
                    return qG('symbol', {
                      validator: function (e) {
                        return 'symbol' == P(e)
                      },
                    })
                  },
                },
              ]),
              e
            )
          })()
          function JG(e) {
            var t
            return (
              void 0 === e &&
                (e = {
                  func: function () {},
                  bool: !0,
                  string: '',
                  number: 0,
                  array: function () {
                    return []
                  },
                  object: function () {
                    return {}
                  },
                  integer: 0,
                }),
              ((t = (function (t) {
                function n() {
                  return t.apply(this, arguments) || this
                }
                return (
                  kG(n, t),
                  EG(n, 0, [
                    {
                      key: 'sensibleDefaults',
                      get: function () {
                        return CG({}, this.defaults)
                      },
                      set: function (t) {
                        this.defaults = !1 !== t ? CG({}, !0 !== t ? t : e) : {}
                      },
                    },
                  ]),
                  n
                )
              })(ZG)).defaults = CG({}, e)),
              t
            )
          }
          ;((ZG.defaults = {}),
            (ZG.custom = function (e, t) {
              if ((void 0 === t && (t = 'custom validation failed'), 'function' != typeof e))
                throw new TypeError('[VueTypes error]: You must provide a function as argument')
              return qG(e.name || '<<anonymous function>>', {
                validator: function (n) {
                  var r = e(n)
                  return (r || BG(this._vueTypes_name + ' - ' + t), r)
                },
              })
            }),
            (ZG.oneOf = function (e) {
              if (!VG(e))
                throw new TypeError('[VueTypes error]: You must provide an array as argument.')
              var t = 'oneOf - value should be one of "' + e.join('", "') + '".',
                n = e.reduce(function (e, t) {
                  if (null != t) {
                    var n = t.constructor
                    ;-1 === e.indexOf(n) && e.push(n)
                  }
                  return e
                }, [])
              return qG('oneOf', {
                type: n.length > 0 ? n : void 0,
                validator: function (n) {
                  var r = -1 !== e.indexOf(n)
                  return (r || BG(t), r)
                },
              })
            }),
            (ZG.instanceOf = function (e) {
              return qG('instanceOf', { type: e })
            }),
            (ZG.oneOfType = function (e) {
              if (!VG(e))
                throw new TypeError('[VueTypes error]: You must provide an array as argument')
              for (var t = !1, n = [], r = 0; r < e.length; r += 1) {
                var i = e[r]
                if (GG(i)) {
                  if (WG(i) && 'oneOf' === i._vueTypes_name) {
                    n = n.concat(i.type)
                    continue
                  }
                  if ((HG(i.validator) && (t = !0), !0 !== i.type && i.type)) {
                    n = n.concat(i.type)
                    continue
                  }
                }
                n.push(i)
              }
              return (
                (n = n.filter(function (e, t) {
                  return n.indexOf(e) === t
                })),
                qG(
                  'oneOfType',
                  t
                    ? {
                        type: n,
                        validator: function (t) {
                          var n = [],
                            r = e.some(function (e) {
                              var r = QG(
                                WG(e) && 'oneOf' === e._vueTypes_name ? e.type || null : e,
                                t
                              )
                              return ('string' == typeof r && n.push(r), !0 === r)
                            })
                          return (
                            r ||
                              BG(
                                'oneOfType - provided value does not match any of the ' +
                                  n.length +
                                  ' passed-in validators:\n' +
                                  KG(n.join('\n'))
                              ),
                            r
                          )
                        },
                      }
                    : { type: n }
                )
              )
            }),
            (ZG.arrayOf = function (e) {
              return qG('arrayOf', {
                type: Array,
                validator: function (t) {
                  var n,
                    r = t.every(function (t) {
                      return !0 === (n = QG(e, t))
                    })
                  return (r || BG('arrayOf - value validation error:\n' + KG(n)), r)
                },
              })
            }),
            (ZG.objectOf = function (e) {
              return qG('objectOf', {
                type: Object,
                validator: function (t) {
                  var n,
                    r = Object.keys(t).every(function (r) {
                      return !0 === (n = QG(e, t[r]))
                    })
                  return (r || BG('objectOf - value validation error:\n' + KG(n)), r)
                },
              })
            }),
            (ZG.shape = function (e) {
              var t = Object.keys(e),
                n = t.filter(function (t) {
                  var n
                  return !!(null === (n = e[t]) || void 0 === n ? void 0 : n.required)
                }),
                r = qG('shape', {
                  type: Object,
                  validator: function (r) {
                    var i = this
                    if (!FG(r)) return !1
                    var a = Object.keys(r)
                    if (
                      n.length > 0 &&
                      n.some(function (e) {
                        return -1 === a.indexOf(e)
                      })
                    ) {
                      var o = n.filter(function (e) {
                        return -1 === a.indexOf(e)
                      })
                      return (
                        BG(
                          1 === o.length
                            ? 'shape - required property "' + o[0] + '" is not defined.'
                            : 'shape - required properties "' +
                                o.join('", "') +
                                '" are not defined.'
                        ),
                        !1
                      )
                    }
                    return a.every(function (n) {
                      if (-1 === t.indexOf(n))
                        return (
                          !0 === i._vueTypes_isLoose ||
                          (BG(
                            'shape - shape definition does not include a "' +
                              n +
                              '" property. Allowed keys: "' +
                              t.join('", "') +
                              '".'
                          ),
                          !1)
                        )
                      var a = QG(e[n], r[n])
                      return (
                        'string' == typeof a &&
                          BG('shape - "' + n + '" property validation error:\n ' + KG(a)),
                        !0 === a
                      )
                    })
                  },
                })
              return (
                Object.defineProperty(r, '_vueTypes_isLoose', { writable: !0, value: !1 }),
                Object.defineProperty(r, 'loose', {
                  get: function () {
                    return ((this._vueTypes_isLoose = !0), this)
                  },
                }),
                r
              )
            }),
            (ZG.utils = {
              validate: function (e, t) {
                return !0 === QG(t, e)
              },
              toType: function (e, t, n) {
                return (void 0 === n && (n = !1), n ? XG(e, t) : qG(e, t))
              },
            }),
            (function (e) {
              function t() {
                return e.apply(this, arguments) || this
              }
              kG(t, e)
            })(JG()))
          var $G = JG({
            func: void 0,
            bool: void 0,
            string: void 0,
            number: void 0,
            array: void 0,
            object: void 0,
            integer: void 0,
          })
          ;($G.extend([
            { name: 'looseBool', getter: !0, type: Boolean, default: void 0 },
            { name: 'style', getter: !0, type: [String, Object], default: void 0 },
            { name: 'VueNode', getter: !0, type: null },
          ]),
            (function () {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
            })('bottomLeft', 'bottomRight', 'topLeft', 'topRight'))
          var ej = function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              return uV(
                e
                  ? {
                      name: e,
                      appear: !0,
                      appearActiveClass: ''.concat(e),
                      appearToClass: ''.concat(e, '-appear ').concat(e, '-appear-active'),
                      enterFromClass: ''
                        .concat(e, '-appear ')
                        .concat(e, '-enter ')
                        .concat(e, '-appear-prepare ')
                        .concat(e, '-enter-prepare'),
                      enterActiveClass: ''.concat(e),
                      enterToClass: ''
                        .concat(e, '-enter ')
                        .concat(e, '-appear ')
                        .concat(e, '-appear-active ')
                        .concat(e, '-enter-active'),
                      leaveActiveClass: ''.concat(e, ' ').concat(e, '-leave'),
                      leaveToClass: ''.concat(e, '-leave-active'),
                    }
                  : { css: !1 },
                t
              )
            },
            tj = Symbol('PortalContextKey'),
            nj = function () {
              !(function (e) {
                ti(tj, {
                  inTriggerContext: (arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : { inTriggerContext: !0 }
                  ).inTriggerContext,
                  shouldRender: Ra(function () {
                    var t = e || {},
                      n = t.sPopupVisible,
                      r = t.popupRef,
                      i = t.forceRender,
                      a = t.autoDestroy,
                      o = !1
                    return ((n || r || i) && (o = !0), !n && a && (o = !1), o)
                  }),
                })
              })({}, { inTriggerContext: !1 })
              var e = ni(tj, {
                shouldRender: Ra(function () {
                  return !1
                }),
                inTriggerContext: !1,
              })
              return {
                shouldRender: Ra(function () {
                  return e.shouldRender.value || !1 === e.inTriggerContext
                }),
              }
            },
            rj = ar({
              compatConfig: { MODE: 3 },
              name: 'Portal',
              inheritAttrs: !1,
              props: { getContainer: $G.func.isRequired, didUpdate: Function },
              setup: function (e, t) {
                var n,
                  r = t.slots,
                  i = !0,
                  a = nj().shouldRender
                function o() {
                  a.value && (n = e.getContainer())
                }
                ;(xr(function () {
                  ;((i = !1), o())
                }),
                  _r(function () {
                    n || o()
                  }))
                var s = Ei(a, function () {
                  ;(a.value && !n && (n = e.getContainer()), n && s())
                })
                return (
                  Sr(function () {
                    Cn(function () {
                      var t
                      a.value && (null === (t = e.didUpdate) || void 0 === t || t.call(e, e))
                    })
                  }),
                  function () {
                    var e
                    return a.value
                      ? i
                        ? null === (e = r.default) || void 0 === e
                          ? void 0
                          : e.call(r)
                        : n
                          ? ia(Yn, { to: n }, r)
                          : null
                      : null
                  }
                )
              },
            }),
            ij = Symbol('iconContext'),
            aj = function () {
              return ni(ij, { prefixCls: tn('anticon'), rootClassName: tn(''), csp: tn() })
            }
          function oj() {
            return !(
              'undefined' == typeof window ||
              !window.document ||
              !window.document.createElement
            )
          }
          var sj = 'data-vc-order',
            uj = new Map()
          function lj() {
            var e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).mark
            return e ? (e.startsWith('data-') ? e : 'data-'.concat(e)) : 'vc-icon-key'
          }
          function cj(e) {
            return e.attachTo ? e.attachTo : document.querySelector('head') || document.body
          }
          function dj(e) {
            return Array.from((uj.get(e) || e).children).filter(function (e) {
              return 'STYLE' === e.tagName
            })
          }
          function hj(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
            if (!oj()) return null
            var n = t.csp,
              r = t.prepend,
              i = document.createElement('style')
            ;(i.setAttribute(
              sj,
              (function (e) {
                return 'queue' === e ? 'prependQueue' : e ? 'prepend' : 'append'
              })(r)
            ),
              n && n.nonce && (i.nonce = n.nonce),
              (i.innerHTML = e))
            var a = cj(t),
              o = a.firstChild
            if (r) {
              if ('queue' === r) {
                var s = dj(a).filter(function (e) {
                  return ['prepend', 'prependQueue'].includes(e.getAttribute(sj))
                })
                if (s.length) return (a.insertBefore(i, s[s.length - 1].nextSibling), i)
              }
              a.insertBefore(i, o)
            } else a.appendChild(i)
            return i
          }
          function fj(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
            !(function (e, t) {
              var n = uj.get(e)
              if (
                !n ||
                !(function (e, t) {
                  return !!e && !!e.contains && e.contains(t)
                })(document, n)
              ) {
                var r = hj('', t),
                  i = r.parentNode
                ;(uj.set(e, i), e.removeChild(r))
              }
            })(cj(n), n)
            var r = (function (e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              return dj(cj(t)).find(function (n) {
                return n.getAttribute(lj(t)) === e
              })
            })(t, n)
            if (r)
              return (
                n.csp && n.csp.nonce && r.nonce !== n.csp.nonce && (r.nonce = n.csp.nonce),
                r.innerHTML !== e && (r.innerHTML = e),
                r
              )
            var i = hj(e, n)
            return (i.setAttribute(lj(n), t), i)
          }
          function pj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  vj(e, t, n[t])
                }))
            }
            return e
          }
          function vj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          function mj(e) {
            return (
              'object' === P(e) &&
              'string' == typeof e.name &&
              'string' == typeof e.theme &&
              ('object' === P(e.icon) || 'function' == typeof e.icon)
            )
          }
          function gj(e, t, n) {
            return Ia(
              e.tag,
              n ? pj({ key: t }, n, e.attrs) : pj({ key: t }, e.attrs),
              (e.children || []).map(function (n, r) {
                return gj(n, ''.concat(t, '-').concat(e.tag, '-').concat(r))
              })
            )
          }
          function yj(e) {
            return UW(e)[0]
          }
          function xj(e) {
            return e ? (Array.isArray(e) ? e : [e]) : []
          }
          function _j(e) {
            return e && e.getRootNode && e.getRootNode()
          }
          function bj(e) {
            return (function (e) {
              return !!oj() && _j(e) instanceof ShadowRoot
            })(e)
              ? _j(e)
              : null
          }
          var Sj = ['icon', 'primaryColor', 'secondaryColor']
          function wj(e, t) {
            if (null == e) return {}
            var n,
              r,
              i = (function (e, t) {
                if (null == e) return {}
                var n,
                  r,
                  i = {},
                  a = Object.keys(e)
                for (r = 0; r < a.length; r++) ((n = a[r]), t.indexOf(n) >= 0 || (i[n] = e[n]))
                return i
              })(e, t)
            if (Object.getOwnPropertySymbols) {
              var a = Object.getOwnPropertySymbols(e)
              for (r = 0; r < a.length; r++)
                ((n = a[r]),
                  t.indexOf(n) >= 0 ||
                    (Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n])))
            }
            return i
          }
          function Aj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  Tj(e, t, n[t])
                }))
            }
            return e
          }
          function Tj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var Mj = Wt({ primaryColor: '#333', secondaryColor: '#E6E6E6', calculated: !1 })
          var Ej = function (e, t) {
            var n = Aj({}, e, t.attrs),
              r = n.icon,
              i = n.primaryColor,
              a = n.secondaryColor,
              o = wj(n, Sj),
              s = Mj
            if ((i && (s = { primaryColor: i, secondaryColor: a || yj(i) }), mj(r), !mj(r)))
              return null
            var u = r
            return (
              u &&
                'function' == typeof u.icon &&
                (u = Aj({}, u, { icon: u.icon(s.primaryColor, s.secondaryColor) })),
              gj(
                u.icon,
                'svg-'.concat(u.name),
                Aj({}, o, {
                  'data-icon': u.name,
                  width: '1em',
                  height: '1em',
                  fill: 'currentColor',
                  'aria-hidden': 'true',
                })
              )
            )
          }
          function Cj(e, t) {
            return (
              (function (e) {
                if (Array.isArray(e)) return e
              })(e) ||
              (function (e, t) {
                var n =
                  null == e
                    ? null
                    : ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator']
                if (null == n) return
                var r,
                  i,
                  a = [],
                  o = !0,
                  s = !1
                try {
                  for (
                    n = n.call(e);
                    !(o = (r = n.next()).done) && (a.push(r.value), !t || a.length !== t);
                    o = !0
                  );
                } catch (u) {
                  ;((s = !0), (i = u))
                } finally {
                  try {
                    o || null == n.return || n.return()
                  } finally {
                    if (s) throw i
                  }
                }
                return a
              })(e, t) ||
              (function (e, t) {
                if (!e) return
                if ('string' == typeof e) return kj(e, t)
                var n = Object.prototype.toString.call(e).slice(8, -1)
                'Object' === n && e.constructor && (n = e.constructor.name)
                if ('Map' === n || 'Set' === n) return Array.from(e)
                if ('Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
                  return kj(e, t)
              })(e, t) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                )
              })()
            )
          }
          function kj(e, t) {
            ;(null == t || t > e.length) && (t = e.length)
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n]
            return r
          }
          function Rj(e) {
            var t = Cj(xj(e), 2),
              n = t[0],
              r = t[1]
            return Ej.setTwoToneColors({ primaryColor: n, secondaryColor: r })
          }
          ;((Ej.props = {
            icon: Object,
            primaryColor: String,
            secondaryColor: String,
            focusable: String,
          }),
            (Ej.inheritAttrs = !1),
            (Ej.displayName = 'IconBase'),
            (Ej.getTwoToneColors = function () {
              return Aj({}, Mj)
            }),
            (Ej.setTwoToneColors = function (e) {
              var t = e.primaryColor,
                n = e.secondaryColor
              ;((Mj.primaryColor = t), (Mj.secondaryColor = n || yj(t)), (Mj.calculated = !!n))
            }))
          var Ij = ar({
              name: 'InsertStyles',
              setup: function () {
                var e, t, n, r, i
                return (
                  (e = aj()),
                  (t = e.prefixCls),
                  (n = e.csp),
                  (r = ya()),
                  (i =
                    '\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n'),
                  t && (i = i.replace(/anticon/g, t.value)),
                  Cn(function () {
                    if (oj()) {
                      var e = bj(r.vnode.el)
                      fj(i, '@ant-design-vue-icons', { prepend: !0, csp: n.value, attachTo: e })
                    }
                  }),
                  function () {
                    return null
                  }
                )
              },
            }),
            Nj = ['class', 'icon', 'spin', 'rotate', 'tabindex', 'twoToneColor', 'onClick']
          function Pj(e, t) {
            return (
              (function (e) {
                if (Array.isArray(e)) return e
              })(e) ||
              (function (e, t) {
                var n =
                  null == e
                    ? null
                    : ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator']
                if (null == n) return
                var r,
                  i,
                  a = [],
                  o = !0,
                  s = !1
                try {
                  for (
                    n = n.call(e);
                    !(o = (r = n.next()).done) && (a.push(r.value), !t || a.length !== t);
                    o = !0
                  );
                } catch (u) {
                  ;((s = !0), (i = u))
                } finally {
                  try {
                    o || null == n.return || n.return()
                  } finally {
                    if (s) throw i
                  }
                }
                return a
              })(e, t) ||
              (function (e, t) {
                if (!e) return
                if ('string' == typeof e) return Lj(e, t)
                var n = Object.prototype.toString.call(e).slice(8, -1)
                'Object' === n && e.constructor && (n = e.constructor.name)
                if ('Map' === n || 'Set' === n) return Array.from(e)
                if ('Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
                  return Lj(e, t)
              })(e, t) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                )
              })()
            )
          }
          function Lj(e, t) {
            ;(null == t || t > e.length) && (t = e.length)
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n]
            return r
          }
          function Dj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  Oj(e, t, n[t])
                }))
            }
            return e
          }
          function Oj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          function Fj(e, t) {
            if (null == e) return {}
            var n,
              r,
              i = (function (e, t) {
                if (null == e) return {}
                var n,
                  r,
                  i = {},
                  a = Object.keys(e)
                for (r = 0; r < a.length; r++) ((n = a[r]), t.indexOf(n) >= 0 || (i[n] = e[n]))
                return i
              })(e, t)
            if (Object.getOwnPropertySymbols) {
              var a = Object.getOwnPropertySymbols(e)
              for (r = 0; r < a.length; r++)
                ((n = a[r]),
                  t.indexOf(n) >= 0 ||
                    (Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n])))
            }
            return i
          }
          Rj(WW.primary)
          var Bj = function (e, t) {
            var n,
              r = Dj({}, e, t.attrs),
              i = r.class,
              a = r.icon,
              o = r.spin,
              s = r.rotate,
              u = r.tabindex,
              l = r.twoToneColor,
              c = r.onClick,
              d = Fj(r, Nj),
              h = aj(),
              f = h.prefixCls,
              p = h.rootClassName,
              v =
                (Oj((n = {}), p.value, !!p.value),
                Oj(n, f.value, !0),
                Oj(n, ''.concat(f.value, '-').concat(a.name), Boolean(a.name)),
                Oj(n, ''.concat(f.value, '-spin'), !!o || 'loading' === a.name),
                n),
              m = u
            void 0 === m && c && (m = -1)
            var g = s
                ? {
                    msTransform: 'rotate('.concat(s, 'deg)'),
                    transform: 'rotate('.concat(s, 'deg)'),
                  }
                : void 0,
              y = Pj(xj(l), 2),
              x = y[0],
              _ = y[1]
            return ia(
              'span',
              Dj({ role: 'img', 'aria-label': a.name }, d, {
                onClick: c,
                class: [v, i],
                tabindex: m,
              }),
              [
                ia(Ej, { icon: a, primaryColor: x, secondaryColor: _, style: g }, null),
                ia(Ij, null, null),
              ]
            )
          }
          ;((Bj.props = {
            spin: Boolean,
            rotate: Number,
            icon: Object,
            twoToneColor: [String, Array],
          }),
            (Bj.displayName = 'AntdIcon'),
            (Bj.inheritAttrs = !1),
            (Bj.getTwoToneColor = function () {
              var e = Ej.getTwoToneColors()
              return e.calculated ? [e.primaryColor, e.secondaryColor] : e.primaryColor
            }),
            (Bj.setTwoToneColor = Rj))
          var Uj = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '0 0 1024 1024', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z',
                  },
                },
              ],
            },
            name: 'loading',
            theme: 'outlined',
          }
          function zj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  Vj(e, t, n[t])
                }))
            }
            return e
          }
          function Vj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var Hj = function (e, t) {
            var n = zj({}, e, t.attrs)
            return ia(Bj, zj({}, n, { icon: Uj }), null)
          }
          ;((Hj.displayName = 'LoadingOutlined'), (Hj.inheritAttrs = !1))
          var Wj = {
            icon: {
              tag: 'svg',
              attrs: { 'fill-rule': 'evenodd', viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z',
                  },
                },
              ],
            },
            name: 'close',
            theme: 'outlined',
          }
          function Gj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  jj(e, t, n[t])
                }))
            }
            return e
          }
          function jj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var Qj = function (e, t) {
            var n = Gj({}, e, t.attrs)
            return ia(Bj, Gj({}, n, { icon: Wj }), null)
          }
          ;((Qj.displayName = 'CloseOutlined'), (Qj.inheritAttrs = !1))
          var qj = {
            icon: {
              tag: 'svg',
              attrs: { 'fill-rule': 'evenodd', viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z',
                  },
                },
              ],
            },
            name: 'close-circle',
            theme: 'filled',
          }
          function Xj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  Yj(e, t, n[t])
                }))
            }
            return e
          }
          function Yj(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var Kj = function (e, t) {
            var n = Xj({}, e, t.attrs)
            return ia(Bj, Xj({}, n, { icon: qj }), null)
          }
          ;((Kj.displayName = 'CloseCircleFilled'), (Kj.inheritAttrs = !1))
          var Zj = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z',
                  },
                },
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z',
                  },
                },
              ],
            },
            name: 'check-circle',
            theme: 'outlined',
          }
          function Jj(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  $j(e, t, n[t])
                }))
            }
            return e
          }
          function $j(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var eQ = function (e, t) {
            var n = Jj({}, e, t.attrs)
            return ia(Bj, Jj({}, n, { icon: Zj }), null)
          }
          ;((eQ.displayName = 'CheckCircleOutlined'), (eQ.inheritAttrs = !1))
          var tQ = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z',
                  },
                },
                {
                  tag: 'path',
                  attrs: {
                    d: 'M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z',
                  },
                },
              ],
            },
            name: 'exclamation-circle',
            theme: 'outlined',
          }
          function nQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  rQ(e, t, n[t])
                }))
            }
            return e
          }
          function rQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var iQ = function (e, t) {
            var n = nQ({}, e, t.attrs)
            return ia(Bj, nQ({}, n, { icon: tQ }), null)
          }
          ;((iQ.displayName = 'ExclamationCircleOutlined'), (iQ.inheritAttrs = !1))
          var aQ = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z',
                  },
                },
                {
                  tag: 'path',
                  attrs: {
                    d: 'M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z',
                  },
                },
              ],
            },
            name: 'info-circle',
            theme: 'outlined',
          }
          function oQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  sQ(e, t, n[t])
                }))
            }
            return e
          }
          function sQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var uQ = function (e, t) {
            var n = oQ({}, e, t.attrs)
            return ia(Bj, oQ({}, n, { icon: aQ }), null)
          }
          ;((uQ.displayName = 'InfoCircleOutlined'), (uQ.inheritAttrs = !1))
          var lQ = {
            icon: {
              tag: 'svg',
              attrs: { 'fill-rule': 'evenodd', viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z',
                  },
                },
              ],
            },
            name: 'close-circle',
            theme: 'outlined',
          }
          function cQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  dQ(e, t, n[t])
                }))
            }
            return e
          }
          function dQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var hQ = function (e, t) {
            var n = cQ({}, e, t.attrs)
            return ia(Bj, cQ({}, n, { icon: lQ }), null)
          }
          ;((hQ.displayName = 'CloseCircleOutlined'), (hQ.inheritAttrs = !1))
          var fQ = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z',
                  },
                },
              ],
            },
            name: 'check-circle',
            theme: 'filled',
          }
          function pQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  vQ(e, t, n[t])
                }))
            }
            return e
          }
          function vQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var mQ = function (e, t) {
            var n = pQ({}, e, t.attrs)
            return ia(Bj, pQ({}, n, { icon: fQ }), null)
          }
          ;((mQ.displayName = 'CheckCircleFilled'), (mQ.inheritAttrs = !1))
          var gQ = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z',
                  },
                },
              ],
            },
            name: 'exclamation-circle',
            theme: 'filled',
          }
          function yQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  xQ(e, t, n[t])
                }))
            }
            return e
          }
          function xQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var _Q = function (e, t) {
            var n = yQ({}, e, t.attrs)
            return ia(Bj, yQ({}, n, { icon: gQ }), null)
          }
          ;((_Q.displayName = 'ExclamationCircleFilled'), (_Q.inheritAttrs = !1))
          var bQ = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z',
                  },
                },
              ],
            },
            name: 'info-circle',
            theme: 'filled',
          }
          function SQ(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  wQ(e, t, n[t])
                }))
            }
            return e
          }
          function wQ(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var AQ = function (e, t) {
            var n = SQ({}, e, t.attrs)
            return ia(Bj, SQ({}, n, { icon: bQ }), null)
          }
          ;((AQ.displayName = 'InfoCircleFilled'), (AQ.inheritAttrs = !1))
          var TQ = uV({}, IV.Modal)
          var MQ = 'internalMark',
            EQ = ar({
              compatConfig: { MODE: 3 },
              name: 'ALocaleProvider',
              props: { locale: { type: Object }, ANT_MARK__: String },
              setup: function (e, t) {
                var n = t.slots
                nH(e.ANT_MARK__ === MQ)
                var r = Wt({ antLocale: uV(uV({}, e.locale), { exist: !0 }), ANT_MARK__: MQ })
                return (
                  ti('localeData', r),
                  Ei(
                    function () {
                      return e.locale
                    },
                    function (e) {
                      var t
                      ;((t = e && e.Modal),
                        (TQ = t ? uV(uV({}, TQ), t) : uV({}, IV.Modal)),
                        (r.antLocale = uV(uV({}, e), { exist: !0 })))
                    },
                    { immediate: !0 }
                  ),
                  function () {
                    var e
                    return null === (e = n.default) || void 0 === e ? void 0 : e.call(n)
                  }
                )
              },
            })
          EQ.install = function (e) {
            return (e.component(EQ.name, EQ), e)
          }
          var CQ = vV(EQ),
            kQ = ar({
              name: 'Notice',
              inheritAttrs: !1,
              props: [
                'prefixCls',
                'duration',
                'updateMark',
                'noticeKey',
                'closeIcon',
                'closable',
                'props',
                'onClick',
                'onClose',
                'holder',
                'visible',
              ],
              setup: function (e, t) {
                var n,
                  r = t.attrs,
                  i = t.slots,
                  a = !1,
                  o = Ra(function () {
                    return void 0 === e.duration ? 4.5 : e.duration
                  }),
                  s = function () {
                    o.value &&
                      !a &&
                      (n = setTimeout(function () {
                        l()
                      }, 1e3 * o.value))
                  },
                  u = function () {
                    n && (clearTimeout(n), (n = null))
                  },
                  l = function (t) {
                    ;(t && t.stopPropagation(), u())
                    var n = e.onClose,
                      r = e.noticeKey
                    n && n(r)
                  }
                return (
                  _r(function () {
                    s()
                  }),
                  Ar(function () {
                    ;((a = !0), u())
                  }),
                  Ei(
                    [
                      o,
                      function () {
                        return e.updateMark
                      },
                      function () {
                        return e.visible
                      },
                    ],
                    function (e, t) {
                      var n = C(e, 3),
                        r = n[0],
                        i = n[1],
                        a = n[2],
                        o = C(t, 3),
                        l = o[0],
                        c = o[1],
                        d = o[2]
                      ;(r !== l || i !== c || (a !== d && d)) && (u(), s())
                    },
                    { flush: 'post' }
                  ),
                  function () {
                    var t,
                      n,
                      a = e.prefixCls,
                      o = e.closable,
                      c = e.closeIcon,
                      d =
                        void 0 === c
                          ? null === (t = i.closeIcon) || void 0 === t
                            ? void 0
                            : t.call(i)
                          : c,
                      h = e.onClick,
                      f = e.holder,
                      p = r.class,
                      v = r.style,
                      m = ''.concat(a, '-notice'),
                      g = Object.keys(r).reduce(function (e, t) {
                        return (
                          (t.startsWith('data-') || t.startsWith('aria-') || 'role' === t) &&
                            (e[t] = r[t]),
                          e
                        )
                      }, {}),
                      y = ia(
                        'div',
                        sV(
                          {
                            class: fV(m, p, M({}, ''.concat(m, '-closable'), o)),
                            style: v,
                            onMouseenter: u,
                            onMouseleave: s,
                            onClick: h,
                          },
                          g
                        ),
                        [
                          ia('div', { class: ''.concat(m, '-content') }, [
                            null === (n = i.default) || void 0 === n ? void 0 : n.call(i),
                          ]),
                          o
                            ? ia('a', { tabindex: 0, onClick: l, class: ''.concat(m, '-close') }, [
                                d || ia('span', { class: ''.concat(m, '-close-x') }, null),
                              ])
                            : null,
                        ]
                      )
                    return f
                      ? ia(
                          Yn,
                          { to: f },
                          {
                            default: function () {
                              return y
                            },
                          }
                        )
                      : y
                  }
                )
              },
            }),
            RQ = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            IQ = 0,
            NQ = Date.now()
          function PQ() {
            var e = IQ
            return ((IQ += 1), 'rcNotification_'.concat(NQ, '_').concat(e))
          }
          var LQ = ar({
            name: 'Notification',
            inheritAttrs: !1,
            props: ['prefixCls', 'transitionName', 'animation', 'maxCount', 'closeIcon', 'hashId'],
            setup: function (e, t) {
              var n = t.attrs,
                r = t.expose,
                i = t.slots,
                a = new Map(),
                o = tn([]),
                s = Ra(function () {
                  var t = e.prefixCls,
                    n = e.animation,
                    r = void 0 === n ? 'fade' : n,
                    i = e.transitionName
                  return (!i && r && (i = ''.concat(t, '-').concat(r)), ej(i))
                }),
                u = function (e) {
                  o.value = Kt(o.value).filter(function (t) {
                    var n = t.notice,
                      r = n.key
                    return (n.userPassKey || r) !== e
                  })
                }
              return (
                r({
                  add: function (t, n) {
                    var r = t.key || PQ(),
                      i = uV(uV({}, t), { key: r }),
                      a = e.maxCount,
                      s = o.value
                        .map(function (e) {
                          return e.notice.key
                        })
                        .indexOf(r),
                      u = o.value.concat()
                    ;(-1 !== s
                      ? u.splice(s, 1, { notice: i, holderCallback: n })
                      : (a &&
                          o.value.length >= a &&
                          ((i.key = u[0].notice.key),
                          (i.updateMark = PQ()),
                          (i.userPassKey = r),
                          u.shift()),
                        u.push({ notice: i, holderCallback: n })),
                      (o.value = u))
                  },
                  remove: u,
                  notices: o,
                }),
                function () {
                  var t,
                    r = e.prefixCls,
                    l = e.closeIcon,
                    c =
                      void 0 === l
                        ? null === (t = i.closeIcon) || void 0 === t
                          ? void 0
                          : t.call(i, { prefixCls: r })
                        : l,
                    d = o.value.map(function (t, n) {
                      var i = t.notice,
                        s = t.holderCallback,
                        l = n === o.value.length - 1 ? i.updateMark : void 0,
                        d = i.key,
                        h = i.userPassKey,
                        f = i.content,
                        p = uV(
                          uV(
                            uV(
                              {
                                prefixCls: r,
                                closeIcon: 'function' == typeof c ? c({ prefixCls: r }) : c,
                              },
                              i
                            ),
                            i.props
                          ),
                          {
                            key: d,
                            noticeKey: h || d,
                            updateMark: l,
                            onClose: function (e) {
                              var t
                              ;(u(e), null === (t = i.onClose) || void 0 === t || t.call(i))
                            },
                            onClick: i.onClick,
                          }
                        )
                      return s
                        ? ia(
                            'div',
                            {
                              key: d,
                              class: ''.concat(r, '-hook-holder'),
                              ref: function (e) {
                                void 0 !== d && (e ? (a.set(d, e), s(e, p)) : a.delete(d))
                              },
                            },
                            null
                          )
                        : ia(kQ, sV(sV({}, p), {}, { class: fV(p.class, e.hashId) }), {
                            default: function () {
                              return ['function' == typeof f ? f({ prefixCls: r }) : f]
                            },
                          })
                    }),
                    h = M(M(M({}, r, 1), n.class, !!n.class), e.hashId, !0)
                  return ia('div', { class: h, style: n.style || { top: '65px', left: '50%' } }, [
                    ia(Ro, sV({ tag: 'div' }, s.value), {
                      default: function () {
                        return [d]
                      },
                    }),
                  ])
                }
              )
            },
          })
          LQ.newInstance = function (e, t) {
            var n = e || {},
              r = n.name,
              i = void 0 === r ? 'notification' : r,
              a = n.getContainer,
              o = n.appContext,
              s = n.prefixCls,
              u = n.rootPrefixCls,
              l = n.transitionName,
              c = n.hasTransitionName,
              d = n.useStyle,
              h = RQ(n, [
                'name',
                'getContainer',
                'appContext',
                'prefixCls',
                'rootPrefixCls',
                'transitionName',
                'hasTransitionName',
                'useStyle',
              ]),
              f = document.createElement('div')
            a ? a().appendChild(f) : document.body.appendChild(f)
            var p = ar({
                compatConfig: { MODE: 3 },
                name: 'NotificationWrapper',
                setup: function (e, n) {
                  var r = n.attrs,
                    a = nn(),
                    o = Ra(function () {
                      return Uq.getPrefixCls(i, s)
                    }),
                    h = C(d(o), 2)[1]
                  return (
                    _r(function () {
                      t({
                        notice: function (e) {
                          var t
                          null === (t = a.value) || void 0 === t || t.add(e)
                        },
                        removeNotice: function (e) {
                          var t
                          null === (t = a.value) || void 0 === t || t.remove(e)
                        },
                        destroy: function () {
                          ;(Vo(null, f), f.parentNode && f.parentNode.removeChild(f))
                        },
                        component: a,
                      })
                    }),
                    function () {
                      var e = Uq,
                        t = e.getRootPrefixCls(u, o.value),
                        n = c ? l : ''.concat(o.value, '-').concat(l)
                      return ia(Vq, sV(sV({}, e), {}, { prefixCls: t }), {
                        default: function () {
                          return [
                            ia(
                              LQ,
                              sV(
                                sV({ ref: a }, r),
                                {},
                                { prefixCls: o.value, transitionName: n, hashId: h.value }
                              ),
                              null
                            ),
                          ]
                        },
                      })
                    }
                  )
                },
              }),
              v = ia(p, h)
            ;((v.appContext = o || v.appContext), Vo(v, f))
          }
          var DQ = 0,
            OQ = Date.now()
          function FQ() {
            var e = DQ
            return ((DQ += 1), 'rcNotification_'.concat(OQ, '_').concat(e))
          }
          var BQ = ar({
              name: 'HookNotification',
              inheritAttrs: !1,
              props: [
                'prefixCls',
                'transitionName',
                'animation',
                'maxCount',
                'closeIcon',
                'hashId',
                'remove',
                'notices',
                'getStyles',
                'getClassName',
                'onAllRemoved',
                'getContainer',
              ],
              setup: function (e, t) {
                var n = t.attrs,
                  r = t.slots,
                  i = new Map(),
                  a = Ra(function () {
                    return e.notices
                  }),
                  o = Ra(function () {
                    var t = e.transitionName
                    if (!t && e.animation)
                      switch (P(e.animation)) {
                        case 'string':
                          t = e.animation
                          break
                        case 'function':
                          t = e.animation().name
                          break
                        case 'object':
                          t = e.animation.name
                          break
                        default:
                          t = ''.concat(e.prefixCls, '-fade')
                      }
                    return ej(t)
                  }),
                  s = tn({})
                Ei(a, function () {
                  var t = {}
                  ;(Object.keys(s.value).forEach(function (e) {
                    t[e] = []
                  }),
                    e.notices.forEach(function (e) {
                      var n = e.notice.placement,
                        r = void 0 === n ? 'topRight' : n
                      r && ((t[r] = t[r] || []), t[r].push(e))
                    }),
                    (s.value = t))
                })
                var u = Ra(function () {
                  return Object.keys(s.value)
                })
                return function () {
                  var t,
                    l = e.prefixCls,
                    c = e.closeIcon,
                    d =
                      void 0 === c
                        ? null === (t = r.closeIcon) || void 0 === t
                          ? void 0
                          : t.call(r, { prefixCls: l })
                        : c,
                    h = u.value.map(function (t) {
                      var r,
                        u,
                        c = s.value[t],
                        h = null === (r = e.getClassName) || void 0 === r ? void 0 : r.call(e, t),
                        f = null === (u = e.getStyles) || void 0 === u ? void 0 : u.call(e, t),
                        p = c.map(function (t, n) {
                          var r = t.notice,
                            o = t.holderCallback,
                            s = n === a.value.length - 1 ? r.updateMark : void 0,
                            u = r.key,
                            c = r.userPassKey,
                            h = r.content,
                            f = uV(
                              uV(
                                uV(
                                  {
                                    prefixCls: l,
                                    closeIcon: 'function' == typeof d ? d({ prefixCls: l }) : d,
                                  },
                                  r
                                ),
                                r.props
                              ),
                              {
                                key: u,
                                noticeKey: c || u,
                                updateMark: s,
                                onClose: function (t) {
                                  var n
                                  ;(!(function (t) {
                                    e.remove(t)
                                  })(t),
                                    null === (n = r.onClose) || void 0 === n || n.call(r))
                                },
                                onClick: r.onClick,
                              }
                            )
                          return o
                            ? ia(
                                'div',
                                {
                                  key: u,
                                  class: ''.concat(l, '-hook-holder'),
                                  ref: function (e) {
                                    void 0 !== u && (e ? (i.set(u, e), o(e, f)) : i.delete(u))
                                  },
                                },
                                null
                              )
                            : ia(kQ, sV(sV({}, f), {}, { class: fV(f.class, e.hashId) }), {
                                default: function () {
                                  return ['function' == typeof h ? h({ prefixCls: l }) : h]
                                },
                              })
                        }),
                        v = M(
                          M(
                            M(M(M({}, l, 1), ''.concat(l, '-').concat(t), 1), n.class, !!n.class),
                            e.hashId,
                            !0
                          ),
                          h,
                          !!h
                        )
                      return ia(
                        'div',
                        { key: t, class: v, style: n.style || f || { top: '65px', left: '50%' } },
                        [
                          ia(
                            Ro,
                            sV(
                              sV({ tag: 'div' }, o.value),
                              {},
                              {
                                onAfterLeave: function () {
                                  var n
                                  c.length > 0 ||
                                    (Reflect.deleteProperty(s.value, t),
                                    null === (n = e.onAllRemoved) || void 0 === n || n.call(e))
                                },
                              }
                            ),
                            {
                              default: function () {
                                return [p]
                              },
                            }
                          ),
                        ]
                      )
                    })
                  return ia(
                    rj,
                    { getContainer: e.getContainer },
                    {
                      default: function () {
                        return [h]
                      },
                    }
                  )
                }
              },
            }),
            UQ = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            zQ = function () {
              return document.body
            },
            VQ = 0
          function HQ() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = e.getContainer,
              n = void 0 === t ? zQ : t,
              r = e.motion,
              i = e.prefixCls,
              a = e.maxCount,
              o = e.getClassName,
              s = e.getStyles,
              u = e.onAllRemoved,
              l = UQ(e, [
                'getContainer',
                'motion',
                'prefixCls',
                'maxCount',
                'getClassName',
                'getStyles',
                'onAllRemoved',
              ]),
              c = nn([]),
              d = nn(),
              h = function (e) {
                c.value = c.value.filter(function (t) {
                  var n = t.notice,
                    r = n.key
                  return (n.userPassKey || r) !== e
                })
              },
              f = nn([]),
              p = {
                open: function (e) {
                  var t = (function () {
                    for (var e = {}, t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                      n[r] = arguments[r]
                    return (
                      n.forEach(function (t) {
                        t &&
                          Object.keys(t).forEach(function (n) {
                            var r = t[n]
                            void 0 !== r && (e[n] = r)
                          })
                      }),
                      e
                    )
                  })(l, e)
                  ;((null !== t.key && void 0 !== t.key) ||
                    ((t.key = 'vc-notification-'.concat(VQ)), (VQ += 1)),
                    (f.value = [].concat(I(f.value), [{ type: 'open', config: t }])))
                },
                close: function (e) {
                  f.value = [].concat(I(f.value), [{ type: 'close', key: e }])
                },
                destroy: function () {
                  f.value = [].concat(I(f.value), [{ type: 'destroy' }])
                },
              }
            return (
              Ei(f, function () {
                f.value.length &&
                  (f.value.forEach(function (e) {
                    switch (e.type) {
                      case 'open':
                        !(function (e, t) {
                          var n = e.key || FQ(),
                            r = uV(uV({}, e), { key: n }),
                            i = c.value
                              .map(function (e) {
                                return e.notice.key
                              })
                              .indexOf(n),
                            o = c.value.concat()
                          ;(-1 !== i
                            ? o.splice(i, 1, { notice: r, holderCallback: t })
                            : (a &&
                                c.value.length >= a &&
                                ((r.key = o[0].notice.key),
                                (r.updateMark = FQ()),
                                (r.userPassKey = n),
                                o.shift()),
                              o.push({ notice: r, holderCallback: t })),
                            (c.value = o))
                        })(e.config)
                        break
                      case 'close':
                        h(e.key)
                        break
                      case 'destroy':
                        c.value = []
                    }
                  }),
                  (f.value = []))
              }),
              [
                p,
                function () {
                  return ia(
                    BQ,
                    {
                      ref: d,
                      prefixCls: i,
                      maxCount: a,
                      notices: c.value,
                      remove: h,
                      getClassName: o,
                      getStyles: s,
                      animation: r,
                      hashId: e.hashId,
                      onAllRemoved: u,
                      getContainer: n,
                    },
                    null
                  )
                },
              ]
            )
          }
          var WQ = function (e) {
              var t = e.componentCls,
                n = e.iconCls,
                r = e.boxShadowSecondary,
                i = e.colorBgElevated,
                a = e.colorSuccess,
                o = e.colorError,
                s = e.colorWarning,
                u = e.colorInfo,
                l = e.fontSizeLG,
                c = e.motionEaseInOutCirc,
                d = e.motionDurationSlow,
                h = e.marginXS,
                f = e.paddingXS,
                p = e.borderRadiusLG,
                v = e.zIndexPopup,
                m = e.messageNoticeContentPadding,
                g = new hW('MessageMoveIn', {
                  '0%': { padding: 0, transform: 'translateY(-100%)', opacity: 0 },
                  '100%': { padding: f, transform: 'translateY(0)', opacity: 1 },
                }),
                y = new hW('MessageMoveOut', {
                  '0%': { maxHeight: e.height, padding: f, opacity: 1 },
                  '100%': { maxHeight: 0, padding: 0, opacity: 0 },
                })
              return [
                M(
                  {},
                  t,
                  uV(
                    uV({}, tG(e)),
                    M(
                      M(
                        M(
                          M(
                            M(
                              M(
                                {
                                  position: 'fixed',
                                  top: h,
                                  left: '50%',
                                  transform: 'translateX(-50%)',
                                  width: '100%',
                                  pointerEvents: 'none',
                                  zIndex: v,
                                },
                                ''.concat(t, '-move-up'),
                                { animationFillMode: 'forwards' }
                              ),
                              '\n        '
                                .concat(t, '-move-up-appear,\n        ')
                                .concat(t, '-move-up-enter\n      '),
                              {
                                animationName: g,
                                animationDuration: d,
                                animationPlayState: 'paused',
                                animationTimingFunction: c,
                              }
                            ),
                            '\n        '
                              .concat(t, '-move-up-appear')
                              .concat(t, '-move-up-appear-active,\n        ')
                              .concat(t, '-move-up-enter')
                              .concat(t, '-move-up-enter-active\n      '),
                            { animationPlayState: 'running' }
                          ),
                          ''.concat(t, '-move-up-leave'),
                          {
                            animationName: y,
                            animationDuration: d,
                            animationPlayState: 'paused',
                            animationTimingFunction: c,
                          }
                        ),
                        ''.concat(t, '-move-up-leave').concat(t, '-move-up-leave-active'),
                        { animationPlayState: 'running' }
                      ),
                      '&-rtl',
                      { direction: 'rtl', span: { direction: 'rtl' } }
                    )
                  )
                ),
                M(
                  {},
                  ''.concat(t, '-notice'),
                  M(
                    M(
                      M(
                        M(
                          M(
                            M({ padding: f, textAlign: 'center' }, n, {
                              verticalAlign: 'text-bottom',
                              marginInlineEnd: h,
                              fontSize: l,
                            }),
                            ''.concat(t, '-notice-content'),
                            {
                              display: 'inline-block',
                              padding: m,
                              background: i,
                              borderRadius: p,
                              boxShadow: r,
                              pointerEvents: 'all',
                            }
                          ),
                          ''.concat(t, '-success ').concat(n),
                          { color: a }
                        ),
                        ''.concat(t, '-error ').concat(n),
                        { color: o }
                      ),
                      ''.concat(t, '-warning ').concat(n),
                      { color: s }
                    ),
                    '\n        '
                      .concat(t, '-info ')
                      .concat(n, ',\n        ')
                      .concat(t, '-loading ')
                      .concat(n),
                    { color: u }
                  )
                ),
                M({}, ''.concat(t, '-notice-pure-panel'), { padding: 0, textAlign: 'start' }),
              ]
            },
            GQ = iG(
              'Message',
              function (e) {
                var t = sG(e, {
                  messageNoticeContentPadding: ''
                    .concat((e.controlHeightLG - e.fontSize * e.lineHeight) / 2, 'px ')
                    .concat(e.paddingSM, 'px'),
                })
                return [WQ(t)]
              },
              function (e) {
                return { height: 150, zIndexPopup: e.zIndexPopupBase + 10 }
              }
            ),
            jQ = {
              info: ia(AQ, null, null),
              success: ia(mQ, null, null),
              error: ia(Kj, null, null),
              warning: ia(_Q, null, null),
              loading: ia(Hj, null, null),
            },
            QQ = ar({
              name: 'PureContent',
              inheritAttrs: !1,
              props: ['prefixCls', 'type', 'icon'],
              setup: function (e, t) {
                var n = t.slots
                return function () {
                  var t
                  return ia(
                    'div',
                    {
                      class: fV(
                        ''.concat(e.prefixCls, '-custom-content'),
                        ''.concat(e.prefixCls, '-').concat(e.type)
                      ),
                    },
                    [
                      e.icon || jQ[e.type],
                      ia('span', null, [
                        null === (t = n.default) || void 0 === t ? void 0 : t.call(n),
                      ]),
                    ]
                  )
                }
              },
            }),
            qQ = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            XQ = ar({
              name: 'Holder',
              inheritAttrs: !1,
              props: [
                'top',
                'prefixCls',
                'getContainer',
                'maxCount',
                'duration',
                'rtl',
                'transitionName',
                'onAllRemoved',
                'animation',
                'staticGetContainer',
              ],
              setup: function (e, t) {
                var n,
                  r,
                  i = t.expose,
                  a = MG('message', e),
                  o = a.getPrefixCls,
                  s = a.getPopupContainer,
                  u = Ra(function () {
                    return o('message', e.prefixCls)
                  }),
                  l = C(GQ(u), 2)[1],
                  c = ia('span', { class: ''.concat(u.value, '-close-x') }, [
                    ia(Qj, { class: ''.concat(u.value, '-close-icon') }, null),
                  ]),
                  d = HQ({
                    getStyles: function () {
                      var t,
                        n = null !== (t = e.top) && void 0 !== t ? t : 8
                      return {
                        left: '50%',
                        transform: 'translateX(-50%)',
                        top: 'number' == typeof n ? ''.concat(n, 'px') : n,
                      }
                    },
                    prefixCls: u.value,
                    getClassName: function () {
                      return fV(l.value, e.rtl ? ''.concat(u.value, '-rtl') : '')
                    },
                    motion: function () {
                      var t
                      return (function (e) {
                        var t = e.prefixCls,
                          n = e.animation,
                          r = e.transitionName
                        return n ? { name: ''.concat(t, '-').concat(n) } : r ? { name: r } : {}
                      })({
                        prefixCls: u.value,
                        animation: null !== (t = e.animation) && void 0 !== t ? t : 'move-up',
                        transitionName: e.transitionName,
                      })
                    },
                    closable: !1,
                    closeIcon: c,
                    duration: null !== (n = e.duration) && void 0 !== n ? n : 3,
                    getContainer: null !== (r = e.staticGetContainer) && void 0 !== r ? r : s.value,
                    maxCount: e.maxCount,
                    onAllRemoved: e.onAllRemoved,
                  }),
                  h = C(d, 2),
                  f = h[0],
                  p = h[1]
                return (i(uV(uV({}, f), { prefixCls: u, hashId: l })), p)
              },
            }),
            YQ = 0
          function KQ(e) {
            var t = nn(null),
              n = Symbol('messageHolderKey'),
              r = function (e) {
                var n
                null === (n = t.value) || void 0 === n || n.close(e)
              },
              i = function (e) {
                if (!t.value) {
                  var n = function () {}
                  return ((n.then = function () {}), n)
                }
                var i,
                  a,
                  o,
                  s,
                  u = t.value,
                  l = u.open,
                  c = u.prefixCls,
                  d = u.hashId,
                  h = ''.concat(c, '-notice'),
                  f = e.content,
                  p = e.icon,
                  v = e.type,
                  m = e.key,
                  g = e.class,
                  y = e.onClose,
                  x = qQ(e, ['content', 'icon', 'type', 'key', 'class', 'onClose']),
                  _ = m
                return (
                  null == _ && (_ = 'antd-message-'.concat((YQ += 1))),
                  (i = function (e) {
                    return (
                      l(
                        uV(uV({}, x), {
                          key: _,
                          content: function () {
                            return ia(
                              QQ,
                              { prefixCls: c, type: v, icon: 'function' == typeof p ? p() : p },
                              {
                                default: function () {
                                  return ['function' == typeof f ? f() : f]
                                },
                              }
                            )
                          },
                          placement: 'top',
                          class: fV(v && ''.concat(h, '-').concat(v), d, g),
                          onClose: function () {
                            ;(null == y || y(), e())
                          },
                        })
                      ),
                      function () {
                        r(_)
                      }
                    )
                  }),
                  (o = new Promise(function (e) {
                    a = i(function () {
                      e(!0)
                    })
                  })),
                  ((s = function () {
                    null == a || a()
                  }).then = function (e, t) {
                    return o.then(e, t)
                  }),
                  (s.promise = o),
                  s
                )
              },
              a = {
                open: i,
                destroy: function (e) {
                  var n
                  void 0 !== e ? r(e) : null === (n = t.value) || void 0 === n || n.destroy()
                },
              }
            return (
              ['info', 'success', 'warning', 'error', 'loading'].forEach(function (e) {
                a[e] = function (t, n, r) {
                  var a, o
                  'function' == typeof n ? (o = n) : ((a = n), (o = r))
                  var s = uV(
                    uV(
                      { onClose: o, duration: a },
                      t && 'object' === P(t) && 'content' in t ? t : { content: t }
                    ),
                    { type: e }
                  )
                  return i(s)
                }
              }),
              [
                a,
                function () {
                  return ia(XQ, sV(sV({ key: n }, e), {}, { ref: t }), null)
                },
              ]
            )
          }
          var ZQ,
            JQ,
            $Q,
            eq = 3,
            tq = 1,
            nq = '',
            rq = 'move-up',
            iq = !1,
            aq = function () {
              return document.body
            },
            oq = !1
          var sq = { info: AQ, success: mQ, error: Kj, warning: _Q, loading: Hj },
            uq = Object.keys(sq)
          var lq = {
            open: function (e) {
              var t = void 0 !== e.duration ? e.duration : eq,
                n = e.key || tq++,
                r = new Promise(function (r) {
                  var i = function () {
                    return ('function' == typeof e.onClose && e.onClose(), r(!0))
                  }
                  !(function (e, t) {
                    JQ
                      ? t(JQ)
                      : LQ.newInstance(
                          {
                            appContext: e.appContext,
                            prefixCls: e.prefixCls || nq,
                            rootPrefixCls: e.rootPrefixCls,
                            transitionName: rq,
                            hasTransitionName: iq,
                            style: { top: ZQ },
                            getContainer: aq || e.getPopupContainer,
                            maxCount: $Q,
                            name: 'message',
                            useStyle: GQ,
                          },
                          function (e) {
                            JQ ? t(JQ) : ((JQ = e), t(e))
                          }
                        )
                  })(e, function (r) {
                    r.notice({
                      key: n,
                      duration: t,
                      style: e.style || {},
                      class: e.class,
                      content: function (t) {
                        var n = t.prefixCls,
                          r = sq[e.type],
                          i = r ? ia(r, null, null) : '',
                          a = fV(
                            ''.concat(n, '-custom-content'),
                            M(
                              M({}, ''.concat(n, '-').concat(e.type), e.type),
                              ''.concat(n, '-rtl'),
                              !0 === oq
                            )
                          )
                        return ia('div', { class: a }, [
                          'function' == typeof e.icon ? e.icon() : e.icon || i,
                          ia('span', null, [
                            'function' == typeof e.content ? e.content() : e.content,
                          ]),
                        ])
                      },
                      onClose: i,
                      onClick: e.onClick,
                    })
                  })
                }),
                i = function () {
                  JQ && JQ.removeNotice(n)
                }
              return (
                (i.then = function (e, t) {
                  return r.then(e, t)
                }),
                (i.promise = r),
                i
              )
            },
            config: function (e) {
              ;(void 0 !== e.top && ((ZQ = e.top), (JQ = null)),
                void 0 !== e.duration && (eq = e.duration),
                void 0 !== e.prefixCls && (nq = e.prefixCls),
                void 0 !== e.getContainer && ((aq = e.getContainer), (JQ = null)),
                void 0 !== e.transitionName && ((rq = e.transitionName), (JQ = null), (iq = !0)),
                void 0 !== e.maxCount && (($Q = e.maxCount), (JQ = null)),
                void 0 !== e.rtl && (oq = e.rtl))
            },
            destroy: function (e) {
              if (JQ)
                if (e) {
                  ;(0, JQ.removeNotice)(e)
                } else {
                  var t = JQ.destroy
                  ;(t(), (JQ = null))
                }
            },
          }
          function cq(e, t) {
            e[t] = function (n, r, i) {
              return (function (e) {
                return '[object Object]' === Object.prototype.toString.call(e) && !!e.content
              })(n)
                ? e.open(uV(uV({}, n), { type: t }))
                : ('function' == typeof r && ((i = r), (r = void 0)),
                  e.open({ content: n, duration: r, type: t, onClose: i }))
            }
          }
          ;(uq.forEach(function (e) {
            return cq(lq, e)
          }),
            (lq.warn = lq.warning),
            (lq.useMessage = function (e) {
              return KQ(e)
            }))
          var dq = function (e) {
              var t = e.componentCls,
                n = e.width,
                r = e.notificationMarginEdge,
                i = new hW('antNotificationTopFadeIn', {
                  '0%': { marginTop: '-100%', opacity: 0 },
                  '100%': { marginTop: 0, opacity: 1 },
                }),
                a = new hW('antNotificationBottomFadeIn', {
                  '0%': { marginBottom: '-100%', opacity: 0 },
                  '100%': { marginBottom: 0, opacity: 1 },
                }),
                o = new hW('antNotificationLeftFadeIn', {
                  '0%': { right: { _skip_check_: !0, value: n }, opacity: 0 },
                  '100%': { right: { _skip_check_: !0, value: 0 }, opacity: 1 },
                })
              return M(
                M(
                  M(
                    M({}, '&'.concat(t, '-top, &').concat(t, '-bottom'), { marginInline: 0 }),
                    '&'.concat(t, '-top'),
                    M(
                      {},
                      ''
                        .concat(t, '-fade-enter')
                        .concat(t, '-fade-enter-active, ')
                        .concat(t, '-fade-appear')
                        .concat(t, '-fade-appear-active'),
                      { animationName: i }
                    )
                  ),
                  '&'.concat(t, '-bottom'),
                  M(
                    {},
                    ''
                      .concat(t, '-fade-enter')
                      .concat(t, '-fade-enter-active, ')
                      .concat(t, '-fade-appear')
                      .concat(t, '-fade-appear-active'),
                    { animationName: a }
                  )
                ),
                '&'.concat(t, '-topLeft, &').concat(t, '-bottomLeft'),
                M(
                  { marginInlineEnd: 0, marginInlineStart: r },
                  ''
                    .concat(t, '-fade-enter')
                    .concat(t, '-fade-enter-active, ')
                    .concat(t, '-fade-appear')
                    .concat(t, '-fade-appear-active'),
                  { animationName: o }
                )
              )
            },
            hq = function (e) {
              var t = e.iconCls,
                n = e.componentCls,
                r = e.boxShadowSecondary,
                i = e.fontSizeLG,
                a = e.notificationMarginBottom,
                o = e.borderRadiusLG,
                s = e.colorSuccess,
                u = e.colorInfo,
                l = e.colorWarning,
                c = e.colorError,
                d = e.colorTextHeading,
                h = e.notificationBg,
                f = e.notificationPadding,
                p = e.notificationMarginEdge,
                v = e.motionDurationMid,
                m = e.motionEaseInOut,
                g = e.fontSize,
                y = e.lineHeight,
                x = e.width,
                _ = e.notificationIconSize,
                b = ''.concat(n, '-notice'),
                S = new hW('antNotificationFadeIn', {
                  '0%': { left: { _skip_check_: !0, value: x }, opacity: 0 },
                  '100%': { left: { _skip_check_: !0, value: 0 }, opacity: 1 },
                }),
                w = new hW('antNotificationFadeOut', {
                  '0%': { maxHeight: e.animationMaxHeight, marginBottom: a, opacity: 1 },
                  '100%': {
                    maxHeight: 0,
                    marginBottom: 0,
                    paddingTop: 0,
                    paddingBottom: 0,
                    opacity: 0,
                  },
                })
              return [
                M(
                  {},
                  n,
                  uV(
                    uV(
                      uV(
                        uV({}, tG(e)),
                        M(
                          M(
                            M(
                              M(
                                M(
                                  M(
                                    M(
                                      {
                                        position: 'fixed',
                                        zIndex: e.zIndexPopup,
                                        marginInlineEnd: p,
                                      },
                                      ''.concat(n, '-hook-holder'),
                                      { position: 'relative' }
                                    ),
                                    '&'.concat(n, '-top, &').concat(n, '-bottom'),
                                    M({}, ''.concat(n, '-notice'), { marginInline: 'auto auto' })
                                  ),
                                  '&'.concat(n, '-topLeft, &').concat(n, '-bottomLeft'),
                                  M({}, ''.concat(n, '-notice'), {
                                    marginInlineEnd: 'auto',
                                    marginInlineStart: 0,
                                  })
                                ),
                                ''.concat(n, '-fade-enter, ').concat(n, '-fade-appear'),
                                {
                                  animationDuration: e.motionDurationMid,
                                  animationTimingFunction: m,
                                  animationFillMode: 'both',
                                  opacity: 0,
                                  animationPlayState: 'paused',
                                }
                              ),
                              ''.concat(n, '-fade-leave'),
                              {
                                animationTimingFunction: m,
                                animationFillMode: 'both',
                                animationDuration: v,
                                animationPlayState: 'paused',
                              }
                            ),
                            ''
                              .concat(n, '-fade-enter')
                              .concat(n, '-fade-enter-active, ')
                              .concat(n, '-fade-appear')
                              .concat(n, '-fade-appear-active'),
                            { animationName: S, animationPlayState: 'running' }
                          ),
                          ''.concat(n, '-fade-leave').concat(n, '-fade-leave-active'),
                          { animationName: w, animationPlayState: 'running' }
                        )
                      ),
                      dq(e)
                    ),
                    {
                      '&-rtl': M({ direction: 'rtl' }, ''.concat(n, '-notice-btn'), {
                        float: 'left',
                      }),
                    }
                  )
                ),
                M(
                  {},
                  b,
                  M(
                    M(
                      M(
                        M(
                          M(
                            M(
                              M(
                                M(
                                  M(
                                    {
                                      position: 'relative',
                                      width: x,
                                      maxWidth: 'calc(100vw - '.concat(2 * p, 'px)'),
                                      marginBottom: a,
                                      marginInlineStart: 'auto',
                                      padding: f,
                                      overflow: 'hidden',
                                      lineHeight: y,
                                      wordWrap: 'break-word',
                                      background: h,
                                      borderRadius: o,
                                      boxShadow: r,
                                    },
                                    ''.concat(n, '-close-icon'),
                                    { fontSize: g, cursor: 'pointer' }
                                  ),
                                  ''.concat(b, '-message'),
                                  {
                                    marginBottom: e.marginXS,
                                    color: d,
                                    fontSize: i,
                                    lineHeight: e.lineHeightLG,
                                  }
                                ),
                                ''.concat(b, '-description'),
                                { fontSize: g }
                              ),
                              '&'.concat(b, '-closable ').concat(b, '-message'),
                              { paddingInlineEnd: e.paddingLG }
                            ),
                            ''.concat(b, '-with-icon ').concat(b, '-message'),
                            {
                              marginBottom: e.marginXS,
                              marginInlineStart: e.marginSM + _,
                              fontSize: i,
                            }
                          ),
                          ''.concat(b, '-with-icon ').concat(b, '-description'),
                          { marginInlineStart: e.marginSM + _, fontSize: g }
                        ),
                        ''.concat(b, '-icon'),
                        M(
                          M(
                            M(
                              M(
                                { position: 'absolute', fontSize: _, lineHeight: 0 },
                                '&-success'.concat(t),
                                { color: s }
                              ),
                              '&-info'.concat(t),
                              { color: u }
                            ),
                            '&-warning'.concat(t),
                            { color: l }
                          ),
                          '&-error'.concat(t),
                          { color: c }
                        )
                      ),
                      ''.concat(b, '-close'),
                      {
                        position: 'absolute',
                        top: e.notificationPaddingVertical,
                        insetInlineEnd: e.notificationPaddingHorizontal,
                        color: e.colorIcon,
                        outline: 'none',
                        width: e.notificationCloseButtonSize,
                        height: e.notificationCloseButtonSize,
                        borderRadius: e.borderRadiusSM,
                        transition: 'background-color '
                          .concat(e.motionDurationMid, ', color ')
                          .concat(e.motionDurationMid),
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        '&:hover': {
                          color: e.colorIconHover,
                          backgroundColor: e.wireframe ? 'transparent' : e.colorFillContent,
                        },
                      }
                    ),
                    ''.concat(b, '-btn'),
                    { float: 'right', marginTop: e.marginSM }
                  )
                ),
                M({}, ''.concat(b, '-pure-panel'), { margin: 0 }),
              ]
            },
            fq = iG(
              'Notification',
              function (e) {
                var t = e.paddingMD,
                  n = e.paddingLG,
                  r = sG(e, {
                    notificationBg: e.colorBgElevated,
                    notificationPaddingVertical: t,
                    notificationPaddingHorizontal: n,
                    notificationPadding: ''
                      .concat(e.paddingMD, 'px ')
                      .concat(e.paddingContentHorizontalLG, 'px'),
                    notificationMarginBottom: e.margin,
                    notificationMarginEdge: e.marginLG,
                    animationMaxHeight: 150,
                    notificationIconSize: e.fontSizeLG * e.lineHeightLG,
                    notificationCloseButtonSize: 0.55 * e.controlHeightLG,
                  })
                return [hq(r)]
              },
              function (e) {
                return { zIndexPopup: e.zIndexPopupBase + 50, width: 384 }
              }
            )
          function pq(e, t) {
            return (
              t ||
              ia('span', { class: ''.concat(e, '-close-x') }, [
                ia(Qj, { class: ''.concat(e, '-close-icon') }, null),
              ])
            )
          }
          ;(ia(AQ, null, null),
            ia(mQ, null, null),
            ia(Kj, null, null),
            ia(_Q, null, null),
            ia(Hj, null, null))
          var vq = { success: mQ, info: AQ, error: Kj, warning: _Q }
          function mq(e) {
            var t = e.prefixCls,
              n = e.icon,
              r = e.type,
              i = e.message,
              a = e.description,
              o = e.btn,
              s = null
            if (n) s = ia('span', { class: ''.concat(t, '-icon') }, [hV(n)])
            else if (r) {
              s = ia(vq[r], { class: ''.concat(t, '-icon ').concat(t, '-icon-').concat(r) }, null)
            }
            return ia('div', { class: fV(M({}, ''.concat(t, '-with-icon'), s)), role: 'alert' }, [
              s,
              ia('div', { class: ''.concat(t, '-message') }, [i]),
              ia('div', { class: ''.concat(t, '-description') }, [a]),
              o && ia('div', { class: ''.concat(t, '-btn') }, [o]),
            ])
          }
          function gq(e, t, n) {
            var r
            switch (
              ((t = 'number' == typeof t ? ''.concat(t, 'px') : t),
              (n = 'number' == typeof n ? ''.concat(n, 'px') : n),
              e)
            ) {
              case 'top':
                r = {
                  left: '50%',
                  transform: 'translateX(-50%)',
                  right: 'auto',
                  top: t,
                  bottom: 'auto',
                }
                break
              case 'topLeft':
                r = { left: 0, top: t, bottom: 'auto' }
                break
              case 'topRight':
                r = { right: 0, top: t, bottom: 'auto' }
                break
              case 'bottom':
                r = {
                  left: '50%',
                  transform: 'translateX(-50%)',
                  right: 'auto',
                  top: 'auto',
                  bottom: n,
                }
                break
              case 'bottomLeft':
                r = { left: 0, top: 'auto', bottom: n }
                break
              default:
                r = { right: 0, top: 'auto', bottom: n }
            }
            return r
          }
          var yq = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            xq = ar({
              name: 'Holder',
              inheritAttrs: !1,
              props: ['prefixCls', 'class', 'type', 'icon', 'content', 'onAllRemoved'],
              setup: function (e, t) {
                var n = t.expose,
                  r = MG('notification', e),
                  i = r.getPrefixCls,
                  a = r.getPopupContainer,
                  o = Ra(function () {
                    return e.prefixCls || i('notification')
                  }),
                  s = C(fq(o), 2)[1],
                  u = C(
                    HQ({
                      prefixCls: o.value,
                      getStyles: function (t) {
                        var n, r
                        return gq(
                          t,
                          null !== (n = e.top) && void 0 !== n ? n : 24,
                          null !== (r = e.bottom) && void 0 !== r ? r : 24
                        )
                      },
                      getClassName: function () {
                        return fV(s.value, M({}, ''.concat(o.value, '-rtl'), e.rtl))
                      },
                      motion: function () {
                        return (function (e) {
                          return { name: ''.concat(e, '-fade') }
                        })(o.value)
                      },
                      closable: !0,
                      closeIcon: pq(o.value),
                      duration: 4.5,
                      getContainer: function () {
                        var t, n
                        return (
                          (null === (t = e.getPopupContainer) || void 0 === t
                            ? void 0
                            : t.call(e)) ||
                          (null === (n = a.value) || void 0 === n ? void 0 : n.call(a)) ||
                          document.body
                        )
                      },
                      maxCount: e.maxCount,
                      hashId: s.value,
                      onAllRemoved: e.onAllRemoved,
                    }),
                    2
                  ),
                  l = u[0],
                  c = u[1]
                return (n(uV(uV({}, l), { prefixCls: o.value, hashId: s })), c)
              },
            })
          var _q,
            bq = {},
            Sq = 4.5,
            wq = '24px',
            Aq = '24px',
            Tq = '',
            Mq = 'topRight',
            Eq = function () {
              return document.body
            },
            Cq = null,
            kq = !1
          var Rq = { success: eQ, info: uQ, error: hQ, warning: iQ }
          var Iq = {
            open: function (e) {
              var t = e.icon,
                n = e.type,
                r = e.description,
                i = e.message,
                a = e.btn,
                o = void 0 === e.duration ? Sq : e.duration
              !(function (e, t) {
                var n = e.prefixCls,
                  r = e.placement,
                  i = void 0 === r ? Mq : r,
                  a = e.getContainer,
                  o = void 0 === a ? Eq : a,
                  s = e.top,
                  u = e.bottom,
                  l = e.closeIcon,
                  c = void 0 === l ? Cq : l,
                  d = e.appContext,
                  h = (0, zq().getPrefixCls)('notification', n || Tq),
                  f = ''.concat(h, '-').concat(i, '-').concat(kq),
                  p = bq[f]
                if (p)
                  Promise.resolve(p).then(function (e) {
                    t(e)
                  })
                else {
                  var v = fV(''.concat(h, '-').concat(i), M({}, ''.concat(h, '-rtl'), !0 === kq))
                  LQ.newInstance(
                    {
                      name: 'notification',
                      prefixCls: n || Tq,
                      useStyle: fq,
                      class: v,
                      style: gq(i, null != s ? s : wq, null != u ? u : Aq),
                      appContext: d,
                      getContainer: o,
                      closeIcon: function (e) {
                        var t = e.prefixCls
                        return ia('span', { class: ''.concat(t, '-close-x') }, [
                          hV(c, {}, ia(Qj, { class: ''.concat(t, '-close-icon') }, null)),
                        ])
                      },
                      maxCount: _q,
                      hasTransitionName: !0,
                    },
                    function (e) {
                      ;((bq[f] = e), t(e))
                    }
                  )
                }
              })(e, function (s) {
                s.notice({
                  content: function (e) {
                    var o = e.prefixCls,
                      s = ''.concat(o, '-notice'),
                      u = null
                    if (t)
                      u = function () {
                        return ia('span', { class: ''.concat(s, '-icon') }, [hV(t)])
                      }
                    else if (n) {
                      var l = Rq[n]
                      u = function () {
                        return ia(
                          l,
                          { class: ''.concat(s, '-icon ').concat(s, '-icon-').concat(n) },
                          null
                        )
                      }
                    }
                    return ia('div', { class: u ? ''.concat(s, '-with-icon') : '' }, [
                      u && u(),
                      ia('div', { class: ''.concat(s, '-message') }, [
                        !r && u
                          ? ia(
                              'span',
                              { class: ''.concat(s, '-message-single-line-auto-margin') },
                              null
                            )
                          : null,
                        hV(i),
                      ]),
                      ia('div', { class: ''.concat(s, '-description') }, [hV(r)]),
                      a ? ia('span', { class: ''.concat(s, '-btn') }, [hV(a)]) : null,
                    ])
                  },
                  duration: o,
                  closable: !0,
                  onClose: e.onClose,
                  onClick: e.onClick,
                  key: e.key,
                  style: e.style || {},
                  class: e.class,
                })
              })
            },
            close: function (e) {
              Object.keys(bq).forEach(function (t) {
                return Promise.resolve(bq[t]).then(function (t) {
                  t.removeNotice(e)
                })
              })
            },
            config: function (e) {
              var t = e.duration,
                n = e.placement,
                r = e.bottom,
                i = e.top,
                a = e.getContainer,
                o = e.closeIcon,
                s = e.prefixCls
              ;(void 0 !== s && (Tq = s),
                void 0 !== t && (Sq = t),
                void 0 !== n && (Mq = n),
                void 0 !== r && (Aq = 'number' == typeof r ? ''.concat(r, 'px') : r),
                void 0 !== i && (wq = 'number' == typeof i ? ''.concat(i, 'px') : i),
                void 0 !== a && (Eq = a),
                void 0 !== o && (Cq = o),
                void 0 !== e.rtl && (kq = e.rtl),
                void 0 !== e.maxCount && (_q = e.maxCount))
            },
            destroy: function () {
              Object.keys(bq).forEach(function (e) {
                ;(Promise.resolve(bq[e]).then(function (e) {
                  e.destroy()
                }),
                  delete bq[e])
              })
            },
          }
          ;(['success', 'info', 'warning', 'error'].forEach(function (e) {
            Iq[e] = function (t) {
              return Iq.open(uV(uV({}, t), { type: e }))
            }
          }),
            (Iq.warn = Iq.warning),
            (Iq.useNotification = function (e) {
              return (function (e) {
                var t = nn(null),
                  n = Symbol('notificationHolderKey'),
                  r = function (e) {
                    if (t.value) {
                      var n = t.value,
                        r = n.open,
                        i = n.prefixCls,
                        a = n.hashId,
                        o = ''.concat(i, '-notice'),
                        s = e.message,
                        u = e.description,
                        l = e.icon,
                        c = e.type,
                        d = e.btn,
                        h = e.class
                      return r(
                        uV(
                          uV(
                            { placement: 'topRight' },
                            yq(e, ['message', 'description', 'icon', 'type', 'btn', 'class'])
                          ),
                          {
                            content: function () {
                              return ia(
                                mq,
                                {
                                  prefixCls: o,
                                  icon: 'function' == typeof l ? l() : l,
                                  type: c,
                                  message: 'function' == typeof s ? s() : s,
                                  description: 'function' == typeof u ? u() : u,
                                  btn: 'function' == typeof d ? d() : d,
                                },
                                null
                              )
                            },
                            class: fV(c && ''.concat(o, '-').concat(c), a, h),
                          }
                        )
                      )
                    }
                  },
                  i = {
                    open: r,
                    destroy: function (e) {
                      var n, r
                      void 0 !== e
                        ? null === (n = t.value) || void 0 === n || n.close(e)
                        : null === (r = t.value) || void 0 === r || r.destroy()
                    },
                  }
                return (
                  ['success', 'info', 'warning', 'error'].forEach(function (e) {
                    i[e] = function (t) {
                      return r(uV(uV({}, t), { type: e }))
                    }
                  }),
                  [
                    i,
                    function () {
                      return ia(xq, sV(sV({ key: n }, e), {}, { ref: t }), null)
                    },
                  ]
                )
              })(e)
            }))
          var Nq = '-ant-'.concat(Date.now(), '-').concat(Math.random())
          function Pq(e, t) {
            var n = (function (e, t) {
              var n = {},
                r = function (e, t) {
                  var n = e.clone()
                  return (n = (null == t ? void 0 : t(n)) || n).toRgbString()
                },
                i = function (e, t) {
                  var i = new NW(e),
                    a = UW(i.toRgbString())
                  ;((n[''.concat(t, '-color')] = r(i)),
                    (n[''.concat(t, '-color-disabled')] = a[1]),
                    (n[''.concat(t, '-color-hover')] = a[4]),
                    (n[''.concat(t, '-color-active')] = a[6]),
                    (n[''.concat(t, '-color-outline')] = i.clone().setAlpha(0.2).toRgbString()),
                    (n[''.concat(t, '-color-deprecated-bg')] = a[0]),
                    (n[''.concat(t, '-color-deprecated-border')] = a[2]))
                }
              if (t.primaryColor) {
                i(t.primaryColor, 'primary')
                var a = new NW(t.primaryColor),
                  o = UW(a.toRgbString())
                ;(o.forEach(function (e, t) {
                  n['primary-'.concat(t + 1)] = e
                }),
                  (n['primary-color-deprecated-l-35'] = r(a, function (e) {
                    return e.lighten(35)
                  })),
                  (n['primary-color-deprecated-l-20'] = r(a, function (e) {
                    return e.lighten(20)
                  })),
                  (n['primary-color-deprecated-t-20'] = r(a, function (e) {
                    return e.tint(20)
                  })),
                  (n['primary-color-deprecated-t-50'] = r(a, function (e) {
                    return e.tint(50)
                  })),
                  (n['primary-color-deprecated-f-12'] = r(a, function (e) {
                    return e.setAlpha(0.12 * e.getAlpha())
                  })))
                var s = new NW(o[0])
                ;((n['primary-color-active-deprecated-f-30'] = r(s, function (e) {
                  return e.setAlpha(0.3 * e.getAlpha())
                })),
                  (n['primary-color-active-deprecated-d-02'] = r(s, function (e) {
                    return e.darken(2)
                  })))
              }
              ;(t.successColor && i(t.successColor, 'success'),
                t.warningColor && i(t.warningColor, 'warning'),
                t.errorColor && i(t.errorColor, 'error'),
                t.infoColor && i(t.infoColor, 'info'))
              var u = Object.keys(n).map(function (t) {
                return '--'.concat(e, '-').concat(t, ': ').concat(n[t], ';')
              })
              return '\n  :root {\n    '.concat(u.join('\n'), '\n  }\n  ').trim()
            })(e, t)
            jV() && eH(n, ''.concat(Nq, '-dynamic-theme'))
          }
          var Lq = function (e, t) {
            var n = {}
            for (var r in e)
              Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
            if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
              var i = 0
              for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                t.indexOf(r[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                  (n[r[i]] = e[r[i]])
            }
            return n
          }
          function Dq() {
            return Uq.prefixCls || 'ant'
          }
          function Oq() {
            return Uq.iconPrefixCls || bV
          }
          var Fq,
            Bq = Wt({}),
            Uq = Wt({})
          Mi(function () {
            ;(uV(Uq, Bq),
              (Uq.prefixCls = Dq()),
              (Uq.iconPrefixCls = Oq()),
              (Uq.getPrefixCls = function (e, t) {
                return t || (e ? ''.concat(Uq.prefixCls, '-').concat(e) : Uq.prefixCls)
              }),
              (Uq.getRootPrefixCls = function () {
                return Uq.prefixCls ? Uq.prefixCls : Dq()
              }))
          })
          var zq = function () {
              return {
                getPrefixCls: function (e, t) {
                  return t || (e ? ''.concat(Dq(), '-').concat(e) : Dq())
                },
                getIconPrefixCls: Oq,
                getRootPrefixCls: function () {
                  return Uq.prefixCls ? Uq.prefixCls : Dq()
                },
              }
            },
            Vq = ar({
              compatConfig: { MODE: 3 },
              name: 'AConfigProvider',
              inheritAttrs: !1,
              props: {
                iconPrefixCls: String,
                getTargetContainer: { type: Function },
                getPopupContainer: { type: Function },
                prefixCls: String,
                getPrefixCls: { type: Function },
                renderEmpty: { type: Function },
                transformCellText: { type: Function },
                csp: mV(),
                input: mV(),
                autoInsertSpaceInButton: { type: Boolean, default: void 0 },
                locale: mV(),
                pageHeader: mV(),
                componentSize: { type: String },
                componentDisabled: { type: Boolean, default: void 0 },
                direction: { type: String, default: 'ltr' },
                space: mV(),
                virtual: { type: Boolean, default: void 0 },
                dropdownMatchSelectWidth: { type: [Number, Boolean], default: !0 },
                form: mV(),
                pagination: mV(),
                theme: mV(),
                select: mV(),
                wave: mV(),
              },
              setup: function (e, t) {
                var n,
                  r,
                  i,
                  a,
                  o = t.slots,
                  s = TV(),
                  u = Ra(function () {
                    return e.iconPrefixCls || s.iconPrefixCls.value || bV
                  }),
                  l = Ra(function () {
                    return u.value !== s.iconPrefixCls.value
                  }),
                  c = Ra(function () {
                    var t
                    return e.csp || (null === (t = s.csp) || void 0 === t ? void 0 : t.value)
                  }),
                  d = (function (e) {
                    var t = C(pG(), 2),
                      n = t[0],
                      r = t[1]
                    return dW(
                      Ra(function () {
                        return {
                          theme: n.value,
                          token: r.value,
                          hashId: '',
                          path: ['ant-design-icons', e.value],
                        }
                      }),
                      function () {
                        return [
                          M(
                            {},
                            '.'.concat(e.value),
                            uV(
                              uV(
                                {},
                                {
                                  display: 'inline-flex',
                                  alignItems: 'center',
                                  color: 'inherit',
                                  fontStyle: 'normal',
                                  lineHeight: 0,
                                  textAlign: 'center',
                                  textTransform: 'none',
                                  verticalAlign: '-0.125em',
                                  textRendering: 'optimizeLegibility',
                                  '-webkit-font-smoothing': 'antialiased',
                                  '-moz-osx-font-smoothing': 'grayscale',
                                  '> *': { lineHeight: 1 },
                                  svg: { display: 'inline-block' },
                                }
                              ),
                              M({}, '.'.concat(e.value, ' .').concat(e.value, '-icon'), {
                                display: 'block',
                              })
                            )
                          ),
                        ]
                      }
                    )
                  })(u),
                  h =
                    ((n = Ra(function () {
                      return e.theme
                    })),
                    (r = Ra(function () {
                      var e
                      return null === (e = s.theme) || void 0 === e ? void 0 : e.value
                    })),
                    (i = Ra(function () {
                      return (null == n ? void 0 : n.value) || {}
                    })),
                    (a = Ra(function () {
                      return !1 !== i.value.inherit && (null == r ? void 0 : r.value) ? r.value : cG
                    })),
                    Ra(function () {
                      if (!(null == n ? void 0 : n.value)) return null == r ? void 0 : r.value
                      var e = uV({}, a.value.components)
                      return (
                        Object.keys(n.value.components || {}).forEach(function (t) {
                          e[t] = uV(uV({}, e[t]), n.value.components[t])
                        }),
                        uV(uV(uV({}, a.value), i.value), {
                          token: uV(uV({}, a.value.token), i.value.token),
                          components: e,
                        })
                      )
                    })),
                  f = Ra(function () {
                    var t, n
                    return null !== (t = e.autoInsertSpaceInButton) && void 0 !== t
                      ? t
                      : null === (n = s.autoInsertSpaceInButton) || void 0 === n
                        ? void 0
                        : n.value
                  }),
                  p = Ra(function () {
                    var t
                    return e.locale || (null === (t = s.locale) || void 0 === t ? void 0 : t.value)
                  })
                Ei(
                  p,
                  function () {
                    Bq.locale = p.value
                  },
                  { immediate: !0 }
                )
                var v,
                  m,
                  g,
                  y,
                  x = Ra(function () {
                    var t
                    return (
                      e.direction || (null === (t = s.direction) || void 0 === t ? void 0 : t.value)
                    )
                  }),
                  _ = Ra(function () {
                    var t, n
                    return null !== (t = e.space) && void 0 !== t
                      ? t
                      : null === (n = s.space) || void 0 === n
                        ? void 0
                        : n.value
                  }),
                  b = Ra(function () {
                    var t, n
                    return null !== (t = e.virtual) && void 0 !== t
                      ? t
                      : null === (n = s.virtual) || void 0 === n
                        ? void 0
                        : n.value
                  }),
                  S = Ra(function () {
                    var t, n
                    return null !== (t = e.dropdownMatchSelectWidth) && void 0 !== t
                      ? t
                      : null === (n = s.dropdownMatchSelectWidth) || void 0 === n
                        ? void 0
                        : n.value
                  }),
                  w = Ra(function () {
                    var t
                    return void 0 !== e.getTargetContainer
                      ? e.getTargetContainer
                      : null === (t = s.getTargetContainer) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  A = Ra(function () {
                    var t
                    return void 0 !== e.getPopupContainer
                      ? e.getPopupContainer
                      : null === (t = s.getPopupContainer) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  T = Ra(function () {
                    var t
                    return void 0 !== e.pageHeader
                      ? e.pageHeader
                      : null === (t = s.pageHeader) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  E = Ra(function () {
                    var t
                    return void 0 !== e.input
                      ? e.input
                      : null === (t = s.input) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  k = Ra(function () {
                    var t
                    return void 0 !== e.pagination
                      ? e.pagination
                      : null === (t = s.pagination) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  R = Ra(function () {
                    var t
                    return void 0 !== e.form
                      ? e.form
                      : null === (t = s.form) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  I = Ra(function () {
                    var t
                    return void 0 !== e.select
                      ? e.select
                      : null === (t = s.select) || void 0 === t
                        ? void 0
                        : t.value
                  }),
                  N = Ra(function () {
                    return e.componentSize
                  }),
                  P = Ra(function () {
                    return e.componentDisabled
                  }),
                  L = Ra(function () {
                    var t, n
                    return null !== (t = e.wave) && void 0 !== t
                      ? t
                      : null === (n = s.wave) || void 0 === n
                        ? void 0
                        : n.value
                  }),
                  D = {
                    csp: c,
                    autoInsertSpaceInButton: f,
                    locale: p,
                    direction: x,
                    space: _,
                    virtual: b,
                    dropdownMatchSelectWidth: S,
                    getPrefixCls: function (t, n) {
                      var r = e.prefixCls
                      if (n) return n
                      var i = (void 0 === r ? 'ant' : r) || s.getPrefixCls('')
                      return t ? ''.concat(i, '-').concat(t) : i
                    },
                    iconPrefixCls: u,
                    theme: Ra(function () {
                      var e, t
                      return null !== (e = h.value) && void 0 !== e
                        ? e
                        : null === (t = s.theme) || void 0 === t
                          ? void 0
                          : t.value
                    }),
                    renderEmpty: function (t) {
                      return (e.renderEmpty || o.renderEmpty || s.renderEmpty || wG)(t)
                    },
                    getTargetContainer: w,
                    getPopupContainer: A,
                    pageHeader: T,
                    input: E,
                    pagination: k,
                    form: R,
                    select: I,
                    componentSize: N,
                    componentDisabled: P,
                    transformCellText: Ra(function () {
                      return e.transformCellText
                    }),
                    wave: L,
                  },
                  O = Ra(function () {
                    var e = h.value || {},
                      t = e.algorithm,
                      n = e.token,
                      r = Lq(e, ['algorithm', 'token']),
                      i = t && (!Array.isArray(t) || t.length > 0) ? oH(t) : void 0
                    return uV(uV({}, r), { theme: i, token: uV(uV({}, jW), n) })
                  }),
                  F = Ra(function () {
                    var t,
                      n,
                      r = {}
                    return (
                      p.value &&
                        (r =
                          (null === (t = p.value.Form) || void 0 === t
                            ? void 0
                            : t.defaultValidateMessages) ||
                          (null === (n = IV.Form) || void 0 === n
                            ? void 0
                            : n.defaultValidateMessages) ||
                          {}),
                      e.form &&
                        e.form.validateMessages &&
                        (r = uV(uV({}, r), e.form.validateMessages)),
                      r
                    )
                  })
                ;(!(function (e) {
                  ti(wV, e)
                })(D),
                  ti(SV, { validateMessages: F }),
                  (v = N),
                  (m = TG()),
                  ti(
                    AG,
                    Ra(function () {
                      return v.value || m.value
                    })
                  ),
                  (g = P),
                  (y = EV()),
                  ti(
                    MV,
                    Ra(function () {
                      var e
                      return null !== (e = g.value) && void 0 !== e ? e : y.value
                    })
                  ))
                return (
                  Mi(function () {
                    x.value &&
                      (lq.config({ rtl: 'rtl' === x.value }), Iq.config({ rtl: 'rtl' === x.value }))
                  }),
                  function () {
                    return ia(
                      NV,
                      {
                        children: function (t, n, r) {
                          return (function (t) {
                            var n,
                              r,
                              i = l.value
                                ? d(null === (n = o.default) || void 0 === n ? void 0 : n.call(o))
                                : null === (r = o.default) || void 0 === r
                                  ? void 0
                                  : r.call(o)
                            if (e.theme) {
                              var a = i
                              i = ia(
                                fG,
                                { value: O.value },
                                {
                                  default: function () {
                                    return [a]
                                  },
                                }
                              )
                            }
                            return ia(
                              CQ,
                              { locale: p.value || t, ANT_MARK__: MQ },
                              {
                                default: function () {
                                  return [i]
                                },
                              }
                            )
                          })(r)
                        },
                      },
                      null
                    )
                  }
                )
              },
            })
          function Hq(e, t, n) {
            var r = {}.atBegin
            return (function (e, t, n) {
              var r,
                i = n || {},
                a = i.noTrailing,
                o = void 0 !== a && a,
                s = i.noLeading,
                u = void 0 !== s && s,
                l = i.debounceMode,
                c = void 0 === l ? void 0 : l,
                d = !1,
                h = 0
              function f() {
                r && clearTimeout(r)
              }
              function p() {
                for (var n = arguments.length, i = new Array(n), a = 0; a < n; a++)
                  i[a] = arguments[a]
                var s = this,
                  l = Date.now() - h
                function p() {
                  ;((h = Date.now()), t.apply(s, i))
                }
                function v() {
                  r = void 0
                }
                d ||
                  (u || !c || r || p(),
                  f(),
                  void 0 === c && l > e
                    ? u
                      ? ((h = Date.now()), o || (r = setTimeout(c ? v : p, e)))
                      : p()
                    : !0 !== o && (r = setTimeout(c ? v : p, void 0 === c ? e - l : e)))
              }
              return (
                (p.cancel = function (e) {
                  var t = (e || {}).upcomingOnly,
                    n = void 0 !== t && t
                  ;(f(), (d = !n))
                }),
                p
              )
            })(e, t, { debounceMode: !1 !== (void 0 !== r && r) })
          }
          ;((Vq.config = function (e) {
            ;(Fq && Fq(),
              (Fq = Mi(function () {
                ;(uV(Bq, Wt(e)), uV(Uq, Wt(e)))
              })),
              e.theme && Pq(Dq(), e.theme))
          }),
            (Vq.install = function (e) {
              e.component(Vq.name, Vq)
            }))
          var Wq = new hW('antSpinMove', { to: { opacity: 1 } }),
            Gq = new hW('antRotate', { to: { transform: 'rotate(405deg)' } }),
            jq = function (e) {
              return M(
                {},
                ''.concat(e.componentCls),
                uV(
                  uV({}, tG(e)),
                  M(
                    M(
                      M(
                        M(
                          M(
                            {
                              position: 'absolute',
                              display: 'none',
                              color: e.colorPrimary,
                              textAlign: 'center',
                              verticalAlign: 'middle',
                              opacity: 0,
                              transition: 'transform '
                                .concat(e.motionDurationSlow, ' ')
                                .concat(e.motionEaseInOutCirc),
                              '&-spinning': {
                                position: 'static',
                                display: 'inline-block',
                                opacity: 1,
                              },
                              '&-nested-loading': M(
                                M(
                                  M(
                                    { position: 'relative' },
                                    '> div > '.concat(e.componentCls),
                                    M(
                                      M(
                                        M(
                                          M(
                                            M(
                                              {
                                                position: 'absolute',
                                                top: 0,
                                                insetInlineStart: 0,
                                                zIndex: 4,
                                                display: 'block',
                                                width: '100%',
                                                height: '100%',
                                                maxHeight: e.contentHeight,
                                              },
                                              ''.concat(e.componentCls, '-dot'),
                                              {
                                                position: 'absolute',
                                                top: '50%',
                                                insetInlineStart: '50%',
                                                margin: -e.spinDotSize / 2,
                                              }
                                            ),
                                            ''.concat(e.componentCls, '-text'),
                                            {
                                              position: 'absolute',
                                              top: '50%',
                                              width: '100%',
                                              paddingTop: (e.spinDotSize - e.fontSize) / 2 + 2,
                                              textShadow: '0 1px 2px '.concat(e.colorBgContainer),
                                            }
                                          ),
                                          '&'
                                            .concat(e.componentCls, '-show-text ')
                                            .concat(e.componentCls, '-dot'),
                                          { marginTop: -e.spinDotSize / 2 - 10 }
                                        ),
                                        '&-sm',
                                        M(
                                          M(
                                            M({}, ''.concat(e.componentCls, '-dot'), {
                                              margin: -e.spinDotSizeSM / 2,
                                            }),
                                            ''.concat(e.componentCls, '-text'),
                                            { paddingTop: (e.spinDotSizeSM - e.fontSize) / 2 + 2 }
                                          ),
                                          '&'
                                            .concat(e.componentCls, '-show-text ')
                                            .concat(e.componentCls, '-dot'),
                                          { marginTop: -e.spinDotSizeSM / 2 - 10 }
                                        )
                                      ),
                                      '&-lg',
                                      M(
                                        M(
                                          M({}, ''.concat(e.componentCls, '-dot'), {
                                            margin: -e.spinDotSizeLG / 2,
                                          }),
                                          ''.concat(e.componentCls, '-text'),
                                          { paddingTop: (e.spinDotSizeLG - e.fontSize) / 2 + 2 }
                                        ),
                                        '&'
                                          .concat(e.componentCls, '-show-text ')
                                          .concat(e.componentCls, '-dot'),
                                        { marginTop: -e.spinDotSizeLG / 2 - 10 }
                                      )
                                    )
                                  ),
                                  ''.concat(e.componentCls, '-container'),
                                  {
                                    position: 'relative',
                                    transition: 'opacity '.concat(e.motionDurationSlow),
                                    '&::after': {
                                      position: 'absolute',
                                      top: 0,
                                      insetInlineEnd: 0,
                                      bottom: 0,
                                      insetInlineStart: 0,
                                      zIndex: 10,
                                      width: '100%',
                                      height: '100%',
                                      background: e.colorBgContainer,
                                      opacity: 0,
                                      transition: 'all '.concat(e.motionDurationSlow),
                                      content: '""',
                                      pointerEvents: 'none',
                                    },
                                  }
                                ),
                                ''.concat(e.componentCls, '-blur'),
                                M(
                                  {
                                    clear: 'both',
                                    opacity: 0.5,
                                    userSelect: 'none',
                                    pointerEvents: 'none',
                                  },
                                  '&::after',
                                  { opacity: 0.4, pointerEvents: 'auto' }
                                )
                              ),
                            },
                            '&-tip',
                            { color: e.spinDotDefault }
                          ),
                          ''.concat(e.componentCls, '-dot'),
                          {
                            position: 'relative',
                            display: 'inline-block',
                            fontSize: e.spinDotSize,
                            width: '1em',
                            height: '1em',
                            '&-item': {
                              position: 'absolute',
                              display: 'block',
                              width: (e.spinDotSize - e.marginXXS / 2) / 2,
                              height: (e.spinDotSize - e.marginXXS / 2) / 2,
                              backgroundColor: e.colorPrimary,
                              borderRadius: '100%',
                              transform: 'scale(0.75)',
                              transformOrigin: '50% 50%',
                              opacity: 0.3,
                              animationName: Wq,
                              animationDuration: '1s',
                              animationIterationCount: 'infinite',
                              animationTimingFunction: 'linear',
                              animationDirection: 'alternate',
                              '&:nth-child(1)': { top: 0, insetInlineStart: 0 },
                              '&:nth-child(2)': {
                                top: 0,
                                insetInlineEnd: 0,
                                animationDelay: '0.4s',
                              },
                              '&:nth-child(3)': {
                                insetInlineEnd: 0,
                                bottom: 0,
                                animationDelay: '0.8s',
                              },
                              '&:nth-child(4)': {
                                bottom: 0,
                                insetInlineStart: 0,
                                animationDelay: '1.2s',
                              },
                            },
                            '&-spin': {
                              transform: 'rotate(45deg)',
                              animationName: Gq,
                              animationDuration: '1.2s',
                              animationIterationCount: 'infinite',
                              animationTimingFunction: 'linear',
                            },
                          }
                        ),
                        '&-sm '.concat(e.componentCls, '-dot'),
                        {
                          fontSize: e.spinDotSizeSM,
                          i: {
                            width: (e.spinDotSizeSM - e.marginXXS / 2) / 2,
                            height: (e.spinDotSizeSM - e.marginXXS / 2) / 2,
                          },
                        }
                      ),
                      '&-lg '.concat(e.componentCls, '-dot'),
                      {
                        fontSize: e.spinDotSizeLG,
                        i: {
                          width: (e.spinDotSizeLG - e.marginXXS) / 2,
                          height: (e.spinDotSizeLG - e.marginXXS) / 2,
                        },
                      }
                    ),
                    '&'.concat(e.componentCls, '-show-text ').concat(e.componentCls, '-text'),
                    { display: 'block' }
                  )
                )
              )
            },
            Qq = iG(
              'Spin',
              function (e) {
                var t = sG(e, {
                  spinDotDefault: e.colorTextDescription,
                  spinDotSize: e.controlHeightLG / 2,
                  spinDotSizeSM: 0.35 * e.controlHeightLG,
                  spinDotSizeLG: e.controlHeight,
                })
                return [jq(t)]
              },
              { contentHeight: 400 }
            ),
            qq = function (e, t) {
              var n = {}
              for (var r in e)
                Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r])
              if (null != e && 'function' == typeof Object.getOwnPropertySymbols) {
                var i = 0
                for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                  t.indexOf(r[i]) < 0 &&
                    Object.prototype.propertyIsEnumerable.call(e, r[i]) &&
                    (n[r[i]] = e[r[i]])
              }
              return n
            },
            Xq = null
          var Yq = ar({
            compatConfig: { MODE: 3 },
            name: 'ASpin',
            inheritAttrs: !1,
            props: (function (e, t) {
              var n = uV({}, e)
              return (
                Object.keys(t).forEach(function (e) {
                  var r = n[e]
                  if (!r) throw new Error('not have '.concat(e, ' prop'))
                  r.type || r.default
                    ? (r.default = t[e])
                    : r.def
                      ? r.def(t[e])
                      : (n[e] = { type: r, default: t[e] })
                }),
                n
              )
            })(
              {
                prefixCls: String,
                spinning: { type: Boolean, default: void 0 },
                size: String,
                wrapperClassName: String,
                tip: $G.any,
                delay: Number,
                indicator: $G.any,
              },
              { size: 'default', spinning: !0, wrapperClassName: '' }
            ),
            setup: function (e, t) {
              var n,
                r,
                i,
                a = t.attrs,
                o = t.slots,
                s = MG('spin', e),
                u = s.prefixCls,
                l = s.size,
                c = s.direction,
                d = C(Qq(u), 2),
                h = d[0],
                f = d[1],
                p = nn(
                  e.spinning && ((n = e.spinning), (r = e.delay), !(n && r && !isNaN(Number(r))))
                )
              return (
                Ei(
                  [
                    function () {
                      return e.spinning
                    },
                    function () {
                      return e.delay
                    },
                  ],
                  function () {
                    ;(null == i || i.cancel(),
                      null ==
                        (i = Hq(e.delay, function () {
                          p.value = e.spinning
                        })) || i())
                  },
                  { immediate: !0, flush: 'post' }
                ),
                wr(function () {
                  null == i || i.cancel()
                }),
                function () {
                  var t,
                    n,
                    r = a.class,
                    i = qq(a, ['class']),
                    s = e.tip,
                    d =
                      void 0 === s
                        ? null === (t = o.tip) || void 0 === t
                          ? void 0
                          : t.call(o)
                        : s,
                    v = null === (n = o.default) || void 0 === n ? void 0 : n.call(o),
                    m = M(
                      M(
                        M(
                          M(
                            M(
                              M(
                                M(M({}, f.value, !0), u.value, !0),
                                ''.concat(u.value, '-sm'),
                                'small' === l.value
                              ),
                              ''.concat(u.value, '-lg'),
                              'large' === l.value
                            ),
                            ''.concat(u.value, '-spinning'),
                            p.value
                          ),
                          ''.concat(u.value, '-show-text'),
                          !!d
                        ),
                        ''.concat(u.value, '-rtl'),
                        'rtl' === c.value
                      ),
                      r,
                      !!r
                    )
                  var g = ia(
                    'div',
                    sV(sV({}, i), {}, { class: m, 'aria-live': 'polite', 'aria-busy': p.value }),
                    [
                      (function (t) {
                        var n = ''.concat(t, '-dot'),
                          r = (function (e, t) {
                            var n,
                              r,
                              i =
                                arguments.length > 2 && void 0 !== arguments[2]
                                  ? arguments[2]
                                  : 'default'
                            return null !== (n = t[i]) && void 0 !== n
                              ? n
                              : null === (r = e[i]) || void 0 === r
                                ? void 0
                                : r.call(e)
                          })(o, e, 'indicator')
                        return null === r
                          ? null
                          : (Array.isArray(r) && (r = 1 === r.length ? r[0] : r),
                            $i(r)
                              ? aa(r, { class: n })
                              : Xq && $i(Xq())
                                ? aa(Xq(), { class: n })
                                : ia('span', { class: ''.concat(n, ' ').concat(t, '-dot-spin') }, [
                                    ia('i', { class: ''.concat(t, '-dot-item') }, null),
                                    ia('i', { class: ''.concat(t, '-dot-item') }, null),
                                    ia('i', { class: ''.concat(t, '-dot-item') }, null),
                                    ia('i', { class: ''.concat(t, '-dot-item') }, null),
                                  ]))
                      })(u.value),
                      d ? ia('div', { class: ''.concat(u.value, '-text') }, [d]) : null,
                    ]
                  )
                  if (v && pV(v).length) {
                    var y = M(
                      M({}, ''.concat(u.value, '-container'), !0),
                      ''.concat(u.value, '-blur'),
                      p.value
                    )
                    return h(
                      ia(
                        'div',
                        {
                          class: [
                            ''.concat(u.value, '-nested-loading'),
                            e.wrapperClassName,
                            f.value,
                          ],
                        },
                        [
                          p.value && ia('div', { key: 'loading' }, [g]),
                          ia('div', { class: y, key: 'container' }, [v]),
                        ]
                      )
                    )
                  }
                  return h(g)
                }
              )
            },
          })
          ;((Yq.setDefaultIndicator = function (e) {
            var t = e.indicator
            Xq =
              'function' == typeof t
                ? t
                : function () {
                    return ia(t, null, null)
                  }
          }),
            (Yq.install = function (e) {
              return (e.component(Yq.name, Yq), e)
            }))
          var Kq = {
            icon: {
              tag: 'svg',
              attrs: { viewBox: '64 64 896 896', focusable: 'false' },
              children: [
                {
                  tag: 'path',
                  attrs: {
                    d: 'M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z',
                  },
                },
              ],
            },
            name: 'video-camera',
            theme: 'outlined',
          }
          function Zq(e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? Object(arguments[t]) : {},
                r = Object.keys(n)
              ;('function' == typeof Object.getOwnPropertySymbols &&
                (r = r.concat(
                  Object.getOwnPropertySymbols(n).filter(function (e) {
                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                  })
                )),
                r.forEach(function (t) {
                  Jq(e, t, n[t])
                }))
            }
            return e
          }
          function Jq(e, t, n) {
            return (
              t in e
                ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = n),
              e
            )
          }
          var $q = function (e, t) {
            var n = Zq({}, e, t.attrs)
            return ia(Bj, Zq({}, n, { icon: Kq }), null)
          }
          ;(($q.displayName = 'VideoCameraOutlined'), ($q.inheritAttrs = !1))
          var eX = os('visionStore', {
              state: function () {
                return {
                  wrapperRect: { width: 0, height: 0 },
                  wrapperRef: void 0,
                  localVideoRef: void 0,
                  localVideoContainerRef: void 0,
                  remoteVideoRef: void 0,
                  remoteVideoContainerRef: void 0,
                  isLandscape: !0,
                  showChatRecords: !1,
                }
              },
              actions: {},
            }),
            tX = {
              video: {
                width: { ideal: 500, min: 320 },
                height: { ideal: 500, min: 320 },
                aspectRatio: { ideal: 1, exact: 1 },
              },
              audio: !0,
            },
            nX = os('videoChatStore', {
              state: function () {
                return {
                  devices: [],
                  availableVideoDevices: [],
                  availableAudioDevices: [],
                  selectedVideoDevice: null,
                  selectedAudioDevice: null,
                  streamState: xs.closed,
                  stream: null,
                  peerConnection: null,
                  localStream: null,
                  webRTCId: '',
                  webcamAccessed: !1,
                  avatarType: '',
                  avatarWSRoute: '',
                  avatarAssetsPath: '',
                  rtcConfig: void 0,
                  trackConstraints: tX,
                  gsLoadPercent: 0,
                  userAuthority: null,
                  isInIframe: !1,
                  parentOrigin: null,
                  userResultInfo: [],
                  userResultInfoLoading: !1,
                  userResultInfoError: null,
                  volumeMuted: !1,
                  micMuted: !1,
                  cameraOff: !1,
                  hasCamera: !1,
                  hasCameraPermission: !0,
                  hasMic: !1,
                  hasMicPermission: !0,
                  showChatRecords: !1,
                  localAvatarRenderer: null,
                  chatDataChannel: null,
                  replying: !1,
                  chatRecords: [],
                }
              },
              getters: {},
              actions: {
                accessDevice: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n, r, i, a, o
                      return h().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                if (
                                  ((t.p = 0),
                                  (n = eX()),
                                  n.localVideoRef,
                                  (e.micMuted = !1),
                                  (e.cameraOff = !1),
                                  (e.volumeMuted = !1),
                                  navigator.mediaDevices)
                                ) {
                                  t.n = 1
                                  break
                                }
                                return (
                                  lq.error(
                                    'localhosthttps'
                                  ),
                                  t.a(2)
                                )
                              case 1:
                                return (
                                  (t.n = 2),
                                  navigator.mediaDevices
                                    .getUserMedia({ audio: !0 })
                                    .catch(function () {
                                      ;(console.log('no audio permission'),
                                        (e.hasMicPermission = !1))
                                    })
                                )
                              case 2:
                                return (
                                  (t.n = 3),
                                  navigator.mediaDevices
                                    .getUserMedia({ video: !0 })
                                    .catch(function () {
                                      ;(console.log('no video permission'),
                                        (e.hasCameraPermission = !1))
                                    })
                                )
                              case 3:
                                return ((t.n = 4), Vz())
                              case 4:
                                ;((r = t.v),
                                  (e.devices = r),
                                  console.log(' ~ access_webcam ~ devices:', r),
                                  (i =
                                    e.selectedVideoDevice &&
                                    r.some(function (t) {
                                      var n
                                      return (
                                        t.deviceId ===
                                        (null === (n = e.selectedVideoDevice) || void 0 === n
                                          ? void 0
                                          : n.deviceId)
                                      )
                                    })
                                      ? e.selectedVideoDevice.deviceId
                                      : ''),
                                  (a =
                                    e.selectedAudioDevice &&
                                    r.some(function (t) {
                                      var n
                                      return (
                                        t.deviceId ===
                                        (null === (n = e.selectedAudioDevice) || void 0 === n
                                          ? void 0
                                          : n.deviceId)
                                      )
                                    })
                                      ? e.selectedAudioDevice.deviceId
                                      : ''),
                                  console.log(i, a, ' access web device'),
                                  e.fillStream(a, i),
                                  (e.webcamAccessed = !0),
                                  (t.n = 6))
                                break
                              case 5:
                                ;((t.p = 5), (o = t.v), console.log(o), lq.error(o))
                              case 6:
                                return t.a(2)
                            }
                        },
                        t,
                        null,
                        [[0, 5]]
                      )
                    })
                  )()
                },
                init: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      return h().w(function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return ((t.n = 1), e.initializeUserInfo())
                            case 1:
                              fetch('/openavatarchat/initconfig')
                                .then(function (e) {
                                  return e.json()
                                })
                                .then(function (t) {
                                  ;(t.rtc_configuration && (e.rtcConfig = t.rtc_configuration),
                                    console.log(t),
                                    t.avatar_config &&
                                      ((e.avatarType = t.avatar_config.avatar_type),
                                      (e.avatarWSRoute = t.avatar_config.avatar_ws_route),
                                      (e.avatarAssetsPath = t.avatar_config.avatar_assets_path)),
                                    t.track_constraints &&
                                      (e.trackConstraints = t.track_constraints))
                                })
                                .catch(function () {
                                  lq.error(
                                    ' OpenAvatarChat '
                                  )
                                })
                            case 2:
                              return t.a(2)
                          }
                      }, t)
                    })
                  )()
                },
                initializeUserInfo: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n
                      return h().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  console.log(' ...'),
                                  (e.isInIframe = $z()),
                                  console.log('  iframe :', e.isInIframe),
                                  (t.n = 1),
                                  e.loadUserAuthorityFromLocalStorage()
                                )
                              case 1:
                                t.n = 3
                                break
                              case 2:
                                ;((t.p = 2), (n = t.v), console.error(' :', n))
                              case 3:
                                return t.a(2)
                            }
                        },
                        t,
                        null,
                        [[0, 2]]
                      )
                    })
                  )()
                },
                loadUserAuthorityFromLocalStorage: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n
                      return h().w(function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              if (
                                (console.log('  localStorage ...'),
                                (n = Jz()),
                                (e.userAuthority = n),
                                !n)
                              ) {
                                t.n = 2
                                break
                              }
                              if (
                                (console.log(' Store: '),
                                console.log('     (0):', n.accountType),
                                console.log('     (7):', n.userName),
                                console.log('    ID (5):', n.userId),
                                console.log('    / (8):', n.studentId),
                                console.log('     (2):', n.grade),
                                console.log('     (6):', n.phone),
                                console.log('     (9):', n.idNumber),
                                console.log('     (10):', n.userType),
                                console.log('     (11):', n.personnelType),
                                !n.userId)
                              ) {
                                t.n = 1
                                break
                              }
                              return (
                                console.log(' ID...'),
                                (t.n = 1),
                                e.fetchUserResultInfo(n.userId)
                              )
                            case 1:
                              t.n = 3
                              break
                            case 2:
                              console.log(' Store: ')
                            case 3:
                              return t.a(2)
                          }
                      }, t)
                    })
                  )()
                },
                getUserName: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.userName) ||
                      null
                  return (console.log(' Store: :', t), t)
                },
                getUserId: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.userId) ||
                      null
                  return (console.log(' Store: ID:', t), t)
                },
                getStudentId: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.studentId) ||
                      null
                  return (console.log(' Store: /:', t), t)
                },
                getIdNumber: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.idNumber) ||
                      null
                  return (console.log(' Store: :', t), t)
                },
                getUserType: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.userType) ||
                      null
                  return (console.log(' Store: :', t), t)
                },
                getPersonnelType: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e
                        ? void 0
                        : e.personnelType) || null
                  return (console.log(' Store: :', t), t)
                },
                getAccountType: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e
                        ? void 0
                        : e.accountType) || null
                  return (console.log(' Store: :', t), t)
                },
                getGrade: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.grade) || null
                  return (console.log(' Store: :', t), t)
                },
                getPhone: function () {
                  var e,
                    t =
                      (null === (e = this.userAuthority) || void 0 === e ? void 0 : e.phone) || null
                  return (console.log(' Store: :', t), t)
                },
                fetchUserResultInfo: function (e) {
                  var t = this
                  return v(
                    h().m(function n() {
                      var r, i, a, o
                      return h().w(
                        function (n) {
                          for (;;)
                            switch ((n.p = n.n)) {
                              case 0:
                                if (
                                  ((n.p = 0),
                                  console.log(' ...'),
                                  (i =
                                    e ||
                                    (null === (r = t.userAuthority) || void 0 === r
                                      ? void 0
                                      : r.userId)))
                                ) {
                                  n.n = 1
                                  break
                                }
                                return (
                                  console.error(' ID'),
                                  (t.userResultInfoError = 'ID'),
                                  n.a(2)
                                )
                              case 1:
                                return (
                                  console.log(' ID:', i),
                                  (t.userResultInfoLoading = !0),
                                  (t.userResultInfoError = null),
                                  (n.n = 2),
                                  tV(i)
                                )
                              case 2:
                                ;(200 === (a = n.v).resultCode
                                  ? ((t.userResultInfo = a.data),
                                    console.log(' Store: '),
                                    console.log('    :', a.data.length),
                                    console.log('    :', a.data))
                                  : ((t.userResultInfoError = a.resultMsg || ''),
                                    console.error(' Store: :', a.resultMsg)),
                                  (n.n = 4))
                                break
                              case 3:
                                ;((n.p = 3),
                                  (o = n.v),
                                  console.error(' Store: :', o),
                                  (t.userResultInfoError =
                                    o instanceof Error ? o.message : ''))
                              case 4:
                                return ((n.p = 4), (t.userResultInfoLoading = !1), n.f(4))
                              case 5:
                                return n.a(2)
                            }
                        },
                        n,
                        null,
                        [[0, 3, 4, 5]]
                      )
                    })
                  )()
                },
                fetchCurrentUserResultInfo: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      return h().w(function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                console.log(' ...'),
                                (t.n = 1),
                                e.fetchUserResultInfo()
                              )
                            case 1:
                              return t.a(2)
                          }
                      }, t)
                    })
                  )()
                },
                clearUserResultInfo: function () {
                  ;(console.log(' '),
                    (this.userResultInfo = []),
                    (this.userResultInfoError = null))
                },
                getUserResultInfoByName: function () {
                  var e = {}
                  return (
                    this.userResultInfo.forEach(function (t) {
                      ;(e[t.name] || (e[t.name] = []), e[t.name].push(t))
                    }),
                    console.log(' :', e),
                    e
                  )
                },
                getUserResultInfoBySpecificName: function (e) {
                  var t = this.userResultInfo.filter(function (t) {
                    return t.name === e
                  })
                  return (console.log('  "'.concat(e, '" :'), t), t)
                },
                handleCameraOff: function () {
                  var e,
                    t = this
                  ;((this.cameraOff = !this.cameraOff),
                    null === (e = this.stream) ||
                      void 0 === e ||
                      e.getTracks().forEach(function (e) {
                        e.kind.includes('video') && (e.enabled = !t.cameraOff)
                      }))
                },
                handleMicMuted: function () {
                  var e,
                    t = this
                  ;((this.micMuted = !this.micMuted),
                    null === (e = this.stream) ||
                      void 0 === e ||
                      e.getTracks().forEach(function (e) {
                        e.kind.includes('audio') && (e.enabled = !t.micMuted)
                      }))
                },
                handleVolumeMute: function () {
                  var e
                  ;((this.volumeMuted = !this.volumeMuted), 'lam' === this.avatarType) &&
                    (null === (e = this.localAvatarRenderer) ||
                      void 0 === e ||
                      e.setAvatarMute(this.volumeMuted))
                },
                handleDeviceChange: function (e) {
                  var t = this
                  return v(
                    h().m(function n() {
                      var r, i, a, o
                      return h().w(function (n) {
                        for (;;)
                          switch (n.n) {
                            case 0:
                              return ((r = e), (n.n = 1), Vz())
                            case 1:
                              ;((i = n.v),
                                (t.devices = i),
                                console.log(' ~ handle_device_change ~ devices:', i),
                                (a =
                                  t.selectedVideoDevice &&
                                  i.some(function (e) {
                                    var n
                                    return (
                                      e.deviceId ===
                                      (null === (n = t.selectedVideoDevice) || void 0 === n
                                        ? void 0
                                        : n.deviceId)
                                    )
                                  })
                                    ? t.selectedVideoDevice.deviceId
                                    : ''),
                                (o =
                                  t.selectedAudioDevice &&
                                  i.some(function (e) {
                                    var n
                                    return (
                                      e.deviceId ===
                                      (null === (n = t.selectedAudioDevice) || void 0 === n
                                        ? void 0
                                        : n.deviceId)
                                    )
                                  })
                                    ? t.selectedAudioDevice.deviceId
                                    : ''),
                                t.availableVideoDevices.find(function (e) {
                                  return e.deviceId === r
                                })
                                  ? ((a = r), (t.cameraOff = !1))
                                  : t.availableAudioDevices.find(function (e) {
                                      return e.deviceId === r
                                    }) && ((o = r), (t.micMuted = !1)),
                                t.fillStream(o, a))
                            case 2:
                              return n.a(2)
                          }
                      }, n)
                    })
                  )()
                },
                handleSubtitleToggle: function () {
                  this.showChatRecords = !this.showChatRecords
                  var e = eX(),
                    t = e.wrapperRef,
                    n = e.wrapperRect
                  ;(console.log(n, t),
                    t &&
                      n &&
                      (t.getBoundingClientRect(),
                      (n.width = t.clientWidth),
                      (n.height = t.clientHeight),
                      (e.isLandscape = n.width > n.height)))
                },
                ensureSquareVideo: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n, r, i, a, o, s
                      return h().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                if (!e.stream) {
                                  t.n = 4
                                  break
                                }
                                if (!(n = e.stream.getVideoTracks()[0])) {
                                  t.n = 4
                                  break
                                }
                                if (
                                  ((r = n.getSettings()),
                                  console.log('Video settings:', r),
                                  !r.width || !r.height || r.width === r.height)
                                ) {
                                  t.n = 4
                                  break
                                }
                                return (
                                  console.log(
                                    'Video aspect ratio is not 1:1, attempting to fix...'
                                  ),
                                  n.stop(),
                                  (i = {
                                    video: {
                                      width: { exact: 500 },
                                      height: { exact: 500 },
                                      aspectRatio: { exact: 1 },
                                      deviceId: r.deviceId ? { exact: r.deviceId } : void 0,
                                    },
                                    audio: !1,
                                  }),
                                  (t.p = 1),
                                  (t.n = 2),
                                  navigator.mediaDevices.getUserMedia(i)
                                )
                              case 2:
                                ;((a = t.v),
                                  (o = a.getVideoTracks()[0]),
                                  e.stream.removeTrack(n),
                                  e.stream.addTrack(o),
                                  console.log('Video aspect ratio fixed to 1:1'),
                                  (t.n = 4))
                                break
                              case 3:
                                ;((t.p = 3),
                                  (s = t.v),
                                  console.warn('Failed to fix video aspect ratio:', s))
                              case 4:
                                return t.a(2)
                            }
                        },
                        t,
                        null,
                        [[1, 3]]
                      )
                    })
                  )()
                },
                updateAvailableDevices: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n
                      return h().w(function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return ((t.n = 1), Vz())
                            case 1:
                              ;((n = t.v),
                                (e.availableVideoDevices = Gz(n, 'videoinput')),
                                (e.availableAudioDevices = Gz(n, 'audioinput')))
                            case 2:
                              return t.a(2)
                          }
                      }, t)
                    })
                  )()
                },
                fillStream: function (e, t) {
                  var n = this
                  return v(
                    h().m(function r() {
                      var i, a, o
                      return h().w(function (r) {
                        for (;;)
                          switch (r.n) {
                            case 0:
                              return (
                                (i = n.devices),
                                (a = eX()),
                                (o = a.localVideoRef),
                                (n.hasMic =
                                  i.some(function (e) {
                                    return 'audioinput' === e.kind && e.deviceId
                                  }) && n.hasMicPermission),
                                (n.hasCamera =
                                  i.some(function (e) {
                                    return 'videoinput' === e.kind && e.deviceId
                                  }) && n.hasCameraPermission),
                                (r.n = 1),
                                Hz(
                                  e && 'default' !== e ? { deviceId: { exact: e } } : n.hasMic,
                                  t && 'default' !== t ? { deviceId: { exact: t } } : n.hasCamera,
                                  n.trackConstraints
                                )
                                  .then(
                                    (function () {
                                      var e = v(
                                        h().m(function e(t) {
                                          return h().w(function (e) {
                                            for (;;)
                                              switch (e.n) {
                                                case 0:
                                                  ;(console.log('local_stream', t),
                                                    (n.stream = t),
                                                    n.updateAvailableDevices(),
                                                    n.ensureSquareVideo())
                                                case 1:
                                                  return e.a(2)
                                              }
                                          }, e)
                                        })
                                      )
                                      return function (t) {
                                        return e.apply(this, arguments)
                                      }
                                    })()
                                  )
                                  .then(function () {
                                    var e = n.stream.getTracks().map(function (e) {
                                      var t
                                      return null === (t = e.getSettings()) || void 0 === t
                                        ? void 0
                                        : t.deviceId
                                    })
                                    ;(e.forEach(function (e) {
                                      var t = i.find(function (t) {
                                        return t.deviceId === e
                                      })
                                      t && null != t && t.kind.includes('video')
                                        ? (n.selectedVideoDevice = t)
                                        : t &&
                                          null != t &&
                                          t.kind.includes('audio') &&
                                          (n.selectedAudioDevice = t)
                                    }),
                                      !n.selectedVideoDevice &&
                                        (n.selectedVideoDevice = n.availableVideoDevices[0]))
                                  })
                                  .catch(function (e) {
                                    console.error('image.no_webcam_support', e)
                                  })
                                  .finally(function () {
                                    ;(console.log(n.stream),
                                      n.stream || (n.stream = new MediaStream()),
                                      console.log(n.stream.getTracks()),
                                      n.stream.getTracks().find(function (e) {
                                        return 'audio' === e.kind
                                      }) || n.stream.addTrack(Xz()),
                                      n.stream.getTracks().find(function (e) {
                                        return 'video' === e.kind
                                      }) || n.stream.addTrack(qz()),
                                      console.log(n.hasCamera, n.hasMic),
                                      (n.webcamAccessed = !0),
                                      (n.localStream = n.stream),
                                      o &&
                                        ((o.srcObject = n.localStream),
                                        (o.muted = !0),
                                        null == o || o.play()))
                                  })
                              )
                            case 1:
                              return r.a(2)
                          }
                      }, r)
                    })
                  )()
                },
                startWebRTC: function () {
                  var e = this
                  return v(
                    h().m(function t() {
                      var n, r, i, a, o, s, u
                      return h().w(function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              if (((n = eX()), 'closed' !== e.streamState)) {
                                t.n = 3
                                break
                              }
                              return (
                                (e.chatRecords = []),
                                (a =
                                  (null === (r = e.selectedVideoDevice) || void 0 === r
                                    ? void 0
                                    : r.deviceId) || ''),
                                (o =
                                  (null === (i = e.selectedAudioDevice) || void 0 === i
                                    ? void 0
                                    : i.deviceId) || ''),
                                (t.n = 1),
                                e.fillStream(o, a)
                              )
                            case 1:
                              return (
                                setTimeout(function () {
                                  e.ensureSquareVideo()
                                }, 1e3),
                                (e.peerConnection = new RTCPeerConnection(e.rtcConfig)),
                                e.peerConnection.addEventListener(
                                  'connectionstatechange',
                                  (function () {
                                    var t = v(
                                      h().m(function t(n) {
                                        var r
                                        return h().w(function (t) {
                                          for (;;)
                                            switch (t.n) {
                                              case 0:
                                                ;((r = e.peerConnection.connectionState),
                                                  (t.n =
                                                    'connected' === r
                                                      ? 1
                                                      : 'disconnected' === r
                                                        ? 2
                                                        : 3))
                                                break
                                              case 1:
                                                return ((e.streamState = xs.open), t.a(3, 3))
                                              case 2:
                                                return (
                                                  (e.streamState = xs.closed),
                                                  Yz(e.peerConnection),
                                                  t.a(3, 3)
                                                )
                                              case 3:
                                                return t.a(2)
                                            }
                                        }, t)
                                      })
                                    )
                                    return function (e) {
                                      return t.apply(this, arguments)
                                    }
                                  })()
                                ),
                                (e.streamState = xs.waiting),
                                (s = e.getUserId()),
                                console.log(' WebRTCID:', s),
                                (t.n = 2),
                                Kz(e.stream, e.peerConnection, n.remoteVideoRef, s)
                                  .then(function (t) {
                                    var n = C(t, 2),
                                      r = n[0],
                                      i = n[1]
                                    if (
                                      ((e.streamState = xs.open),
                                      (e.webRTCId = i),
                                      (e.chatDataChannel = r),
                                      e.avatarType && e.avatarWSRoute)
                                    ) {
                                      var a = e.initWebsocket(e.avatarWSRoute, e.webRTCId)
                                      'lam' === e.avatarType &&
                                        (e.localAvatarRenderer = e.doGaussianRender(a))
                                    }
                                  })
                                  .catch(function (t) {
                                    ;(console.info('catching', t),
                                      (e.streamState = xs.closed),
                                      lq.error(t),
                                      lq.error(''))
                                  })
                              )
                            case 2:
                              t.n = 6
                              break
                            case 3:
                              if ('waiting' !== e.streamState) {
                                t.n = 4
                                break
                              }
                              t.n = 6
                              break
                            case 4:
                              return (
                                Yz(e.peerConnection),
                                (e.streamState = xs.closed),
                                (e.chatRecords = []),
                                (e.chatDataChannel = null),
                                (e.replying = !1),
                                (t.n = 5),
                                e.accessDevice()
                              )
                            case 5:
                              'lam' === e.avatarType &&
                                (null === (u = e.localAvatarRenderer) || void 0 === u || u.exit(),
                                (e.gsLoadPercent = 0))
                            case 6:
                              return t.a(2)
                          }
                      }, t)
                    })
                  )()
                },
                initWebsocket: function (e, t) {
                  var n = new gs(
                    ''
                      .concat(window.location.protocol.includes('https') ? 'wss' : 'ws', '://')
                      .concat(window.location.host)
                      .concat(e, '/')
                      .concat(t)
                  )
                  return (
                    n.on(ps.WS_OPEN, function () {
                      console.log('socket opened')
                    }),
                    n.on(ps.WS_CLOSE, function () {
                      console.log('socket closed')
                    }),
                    n.on(ps.WS_ERROR, function (e) {
                      console.log('socket error', e)
                    }),
                    n.on(ps.WS_MESSAGE, function (e) {
                      console.log('socket on message', e)
                    }),
                    n
                  )
                },
                doGaussianRender: function (e) {
                  var t = this,
                    n = eX(),
                    r = new zz({
                      container: n.remoteVideoContainerRef,
                      assetsPath: this.avatarAssetsPath,
                      ws: e,
                      loadProgress: function (e) {
                        ;(console.log('gs loadProgress', e), (t.gsLoadPercent = e))
                      },
                    })
                  return (r.start(), r)
                },
              },
            }),
            rX = { class: 'icon-wrap' },
            iX = ar({
              __name: 'WebcamPermission',
              emits: ['click'],
              setup: function (e, t) {
                t.emit
                var n = nX()
                eX()
                var r = (function () {
                  var e = v(
                    h().m(function e() {
                      return h().w(function (e) {
                        for (;;)
                          switch (e.n) {
                            case 0:
                              n.accessDevice()
                            case 1:
                              return e.a(2)
                          }
                      }, e)
                    })
                  )
                  return function () {
                    return e.apply(this, arguments)
                  }
                })()
                return (
                  _r(function () {}),
                  function (e, t) {
                    return (
                      qi(),
                      Zi('div', { class: 'access-wrap', onClick: r }, [
                        ra('span', rX, [ia(on($q))]),
                        oa(' ' + Ie('')),
                      ])
                    )
                  }
                )
              },
            }),
            aX = function (e, t) {
              var n,
                r = e.__vccOpts || e,
                i = L(t)
              try {
                for (i.s(); !(n = i.n()).done; ) {
                  var a = C(n.value, 2),
                    o = a[0],
                    s = a[1]
                  r[o] = s
                }
              } catch (u) {
                i.e(u)
              } finally {
                i.f()
              }
              return r
            },
            oX = aX(iX, [['__scopeId', 'data-v-2804bf05']])
          /*!
           * shared v11.1.12
           * (c) 2025 kazuya kawaguchi
           * Released under the MIT License.
           */
          function sX(e, t) {
            'undefined' != typeof console &&
              (console.warn('[intlify] ' + e), t && console.warn(t.stack))
          }
          var uX,
            lX = 'undefined' != typeof window,
            cX = function (e) {
              return arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                ? Symbol.for(e)
                : Symbol(e)
            },
            dX = function (e) {
              return JSON.stringify(e)
                .replace(/\u2028/g, '\\u2028')
                .replace(/\u2029/g, '\\u2029')
                .replace(/\u0027/g, '\\u0027')
            },
            hX = function (e) {
              return 'number' == typeof e && isFinite(e)
            },
            fX = function (e) {
              return '[object RegExp]' === kX(e)
            },
            pX = function (e) {
              return RX(e) && 0 === Object.keys(e).length
            },
            vX = Object.assign,
            mX = Object.create,
            gX = function () {
              return mX(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null)
            },
            yX = function () {
              return (
                uX ||
                (uX =
                  'undefined' != typeof globalThis
                    ? globalThis
                    : 'undefined' != typeof self
                      ? self
                      : 'undefined' != typeof window
                        ? window
                        : 'undefined' != typeof global
                          ? global
                          : gX())
              )
            }
          function xX(e) {
            return e
              .replace(/&/g, '&amp;')
              .replace(/</g, '&lt;')
              .replace(/>/g, '&gt;')
              .replace(/"/g, '&quot;')
              .replace(/'/g, '&apos;')
              .replace(/\//g, '&#x2F;')
              .replace(/=/g, '&#x3D;')
          }
          function _X(e) {
            return e
              .replace(/&(?![a-zA-Z0-9#]{2,6};)/g, '&amp;')
              .replace(/"/g, '&quot;')
              .replace(/'/g, '&apos;')
              .replace(/</g, '&lt;')
              .replace(/>/g, '&gt;')
          }
          var bX = Object.prototype.hasOwnProperty
          function SX(e, t) {
            return bX.call(e, t)
          }
          var wX = Array.isArray,
            AX = function (e) {
              return 'function' == typeof e
            },
            TX = function (e) {
              return 'string' == typeof e
            },
            MX = function (e) {
              return 'boolean' == typeof e
            },
            EX = function (e) {
              return null !== e && 'object' === P(e)
            },
            CX = Object.prototype.toString,
            kX = function (e) {
              return CX.call(e)
            },
            RX = function (e) {
              return '[object Object]' === kX(e)
            }
          function IX(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''
            return e.reduce(function (e, n, r) {
              return 0 === r ? e + n : e + t + n
            }, '')
          }
          var NX = function (e) {
            return !EX(e) || wX(e)
          }
          function PX(e, t) {
            if (NX(e) || NX(t)) throw new Error('Invalid value')
            for (
              var n = [{ src: e, des: t }],
                r = function () {
                  var e = n.pop(),
                    t = e.src,
                    r = e.des
                  Object.keys(t).forEach(function (e) {
                    '__proto__' !== e &&
                      (EX(t[e]) && !EX(r[e]) && (r[e] = Array.isArray(t[e]) ? [] : gX()),
                      NX(r[e]) || NX(t[e]) ? (r[e] = t[e]) : n.push({ src: t[e], des: r[e] }))
                  })
                };
              n.length;

            )
              r()
          }
          /*!
           * message-compiler v11.1.12
           * (c) 2025 kazuya kawaguchi
           * Released under the MIT License.
           */ function LX(e, t, n) {
            return { start: e, end: t }
          }
          var DX = 1,
            OX = 2,
            FX = 3,
            BX = 4,
            UX = 5,
            zX = 6,
            VX = 7,
            HX = 8,
            WX = 9,
            GX = 10,
            jX = 11,
            QX = 12,
            qX = 13,
            XX = 14
          function YX(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
              r = n.domain,
              i = (n.messages, n.args, new SyntaxError(String(e)))
            return ((i.code = e), t && (i.location = t), (i.domain = r), i)
          }
          function KX(e) {
            throw e
          }
          var ZX = ' ',
            JX = '\n',
            $X = String.fromCharCode(8232),
            eY = String.fromCharCode(8233)
          function tY(e) {
            var t = e,
              n = 0,
              r = 1,
              i = 1,
              a = 0,
              o = function (e) {
                return '\r' === t[e] && t[e + 1] === JX
              },
              s = function (e) {
                return t[e] === eY
              },
              u = function (e) {
                return t[e] === $X
              },
              l = function (e) {
                return (
                  o(e) ||
                  (function (e) {
                    return t[e] === JX
                  })(e) ||
                  s(e) ||
                  u(e)
                )
              },
              c = function (e) {
                return o(e) || s(e) || u(e) ? JX : t[e]
              }
            function d() {
              return ((a = 0), l(n) && (r++, (i = 0)), o(n) && n++, n++, i++, t[n])
            }
            return {
              index: function () {
                return n
              },
              line: function () {
                return r
              },
              column: function () {
                return i
              },
              peekOffset: function () {
                return a
              },
              charAt: c,
              currentChar: function () {
                return c(n)
              },
              currentPeek: function () {
                return c(n + a)
              },
              next: d,
              peek: function () {
                return (o(n + a) && a++, a++, t[n + a])
              },
              reset: function () {
                ;((n = 0), (r = 1), (i = 1), (a = 0))
              },
              resetPeek: function () {
                a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
              },
              skipToPeek: function () {
                for (var e = n + a; e !== n; ) d()
                a = 0
              },
            }
          }
          var nY = void 0
          function rY(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
              n = !1 !== t.location,
              r = tY(e),
              i = function () {
                return r.index()
              },
              a = function () {
                return (function (e, t, n) {
                  return { line: e, column: t, offset: n }
                })(r.line(), r.column(), r.index())
              },
              o = a(),
              s = i(),
              u = {
                currentType: 13,
                offset: s,
                startLoc: o,
                endLoc: o,
                lastType: 13,
                lastOffset: s,
                lastStartLoc: o,
                lastEndLoc: o,
                braceNest: 0,
                inLinked: !1,
                text: '',
              },
              l = function () {
                return u
              },
              c = t.onError
            function d(e, t, r) {
              var i = l()
              if (((t.column += r), (t.offset += r), c)) {
                for (
                  var a = n ? LX(i.startLoc, t) : null,
                    o = arguments.length,
                    s = new Array(o > 3 ? o - 3 : 0),
                    u = 3;
                  u < o;
                  u++
                )
                  s[u - 3] = arguments[u]
                var d = YX(e, a, { domain: 'tokenizer', args: s })
                c(d)
              }
            }
            function h(e, t, r) {
              ;((e.endLoc = a()), (e.currentType = t))
              var i = { type: t }
              return (n && (i.loc = LX(e.startLoc, e.endLoc)), null != r && (i.value = r), i)
            }
            var f = function (e) {
              return h(e, 13)
            }
            function p(e, t) {
              return e.currentChar() === t ? (e.next(), t) : (d(DX, a(), 0, t), '')
            }
            function v(e) {
              for (var t = ''; e.currentPeek() === ZX || e.currentPeek() === JX; )
                ((t += e.currentPeek()), e.peek())
              return t
            }
            function m(e) {
              var t = v(e)
              return (e.skipToPeek(), t)
            }
            function g(e) {
              if (e === nY) return !1
              var t = e.charCodeAt(0)
              return (t >= 97 && t <= 122) || (t >= 65 && t <= 90) || 95 === t
            }
            function y(e, t) {
              if (2 !== t.currentType) return !1
              v(e)
              var n = (function (e) {
                if (e === nY) return !1
                var t = e.charCodeAt(0)
                return t >= 48 && t <= 57
              })('-' === e.currentPeek() ? e.peek() : e.currentPeek())
              return (e.resetPeek(), n)
            }
            function x(e) {
              v(e)
              var t = '|' === e.currentPeek()
              return (e.resetPeek(), t)
            }
            function _(e) {
              var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                n = function () {
                  var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                    r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : '',
                    i = e.currentPeek()
                  return '{' === i
                    ? t
                    : '@' !== i && i
                      ? '|' === i
                        ? !(r === ZX || r === JX)
                        : i === ZX
                          ? (e.peek(), n(!0, ZX))
                          : i !== JX || (e.peek(), n(!0, JX))
                      : t
                },
                r = n()
              return (t && e.resetPeek(), r)
            }
            function b(e, t) {
              var n = e.currentChar()
              return n === nY ? nY : t(n) ? (e.next(), n) : null
            }
            function S(e) {
              var t = e.charCodeAt(0)
              return (
                (t >= 97 && t <= 122) ||
                (t >= 65 && t <= 90) ||
                (t >= 48 && t <= 57) ||
                95 === t ||
                36 === t
              )
            }
            function w(e) {
              return b(e, S)
            }
            function A(e) {
              var t = e.charCodeAt(0)
              return (
                (t >= 97 && t <= 122) ||
                (t >= 65 && t <= 90) ||
                (t >= 48 && t <= 57) ||
                95 === t ||
                36 === t ||
                45 === t
              )
            }
            function T(e) {
              return b(e, A)
            }
            function M(e) {
              var t = e.charCodeAt(0)
              return t >= 48 && t <= 57
            }
            function E(e) {
              return b(e, M)
            }
            function C(e) {
              var t = e.charCodeAt(0)
              return (t >= 48 && t <= 57) || (t >= 65 && t <= 70) || (t >= 97 && t <= 102)
            }
            function k(e) {
              return b(e, C)
            }
            function R(e) {
              for (var t = '', n = ''; (t = E(e)); ) n += t
              return n
            }
            function I(e) {
              return "'" !== e && e !== JX
            }
            function N(e) {
              var t = e.currentChar()
              switch (t) {
                case '\\':
                case "'":
                  return (e.next(), '\\'.concat(t))
                case 'u':
                  return P(e, t, 4)
                case 'U':
                  return P(e, t, 6)
                default:
                  return (d(BX, a(), 0, t), '')
              }
            }
            function P(e, t, n) {
              p(e, t)
              for (var r = '', i = 0; i < n; i++) {
                var o = k(e)
                if (!o) {
                  d(UX, a(), 0, '\\'.concat(t).concat(r).concat(e.currentChar()))
                  break
                }
                r += o
              }
              return '\\'.concat(t).concat(r)
            }
            function L(e) {
              return '{' !== e && '}' !== e && e !== ZX && e !== JX
            }
            function D(e) {
              m(e)
              for (var t = '', n = ''; (t = b(e, L)); ) n += t
              return n
            }
            function O(e) {
              m(e)
              var t = p(e, '|')
              return (m(e), t)
            }
            function F(e, t) {
              var n = null
              switch (e.currentChar()) {
                case '{':
                  return (
                    t.braceNest >= 1 && d(WX, a(), 0),
                    e.next(),
                    (n = h(t, 2, '{')),
                    m(e),
                    t.braceNest++,
                    n
                  )
                case '}':
                  return (
                    t.braceNest > 0 && 2 === t.currentType && d(HX, a(), 0),
                    e.next(),
                    (n = h(t, 3, '}')),
                    t.braceNest--,
                    t.braceNest > 0 && m(e),
                    t.inLinked && 0 === t.braceNest && (t.inLinked = !1),
                    n
                  )
                case '@':
                  return (
                    t.braceNest > 0 && d(VX, a(), 0),
                    (n = B(e, t) || f(t)),
                    (t.braceNest = 0),
                    n
                  )
                default:
                  var r, i, o
                  if (x(e))
                    return (
                      t.braceNest > 0 && d(VX, a(), 0),
                      (n = h(t, 1, O(e))),
                      (t.braceNest = 0),
                      (t.inLinked = !1),
                      n
                    )
                  if (
                    t.braceNest > 0 &&
                    (4 === t.currentType || 5 === t.currentType || 6 === t.currentType)
                  )
                    return (d(VX, a(), 0), (t.braceNest = 0), U(e, t))
                  if (
                    (r = (function (e, t) {
                      if (2 !== t.currentType) return !1
                      v(e)
                      var n = g(e.currentPeek())
                      return (e.resetPeek(), n)
                    })(e, t))
                  )
                    return (
                      (n = h(
                        t,
                        4,
                        (function (e) {
                          m(e)
                          for (var t = '', n = ''; (t = T(e)); ) n += t
                          var r = e.currentChar()
                          if (r && '}' !== r && r !== nY && r !== ZX && r !== JX && '' !== r) {
                            var i = D(e)
                            return (d(OX, a(), 0, n + i), n + i)
                          }
                          return (e.currentChar() === nY && d(VX, a(), 0), n)
                        })(e)
                      )),
                      m(e),
                      n
                    )
                  if ((i = y(e, t)))
                    return (
                      (n = h(
                        t,
                        5,
                        (function (e) {
                          m(e)
                          var t = ''
                          return (
                            '-' === e.currentChar()
                              ? (e.next(), (t += '-'.concat(R(e))))
                              : (t += R(e)),
                            e.currentChar() === nY && d(VX, a(), 0),
                            t
                          )
                        })(e)
                      )),
                      m(e),
                      n
                    )
                  if (
                    (o = (function (e, t) {
                      if (2 !== t.currentType) return !1
                      v(e)
                      var n = "'" === e.currentPeek()
                      return (e.resetPeek(), n)
                    })(e, t))
                  )
                    return (
                      (n = h(
                        t,
                        6,
                        (function (e) {
                          ;(m(e), p(e, "'"))
                          for (var t = '', n = ''; (t = b(e, I)); ) n += '\\' === t ? N(e) : t
                          var r = e.currentChar()
                          return r === JX || r === nY
                            ? (d(FX, a(), 0), r === JX && (e.next(), p(e, "'")), n)
                            : (p(e, "'"), n)
                        })(e)
                      )),
                      m(e),
                      n
                    )
                  if (!r && !i && !o) return ((n = h(t, 12, D(e))), d(OX, a(), 0, n.value), m(e), n)
              }
              return n
            }
            function B(e, t) {
              var n = t.currentType,
                r = null,
                i = e.currentChar()
              switch (
                ((7 !== n && 8 !== n && 11 !== n && 9 !== n) ||
                  (i !== JX && i !== ZX) ||
                  d(GX, a(), 0),
                i)
              ) {
                case '@':
                  return (e.next(), (r = h(t, 7, '@')), (t.inLinked = !0), r)
                case '.':
                  return (m(e), e.next(), h(t, 8, '.'))
                case ':':
                  return (m(e), e.next(), h(t, 9, ':'))
                default:
                  return x(e)
                    ? ((r = h(t, 1, O(e))), (t.braceNest = 0), (t.inLinked = !1), r)
                    : (function (e, t) {
                          if (7 !== t.currentType) return !1
                          v(e)
                          var n = '.' === e.currentPeek()
                          return (e.resetPeek(), n)
                        })(e, t) ||
                        (function (e, t) {
                          var n = t.currentType
                          if (7 !== n && 11 !== n) return !1
                          v(e)
                          var r = ':' === e.currentPeek()
                          return (e.resetPeek(), r)
                        })(e, t)
                      ? (m(e), B(e, t))
                      : (function (e, t) {
                            if (8 !== t.currentType) return !1
                            v(e)
                            var n = g(e.currentPeek())
                            return (e.resetPeek(), n)
                          })(e, t)
                        ? (m(e),
                          h(
                            t,
                            11,
                            (function (e) {
                              for (var t = '', n = ''; (t = w(e)); ) n += t
                              return n
                            })(e)
                          ))
                        : (function (e, t) {
                              if (9 !== t.currentType) return !1
                              var n = function () {
                                  var t = e.currentPeek()
                                  return '{' === t
                                    ? g(e.peek())
                                    : !(
                                        '@' === t ||
                                        '|' === t ||
                                        ':' === t ||
                                        '.' === t ||
                                        t === ZX ||
                                        !t
                                      ) && (t === JX ? (e.peek(), n()) : _(e, !1))
                                },
                                r = n()
                              return (e.resetPeek(), r)
                            })(e, t)
                          ? (m(e),
                            '{' === i
                              ? F(e, t) || r
                              : h(
                                  t,
                                  10,
                                  (function (e) {
                                    var t = function (n) {
                                      var r = e.currentChar()
                                      return '{' !== r &&
                                        '@' !== r &&
                                        '|' !== r &&
                                        '(' !== r &&
                                        ')' !== r &&
                                        r
                                        ? r === ZX
                                          ? n
                                          : ((n += r), e.next(), t(n))
                                        : n
                                    }
                                    return t('')
                                  })(e)
                                ))
                          : (7 === n && d(GX, a(), 0),
                            (t.braceNest = 0),
                            (t.inLinked = !1),
                            U(e, t))
              }
            }
            function U(e, t) {
              var n = { type: 13 }
              if (t.braceNest > 0) return F(e, t) || f(t)
              if (t.inLinked) return B(e, t) || f(t)
              switch (e.currentChar()) {
                case '{':
                  return F(e, t) || f(t)
                case '}':
                  return (d(zX, a(), 0), e.next(), h(t, 3, '}'))
                case '@':
                  return B(e, t) || f(t)
                default:
                  if (x(e)) return ((n = h(t, 1, O(e))), (t.braceNest = 0), (t.inLinked = !1), n)
                  if (_(e))
                    return h(
                      t,
                      0,
                      (function (e) {
                        for (var t = ''; ; ) {
                          var n = e.currentChar()
                          if ('{' === n || '}' === n || '@' === n || '|' === n || !n) break
                          if (n === ZX || n === JX)
                            if (_(e)) ((t += n), e.next())
                            else {
                              if (x(e)) break
                              ;((t += n), e.next())
                            }
                          else ((t += n), e.next())
                        }
                        return t
                      })(e)
                    )
              }
              return n
            }
            return {
              nextToken: function () {
                var e = u.currentType,
                  t = u.offset,
                  n = u.startLoc,
                  o = u.endLoc
                return (
                  (u.lastType = e),
                  (u.lastOffset = t),
                  (u.lastStartLoc = n),
                  (u.lastEndLoc = o),
                  (u.offset = i()),
                  (u.startLoc = a()),
                  r.currentChar() === nY ? h(u, 13) : U(r, u)
                )
              },
              currentOffset: i,
              currentPosition: a,
              context: l,
            }
          }
          var iY = /(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g
          function aY(e, t, n) {
            switch (e) {
              case '\\\\':
                return '\\'
              case "\\'":
                return "'"
              default:
                var r = parseInt(t || n, 16)
                return r <= 55295 || r >= 57344 ? String.fromCodePoint(r) : ''
            }
          }
          function oY() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = !1 !== e.location,
              n = e.onError
            function r(e, r, i, a) {
              var o = e.currentPosition()
              if (((o.offset += a), (o.column += a), n)) {
                for (
                  var s = t ? LX(i, o) : null,
                    u = arguments.length,
                    l = new Array(u > 4 ? u - 4 : 0),
                    c = 4;
                  c < u;
                  c++
                )
                  l[c - 4] = arguments[c]
                var d = YX(r, s, { domain: 'parser', args: l })
                n(d)
              }
            }
            function i(e, n, r) {
              var i = { type: e }
              return (t && ((i.start = n), (i.end = n), (i.loc = { start: r, end: r })), i)
            }
            function a(e, n, r, i) {
              t && ((e.end = n), e.loc && (e.loc.end = r))
            }
            function o(e, t) {
              var n = e.context(),
                r = i(3, n.offset, n.startLoc)
              return ((r.value = t), a(r, e.currentOffset(), e.currentPosition()), r)
            }
            function s(e, t) {
              var n = e.context(),
                r = i(5, n.lastOffset, n.lastStartLoc)
              return (
                (r.index = parseInt(t, 10)),
                e.nextToken(),
                a(r, e.currentOffset(), e.currentPosition()),
                r
              )
            }
            function u(e, t) {
              var n = e.context(),
                r = i(4, n.lastOffset, n.lastStartLoc)
              return ((r.key = t), e.nextToken(), a(r, e.currentOffset(), e.currentPosition()), r)
            }
            function l(e, t) {
              var n = e.context(),
                r = i(9, n.lastOffset, n.lastStartLoc)
              return (
                (r.value = t.replace(iY, aY)),
                e.nextToken(),
                a(r, e.currentOffset(), e.currentPosition()),
                r
              )
            }
            function c(e) {
              var t = e.context(),
                n = i(6, t.offset, t.startLoc),
                o = e.nextToken()
              if (8 === o.type) {
                var c = (function (e) {
                  var t = e.nextToken(),
                    n = e.context(),
                    o = n.lastOffset,
                    s = n.lastStartLoc,
                    u = i(8, o, s)
                  return 11 !== t.type
                    ? (r(e, QX, n.lastStartLoc, 0),
                      (u.value = ''),
                      a(u, o, s),
                      { nextConsumeToken: t, node: u })
                    : (null == t.value && r(e, XX, n.lastStartLoc, 0, sY(t)),
                      (u.value = t.value || ''),
                      a(u, e.currentOffset(), e.currentPosition()),
                      { node: u })
                })(e)
                ;((n.modifier = c.node), (o = c.nextConsumeToken || e.nextToken()))
              }
              switch (
                (9 !== o.type && r(e, XX, t.lastStartLoc, 0, sY(o)),
                2 === (o = e.nextToken()).type && (o = e.nextToken()),
                o.type)
              ) {
                case 10:
                  ;(null == o.value && r(e, XX, t.lastStartLoc, 0, sY(o)),
                    (n.key = (function (e, t) {
                      var n = e.context(),
                        r = i(7, n.offset, n.startLoc)
                      return ((r.value = t), a(r, e.currentOffset(), e.currentPosition()), r)
                    })(e, o.value || '')))
                  break
                case 4:
                  ;(null == o.value && r(e, XX, t.lastStartLoc, 0, sY(o)),
                    (n.key = u(e, o.value || '')))
                  break
                case 5:
                  ;(null == o.value && r(e, XX, t.lastStartLoc, 0, sY(o)),
                    (n.key = s(e, o.value || '')))
                  break
                case 6:
                  ;(null == o.value && r(e, XX, t.lastStartLoc, 0, sY(o)),
                    (n.key = l(e, o.value || '')))
                  break
                default:
                  r(e, qX, t.lastStartLoc, 0)
                  var d = e.context(),
                    h = i(7, d.offset, d.startLoc)
                  return (
                    (h.value = ''),
                    a(h, d.offset, d.startLoc),
                    (n.key = h),
                    a(n, d.offset, d.startLoc),
                    { nextConsumeToken: o, node: n }
                  )
              }
              return (a(n, e.currentOffset(), e.currentPosition()), { node: n })
            }
            function d(e) {
              var t = e.context(),
                n = i(
                  2,
                  1 === t.currentType ? e.currentOffset() : t.offset,
                  1 === t.currentType ? t.endLoc : t.startLoc
                )
              n.items = []
              var d = null
              do {
                var h = d || e.nextToken()
                switch (((d = null), h.type)) {
                  case 0:
                    ;(null == h.value && r(e, XX, t.lastStartLoc, 0, sY(h)),
                      n.items.push(o(e, h.value || '')))
                    break
                  case 5:
                    ;(null == h.value && r(e, XX, t.lastStartLoc, 0, sY(h)),
                      n.items.push(s(e, h.value || '')))
                    break
                  case 4:
                    ;(null == h.value && r(e, XX, t.lastStartLoc, 0, sY(h)),
                      n.items.push(u(e, h.value || '')))
                    break
                  case 6:
                    ;(null == h.value && r(e, XX, t.lastStartLoc, 0, sY(h)),
                      n.items.push(l(e, h.value || '')))
                    break
                  case 7:
                    var f = c(e)
                    ;(n.items.push(f.node), (d = f.nextConsumeToken || null))
                }
              } while (13 !== t.currentType && 1 !== t.currentType)
              return (
                a(
                  n,
                  1 === t.currentType ? t.lastOffset : e.currentOffset(),
                  1 === t.currentType ? t.lastEndLoc : e.currentPosition()
                ),
                n
              )
            }
            function h(e) {
              var t = e.context(),
                n = t.offset,
                o = t.startLoc,
                s = d(e)
              return 13 === t.currentType
                ? s
                : (function (e, t, n, o) {
                    var s = e.context(),
                      u = 0 === o.items.length,
                      l = i(1, t, n)
                    ;((l.cases = []), l.cases.push(o))
                    do {
                      var c = d(e)
                      ;(u || (u = 0 === c.items.length), l.cases.push(c))
                    } while (13 !== s.currentType)
                    return (u && r(e, jX, n, 0), a(l, e.currentOffset(), e.currentPosition()), l)
                  })(e, n, o, s)
            }
            return {
              parse: function (n) {
                var o = rY(n, vX({}, e)),
                  s = o.context(),
                  u = i(0, s.offset, s.startLoc)
                return (
                  t && u.loc && (u.loc.source = n),
                  (u.body = h(o)),
                  e.onCacheKey && (u.cacheKey = e.onCacheKey(n)),
                  13 !== s.currentType && r(o, XX, s.lastStartLoc, 0, n[s.offset] || ''),
                  a(u, o.currentOffset(), o.currentPosition()),
                  u
                )
              },
            }
          }
          function sY(e) {
            if (13 === e.type) return 'EOF'
            var t = (e.value || '').replace(/\r?\n/g, '\\n')
            return t.length > 10 ? t.slice(0, 9) + '' : t
          }
          function uY(e, t) {
            for (var n = 0; n < e.length; n++) lY(e[n], t)
          }
          function lY(e, t) {
            switch (e.type) {
              case 1:
                ;(uY(e.cases, t), t.helper('plural'))
                break
              case 2:
                uY(e.items, t)
                break
              case 6:
                ;(lY(e.key, t), t.helper('linked'), t.helper('type'))
                break
              case 5:
                ;(t.helper('interpolate'), t.helper('list'))
                break
              case 4:
                ;(t.helper('interpolate'), t.helper('named'))
            }
          }
          function cY(e) {
            var t = (function (e) {
              var t = { ast: e, helpers: new Set() }
              return {
                context: function () {
                  return t
                },
                helper: function (e) {
                  return (t.helpers.add(e), e)
                },
              }
            })(e)
            ;(t.helper('normalize'), e.body && lY(e.body, t))
            var n = t.context()
            e.helpers = Array.from(n.helpers)
          }
          function dY(e) {
            if (1 === e.items.length) {
              var t = e.items[0]
              ;(3 !== t.type && 9 !== t.type) || ((e.static = t.value), delete t.value)
            } else {
              for (var n = [], r = 0; r < e.items.length; r++) {
                var i = e.items[r]
                if (3 !== i.type && 9 !== i.type) break
                if (null == i.value) break
                n.push(i.value)
              }
              if (n.length === e.items.length) {
                e.static = IX(n)
                for (var a = 0; a < e.items.length; a++) {
                  var o = e.items[a]
                  ;(3 !== o.type && 9 !== o.type) || delete o.value
                }
              }
            }
          }
          function hY(e) {
            switch (((e.t = e.type), e.type)) {
              case 0:
                var t = e
                ;(hY(t.body), (t.b = t.body), delete t.body)
                break
              case 1:
                for (var n = e, r = n.cases, i = 0; i < r.length; i++) hY(r[i])
                ;((n.c = r), delete n.cases)
                break
              case 2:
                for (var a = e, o = a.items, s = 0; s < o.length; s++) hY(o[s])
                ;((a.i = o), delete a.items, a.static && ((a.s = a.static), delete a.static))
                break
              case 3:
              case 9:
              case 8:
              case 7:
                var u = e
                u.value && ((u.v = u.value), delete u.value)
                break
              case 6:
                var l = e
                ;(hY(l.key),
                  (l.k = l.key),
                  delete l.key,
                  l.modifier && (hY(l.modifier), (l.m = l.modifier), delete l.modifier))
                break
              case 5:
                var c = e
                ;((c.i = c.index), delete c.index)
                break
              case 4:
                var d = e
                ;((d.k = d.key), delete d.key)
            }
            delete e.type
          }
          function fY(e, t) {
            var n = e.helper
            switch (t.type) {
              case 0:
                !(function (e, t) {
                  t.body ? fY(e, t.body) : e.push('null')
                })(e, t)
                break
              case 1:
                !(function (e, t) {
                  var n = e.helper,
                    r = e.needIndent
                  if (t.cases.length > 1) {
                    ;(e.push(''.concat(n('plural'), '([')), e.indent(r()))
                    for (
                      var i = t.cases.length, a = 0;
                      a < i && (fY(e, t.cases[a]), a !== i - 1);
                      a++
                    )
                      e.push(', ')
                    ;(e.deindent(r()), e.push('])'))
                  }
                })(e, t)
                break
              case 2:
                !(function (e, t) {
                  var n = e.helper,
                    r = e.needIndent
                  ;(e.push(''.concat(n('normalize'), '([')), e.indent(r()))
                  for (
                    var i = t.items.length, a = 0;
                    a < i && (fY(e, t.items[a]), a !== i - 1);
                    a++
                  )
                    e.push(', ')
                  ;(e.deindent(r()), e.push('])'))
                })(e, t)
                break
              case 6:
                !(function (e, t) {
                  var n = e.helper
                  ;(e.push(''.concat(n('linked'), '(')),
                    fY(e, t.key),
                    t.modifier
                      ? (e.push(', '), fY(e, t.modifier), e.push(', _type'))
                      : e.push(', undefined, _type'),
                    e.push(')'))
                })(e, t)
                break
              case 8:
              case 7:
              case 9:
              case 3:
                e.push(JSON.stringify(t.value), t)
                break
              case 5:
                e.push(
                  ''.concat(n('interpolate'), '(').concat(n('list'), '(').concat(t.index, '))'),
                  t
                )
                break
              case 4:
                e.push(
                  ''
                    .concat(n('interpolate'), '(')
                    .concat(n('named'), '(')
                    .concat(JSON.stringify(t.key), '))'),
                  t
                )
            }
          }
          function pY(e) {
            var t = vX({}, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}),
              n = !!t.jit,
              r = !!t.minify,
              i = null == t.optimize || t.optimize,
              a = oY(t).parse(e)
            return n
              ? (i &&
                  (function (e) {
                    var t = e.body
                    2 === t.type
                      ? dY(t)
                      : t.cases.forEach(function (e) {
                          return dY(e)
                        })
                  })(a),
                r && hY(a),
                { ast: a, code: '' })
              : (cY(a, t),
                (function (e) {
                  var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = TX(t.mode) ? t.mode : 'normal',
                    r = TX(t.filename) ? t.filename : 'message.intl'
                  t.sourceMap
                  var i = null != t.breakLineCode ? t.breakLineCode : 'arrow' === n ? ';' : '\n',
                    a = t.needIndent ? t.needIndent : 'arrow' !== n,
                    o = e.helpers || [],
                    s = (function (e, t) {
                      var n = t.filename,
                        r = t.breakLineCode,
                        i = t.needIndent,
                        a = !1 !== t.location,
                        o = {
                          filename: n,
                          code: '',
                          column: 1,
                          line: 1,
                          offset: 0,
                          map: void 0,
                          breakLineCode: r,
                          needIndent: i,
                          indentLevel: 0,
                        }
                      function s(e, t) {
                        o.code += e
                      }
                      function u(e) {
                        var t =
                          arguments.length > 1 && void 0 !== arguments[1] && !arguments[1] ? '' : r
                        s(i ? t + '  '.repeat(e) : t)
                      }
                      return (
                        a && e.loc && (o.source = e.loc.source),
                        {
                          context: function () {
                            return o
                          },
                          push: s,
                          indent: function () {
                            var e =
                                !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                              t = ++o.indentLevel
                            e && u(t)
                          },
                          deindent: function () {
                            var e =
                                !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                              t = --o.indentLevel
                            e && u(t)
                          },
                          newline: function () {
                            u(o.indentLevel)
                          },
                          helper: function (e) {
                            return '_'.concat(e)
                          },
                          needIndent: function () {
                            return o.needIndent
                          },
                        }
                      )
                    })(e, { filename: r, breakLineCode: i, needIndent: a })
                  ;(s.push('normal' === n ? 'function __msg__ (ctx) {' : '(ctx) => {'),
                    s.indent(a),
                    o.length > 0 &&
                      (s.push(
                        'const { '.concat(
                          IX(
                            o.map(function (e) {
                              return ''.concat(e, ': _').concat(e)
                            }),
                            ', '
                          ),
                          ' } = ctx'
                        )
                      ),
                      s.newline()),
                    s.push('return '),
                    fY(s, e),
                    s.deindent(a),
                    s.push('}'),
                    delete e.helpers)
                  var u = s.context(),
                    l = u.code,
                    c = u.map
                  return { ast: e, code: l, map: c ? c.toJSON() : void 0 }
                })(a, t))
          }
          /*!
           * core-base v11.1.12
           * (c) 2025 kazuya kawaguchi
           * Released under the MIT License.
           */ function vY(e) {
            return EX(e) && 0 === bY(e) && (SX(e, 'b') || SX(e, 'body'))
          }
          var mY = ['b', 'body']
          var gY = ['c', 'cases']
          var yY = ['s', 'static']
          var xY = ['i', 'items']
          var _Y = ['t', 'type']
          function bY(e) {
            return MY(e, _Y)
          }
          var SY = ['v', 'value']
          function wY(e, t) {
            var n = MY(e, SY)
            if (null != n) return n
            throw CY(t)
          }
          var AY = ['m', 'modifier']
          var TY = ['k', 'key']
          function MY(e, t, n) {
            for (var r = 0; r < t.length; r++) {
              var i = t[r]
              if (SX(e, i) && null != e[i]) return e[i]
            }
            return n
          }
          var EY = [].concat(mY, gY, yY, xY, TY, AY, SY, _Y)
          function CY(e) {
            return new Error('unhandled node type: '.concat(e))
          }
          function kY(e) {
            return function (t) {
              return (function (e, t) {
                var n = (function (e) {
                  return MY(e, mY)
                })(t)
                if (null == n) throw CY(0)
                if (1 === bY(n)) {
                  var r = (function (e) {
                    return MY(e, gY, [])
                  })(n)
                  return e.plural(
                    r.reduce(function (t, n) {
                      return [].concat(I(t), [RY(e, n)])
                    }, [])
                  )
                }
                return RY(e, n)
              })(t, e)
            }
          }
          function RY(e, t) {
            var n = (function (e) {
              return MY(e, yY)
            })(t)
            if (null != n) return 'text' === e.type ? n : e.normalize([n])
            var r = (function (e) {
              return MY(e, xY, [])
            })(t).reduce(function (t, n) {
              return [].concat(I(t), [IY(e, n)])
            }, [])
            return e.normalize(r)
          }
          function IY(e, t) {
            var n = bY(t)
            switch (n) {
              case 3:
              case 9:
              case 7:
              case 8:
                return wY(t, n)
              case 4:
                var r = t
                if (SX(r, 'k') && r.k) return e.interpolate(e.named(r.k))
                if (SX(r, 'key') && r.key) return e.interpolate(e.named(r.key))
                throw CY(n)
              case 5:
                var i = t
                if (SX(i, 'i') && hX(i.i)) return e.interpolate(e.list(i.i))
                if (SX(i, 'index') && hX(i.index)) return e.interpolate(e.list(i.index))
                throw CY(n)
              case 6:
                var a = t,
                  o = (function (e) {
                    return MY(e, AY)
                  })(a),
                  s = (function (e) {
                    var t = MY(e, TY)
                    if (t) return t
                    throw CY(6)
                  })(a)
                return e.linked(IY(e, s), o ? IY(e, o) : void 0, e.type)
              default:
                throw new Error('unhandled node on format message part: '.concat(n))
            }
          }
          var NY = function (e) {
              return e
            },
            PY = gX()
          var LY = null
          var DY = OY('function:translate')
          function OY(e) {
            return function (t) {
              return LY && LY.emit(e, t)
            }
          }
          var FY,
            BY = 17,
            UY = 18,
            zY = 19,
            VY = 21,
            HY = 22,
            WY = 23
          function GY(e) {
            return YX(e, null, void 0)
          }
          function jY(e, t) {
            return null != t.locale ? QY(t.locale) : QY(e.locale)
          }
          function QY(e) {
            if (TX(e)) return e
            if (AX(e)) {
              if (e.resolvedOnce && null != FY) return FY
              if ('Function' === e.constructor.name) {
                var t = e()
                if (EX((n = t)) && AX(n.then) && AX(n.catch)) throw GY(VY)
                return (FY = t)
              }
              throw GY(HY)
            }
            throw GY(WY)
            var n
          }
          function qY(e, t, n) {
            return I(new Set([n].concat(I(wX(t) ? t : EX(t) ? Object.keys(t) : TX(t) ? [t] : [n]))))
          }
          function XY(e, t, n) {
            var r = TX(n) ? n : sK,
              i = e
            i.__localeChainCache || (i.__localeChainCache = new Map())
            var a = i.__localeChainCache.get(r)
            if (!a) {
              a = []
              for (var o = [n]; wX(o); ) o = YY(a, o, t)
              var s = wX(t) || !RX(t) ? t : t.default ? t.default : null
              ;((o = TX(s) ? [s] : s), wX(o) && YY(a, o, !1), i.__localeChainCache.set(r, a))
            }
            return a
          }
          function YY(e, t, n) {
            for (var r = !0, i = 0; i < t.length && MX(r); i++) {
              var a = t[i]
              TX(a) && (r = KY(e, t[i], n))
            }
            return r
          }
          function KY(e, t, n) {
            var r,
              i = t.split('-')
            do {
              ;((r = ZY(e, i.join('-'), n)), i.splice(-1, 1))
            } while (i.length && !0 === r)
            return r
          }
          function ZY(e, t, n) {
            var r = !1
            if (!e.includes(t) && ((r = !0), t)) {
              r = '!' !== t[t.length - 1]
              var i = t.replace(/!/g, '')
              ;(e.push(i), (wX(n) || RX(n)) && n[i] && (r = n[i]))
            }
            return r
          }
          var JY = []
          ;((JY[0] = M(M(M(M({}, 'w', [0]), 'i', [3, 0]), '[', [4]), 'o', [7])),
            (JY[1] = M(M(M(M({}, 'w', [1]), '.', [2]), '[', [4]), 'o', [7])),
            (JY[2] = M(M(M({}, 'w', [2]), 'i', [3, 0]), '0', [3, 0])),
            (JY[3] = M(
              M(M(M(M(M({}, 'i', [3, 0]), '0', [3, 0]), 'w', [1, 1]), '.', [2, 1]), '[', [4, 1]),
              'o',
              [7, 1]
            )),
            (JY[4] = M(
              M(M(M(M(M({}, "'", [5, 0]), '"', [6, 0]), '[', [4, 2]), ']', [1, 3]), 'o', 8),
              'l',
              [4, 0]
            )),
            (JY[5] = M(M(M({}, "'", [4, 0]), 'o', 8), 'l', [5, 0])),
            (JY[6] = M(M(M({}, '"', [4, 0]), 'o', 8), 'l', [6, 0])))
          var $Y = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/
          function eK(e) {
            if (null == e) return 'o'
            switch (e.charCodeAt(0)) {
              case 91:
              case 93:
              case 46:
              case 34:
              case 39:
                return e
              case 95:
              case 36:
              case 45:
                return 'i'
              case 9:
              case 10:
              case 13:
              case 160:
              case 65279:
              case 8232:
              case 8233:
                return 'w'
            }
            return 'i'
          }
          function tK(e) {
            var t,
              n = e.trim()
            return (
              ('0' !== e.charAt(0) || !isNaN(parseInt(e))) &&
              ((t = n),
              $Y.test(t)
                ? (function (e) {
                    var t = e.charCodeAt(0)
                    return t !== e.charCodeAt(e.length - 1) || (34 !== t && 39 !== t)
                      ? e
                      : e.slice(1, -1)
                  })(n)
                : '*' + n)
            )
          }
          var nK = new Map()
          function rK(e, t) {
            return EX(e) ? e[t] : null
          }
          var iK,
            aK,
            oK,
            sK = 'en-US',
            uK = function (e) {
              return ''.concat(e.charAt(0).toLocaleUpperCase()).concat(e.substr(1))
            }
          var lK = null,
            cK = function () {
              return lK
            },
            dK = null,
            hK = function (e) {
              dK = e
            },
            fK = 0
          function pK() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = AX(e.onWarn) ? e.onWarn : sX,
              n = TX(e.version) ? e.version : '11.1.12',
              r = TX(e.locale) || AX(e.locale) ? e.locale : sK,
              i = AX(r) ? sK : r,
              a =
                wX(e.fallbackLocale) ||
                RX(e.fallbackLocale) ||
                TX(e.fallbackLocale) ||
                !1 === e.fallbackLocale
                  ? e.fallbackLocale
                  : i,
              o = RX(e.messages) ? e.messages : vK(i),
              s = RX(e.datetimeFormats) ? e.datetimeFormats : vK(i),
              u = RX(e.numberFormats) ? e.numberFormats : vK(i),
              l = vX(gX(), e.modifiers, {
                upper: function (e, t) {
                  return 'text' === t && TX(e)
                    ? e.toUpperCase()
                    : 'vnode' === t && EX(e) && '__v_isVNode' in e
                      ? e.children.toUpperCase()
                      : e
                },
                lower: function (e, t) {
                  return 'text' === t && TX(e)
                    ? e.toLowerCase()
                    : 'vnode' === t && EX(e) && '__v_isVNode' in e
                      ? e.children.toLowerCase()
                      : e
                },
                capitalize: function (e, t) {
                  return 'text' === t && TX(e)
                    ? uK(e)
                    : 'vnode' === t && EX(e) && '__v_isVNode' in e
                      ? uK(e.children)
                      : e
                },
              }),
              c = e.pluralRules || gX(),
              d = AX(e.missing) ? e.missing : null,
              h = (!MX(e.missingWarn) && !fX(e.missingWarn)) || e.missingWarn,
              f = (!MX(e.fallbackWarn) && !fX(e.fallbackWarn)) || e.fallbackWarn,
              p = !!e.fallbackFormat,
              v = !!e.unresolving,
              m = AX(e.postTranslation) ? e.postTranslation : null,
              g = RX(e.processor) ? e.processor : null,
              y = !MX(e.warnHtmlMessage) || e.warnHtmlMessage,
              x = !!e.escapeParameter,
              _ = AX(e.messageCompiler) ? e.messageCompiler : iK,
              b = AX(e.messageResolver) ? e.messageResolver : aK || rK,
              S = AX(e.localeFallbacker) ? e.localeFallbacker : oK || qY,
              w = EX(e.fallbackContext) ? e.fallbackContext : void 0,
              A = e,
              T = EX(A.__datetimeFormatters) ? A.__datetimeFormatters : new Map(),
              M = EX(A.__numberFormatters) ? A.__numberFormatters : new Map(),
              E = EX(A.__meta) ? A.__meta : {},
              C = {
                version: n,
                cid: ++fK,
                locale: r,
                fallbackLocale: a,
                messages: o,
                modifiers: l,
                pluralRules: c,
                missing: d,
                missingWarn: h,
                fallbackWarn: f,
                fallbackFormat: p,
                unresolving: v,
                postTranslation: m,
                processor: g,
                warnHtmlMessage: y,
                escapeParameter: x,
                messageCompiler: _,
                messageResolver: b,
                localeFallbacker: S,
                fallbackContext: w,
                onWarn: t,
                __meta: E,
              }
            return (
              (C.datetimeFormats = s),
              (C.numberFormats = u),
              (C.__datetimeFormatters = T),
              (C.__numberFormatters = M),
              __INTLIFY_PROD_DEVTOOLS__ &&
                (function (e, t, n) {
                  LY &&
                    LY.emit('i18n:init', { timestamp: Date.now(), i18n: e, version: t, meta: n })
                })(C, n, E),
              C
            )
          }
          var vK = function (e) {
            return M({}, e, gX())
          }
          function mK(e, t, n, r, i) {
            var a = e.missing
            e.onWarn
            if (null !== a) {
              var o = a(e, n, t, i)
              return TX(o) ? o : t
            }
            return t
          }
          function gK(e, t, n) {
            ;((e.__localeChainCache = new Map()), e.localeFallbacker(e, n, t))
          }
          function yK(e, t) {
            return e !== t && e.split('-')[0] === t.split('-')[0]
          }
          function xK(e, t) {
            var n = t.indexOf(e)
            if (-1 === n) return !1
            for (var r = n + 1; r < t.length; r++) if (yK(e, t[r])) return !0
            return !1
          }
          function _K(e) {
            for (
              var t = e.datetimeFormats,
                n = e.unresolving,
                r = e.fallbackLocale,
                i = (e.onWarn, e.localeFallbacker),
                a = e.__datetimeFormatters,
                o = arguments.length,
                s = new Array(o > 1 ? o - 1 : 0),
                u = 1;
              u < o;
              u++
            )
              s[u - 1] = arguments[u]
            var l = C(SK.apply(void 0, s), 4),
              c = l[0],
              d = l[1],
              h = l[2],
              f = l[3]
            MX(h.missingWarn) ? h.missingWarn : e.missingWarn
            MX(h.fallbackWarn) ? h.fallbackWarn : e.fallbackWarn
            var p = !!h.part,
              v = jY(e, h),
              m = i(e, r, v)
            if (!TX(c) || '' === c) return new Intl.DateTimeFormat(v, f).format(d)
            for (
              var g, y = null, x = 0;
              x < m.length && ((y = (t[(g = m[x])] || {})[c]), !RX(y));
              x++
            )
              mK(e, c, g, 0, 'datetime format')
            if (!RX(y) || !TX(g)) return n ? -1 : c
            var _ = ''.concat(g, '__').concat(c)
            pX(f) || (_ = ''.concat(_, '__').concat(JSON.stringify(f)))
            var b = a.get(_)
            return (
              b || ((b = new Intl.DateTimeFormat(g, vX({}, y, f))), a.set(_, b)),
              p ? b.formatToParts(d) : b.format(d)
            )
          }
          var bK = [
            'localeMatcher',
            'weekday',
            'era',
            'year',
            'month',
            'day',
            'hour',
            'minute',
            'second',
            'timeZoneName',
            'formatMatcher',
            'hour12',
            'timeZone',
            'dateStyle',
            'timeStyle',
            'calendar',
            'dayPeriod',
            'numberingSystem',
            'hourCycle',
            'fractionalSecondDigits',
          ]
          function SK() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n]
            var r,
              i = t[0],
              a = t[1],
              o = t[2],
              s = t[3],
              u = gX(),
              l = gX()
            if (TX(i)) {
              var c = i.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/)
              if (!c) throw GY(zY)
              var d = c[3]
                ? c[3].trim().startsWith('T')
                  ? ''.concat(c[1].trim()).concat(c[3].trim())
                  : ''.concat(c[1].trim(), 'T').concat(c[3].trim())
                : c[1].trim()
              r = new Date(d)
              try {
                r.toISOString()
              } catch (h) {
                throw GY(zY)
              }
            } else if ('[object Date]' === kX(i)) {
              if (isNaN(i.getTime())) throw GY(UY)
              r = i
            } else {
              if (!hX(i)) throw GY(BY)
              r = i
            }
            return (
              TX(a)
                ? (u.key = a)
                : RX(a) &&
                  Object.keys(a).forEach(function (e) {
                    bK.includes(e) ? (l[e] = a[e]) : (u[e] = a[e])
                  }),
              TX(o) ? (u.locale = o) : RX(o) && (l = o),
              RX(s) && (l = s),
              [u.key || '', r, u, l]
            )
          }
          function wK(e, t, n) {
            var r = e
            for (var i in n) {
              var a = ''.concat(t, '__').concat(i)
              r.__datetimeFormatters.has(a) && r.__datetimeFormatters.delete(a)
            }
          }
          function AK(e) {
            for (
              var t = e.numberFormats,
                n = e.unresolving,
                r = e.fallbackLocale,
                i = (e.onWarn, e.localeFallbacker),
                a = e.__numberFormatters,
                o = arguments.length,
                s = new Array(o > 1 ? o - 1 : 0),
                u = 1;
              u < o;
              u++
            )
              s[u - 1] = arguments[u]
            var l = C(MK.apply(void 0, s), 4),
              c = l[0],
              d = l[1],
              h = l[2],
              f = l[3]
            MX(h.missingWarn) ? h.missingWarn : e.missingWarn
            MX(h.fallbackWarn) ? h.fallbackWarn : e.fallbackWarn
            var p = !!h.part,
              v = jY(e, h),
              m = i(e, r, v)
            if (!TX(c) || '' === c) return new Intl.NumberFormat(v, f).format(d)
            for (
              var g, y = null, x = 0;
              x < m.length && ((y = (t[(g = m[x])] || {})[c]), !RX(y));
              x++
            )
              mK(e, c, g, 0, 'number format')
            if (!RX(y) || !TX(g)) return n ? -1 : c
            var _ = ''.concat(g, '__').concat(c)
            pX(f) || (_ = ''.concat(_, '__').concat(JSON.stringify(f)))
            var b = a.get(_)
            return (
              b || ((b = new Intl.NumberFormat(g, vX({}, y, f))), a.set(_, b)),
              p ? b.formatToParts(d) : b.format(d)
            )
          }
          var TK = [
            'localeMatcher',
            'style',
            'currency',
            'currencyDisplay',
            'currencySign',
            'useGrouping',
            'minimumIntegerDigits',
            'minimumFractionDigits',
            'maximumFractionDigits',
            'minimumSignificantDigits',
            'maximumSignificantDigits',
            'compactDisplay',
            'notation',
            'signDisplay',
            'unit',
            'unitDisplay',
            'roundingMode',
            'roundingPriority',
            'roundingIncrement',
            'trailingZeroDisplay',
          ]
          function MK() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n]
            var r = t[0],
              i = t[1],
              a = t[2],
              o = t[3],
              s = gX(),
              u = gX()
            if (!hX(r)) throw GY(BY)
            var l = r
            return (
              TX(i)
                ? (s.key = i)
                : RX(i) &&
                  Object.keys(i).forEach(function (e) {
                    TK.includes(e) ? (u[e] = i[e]) : (s[e] = i[e])
                  }),
              TX(a) ? (s.locale = a) : RX(a) && (u = a),
              RX(o) && (u = o),
              [s.key || '', l, s, u]
            )
          }
          function EK(e, t, n) {
            var r = e
            for (var i in n) {
              var a = ''.concat(t, '__').concat(i)
              r.__numberFormatters.has(a) && r.__numberFormatters.delete(a)
            }
          }
          var CK = function (e) {
              return e
            },
            kK = function (e) {
              return ''
            },
            RK = function (e) {
              return 0 === e.length ? '' : IX(e)
            },
            IK = function (e) {
              return null == e
                ? ''
                : wX(e) || (RX(e) && e.toString === CX)
                  ? JSON.stringify(e, null, 2)
                  : String(e)
            }
          function NK(e, t) {
            return ((e = Math.abs(e)), 2 === t ? (e ? (e > 1 ? 1 : 0) : 1) : e ? Math.min(e, 2) : 0)
          }
          function PK() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = e.locale,
              n = (function (e) {
                var t = hX(e.pluralIndex) ? e.pluralIndex : -1
                return e.named && (hX(e.named.count) || hX(e.named.n))
                  ? hX(e.named.count)
                    ? e.named.count
                    : hX(e.named.n)
                      ? e.named.n
                      : t
                  : t
              })(e),
              r = EX(e.pluralRules) && TX(t) && AX(e.pluralRules[t]) ? e.pluralRules[t] : NK,
              i = EX(e.pluralRules) && TX(t) && AX(e.pluralRules[t]) ? NK : void 0,
              a = e.list || [],
              o = e.named || gX()
            hX(e.pluralIndex) &&
              (function (e, t) {
                ;(t.count || (t.count = e), t.n || (t.n = e))
              })(n, o)
            function s(t, n) {
              var r = AX(e.messages) ? e.messages(t, !!n) : !!EX(e.messages) && e.messages[t]
              return r || (e.parent ? e.parent.message(t) : kK)
            }
            var u = RX(e.processor) && AX(e.processor.normalize) ? e.processor.normalize : RK,
              l = RX(e.processor) && AX(e.processor.interpolate) ? e.processor.interpolate : IK,
              c = RX(e.processor) && TX(e.processor.type) ? e.processor.type : 'text',
              d = M(
                M(
                  M(
                    M(
                      M(
                        M(
                          M(
                            M(
                              M({}, 'list', function (e) {
                                return a[e]
                              }),
                              'named',
                              function (e) {
                                return o[e]
                              }
                            ),
                            'plural',
                            function (e) {
                              return e[r(n, e.length, i)]
                            }
                          ),
                          'linked',
                          function (t) {
                            for (
                              var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1;
                              i < n;
                              i++
                            )
                              r[i - 1] = arguments[i]
                            var a = r[0],
                              o = r[1],
                              u = 'text',
                              l = ''
                            1 === r.length
                              ? EX(a)
                                ? ((l = a.modifier || l), (u = a.type || u))
                                : TX(a) && (l = a || l)
                              : 2 === r.length && (TX(a) && (l = a || l), TX(o) && (u = o || u))
                            var c = s(t, !0)(d),
                              h = 'vnode' === u && wX(c) && l ? c[0] : c
                            return l
                              ? (function (t) {
                                  return e.modifiers ? e.modifiers[t] : CK
                                })(l)(h, u)
                              : h
                          }
                        ),
                        'message',
                        s
                      ),
                      'type',
                      c
                    ),
                    'interpolate',
                    l
                  ),
                  'normalize',
                  u
                ),
                'values',
                vX(gX(), a, o)
              )
            return d
          }
          var LK = function () {
              return ''
            },
            DK = function (e) {
              return AX(e)
            }
          function OK(e) {
            for (
              var t = e.fallbackFormat,
                n = e.postTranslation,
                r = e.unresolving,
                i = e.messageCompiler,
                a = e.fallbackLocale,
                o = e.messages,
                s = arguments.length,
                u = new Array(s > 1 ? s - 1 : 0),
                l = 1;
              l < s;
              l++
            )
              u[l - 1] = arguments[l]
            var c = C(UK.apply(void 0, u), 2),
              d = c[0],
              h = c[1],
              f = MX(h.missingWarn) ? h.missingWarn : e.missingWarn,
              p = MX(h.fallbackWarn) ? h.fallbackWarn : e.fallbackWarn,
              v = MX(h.escapeParameter) ? h.escapeParameter : e.escapeParameter,
              m = !!h.resolvedMessage,
              g =
                TX(h.default) || MX(h.default)
                  ? MX(h.default)
                    ? i
                      ? d
                      : function () {
                          return d
                        }
                    : h.default
                  : t
                    ? i
                      ? d
                      : function () {
                          return d
                        }
                    : null,
              y = t || (null != g && (TX(g) || AX(g))),
              x = jY(e, h)
            v &&
              (function (e) {
                wX(e.list)
                  ? (e.list = e.list.map(function (e) {
                      return TX(e) ? xX(e) : e
                    }))
                  : EX(e.named) &&
                    Object.keys(e.named).forEach(function (t) {
                      TX(e.named[t]) && (e.named[t] = xX(e.named[t]))
                    })
              })(h)
            var _ = C(m ? [d, x, o[x] || gX()] : FK(e, d, x, a, p, f), 3),
              b = _[0],
              S = _[1],
              w = _[2],
              A = b,
              T = d
            if (
              (m || TX(A) || vY(A) || DK(A) || (y && (T = A = g)),
              !(m || ((TX(A) || vY(A) || DK(A)) && TX(S))))
            )
              return r ? -1 : d
            var M = !1,
              E = DK(A)
                ? A
                : BK(e, d, S, A, T, function () {
                    M = !0
                  })
            if (M) return A
            var k,
              R = (function (e, t, n, r) {
                var i = e.modifiers,
                  a = e.pluralRules,
                  o = e.messageResolver,
                  s = e.fallbackLocale,
                  u = e.fallbackWarn,
                  l = e.missingWarn,
                  c = e.fallbackContext,
                  d = function (r, i) {
                    var a = o(n, r)
                    if (null == a && (c || i)) {
                      var d = C(FK(c || e, r, t, s, u, l), 3)[2]
                      a = o(d, r)
                    }
                    if (TX(a) || vY(a)) {
                      var h = !1,
                        f = BK(e, r, t, a, r, function () {
                          h = !0
                        })
                      return h ? LK : f
                    }
                    return DK(a) ? a : LK
                  },
                  h = { locale: t, modifiers: i, pluralRules: a, messages: d }
                e.processor && (h.processor = e.processor)
                r.list && (h.list = r.list)
                r.named && (h.named = r.named)
                hX(r.plural) && (h.pluralIndex = r.plural)
                return h
              })(e, S, w, h),
              I = (function (e, t, n) {
                var r = t(n)
                return r
              })(0, E, PK(R)),
              N = n ? n(I, d) : I
            if (
              (v &&
                TX(N) &&
                ((k = (k = (k = N).replace(/(\w+)\s*=\s*"([^"]*)"/g, function (e, t, n) {
                  return ''.concat(t, '="').concat(_X(n), '"')
                })).replace(/(\w+)\s*=\s*'([^']*)'/g, function (e, t, n) {
                  return ''.concat(t, "='").concat(_X(n), "'")
                })),
                /\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(k) &&
                  (k = k.replace(/(\s+)(on)(\w+\s*=)/gi, '$1&#111;n$3')),
                [
                  /(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,
                  /(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi,
                ].forEach(function (e) {
                  k = k.replace(e, '$1javascript&#58;')
                }),
                (N = k)),
              __INTLIFY_PROD_DEVTOOLS__)
            ) {
              var P = {
                timestamp: Date.now(),
                key: TX(d) ? d : DK(A) ? A.key : '',
                locale: S || (DK(A) ? A.locale : ''),
                format: TX(A) ? A : DK(A) ? A.source : '',
                message: N,
              }
              ;((P.meta = vX({}, e.__meta, cK() || {})), DY(P))
            }
            return N
          }
          function FK(e, t, n, r, i, a) {
            for (
              var o,
                s = e.messages,
                u = (e.onWarn, e.messageResolver),
                l = (0, e.localeFallbacker)(e, r, n),
                c = gX(),
                d = null,
                h = 0;
              h < l.length &&
              (null === (d = u((c = s[(o = l[h])] || gX()), t)) && (d = c[t]),
              !(TX(d) || vY(d) || DK(d)));
              h++
            )
              if (!xK(o, l)) {
                var f = mK(e, t, o, 0, 'translate')
                f !== t && (d = f)
              }
            return [d, o, c]
          }
          function BK(e, t, n, r, i, a) {
            var o = e.messageCompiler,
              s = e.warnHtmlMessage
            if (DK(r)) {
              var u = r
              return ((u.locale = u.locale || n), (u.key = u.key || t), u)
            }
            if (null == o) {
              var l = function () {
                return r
              }
              return ((l.locale = n), (l.key = t), l)
            }
            var c = o(
              r,
              (function (e, t, n, r, i, a) {
                return {
                  locale: t,
                  key: n,
                  warnHtmlMessage: i,
                  onError: function (e) {
                    throw (a && a(e), e)
                  },
                  onCacheKey: function (e) {
                    return (function (e, t, n) {
                      return dX({ l: e, k: t, s: n })
                    })(t, n, e)
                  },
                }
              })(0, n, i, 0, s, a)
            )
            return ((c.locale = n), (c.key = t), (c.source = r), c)
          }
          function UK() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n]
            var r = t[0],
              i = t[1],
              a = t[2],
              o = gX()
            if (!(TX(r) || hX(r) || DK(r) || vY(r))) throw GY(BY)
            var s = hX(r) ? String(r) : (DK(r), r)
            return (
              hX(i)
                ? (o.plural = i)
                : TX(i)
                  ? (o.default = i)
                  : RX(i) && !pX(i)
                    ? (o.named = i)
                    : wX(i) && (o.list = i),
              hX(a) ? (o.plural = a) : TX(a) ? (o.default = a) : RX(a) && vX(o, a),
              [s, o]
            )
          }
          ;('boolean' != typeof __INTLIFY_PROD_DEVTOOLS__ && (yX().__INTLIFY_PROD_DEVTOOLS__ = !1),
            'boolean' != typeof __INTLIFY_DROP_MESSAGE_COMPILER__ &&
              (yX().__INTLIFY_DROP_MESSAGE_COMPILER__ = !1))
          var zK = 24,
            VK = 25,
            HK = 26,
            WK = 27,
            GK = 28,
            jK = 29,
            QK = 31,
            qK = 32
          function XK(e) {
            return YX(e, null, void 0)
          }
          var YK = cX('__translateVNode'),
            KK = cX('__datetimeParts'),
            ZK = cX('__numberParts'),
            JK = cX('__setPluralRules'),
            $K = cX('__injectWithOption'),
            eZ = cX('__dispose')
          function tZ(e) {
            if (!EX(e)) return e
            if (vY(e)) return e
            for (var t in e)
              if (SX(e, t))
                if (t.includes('.')) {
                  for (var n = t.split('.'), r = n.length - 1, i = e, a = !1, o = 0; o < r; o++) {
                    if ('__proto__' === n[o]) throw new Error('unsafe key: '.concat(n[o]))
                    if ((n[o] in i || (i[n[o]] = gX()), !EX(i[n[o]]))) {
                      a = !0
                      break
                    }
                    i = i[n[o]]
                  }
                  if (
                    (a ||
                      (vY(i) ? EY.includes(n[r]) || delete e[t] : ((i[n[r]] = e[t]), delete e[t])),
                    !vY(i))
                  ) {
                    var s = i[n[r]]
                    EX(s) && tZ(s)
                  }
                } else EX(e[t]) && tZ(e[t])
            return e
          }
          function nZ(e, t) {
            var n = t.messages,
              r = t.__i18n,
              i = t.messageResolver,
              a = t.flatJson,
              o = RX(n) ? n : wX(r) ? gX() : M({}, e, gX())
            if (
              (wX(r) &&
                r.forEach(function (e) {
                  if ('locale' in e && 'resource' in e) {
                    var t = e.locale,
                      n = e.resource
                    t ? ((o[t] = o[t] || gX()), PX(n, o[t])) : PX(n, o)
                  } else TX(e) && PX(JSON.parse(e), o)
                }),
              null == i && a)
            )
              for (var s in o) SX(o, s) && tZ(o[s])
            return o
          }
          function rZ(e) {
            return e.type
          }
          function iZ(e, t, n) {
            var r = EX(t.messages) ? t.messages : gX()
            '__i18nGlobal' in n && (r = nZ(e.locale.value, { messages: r, __i18n: n.__i18nGlobal }))
            var i = Object.keys(r)
            if (
              (i.length &&
                i.forEach(function (t) {
                  e.mergeLocaleMessage(t, r[t])
                }),
              EX(t.datetimeFormats))
            ) {
              var a = Object.keys(t.datetimeFormats)
              a.length &&
                a.forEach(function (n) {
                  e.mergeDateTimeFormat(n, t.datetimeFormats[n])
                })
            }
            if (EX(t.numberFormats)) {
              var o = Object.keys(t.numberFormats)
              o.length &&
                o.forEach(function (n) {
                  e.mergeNumberFormat(n, t.numberFormats[n])
                })
            }
          }
          function aZ(e) {
            return ia(Hi, null, e, 0)
          }
          var oZ = '__INTLIFY_META__',
            sZ = function () {
              return []
            },
            uZ = function () {
              return !1
            },
            lZ = 0
          function cZ(e) {
            return function (t, n, r, i) {
              return e(n, r, ya() || void 0, i)
            }
          }
          var dZ = function () {
            var e = ya(),
              t = null
            return e && (t = rZ(e)[oZ]) ? M({}, oZ, t) : null
          }
          function hZ() {
            var e,
              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              n = t.__root,
              r = t.__injectWithOption,
              i = void 0 === n,
              a = t.flatJson,
              o = lX ? tn : nn,
              s = !MX(t.inheritLocale) || t.inheritLocale,
              u = o(n && s ? n.locale.value : TX(t.locale) ? t.locale : sK),
              l = o(
                n && s
                  ? n.fallbackLocale.value
                  : TX(t.fallbackLocale) ||
                      wX(t.fallbackLocale) ||
                      RX(t.fallbackLocale) ||
                      !1 === t.fallbackLocale
                    ? t.fallbackLocale
                    : u.value
              ),
              c = o(nZ(u.value, t)),
              d = o(RX(t.datetimeFormats) ? t.datetimeFormats : M({}, u.value, {})),
              h = o(RX(t.numberFormats) ? t.numberFormats : M({}, u.value, {})),
              f = n ? n.missingWarn : (!MX(t.missingWarn) && !fX(t.missingWarn)) || t.missingWarn,
              p = n
                ? n.fallbackWarn
                : (!MX(t.fallbackWarn) && !fX(t.fallbackWarn)) || t.fallbackWarn,
              v = n ? n.fallbackRoot : !MX(t.fallbackRoot) || t.fallbackRoot,
              m = !!t.fallbackFormat,
              g = AX(t.missing) ? t.missing : null,
              y = AX(t.missing) ? cZ(t.missing) : null,
              x = AX(t.postTranslation) ? t.postTranslation : null,
              _ = n ? n.warnHtmlMessage : !MX(t.warnHtmlMessage) || t.warnHtmlMessage,
              b = !!t.escapeParameter,
              S = n ? n.modifiers : RX(t.modifiers) ? t.modifiers : {},
              w = t.pluralRules || (n && n.pluralRules)
            gK(
              (e = (function () {
                i && hK(null)
                var n = {
                  version: '11.1.12',
                  locale: u.value,
                  fallbackLocale: l.value,
                  messages: c.value,
                  modifiers: S,
                  pluralRules: w,
                  missing: null === y ? void 0 : y,
                  missingWarn: f,
                  fallbackWarn: p,
                  fallbackFormat: m,
                  unresolving: !0,
                  postTranslation: null === x ? void 0 : x,
                  warnHtmlMessage: _,
                  escapeParameter: b,
                  messageResolver: t.messageResolver,
                  messageCompiler: t.messageCompiler,
                  __meta: { framework: 'vue' },
                }
                ;((n.datetimeFormats = d.value),
                  (n.numberFormats = h.value),
                  (n.__datetimeFormatters = RX(e) ? e.__datetimeFormatters : void 0),
                  (n.__numberFormatters = RX(e) ? e.__numberFormatters : void 0))
                var r = pK(n)
                return (i && hK(r), r)
              })()),
              u.value,
              l.value
            )
            var A = Ra({
                get: function () {
                  return u.value
                },
                set: function (t) {
                  ;((e.locale = t), (u.value = t))
                },
              }),
              T = Ra({
                get: function () {
                  return l.value
                },
                set: function (t) {
                  ;((e.fallbackLocale = t), (l.value = t), gK(e, u.value, t))
                },
              }),
              E = Ra(function () {
                return c.value
              }),
              k = Ra(function () {
                return d.value
              }),
              R = Ra(function () {
                return h.value
              })
            var I = function (t, r, a, o, s, f) {
              var p
              ;(u.value, l.value, c.value, d.value, h.value)
              try {
                ;(__INTLIFY_PROD_DEVTOOLS__ && (lK = dZ()),
                  i || (e.fallbackContext = n ? dK : void 0),
                  (p = t(e)))
              } finally {
                ;(__INTLIFY_PROD_DEVTOOLS__, i || (e.fallbackContext = void 0))
              }
              if (
                ('translate exists' !== a && hX(p) && -1 === p) ||
                ('translate exists' === a && !p)
              ) {
                var m = C(r(), 2),
                  g = m[0]
                m[1]
                return n && v ? o(n) : s(g)
              }
              if (f(p)) return p
              throw XK(zK)
            }
            function N() {
              for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                t[n] = arguments[n]
              return I(
                function (e) {
                  return Reflect.apply(OK, null, [e].concat(t))
                },
                function () {
                  return UK.apply(void 0, t)
                },
                'translate',
                function (e) {
                  return Reflect.apply(e.t, e, [].concat(t))
                },
                function (e) {
                  return e
                },
                function (e) {
                  return TX(e)
                }
              )
            }
            var P = {
              normalize: function (e) {
                return e.map(function (e) {
                  return TX(e) || hX(e) || MX(e) ? aZ(String(e)) : e
                })
              },
              interpolate: function (e) {
                return e
              },
              type: 'vnode',
            }
            function L(e) {
              return c.value[e] || {}
            }
            ;(lZ++,
              n &&
                lX &&
                (Ei(n.locale, function (t) {
                  s && ((u.value = t), (e.locale = t), gK(e, u.value, l.value))
                }),
                Ei(n.fallbackLocale, function (t) {
                  s && ((l.value = t), (e.fallbackLocale = t), gK(e, u.value, l.value))
                })))
            var D = M(
              {
                id: lZ,
                locale: A,
                fallbackLocale: T,
                get inheritLocale() {
                  return s
                },
                set inheritLocale(t) {
                  ;((s = t),
                    t &&
                      n &&
                      ((u.value = n.locale.value),
                      (l.value = n.fallbackLocale.value),
                      gK(e, u.value, l.value)))
                },
                get availableLocales() {
                  return Object.keys(c.value).sort()
                },
                messages: E,
                get modifiers() {
                  return S
                },
                get pluralRules() {
                  return w || {}
                },
                get isGlobal() {
                  return i
                },
                get missingWarn() {
                  return f
                },
                set missingWarn(t) {
                  ;((f = t), (e.missingWarn = f))
                },
                get fallbackWarn() {
                  return p
                },
                set fallbackWarn(t) {
                  ;((p = t), (e.fallbackWarn = p))
                },
                get fallbackRoot() {
                  return v
                },
                set fallbackRoot(e) {
                  v = e
                },
                get fallbackFormat() {
                  return m
                },
                set fallbackFormat(t) {
                  ;((m = t), (e.fallbackFormat = m))
                },
                get warnHtmlMessage() {
                  return _
                },
                set warnHtmlMessage(t) {
                  ;((_ = t), (e.warnHtmlMessage = t))
                },
                get escapeParameter() {
                  return b
                },
                set escapeParameter(t) {
                  ;((b = t), (e.escapeParameter = t))
                },
                t: N,
                getLocaleMessage: L,
                setLocaleMessage: function (t, n) {
                  if (a) {
                    var r = M({}, t, n)
                    for (var i in r) SX(r, i) && tZ(r[i])
                    n = r[t]
                  }
                  ;((c.value[t] = n), (e.messages = c.value))
                },
                mergeLocaleMessage: function (t, n) {
                  c.value[t] = c.value[t] || {}
                  var r = M({}, t, n)
                  if (a) for (var i in r) SX(r, i) && tZ(r[i])
                  ;(PX((n = r[t]), c.value[t]), (e.messages = c.value))
                },
                getPostTranslationHandler: function () {
                  return AX(x) ? x : null
                },
                setPostTranslationHandler: function (t) {
                  ;((x = t), (e.postTranslation = t))
                },
                getMissingHandler: function () {
                  return g
                },
                setMissingHandler: function (t) {
                  ;(null !== t && (y = cZ(t)), (g = t), (e.missing = y))
                },
              },
              JK,
              function (t) {
                ;((w = t), (e.pluralRules = w))
              }
            )
            return (
              (D.datetimeFormats = k),
              (D.numberFormats = R),
              (D.rt = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                var r = t[0],
                  i = t[1],
                  a = t[2]
                if (a && !EX(a)) throw XK(VK)
                return N.apply(void 0, [r, i, vX({ resolvedMessage: !0 }, a || {})])
              }),
              (D.te = function (t, n) {
                return I(
                  function () {
                    if (!t) return !1
                    var r = L(TX(n) ? n : u.value),
                      i = e.messageResolver(r, t)
                    return vY(i) || DK(i) || TX(i)
                  },
                  function () {
                    return [t]
                  },
                  'translate exists',
                  function (e) {
                    return Reflect.apply(e.te, e, [t, n])
                  },
                  uZ,
                  function (e) {
                    return MX(e)
                  }
                )
              }),
              (D.tm = function (t) {
                var r = (function (t) {
                  for (var n = null, r = XY(e, l.value, u.value), i = 0; i < r.length; i++) {
                    var a = c.value[r[i]] || {},
                      o = e.messageResolver(a, t)
                    if (null != o) {
                      n = o
                      break
                    }
                  }
                  return n
                })(t)
                return null != r ? r : (n && n.tm(t)) || {}
              }),
              (D.d = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return I(
                  function (e) {
                    return Reflect.apply(_K, null, [e].concat(t))
                  },
                  function () {
                    return SK.apply(void 0, t)
                  },
                  'datetime format',
                  function (e) {
                    return Reflect.apply(e.d, e, [].concat(t))
                  },
                  function () {
                    return ''
                  },
                  function (e) {
                    return TX(e) || wX(e)
                  }
                )
              }),
              (D.n = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return I(
                  function (e) {
                    return Reflect.apply(AK, null, [e].concat(t))
                  },
                  function () {
                    return MK.apply(void 0, t)
                  },
                  'number format',
                  function (e) {
                    return Reflect.apply(e.n, e, [].concat(t))
                  },
                  function () {
                    return ''
                  },
                  function (e) {
                    return TX(e) || wX(e)
                  }
                )
              }),
              (D.getDateTimeFormat = function (e) {
                return d.value[e] || {}
              }),
              (D.setDateTimeFormat = function (t, n) {
                ;((d.value[t] = n), (e.datetimeFormats = d.value), wK(e, t, n))
              }),
              (D.mergeDateTimeFormat = function (t, n) {
                ;((d.value[t] = vX(d.value[t] || {}, n)),
                  (e.datetimeFormats = d.value),
                  wK(e, t, n))
              }),
              (D.getNumberFormat = function (e) {
                return h.value[e] || {}
              }),
              (D.setNumberFormat = function (t, n) {
                ;((h.value[t] = n), (e.numberFormats = h.value), EK(e, t, n))
              }),
              (D.mergeNumberFormat = function (t, n) {
                ;((h.value[t] = vX(h.value[t] || {}, n)), (e.numberFormats = h.value), EK(e, t, n))
              }),
              (D[$K] = r),
              (D[YK] = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return I(
                  function (e) {
                    var n,
                      r = e
                    try {
                      ;((r.processor = P), (n = Reflect.apply(OK, null, [r].concat(t))))
                    } finally {
                      r.processor = null
                    }
                    return n
                  },
                  function () {
                    return UK.apply(void 0, t)
                  },
                  'translate',
                  function (e) {
                    return e[YK].apply(e, t)
                  },
                  function (e) {
                    return [aZ(e)]
                  },
                  function (e) {
                    return wX(e)
                  }
                )
              }),
              (D[KK] = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return I(
                  function (e) {
                    return Reflect.apply(_K, null, [e].concat(t))
                  },
                  function () {
                    return SK.apply(void 0, t)
                  },
                  'datetime format',
                  function (e) {
                    return e[KK].apply(e, t)
                  },
                  sZ,
                  function (e) {
                    return TX(e) || wX(e)
                  }
                )
              }),
              (D[ZK] = function () {
                for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                  t[n] = arguments[n]
                return I(
                  function (e) {
                    return Reflect.apply(AK, null, [e].concat(t))
                  },
                  function () {
                    return MK.apply(void 0, t)
                  },
                  'number format',
                  function (e) {
                    return e[ZK].apply(e, t)
                  },
                  sZ,
                  function (e) {
                    return TX(e) || wX(e)
                  }
                )
              }),
              D
            )
          }
          function fZ() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = hZ(
                (function (e) {
                  var t = TX(e.locale) ? e.locale : sK,
                    n =
                      TX(e.fallbackLocale) ||
                      wX(e.fallbackLocale) ||
                      RX(e.fallbackLocale) ||
                      !1 === e.fallbackLocale
                        ? e.fallbackLocale
                        : t,
                    r = AX(e.missing) ? e.missing : void 0,
                    i =
                      (!MX(e.silentTranslationWarn) && !fX(e.silentTranslationWarn)) ||
                      !e.silentTranslationWarn,
                    a =
                      (!MX(e.silentFallbackWarn) && !fX(e.silentFallbackWarn)) ||
                      !e.silentFallbackWarn,
                    o = !MX(e.fallbackRoot) || e.fallbackRoot,
                    s = !!e.formatFallbackMessages,
                    u = RX(e.modifiers) ? e.modifiers : {},
                    l = e.pluralizationRules,
                    c = AX(e.postTranslation) ? e.postTranslation : void 0,
                    d = !TX(e.warnHtmlInMessage) || 'off' !== e.warnHtmlInMessage,
                    h = !!e.escapeParameterHtml,
                    f = !MX(e.sync) || e.sync,
                    p = e.messages
                  if (RX(e.sharedMessages)) {
                    var v = e.sharedMessages
                    p = Object.keys(v).reduce(function (e, t) {
                      var n = e[t] || (e[t] = {})
                      return (vX(n, v[t]), e)
                    }, p || {})
                  }
                  var m = e.__i18n,
                    g = e.__root,
                    y = e.__injectWithOption,
                    x = e.datetimeFormats,
                    _ = e.numberFormats
                  return {
                    locale: t,
                    fallbackLocale: n,
                    messages: p,
                    flatJson: e.flatJson,
                    datetimeFormats: x,
                    numberFormats: _,
                    missing: r,
                    missingWarn: i,
                    fallbackWarn: a,
                    fallbackRoot: o,
                    fallbackFormat: s,
                    modifiers: u,
                    pluralRules: l,
                    postTranslation: c,
                    warnHtmlMessage: d,
                    escapeParameter: h,
                    messageResolver: e.messageResolver,
                    inheritLocale: f,
                    __i18n: m,
                    __root: g,
                    __injectWithOption: y,
                  }
                })(e)
              ),
              n = e.__extender,
              r = {
                id: t.id,
                get locale() {
                  return t.locale.value
                },
                set locale(e) {
                  t.locale.value = e
                },
                get fallbackLocale() {
                  return t.fallbackLocale.value
                },
                set fallbackLocale(e) {
                  t.fallbackLocale.value = e
                },
                get messages() {
                  return t.messages.value
                },
                get datetimeFormats() {
                  return t.datetimeFormats.value
                },
                get numberFormats() {
                  return t.numberFormats.value
                },
                get availableLocales() {
                  return t.availableLocales
                },
                get missing() {
                  return t.getMissingHandler()
                },
                set missing(e) {
                  t.setMissingHandler(e)
                },
                get silentTranslationWarn() {
                  return MX(t.missingWarn) ? !t.missingWarn : t.missingWarn
                },
                set silentTranslationWarn(e) {
                  t.missingWarn = MX(e) ? !e : e
                },
                get silentFallbackWarn() {
                  return MX(t.fallbackWarn) ? !t.fallbackWarn : t.fallbackWarn
                },
                set silentFallbackWarn(e) {
                  t.fallbackWarn = MX(e) ? !e : e
                },
                get modifiers() {
                  return t.modifiers
                },
                get formatFallbackMessages() {
                  return t.fallbackFormat
                },
                set formatFallbackMessages(e) {
                  t.fallbackFormat = e
                },
                get postTranslation() {
                  return t.getPostTranslationHandler()
                },
                set postTranslation(e) {
                  t.setPostTranslationHandler(e)
                },
                get sync() {
                  return t.inheritLocale
                },
                set sync(e) {
                  t.inheritLocale = e
                },
                get warnHtmlInMessage() {
                  return t.warnHtmlMessage ? 'warn' : 'off'
                },
                set warnHtmlInMessage(e) {
                  t.warnHtmlMessage = 'off' !== e
                },
                get escapeParameterHtml() {
                  return t.escapeParameter
                },
                set escapeParameterHtml(e) {
                  t.escapeParameter = e
                },
                get pluralizationRules() {
                  return t.pluralRules || {}
                },
                __composer: t,
                t: function () {
                  for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                    n[r] = arguments[r]
                  return Reflect.apply(t.t, t, [].concat(n))
                },
                rt: function () {
                  for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                    n[r] = arguments[r]
                  return Reflect.apply(t.rt, t, [].concat(n))
                },
                te: function (e, n) {
                  return t.te(e, n)
                },
                tm: function (e) {
                  return t.tm(e)
                },
                getLocaleMessage: function (e) {
                  return t.getLocaleMessage(e)
                },
                setLocaleMessage: function (e, n) {
                  t.setLocaleMessage(e, n)
                },
                mergeLocaleMessage: function (e, n) {
                  t.mergeLocaleMessage(e, n)
                },
                d: function () {
                  for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                    n[r] = arguments[r]
                  return Reflect.apply(t.d, t, [].concat(n))
                },
                getDateTimeFormat: function (e) {
                  return t.getDateTimeFormat(e)
                },
                setDateTimeFormat: function (e, n) {
                  t.setDateTimeFormat(e, n)
                },
                mergeDateTimeFormat: function (e, n) {
                  t.mergeDateTimeFormat(e, n)
                },
                n: function () {
                  for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)
                    n[r] = arguments[r]
                  return Reflect.apply(t.n, t, [].concat(n))
                },
                getNumberFormat: function (e) {
                  return t.getNumberFormat(e)
                },
                setNumberFormat: function (e, n) {
                  t.setNumberFormat(e, n)
                },
                mergeNumberFormat: function (e, n) {
                  t.mergeNumberFormat(e, n)
                },
              }
            return ((r.__extender = n), r)
          }
          function pZ(e, t, n) {
            return {
              beforeCreate: function () {
                var r = this,
                  i = ya()
                if (!i) throw XK(qK)
                var a = this.$options
                if (a.i18n) {
                  var o = a.i18n
                  if ((a.__i18n && (o.__i18n = a.__i18n), (o.__root = t), this === this.$root))
                    this.$i18n = vZ(e, o)
                  else {
                    ;((o.__injectWithOption = !0),
                      (o.__extender = n.__vueI18nExtend),
                      (this.$i18n = fZ(o)))
                    var s = this.$i18n
                    s.__extender && (s.__disposer = s.__extender(this.$i18n))
                  }
                } else if (a.__i18n)
                  if (this === this.$root) this.$i18n = vZ(e, a)
                  else {
                    this.$i18n = fZ({
                      __i18n: a.__i18n,
                      __injectWithOption: !0,
                      __extender: n.__vueI18nExtend,
                      __root: t,
                    })
                    var u = this.$i18n
                    u.__extender && (u.__disposer = u.__extender(this.$i18n))
                  }
                else this.$i18n = e
                ;(a.__i18nGlobal && iZ(t, a, a),
                  (this.$t = function () {
                    var e
                    return (e = r.$i18n).t.apply(e, arguments)
                  }),
                  (this.$rt = function () {
                    var e
                    return (e = r.$i18n).rt.apply(e, arguments)
                  }),
                  (this.$te = function (e, t) {
                    return r.$i18n.te(e, t)
                  }),
                  (this.$d = function () {
                    var e
                    return (e = r.$i18n).d.apply(e, arguments)
                  }),
                  (this.$n = function () {
                    var e
                    return (e = r.$i18n).n.apply(e, arguments)
                  }),
                  (this.$tm = function (e) {
                    return r.$i18n.tm(e)
                  }),
                  n.__setInstance(i, this.$i18n))
              },
              mounted: function () {},
              unmounted: function () {
                var e = ya()
                if (!e) throw XK(qK)
                var t = this.$i18n
                ;(delete this.$t,
                  delete this.$rt,
                  delete this.$te,
                  delete this.$d,
                  delete this.$n,
                  delete this.$tm,
                  t.__disposer && (t.__disposer(), delete t.__disposer, delete t.__extender),
                  n.__deleteInstance(e),
                  delete this.$i18n)
              },
            }
          }
          function vZ(e, t) {
            ;((e.locale = t.locale || e.locale),
              (e.fallbackLocale = t.fallbackLocale || e.fallbackLocale),
              (e.missing = t.missing || e.missing),
              (e.silentTranslationWarn = t.silentTranslationWarn || e.silentFallbackWarn),
              (e.silentFallbackWarn = t.silentFallbackWarn || e.silentFallbackWarn),
              (e.formatFallbackMessages = t.formatFallbackMessages || e.formatFallbackMessages),
              (e.postTranslation = t.postTranslation || e.postTranslation),
              (e.warnHtmlInMessage = t.warnHtmlInMessage || e.warnHtmlInMessage),
              (e.escapeParameterHtml = t.escapeParameterHtml || e.escapeParameterHtml),
              (e.sync = t.sync || e.sync),
              e.__composer[JK](t.pluralizationRules || e.pluralizationRules))
            var n = nZ(e.locale, { messages: t.messages, __i18n: t.__i18n })
            return (
              Object.keys(n).forEach(function (t) {
                return e.mergeLocaleMessage(t, n[t])
              }),
              t.datetimeFormats &&
                Object.keys(t.datetimeFormats).forEach(function (n) {
                  return e.mergeDateTimeFormat(n, t.datetimeFormats[n])
                }),
              t.numberFormats &&
                Object.keys(t.numberFormats).forEach(function (n) {
                  return e.mergeNumberFormat(n, t.numberFormats[n])
                }),
              e
            )
          }
          var mZ = {
            tag: { type: [String, Object] },
            locale: { type: String },
            scope: {
              type: String,
              validator: function (e) {
                return 'parent' === e || 'global' === e
              },
              default: 'parent',
            },
            i18n: { type: Object },
          }
          function gZ() {
            return Vi
          }
          var yZ = ar({
              name: 'i18n-t',
              props: vX(
                {
                  keypath: { type: String, required: !0 },
                  plural: {
                    type: [Number, String],
                    validator: function (e) {
                      return hX(e) || !isNaN(e)
                    },
                  },
                },
                mZ
              ),
              setup: function (e, t) {
                var n = t.slots,
                  r = t.attrs,
                  i = e.i18n || EZ({ useScope: e.scope, __useComponent: !0 })
                return function () {
                  var a = Object.keys(n).filter(function (e) {
                      return '_' !== e[0]
                    }),
                    o = gX()
                  ;(e.locale && (o.locale = e.locale),
                    void 0 !== e.plural && (o.plural = TX(e.plural) ? +e.plural : e.plural))
                  var s = (function (e, t) {
                      var n = e.slots
                      return 1 === t.length && 'default' === t[0]
                        ? (n.default ? n.default() : []).reduce(function (e, t) {
                            return [].concat(I(e), I(t.type === Vi ? t.children : [t]))
                          }, [])
                        : t.reduce(function (e, t) {
                            var r = n[t]
                            return (r && (e[t] = r()), e)
                          }, gX())
                    })(t, a),
                    u = i[YK](e.keypath, s, o),
                    l = vX(gX(), r)
                  return Ia(TX(e.tag) || EX(e.tag) ? e.tag : gZ(), l, u)
                }
              },
            }),
            xZ = yZ
          function _Z(e, t, n, r) {
            var i = t.slots,
              a = t.attrs
            return function () {
              var t = { part: !0 },
                o = gX()
              ;(e.locale && (t.locale = e.locale),
                TX(e.format)
                  ? (t.key = e.format)
                  : EX(e.format) &&
                    (TX(e.format.key) && (t.key = e.format.key),
                    (o = Object.keys(e.format).reduce(function (t, r) {
                      return n.includes(r) ? vX(gX(), t, M({}, r, e.format[r])) : t
                    }, gX()))))
              var s = r.apply(void 0, [e.value, t, o]),
                u = [t.key]
              wX(s)
                ? (u = s.map(function (e, t) {
                    var n = i[e.type],
                      r = n ? n(M(M(M({}, e.type, e.value), 'index', t), 'parts', s)) : [e.value]
                    return (
                      (function (e) {
                        return wX(e) && !TX(e[0])
                      })(r) && (r[0].key = ''.concat(e.type, '-').concat(t)),
                      r
                    )
                  }))
                : TX(s) && (u = [s])
              var l = vX(gX(), a)
              return Ia(TX(e.tag) || EX(e.tag) ? e.tag : gZ(), l, u)
            }
          }
          var bZ = ar({
              name: 'i18n-n',
              props: vX(
                { value: { type: Number, required: !0 }, format: { type: [String, Object] } },
                mZ
              ),
              setup: function (e, t) {
                var n = e.i18n || EZ({ useScope: e.scope, __useComponent: !0 })
                return _Z(e, t, TK, function () {
                  return n[ZK].apply(n, arguments)
                })
              },
            }),
            SZ = bZ
          function wZ(e) {
            if (TX(e)) return { path: e }
            if (RX(e)) {
              if (!('path' in e)) throw XK(GK)
              return e
            }
            throw XK(jK)
          }
          function AZ(e) {
            var t = e.path,
              n = e.locale,
              r = e.args,
              i = e.choice,
              a = e.plural,
              o = {},
              s = r || {}
            return (
              TX(n) && (o.locale = n),
              hX(i) && (o.plural = i),
              hX(a) && (o.plural = a),
              [t, s, o]
            )
          }
          function TZ(e, t) {
            var n = RX(arguments.length <= 2 ? void 0 : arguments[2])
              ? arguments.length <= 2
                ? void 0
                : arguments[2]
              : {}
            ;((!MX(n.globalInstall) || n.globalInstall) &&
              ([xZ.name, 'I18nT'].forEach(function (t) {
                return e.component(t, xZ)
              }),
              [SZ.name, 'I18nN'].forEach(function (t) {
                return e.component(t, SZ)
              }),
              [DZ.name, 'I18nD'].forEach(function (t) {
                return e.component(t, DZ)
              })),
              e.directive(
                't',
                (function (e) {
                  var t = function (t) {
                    var n = t.instance,
                      r = t.value
                    if (!n || !n.$) throw XK(qK)
                    var i = (function (e, t) {
                        var n = e
                        if ('composition' === e.mode) return n.__getInstance(t) || e.global
                        var r = n.__getInstance(t)
                        return null != r ? r.__composer : e.global.__composer
                      })(e, n.$),
                      a = wZ(r)
                    return [Reflect.apply(i.t, i, I(AZ(a))), i]
                  }
                  return {
                    created: function (n, r) {
                      var i = C(t(r), 2),
                        a = i[0],
                        o = i[1]
                      ;(lX &&
                        e.global === o &&
                        (n.__i18nWatcher = Ei(o.locale, function () {
                          r.instance && r.instance.$forceUpdate()
                        })),
                        (n.__composer = o),
                        (n.textContent = a))
                    },
                    unmounted: function (e) {
                      ;(lX &&
                        e.__i18nWatcher &&
                        (e.__i18nWatcher(), (e.__i18nWatcher = void 0), delete e.__i18nWatcher),
                        e.__composer && ((e.__composer = void 0), delete e.__composer))
                    },
                    beforeUpdate: function (e, t) {
                      var n = t.value
                      if (e.__composer) {
                        var r = e.__composer,
                          i = wZ(n)
                        e.textContent = Reflect.apply(r.t, r, I(AZ(i)))
                      }
                    },
                    getSSRProps: function (e) {
                      return { textContent: C(t(e), 1)[0] }
                    },
                  }
                })(t)
              ))
          }
          var MZ = cX('global-vue-i18n')
          function EZ() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
              t = ya()
            if (null == t) throw XK(HK)
            if (!t.isCE && null != t.appContext.app && !t.appContext.app.__VUE_I18N_SYMBOL__)
              throw XK(WK)
            var n = (function (e) {
                var t = ni(e.isCE ? MZ : e.appContext.app.__VUE_I18N_SYMBOL__)
                if (!t) throw XK(e.isCE ? QK : qK)
                return t
              })(t),
              r = (function (e) {
                return 'composition' === e.mode ? e.global : e.global.__composer
              })(n),
              i = rZ(t),
              a = (function (e, t) {
                return pX(e)
                  ? '__i18n' in t
                    ? 'local'
                    : 'global'
                  : e.useScope
                    ? e.useScope
                    : 'local'
              })(e, i)
            if ('global' === a) return (iZ(r, e, i), r)
            if ('parent' === a) {
              var o = (function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                  r = null,
                  i = t.root,
                  a = (function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                    if (null == e) return null
                    return (t && e.vnode.ctx) || e.parent
                  })(t, n)
                for (; null != a; ) {
                  var o = e
                  if ('composition' === e.mode) r = o.__getInstance(a)
                  else if (__VUE_I18N_LEGACY_API__) {
                    var s = o.__getInstance(a)
                    null != s && ((r = s.__composer), n && r && !r[$K] && (r = null))
                  }
                  if (null != r) break
                  if (i === a) break
                  a = a.parent
                }
                return r
              })(n, t, e.__useComponent)
              return (null == o && (o = r), o)
            }
            var s = n,
              u = s.__getInstance(t)
            if (null == u) {
              var l = vX({}, e)
              ;('__i18n' in i && (l.__i18n = i.__i18n),
                r && (l.__root = r),
                (u = hZ(l)),
                s.__composerExtend && (u[eZ] = s.__composerExtend(u)),
                (function (e, t, n) {
                  ;(_r(function () {}, t),
                    Ar(function () {
                      var r = n
                      e.__deleteInstance(t)
                      var i = r[eZ]
                      i && (i(), delete r[eZ])
                    }, t))
                })(s, t, u),
                s.__setInstance(t, u))
            }
            return u
          }
          var CZ = ['locale', 'fallbackLocale', 'availableLocales'],
            kZ = ['t', 'rt', 'd', 'n', 'tm', 'te']
          function RZ(e, t) {
            var n = Object.create(null)
            ;(CZ.forEach(function (e) {
              var r = Object.getOwnPropertyDescriptor(t, e)
              if (!r) throw XK(qK)
              var i = en(r.value)
                ? {
                    get: function () {
                      return r.value.value
                    },
                    set: function (e) {
                      r.value.value = e
                    },
                  }
                : {
                    get: function () {
                      return r.get && r.get()
                    },
                  }
              Object.defineProperty(n, e, i)
            }),
              (e.config.globalProperties.$i18n = n),
              kZ.forEach(function (n) {
                var r = Object.getOwnPropertyDescriptor(t, n)
                if (!r || !r.value) throw XK(qK)
                Object.defineProperty(e.config.globalProperties, '$'.concat(n), r)
              }))
            return function () {
              ;(delete e.config.globalProperties.$i18n,
                kZ.forEach(function (t) {
                  delete e.config.globalProperties['$'.concat(t)]
                }))
            }
          }
          var IZ,
            NZ,
            PZ,
            LZ = ar({
              name: 'i18n-d',
              props: vX(
                {
                  value: { type: [Number, Date], required: !0 },
                  format: { type: [String, Object] },
                },
                mZ
              ),
              setup: function (e, t) {
                var n = e.i18n || EZ({ useScope: e.scope, __useComponent: !0 })
                return _Z(e, t, bK, function () {
                  return n[KK].apply(n, arguments)
                })
              },
            }),
            DZ = LZ
          if (
            ('boolean' != typeof __VUE_I18N_FULL_INSTALL__ && (yX().__VUE_I18N_FULL_INSTALL__ = !0),
            'boolean' != typeof __VUE_I18N_LEGACY_API__ && (yX().__VUE_I18N_LEGACY_API__ = !0),
            'boolean' != typeof __INTLIFY_DROP_MESSAGE_COMPILER__ &&
              (yX().__INTLIFY_DROP_MESSAGE_COMPILER__ = !1),
            'boolean' != typeof __INTLIFY_PROD_DEVTOOLS__ && (yX().__INTLIFY_PROD_DEVTOOLS__ = !1),
            (IZ = function (e, t) {
              if (!__INTLIFY_DROP_MESSAGE_COMPILER__ && TX(e)) {
                !MX(t.warnHtmlMessage) || t.warnHtmlMessage
                var n = (t.onCacheKey || NY)(e),
                  r = PY[n]
                if (r) return r
                var i = (function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                      n = !1,
                      r = t.onError || KX
                    return (
                      (t.onError = function (e) {
                        ;((n = !0), r(e))
                      }),
                      s(s({}, pY(e, t)), {}, { detectError: n })
                    )
                  })(e, s(s({}, t), {}, { location: !1, jit: !0 })),
                  a = i.ast,
                  o = i.detectError,
                  u = kY(a)
                return o ? u : (PY[n] = u)
              }
              var l = e.cacheKey
              if (l) {
                var c = PY[l]
                return c || (PY[l] = kY(e))
              }
              return kY(e)
            }),
            (iK = IZ),
            (NZ = function (e, t) {
              if (!EX(e)) return null
              var n = nK.get(t)
              if (
                (n ||
                  ((n = (function (e) {
                    var t,
                      n,
                      r,
                      i,
                      a,
                      o,
                      s,
                      u = [],
                      l = -1,
                      c = 0,
                      d = 0,
                      h = []
                    function f() {
                      var t = e[l + 1]
                      if ((5 === c && "'" === t) || (6 === c && '"' === t))
                        return (l++, (r = '\\' + t), h[0](), !0)
                    }
                    for (
                      h[0] = function () {
                        void 0 === n ? (n = r) : (n += r)
                      },
                        h[1] = function () {
                          void 0 !== n && (u.push(n), (n = void 0))
                        },
                        h[2] = function () {
                          ;(h[0](), d++)
                        },
                        h[3] = function () {
                          if (d > 0) (d--, (c = 4), h[0]())
                          else {
                            if (((d = 0), void 0 === n)) return !1
                            if (!1 === (n = tK(n))) return !1
                            h[1]()
                          }
                        };
                      null !== c;

                    )
                      if ((l++, '\\' !== (t = e[l]) || !f())) {
                        if (((i = eK(t)), 8 === (a = (s = JY[c])[i] || s.l || 8))) return
                        if (((c = a[0]), void 0 !== a[1] && (o = h[a[1]]) && ((r = t), !1 === o())))
                          return
                        if (7 === c) return u
                      }
                  })(t)),
                  n && nK.set(t, n)),
                !n)
              )
                return null
              for (var r = n.length, i = e, a = 0; a < r; ) {
                var o = n[a]
                if (EY.includes(o) && vY(i)) return null
                var s = i[o]
                if (void 0 === s) return null
                if (AX(i)) return null
                ;((i = s), a++)
              }
              return i
            }),
            (aK = NZ),
            (oK = XY),
            __INTLIFY_PROD_DEVTOOLS__)
          ) {
            var OZ = yX()
            ;((OZ.__INTLIFY__ = !0), (PZ = OZ.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__), (LY = PZ))
          }
          var FZ = { placeholder: '', rangePlaceholder: ['', ''] },
            BZ = {
              lang: uV(
                {
                  placeholder: '',
                  yearPlaceholder: '',
                  quarterPlaceholder: '',
                  monthPlaceholder: '',
                  weekPlaceholder: '',
                  rangePlaceholder: ['', ''],
                  rangeYearPlaceholder: ['', ''],
                  rangeMonthPlaceholder: ['', ''],
                  rangeQuarterPlaceholder: ['', ''],
                  rangeWeekPlaceholder: ['', ''],
                },
                {
                  locale: 'zh_CN',
                  today: '',
                  now: '',
                  backToToday: '',
                  ok: '',
                  timeSelect: '',
                  dateSelect: '',
                  weekSelect: '',
                  clear: '',
                  month: '',
                  year: '',
                  previousMonth: ' ()',
                  nextMonth: ' ()',
                  monthSelect: '',
                  yearSelect: '',
                  decadeSelect: '',
                  yearFormat: 'YYYY',
                  dayFormat: 'D',
                  dateFormat: 'YYYYMD',
                  dateTimeFormat: 'YYYYMD HHmmss',
                  previousYear: ' (Control)',
                  nextYear: ' (Control)',
                  previousDecade: '',
                  nextDecade: '',
                  previousCentury: '',
                  nextCentury: '',
                }
              ),
              timePickerLocale: uV({}, FZ),
            }
          BZ.lang.ok = ''
          var UZ = '${label}${type}',
            zZ = {
              locale: 'zh-cn',
              Pagination: {
                items_per_page: '/',
                jump_to: '',
                jump_to_confirm: '',
                page: '',
                prev_page: '',
                next_page: '',
                prev_5: ' 5 ',
                next_5: ' 5 ',
                prev_3: ' 3 ',
                next_3: ' 3 ',
              },
              DatePicker: BZ,
              TimePicker: FZ,
              Calendar: BZ,
              global: { placeholder: '' },
              Table: {
                filterTitle: '',
                filterConfirm: '',
                filterReset: '',
                filterEmptyText: '',
                filterCheckall: '',
                filterSearchPlaceholder: '',
                selectAll: '',
                selectInvert: '',
                selectNone: '',
                selectionAll: '',
                sortTitle: '',
                expand: '',
                collapse: '',
                triggerDesc: '',
                triggerAsc: '',
                cancelSort: '',
              },
              Tour: { Next: '', Previous: '', Finish: '' },
              Modal: { okText: '', cancelText: '', justOkText: '' },
              Popconfirm: { cancelText: '', okText: '' },
              Transfer: {
                searchPlaceholder: '',
                itemUnit: '',
                itemsUnit: '',
                remove: '',
                selectCurrent: '',
                removeCurrent: '',
                selectAll: '',
                removeAll: '',
                selectInvert: '',
              },
              Upload: {
                uploading: '',
                removeFile: '',
                uploadError: '',
                previewFile: '',
                downloadFile: '',
              },
              Empty: { description: '' },
              Icon: { icon: '' },
              Text: { edit: '', copy: '', copied: '', expand: '' },
              PageHeader: { back: '' },
              Form: {
                optional: '',
                defaultValidateMessages: {
                  default: '${label}',
                  required: '${label}',
                  enum: '${label}[${enum}]',
                  whitespace: '${label}',
                  date: {
                    format: '${label}',
                    parse: '${label}',
                    invalid: '${label}',
                  },
                  types: {
                    string: UZ,
                    method: UZ,
                    array: UZ,
                    object: UZ,
                    number: UZ,
                    date: UZ,
                    boolean: UZ,
                    integer: UZ,
                    float: UZ,
                    regexp: UZ,
                    email: UZ,
                    url: UZ,
                    hex: UZ,
                  },
                  string: {
                    len: '${label}${len}',
                    min: '${label}${min}',
                    max: '${label}${max}',
                    range: '${label}${min}-${max}',
                  },
                  number: {
                    len: '${label}${len}',
                    min: '${label}${min}',
                    max: '${label}${max}',
                    range: '${label}${min}-${max}',
                  },
                  array: {
                    len: '${len}${label}',
                    min: '${min}${label}',
                    max: '${max}${label}',
                    range: '${label}${min}-${max}',
                  },
                  pattern: { mismatch: '${label}${pattern}' },
                },
              },
              Image: { preview: '' },
              QRCode: { expired: '', refresh: '', scanned: '' },
            },
            VZ = tn('zh'),
            HZ = { zh: zZ, en: IV },
            WZ = {
              en: { message: { hello: 'hello world' } },
              zh: { message: { hello: '' } },
            },
            GZ = (function () {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = __VUE_I18N_LEGACY_API__ && MX(e.legacy) ? e.legacy : __VUE_I18N_LEGACY_API__,
                n = !MX(e.globalInjection) || e.globalInjection,
                r = new Map(),
                i = C(
                  (function (e, t) {
                    var n = De(),
                      r =
                        __VUE_I18N_LEGACY_API__ && t
                          ? n.run(function () {
                              return fZ(e)
                            })
                          : n.run(function () {
                              return hZ(e)
                            })
                    if (null == r) throw XK(qK)
                    return [n, r]
                  })(e, t),
                  2
                ),
                a = i[0],
                o = i[1],
                s = cX(''),
                u = {
                  get mode() {
                    return __VUE_I18N_LEGACY_API__ && t ? 'legacy' : 'composition'
                  },
                  install: function (e) {
                    var r = arguments
                    return v(
                      h().m(function i() {
                        var a, l, c, d, f, p
                        return h().w(function (i) {
                          for (;;)
                            switch (i.n) {
                              case 0:
                                for (
                                  e.__VUE_I18N_SYMBOL__ = s,
                                    e.provide(e.__VUE_I18N_SYMBOL__, u),
                                    a = r.length,
                                    l = new Array(a > 1 ? a - 1 : 0),
                                    c = 1;
                                  c < a;
                                  c++
                                )
                                  l[c - 1] = r[c]
                                ;(RX(l[0]) &&
                                  ((d = l[0]),
                                  (u.__composerExtend = d.__composerExtend),
                                  (u.__vueI18nExtend = d.__vueI18nExtend)),
                                  (f = null),
                                  !t && n && (f = RZ(e, u.global)),
                                  __VUE_I18N_FULL_INSTALL__ && TZ.apply(void 0, [e, u].concat(l)),
                                  __VUE_I18N_LEGACY_API__ && t && e.mixin(pZ(o, o.__composer, u)),
                                  (p = e.unmount),
                                  (e.unmount = function () {
                                    ;(f && f(), u.dispose(), p())
                                  }))
                              case 1:
                                return i.a(2)
                            }
                        }, i)
                      })
                    )()
                  },
                  get global() {
                    return o
                  },
                  dispose: function () {
                    a.stop()
                  },
                  __instances: r,
                  __getInstance: function (e) {
                    return r.get(e) || null
                  },
                  __setInstance: function (e, t) {
                    r.set(e, t)
                  },
                  __deleteInstance: function (e) {
                    r.delete(e)
                  },
                }
              return u
            })({ legacy: !1, locale: VZ.value, messages: WZ }),
            jZ = aX(
              ar({
                __name: 'index',
                props: { color: {}, fontSize: {}, icon: {} },
                emits: [],
                setup: function (e, t) {
                  t.emit
                  return function (e, t) {
                    return (
                      qi(),
                      Ji(
                        ((n = e.icon), $(n) ? Ir(kr, n, !1) || n : n || Rr),
                        {
                          class: 'icon',
                          style: _e({ fontSize: e.fontSize + 'px', color: e.color }),
                        },
                        null,
                        8,
                        ['style']
                      )
                    )
                    var n
                  }
                },
              }),
              [['__scopeId', 'data-v-91f3cb32']]
            ),
            QZ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var qZ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      QZ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_13_287/13_279"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath><clipPath id="master_svg1_13_287/13_279/13_018"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_13_287/13_279)"><g clip-path="url(#master_svg1_13_287/13_279/13_018)"><g><rect x="0" y="0" width="20" height="20" rx="0" fill="#FFFFFF" fill-opacity="0.009999999776482582" style="mix-blend-mode:passthrough;"></rect></g><g><path d="M7.55256390625,4.9999589765625Q7.52622390625,5.0016259765625,7.49983390625,5.0016259765625Q7.41759390625,5.0016259765625,7.33693390625,4.9855819765625Q7.25627390625,4.9695369765625,7.18029390625,4.9380649765625Q7.10431390625,4.9065929765625,7.03593390625,4.8609029765625Q6.96755390625,4.8152129765625,6.90940390625,4.7570599765625Q6.85125390625,4.6989069765625,6.80556390625,4.6305269765625Q6.75986390625,4.5621469765625005,6.72839390625,4.4861669765625Q6.69692390625,4.4101859765625,6.68088390625,4.3295259765625Q6.66483390625,4.2488662765625,6.66483390625,4.1666259765625Q6.66483390625,4.0843856765625,6.68088390625,4.0037259765625Q6.69692390625,3.9230659765625,6.72839390625,3.8470849765625Q6.75986390625,3.7711049765625,6.80556390625,3.7027249765625Q6.85125390625,3.6343449765624998,6.90940390625,3.5761919765625Q6.96755390625,3.5180389765625,7.03593390625,3.4723489765625Q7.10431390625,3.4266589765625,7.18029390625,3.3951869765625Q7.25627390625,3.3637149765625,7.33693390625,3.3476699765625Q7.41759390625,3.3316259765625,7.49983390625,3.3316259765625Q7.52622390625,3.3316259765625,7.55256390625,3.3332929765625L14.99980390625,3.3332929765625Q15.08190390625,3.3332929765625,15.16240390625,3.3493049765625003Q15.24290390625,3.3653169765625,15.31870390625,3.3967269765625Q15.39460390625,3.4281359765625,15.46280390625,3.4737349765625Q15.53100390625,3.5193339765625,15.58910390625,3.5773699765625Q15.64710390625,3.6354069765625,15.69270390625,3.7036509765625Q15.73830390625,3.7718949765625,15.76970390625,3.8477229765625Q15.80110390625,3.9235519765625,15.81720390625,4.0040509765625Q15.83320390625,4.0845497765625,15.83320390625,4.1666259765625L15.83320390625,11.1972259765625Q15.83480390625,11.2235659765625,15.83480390625,11.2499559765625Q15.83480390625,11.332195976562499,15.81880390625,11.4128559765625Q15.80270390625,11.493515976562499,15.77130390625,11.5694959765625Q15.73980390625,11.645475976562501,15.69410390625,11.713855976562499Q15.64840390625,11.7822359765625,15.59030390625,11.840395976562501Q15.53210390625,11.898545976562499,15.46370390625,11.9442359765625Q15.39540390625,11.9899259765625,15.31940390625,12.0213959765625Q15.24340390625,12.0528659765625,15.16270390625,12.0689159765625Q15.08210390625,12.084955976562501,14.99980390625,12.084955976562501Q14.91760390625,12.084955976562501,14.83690390625,12.0689159765625Q14.75630390625,12.0528659765625,14.68030390625,12.0213959765625Q14.60430390625,11.9899259765625,14.53590390625,11.9442359765625Q14.46760390625,11.898545976562499,14.40940390625,11.840395976562501Q14.35120390625,11.7822359765625,14.30560390625,11.713855976562499Q14.25990390625,11.645475976562501,14.22840390625,11.5694959765625Q14.19690390625,11.493515976562499,14.18090390625,11.4128559765625Q14.16480390625,11.332195976562499,14.16480390625,11.2499559765625Q14.16480390625,11.2235659765625,14.16650390625,11.1972259765625L14.16650390625,4.9999589765625L7.55256390625,4.9999589765625ZM2.49983690625,5.0526899765625Q2.50150390625,5.0263509765625,2.50150390625,4.9999589765625Q2.50150390625,4.9177189765625,2.48545990625,4.8370589765625Q2.46941490625,4.7563989765625,2.43794290625,4.6804189765625Q2.40647090625,4.6044379765625,2.36078090625,4.5360579765625Q2.31509090625,4.4676779765625,2.25693790625,4.4095249765625Q2.1987849062500002,4.3513719765625,2.13040490625,4.3056819765625Q2.06202490625,4.2599918765625,1.98604490625,4.2285198765625Q1.91006390625,4.1970478765625,1.82940390625,4.1810035765625Q1.74874420625,4.1649593165625,1.66650390625,4.1649593065625Q1.58426360625,4.1649593165625,1.50360390625,4.1810035765625Q1.42294390625,4.1970478765625,1.34696290625,4.2285198765625Q1.27098290625,4.2599918765625,1.20260290625,4.3056819765625Q1.13422290625,4.3513719765625,1.0760699062499999,4.4095249765625Q1.01791690625,4.4676779765625,0.97222690625,4.5360579765625Q0.92653690625,4.6044379765625,0.89506490625,4.6804189765625Q0.86359290625,4.7563989765625,0.84754790625,4.8370589765625Q0.83150390625,4.9177189765625,0.83150390625,4.9999589765625Q0.83150390625,5.0263509765625,0.83317090625,5.0526899765625L0.83317090625,15.8333259765625Q0.83317090625,15.9153259765625,0.84918290625,15.9958259765625Q0.86519490625,16.0763259765625,0.89660490625,16.152225976562498Q0.92801390625,16.2280259765625,0.97361290625,16.2962259765625Q1.01921190625,16.3645259765625,1.07724790625,16.4225259765625Q1.13528490625,16.4806259765625,1.2035289062499999,16.5262259765625Q1.27177290625,16.5718259765625,1.34760090625,16.6032259765625Q1.42342990625,16.6346259765625,1.50392890625,16.6506259765625Q1.58442770625,16.6666259765625,1.66650390625,16.6666259765625L12.44710390625,16.6666259765625Q12.47340390625,16.6683259765625,12.49980390625,16.6683259765625Q12.58210390625,16.6683259765625,12.66270390625,16.652225976562498Q12.74340390625,16.6362259765625,12.81940390625,16.6047259765625Q12.89540390625,16.573225976562497,12.96370390625,16.5275259765625Q13.03210390625,16.4819259765625,13.09030390625,16.4237259765625Q13.14840390625,16.365525976562502,13.19410390625,16.2972259765625Q13.23980390625,16.2288259765625,13.27130390625,16.1528259765625Q13.30270390625,16.0768259765625,13.31880390625,15.9962259765625Q13.33480390625,15.9155259765625,13.33480390625,15.8333259765625Q13.33480390625,15.7510259765625,13.31880390625,15.6704259765625Q13.30270390625,15.5897259765625,13.27130390625,15.5137259765625Q13.23980390625,15.4377259765625,13.19410390625,15.3694259765625Q13.14840390625,15.3010259765625,13.09030390625,15.2428259765625Q13.03210390625,15.1847259765625,12.96370390625,15.1390259765625Q12.89540390625,15.0933259765625,12.81940390625,15.0618259765625Q12.74340390625,15.0304259765625,12.66270390625,15.0143259765625Q12.58210390625,14.9983259765625,12.49980390625,14.9983259765625Q12.47340390625,14.9983259765625,12.44710390625,14.9999259765625L2.49983690625,14.9999259765625L2.49983690625,5.0526899765625Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M18.97024,14.7041040234375Q19.06538,14.5913440234375,19.11602,14.4527940234375Q19.16667,14.3142340234375,19.16667,14.1667040234375L19.16667,5.8333740234375Q19.16667,5.7512978234375,19.15065,5.6707990234375Q19.13464,5.5903000234375,19.10323,5.5144710234375Q19.07182,5.4386430234375,19.026220000000002,5.3703990234375Q18.98063,5.3021550234375,18.92259,5.2441180234375Q18.86455,5.1860820234375,18.79631,5.1404830234375Q18.72806,5.0948840234375,18.65224,5.0634750234375Q18.57641,5.0320650234375,18.49591,5.0160530234375Q18.41541,5.0000410234375,18.33333,5.0000410234375Q18.18581,5.0000410234375,18.04725,5.0506860234375Q17.90869,5.1013300234375,17.79594,5.1964640234375L14.462608,8.0089640234375Q14.393074,8.067634023437499,14.337838,8.1399240234375Q14.282601,8.2122140234375,14.244265,8.2947240234375Q14.205928,8.377224023437499,14.186297,8.4660640234375Q14.166667,8.5548940234375,14.166667,8.6458740234375L14.166667,11.3542040234375Q14.166667,11.4451840234375,14.186297,11.5340240234375Q14.205928,11.622854023437501,14.244265,11.7053640234375Q14.282601,11.7878640234375,14.337838,11.860154023437499Q14.393074,11.932444023437501,14.462608,11.9911140234375L17.79594,14.8036140234375Q17.922629999999998,14.9105140234375,18.08058,14.9607840234375Q18.23853,15.0110640234375,18.4037,14.9970640234375Q18.56887,14.9830640234375,18.71611,14.9069240234375Q18.86335,14.8307940234375,18.97024,14.7041040234375ZM17.5,12.3732440234375L17.5,7.6268340234375L15.833333,9.0330840234375L15.833333,10.9669940234375L17.5,12.3732440234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M1.1145349062499998,2.2931679765625Q0.97958490625,2.1742799765625,0.90554390625,2.0103779765625Q0.83150390625,1.8464759765625,0.83150390625,1.6666259765625Q0.83150390625,1.5843856765625,0.84754790625,1.5037259765625Q0.86359290625,1.4230659765625,0.89506490625,1.3470849765625Q0.92653690625,1.2711049765625,0.97222690625,1.2027249765625Q1.01791690625,1.1343449765625,1.0760699062499999,1.0761919765624999Q1.13422290625,1.0180389765625,1.20260290625,0.9723489765625Q1.27098290625,0.9266589765625,1.34696290625,0.8951869765625Q1.42294390625,0.8637149765625,1.50360390625,0.8476699765625Q1.58426360625,0.8316259765625,1.66650390625,0.8316259765625Q1.84635390625,0.8316259765625,2.01025590625,0.9056659765625Q2.17415790625,0.9797069765625,2.29304590625,1.1146569765624998L18.88520390625,17.7067259765625Q19.02010390625,17.8256259765625,19.09410390625,17.9895259765625Q19.16820390625,18.1534259765625,19.16820390625,18.3333259765625Q19.16820390625,18.4155259765625,19.15210390625,18.4962259765625Q19.13610390625,18.5768259765625,19.10460390625,18.6528259765625Q19.07310390625,18.7288259765625,19.02740390625,18.7972259765625Q18.98170390625,18.8655259765625,18.92360390625,18.9237259765625Q18.86540390625,18.9818259765625,18.79710390625,19.0275259765625Q18.72870390625,19.0732259765625,18.65270390625,19.1047259765625Q18.57670390625,19.1362259765625,18.49610390625,19.1522259765625Q18.41540390625,19.1683259765625,18.33320390625,19.1683259765625Q18.15330390625,19.1683259765625,17.98940390625,19.0942259765625Q17.82550390625,19.0202259765625,17.70660390625,18.8853259765625L1.1145349062499998,2.2931679765625Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            XZ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var YZ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      XZ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_13_279"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath><clipPath id="master_svg1_13_279/13_007"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_13_279)"><g clip-path="url(#master_svg1_13_279/13_007)"><g><rect x="0" y="0" width="20" height="20" rx="0" fill="#FFFFFF" fill-opacity="0.009999999776482582" style="mix-blend-mode:passthrough;"></rect></g><g><path d="M0.83317090625,15.8333259765625L0.83317090625,4.1666259765625Q0.83317090625,4.0845497765625,0.84918290625,4.0040509765625Q0.86519490625,3.9235519765625,0.89660490625,3.8477229765625Q0.92801390625,3.7718949765625,0.97361290625,3.7036509765625Q1.01921190625,3.6354069765625,1.07724790625,3.5773699765625Q1.13528490625,3.5193339765625,1.2035289062499999,3.4737349765625Q1.27177290625,3.4281359765625,1.34760090625,3.3967269765625Q1.42342990625,3.3653169765625,1.50392890625,3.3493049765625003Q1.58442770625,3.3332929765625,1.66650390625,3.3332929765625L14.99980390625,3.3332929765625Q15.08190390625,3.3332929765625,15.16240390625,3.3493049765625003Q15.24290390625,3.3653169765625,15.31870390625,3.3967269765625Q15.39460390625,3.4281359765625,15.46280390625,3.4737349765625Q15.53100390625,3.5193339765625,15.58910390625,3.5773699765625Q15.64710390625,3.6354069765625,15.69270390625,3.7036509765625Q15.73830390625,3.7718949765625,15.76970390625,3.8477229765625Q15.80110390625,3.9235519765625,15.81720390625,4.0040509765625Q15.83320390625,4.0845497765625,15.83320390625,4.1666259765625L15.83320390625,15.8333259765625Q15.83320390625,15.9153259765625,15.81720390625,15.9958259765625Q15.80110390625,16.0763259765625,15.76970390625,16.152225976562498Q15.73830390625,16.2280259765625,15.69270390625,16.2962259765625Q15.64710390625,16.3645259765625,15.58910390625,16.4225259765625Q15.53100390625,16.4806259765625,15.46280390625,16.5262259765625Q15.39460390625,16.5718259765625,15.31870390625,16.6032259765625Q15.24290390625,16.6346259765625,15.16240390625,16.6506259765625Q15.08190390625,16.6666259765625,14.99980390625,16.6666259765625L1.66650390625,16.6666259765625Q1.58442770625,16.6666259765625,1.50392890625,16.6506259765625Q1.42342990625,16.6346259765625,1.34760090625,16.6032259765625Q1.27177290625,16.5718259765625,1.2035289062499999,16.5262259765625Q1.13528490625,16.4806259765625,1.07724790625,16.4225259765625Q1.01921190625,16.3645259765625,0.97361290625,16.2962259765625Q0.92801390625,16.2280259765625,0.89660490625,16.152225976562498Q0.86519490625,16.0763259765625,0.84918290625,15.9958259765625Q0.83317090625,15.9153259765625,0.83317090625,15.8333259765625ZM2.49983690625,4.9999589765625L2.49983690625,14.9999259765625L14.16650390625,14.9999259765625L14.16650390625,4.9999589765625L2.49983690625,4.9999589765625Z" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M18.97024,14.7041040234375Q19.06538,14.5913440234375,19.11602,14.4527940234375Q19.16667,14.3142340234375,19.16667,14.1667040234375L19.16667,5.8333740234375Q19.16667,5.7512978234375,19.15065,5.6707990234375Q19.13464,5.5903000234375,19.10323,5.5144710234375Q19.07182,5.4386430234375,19.026220000000002,5.3703990234375Q18.98063,5.3021550234375,18.92259,5.2441180234375Q18.86455,5.1860820234375,18.79631,5.1404830234375Q18.72806,5.0948840234375,18.65224,5.0634750234375Q18.57641,5.0320650234375,18.49591,5.0160530234375Q18.41541,5.0000410234375,18.33333,5.0000410234375Q18.18581,5.0000410234375,18.04725,5.0506860234375Q17.90869,5.1013300234375,17.79594,5.1964640234375L14.462608,8.0089640234375Q14.393074,8.067634023437499,14.337838,8.1399240234375Q14.282601,8.2122140234375,14.244265,8.2947240234375Q14.205928,8.377224023437499,14.186297,8.4660640234375Q14.166667,8.5548940234375,14.166667,8.6458740234375L14.166667,11.3542040234375Q14.166667,11.4451840234375,14.186297,11.5340240234375Q14.205928,11.622854023437501,14.244265,11.7053640234375Q14.282601,11.7878640234375,14.337838,11.860154023437499Q14.393074,11.932444023437501,14.462608,11.9911140234375L17.79594,14.8036140234375Q17.922629999999998,14.9105140234375,18.08058,14.9607840234375Q18.23853,15.0110640234375,18.4037,14.9970640234375Q18.56887,14.9830640234375,18.71611,14.9069240234375Q18.86335,14.8307940234375,18.97024,14.7041040234375ZM17.5,12.3732440234375L17.5,7.6268340234375L15.833333,9.0330840234375L15.833333,10.9669940234375L17.5,12.3732440234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M7.65749209375,7.3101989765625L10.11698609375,9.3597759765625Q10.17518609375,9.4082759765625,10.22367609375,9.4664759765625Q10.32979609375,9.5938159765625,10.37910609375,9.7520659765625Q10.42841609375,9.9103259765625,10.41340609375,10.0754059765625Q10.39839609375,10.2404859765625,10.321366093750001,10.3872559765625Q10.24432609375,10.5340259765625,10.11698609375,10.6401459765625L7.65748809375,12.6897259765625Q7.54118509375,12.7998059765625,7.39241009375,12.8590459765625Q7.24363409375,12.9182959765625,7.08349609375,12.9182959765625Q7.00125579375,12.9182959765625,6.92059609375,12.9022459765625Q6.83993609375,12.8862059765625,6.76395509375,12.8547359765625Q6.6879750937499995,12.8232559765625,6.61959509375,12.7775659765625Q6.55121509375,12.731875976562499,6.49306209375,12.673725976562501Q6.43490909375,12.6155759765625,6.38921909375,12.547195976562499Q6.34352909375,12.478815976562501,6.31205709375,12.4028359765625Q6.28058509375,12.3268559765625,6.26454009375,12.2461959765625Q6.24849609375,12.1655359765625,6.24849609375,12.0832959765625Q6.24849609375,11.9848059765625,6.27141009375,11.8890159765625Q6.29432409375,11.7932359765625,6.33889509375,11.7054159765625Q6.38346609375,11.6175859765625,6.44724609375,11.5425459765625Q6.51102709375,11.4674959765625,6.59051809375,11.4093459765625L8.28178609375,9.9999559765625L6.59051809375,8.5905679765625Q6.51102709375,8.5324209765625,6.44724609375,8.4573769765625Q6.38346509375,8.3823319765625,6.33889509375,8.2945069765625Q6.29432409375,8.2066819765625,6.27141009375,8.1108979765625Q6.24849609375,8.0151131765625,6.24849609375,7.9166259765625Q6.24849609375,7.8343856765625,6.26454009375,7.7537259765625Q6.28058509375,7.6730659765625,6.31205709375,7.5970849765625Q6.34352909375,7.5211049765624995,6.38921909375,7.4527249765625Q6.43490909375,7.3843449765625,6.49306209375,7.3261919765625Q6.55121509375,7.2680389765625,6.61959509375,7.2223489765625Q6.6879750937499995,7.1766589765625,6.76395509375,7.1451869765625Q6.83993609375,7.1137149765625,6.92059609375,7.0976699765625Q7.00125579375,7.0816259765625,7.08349609375,7.0816259765625Q7.24363509375,7.0816259765625,7.39241209375,7.1408709765625Q7.54118909375,7.2001159765625005,7.65749209375,7.3101989765625Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            KZ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '14.000000357627869',
              height: '10.000000357627869',
              viewBox: '0 0 14.000000357627869 10.000000357627869',
            }
          var ZZ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      KZ,
                      I(
                        t[0] ||
                          (t[0] = [
                            ra(
                              'g',
                              null,
                              [
                                ra('path', {
                                  d: 'M13.802466686534881,1.1380186865348816Q13.89646668653488,1.0444176865348815,13.947366686534881,0.9218876865348815Q13.998366686534881,0.7993576865348816,13.998366686534881,0.6666666865348816Q13.998366686534881,0.6011698865348816,13.98556668653488,0.5369316865348817Q13.972766686534882,0.4726936865348816,13.947666686534882,0.4121826865348816Q13.922666686534882,0.3516706865348816,13.886266686534881,0.2972126865348816Q13.849866686534881,0.2427536865348816,13.803566686534882,0.19644068653488161Q13.757266686534882,0.15012768653488162,13.702766686534881,0.11373968653488165Q13.648366686534882,0.07735168653488156,13.587866686534882,0.052286686534881555Q13.527266686534881,0.02722268653488158,13.463066686534882,0.014444686534881623Q13.398866686534882,0.0016666865348815563,13.333366686534882,0.0016666865348815563Q13.201466686534882,0.0016666865348815563,13.079566686534882,0.051981686534881555Q12.957666686534882,0.10229768653488158,12.864266686534881,0.1953146865348816L12.863066686534882,0.19413268653488158L4.624996686534882,8.392776686534882L1.1369396865348815,4.921396686534882L1.1357636865348817,4.922586686534881Q1.0422996865348817,4.829566686534881,0.9204146865348816,4.779246686534882Q0.7985286865348816,4.728936686534881,0.6666666865348816,4.728936686534881Q0.6011698865348816,4.728936686534881,0.5369316865348817,4.741706686534882Q0.4726936865348816,4.754486686534881,0.4121826865348816,4.779556686534882Q0.3516706865348816,4.804616686534882,0.2972126865348816,4.8410066865348815Q0.2427536865348816,4.8773966865348815,0.19644068653488161,4.9237066865348815Q0.15012768653488162,4.970016686534882,0.11373968653488165,5.024476686534881Q0.07735168653488156,5.078936686534882,0.052286686534881555,5.139446686534882Q0.02722268653488158,5.199956686534882,0.014444686534881623,5.2641966865348815Q0.0016666865348815563,5.328436686534881,0.0016666865348815563,5.3939366865348815Q0.0016666865348815563,5.526626686534882,0.05259268653488158,5.649156686534882Q0.10351768653488158,5.771686686534881,0.1975696865348816,5.865286686534882L0.1963936865348816,5.866466686534881L4.1547266865348815,9.805866686534882Q4.201126686534882,9.852046686534882,4.255616686534882,9.888306686534882Q4.310106686534882,9.924576686534882,4.3706166865348814,9.949556686534882Q4.431126686534881,9.974536686534881,4.495326686534882,9.987266686534882Q4.559536686534882,9.999996686534882,4.624996686534882,9.999996686534882Q4.690456686534882,9.999996686534882,4.754666686534882,9.987266686534882Q4.818876686534882,9.974536686534881,4.879386686534882,9.949556686534882Q4.939886686534882,9.924576686534882,4.994386686534882,9.888306686534882Q5.048876686534881,9.852046686534882,5.0952766865348815,9.805866686534882L13.803566686534882,1.1392006865348816L13.802466686534881,1.1380186865348816Z',
                                  'fill-rule': 'evenodd',
                                  fill: '#E0E0FC',
                                  'fill-opacity': '1',
                                  style: { 'mix-blend-mode': 'passthrough' },
                                }),
                              ],
                              -1
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            JZ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var $Z = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      JZ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_13_287/13_278"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath><clipPath id="master_svg1_13_287/13_278/13_040"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_13_287/13_278)"><g clip-path="url(#master_svg1_13_287/13_278/13_040)"><g><path d="M7.34851109375,12.6516259765625Q8.44685609375,13.7499259765625,10.00016609375,13.7499259765625Q11.55346609375,13.7499259765625,12.65181609375,12.6516259765625Q13.75016609375,11.5532659765625,13.75016609375,9.9999559765625L13.75016609375,4.5832959765625Q13.75016609375,3.0299959765624997,12.65181609375,1.9316429765625Q11.55346609375,0.8332929765625,10.00016609375,0.8332919765625Q8.44685609375,0.8332929765625,7.34851109375,1.9316429765625Q6.25016309375,3.0299959765624997,6.25016309375,4.5832959765625L6.25016309375,9.9999559765625Q6.25016309375,11.5532659765625,7.34851109375,12.6516259765625ZM11.47330609375,11.4730959765625Q10.86310609375,12.0833259765625,10.00016609375,12.0833259765625Q9.13721609375,12.0833259765625,8.527026093749999,11.4730959765625Q7.91682909375,10.8629059765625,7.91682909375,9.9999559765625L7.91683009375,4.5832959765625Q7.91683009375,3.7203459765625,8.527026093749999,3.1101559765625Q9.13721609375,2.4999589765625,10.00016609375,2.4999589765625Q10.86310609375,2.4999589765625,11.47330609375,3.1101559765625Q12.08349609375,3.7203459765625,12.08349609375,4.5832959765625L12.08349609375,9.9999559765625Q12.08349609375,10.8629059765625,11.47330609375,11.4730959765625Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M17.08315046875,9.6393233234375Q17.08502046875,9.6113801234375,17.08502046875,9.5833740234375Q17.08502046875,9.5011337234375,17.06898046875,9.4204740234375Q17.05293046875,9.3398140234375,17.02146046875,9.2638330234375Q16.98999046875,9.1878530234375,16.94430046875,9.1194730234375Q16.89861046875,9.0510930234375,16.84046046875,8.9929400234375Q16.78230046875,8.9347870234375,16.71392346875,8.8890970234375Q16.64554246875,8.8434070234375,16.56956246875,8.8119350234375Q16.49358246875,8.7804630234375,16.41292246875,8.7644180234375Q16.33226246875,8.7483740234375,16.25002246875,8.7483740234375Q16.16778146875,8.7483740234375,16.08712146875,8.7644180234375Q16.00646146875,8.7804630234375,15.93048146875,8.8119350234375Q15.85450146875,8.8434070234375,15.78612106875,8.8890970234375Q15.71774076875,8.9347870234375,15.65958806875,8.9929400234375Q15.60143546875,9.0510930234375,15.55574546875,9.1194730234375Q15.51005446875,9.1878530234375,15.47858246875,9.2638330234375Q15.44711046875,9.3398140234375,15.43106646875,9.4204740234375Q15.41502246875,9.5011337234375,15.41502246875,9.5833740234375Q15.41502246875,9.6080265234375,15.41647646875,9.6326360234375Q15.40712446875,10.7164940234375,14.98582546875,11.7046140234375Q14.89498046875,11.8831040234375,14.89498046875,12.0833740234375Q14.89498046875,12.1656140234375,14.91102446875,12.2462740234375Q14.92706946875,12.3269340234375,14.95854146875,12.4029140234375Q14.99001346875,12.4788940234375,15.03570346875,12.5472740234375Q15.08139346875,12.6156540234375,15.13954646875,12.6738040234375Q15.19769946875,12.7319640234375,15.26607946875,12.7776540234375Q15.33445946875,12.8233440234375,15.41043946875,12.8548140234375Q15.48642046875,12.8862840234375,15.56708046875,12.9023340234375Q15.64774016875,12.9183740234375,15.72998046875,12.9183740234375Q15.79409136875,12.9183740234375,15.85745046875,12.9085840234375Q15.92081046875,12.8988040234375,15.98193346875,12.8794540234375Q16.04305546875,12.8601140234375,16.10050846875,12.8316640234375Q16.15796246875,12.8032140234375,16.21039846875,12.7663240234375Q16.26283546875,12.7294440234375,16.309026468749998,12.6849840234375Q16.35521746875,12.6405240234375,16.39408046875,12.5895340234375Q16.43294246875,12.538544023437499,16.46356646875,12.4822240234375Q16.49418946875,12.4258940234375,16.51585446875,12.3655540234375Q17.07244046875,11.0643540234375,17.08315046875,9.6393233234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M4.583527,9.6329521234375Q4.585,9.6081849234375,4.585,9.5833740234375Q4.585,9.5011337234375,4.568956,9.4204740234375Q4.552911,9.3398140234375,4.521439,9.2638330234375Q4.489967,9.1878530234375,4.444277,9.1194730234375Q4.398587,9.0510930234375,4.340434,8.9929400234375Q4.282281,8.9347870234375,4.213901,8.8890970234375Q4.1455210000000005,8.8434070234375,4.069541,8.8119350234375Q3.99356,8.7804630234375,3.9129,8.7644180234375Q3.8322403,8.7483740234375,3.75,8.7483740234375Q3.6677597,8.7483740234375,3.5871,8.7644180234375Q3.50644,8.7804630234375,3.430459,8.8119350234375Q3.354479,8.8434070234375,3.286099,8.8890970234375Q3.2177189999999998,8.9347870234375,3.159566,8.9929400234375Q3.101413,9.0510930234375,3.055723,9.1194730234375Q3.010033,9.1878530234375,2.978561,9.2638330234375Q2.947089,9.3398140234375,2.931044,9.4204740234375Q2.915,9.5011337234375,2.915,9.5833740234375Q2.915,9.6112012234375,2.916853,9.6389666234375Q2.9363479999999997,12.5370740234375,4.99132,14.5920540234375Q7.06598,16.6667040234375,10,16.6667040234375Q11.1917,16.6667040234375,12.30806,16.2819440234375Q12.37346,16.2636640234375,12.43505,16.235064023437502Q12.49663,16.2064640234375,12.55279,16.1682840234375Q12.60894,16.1301040234375,12.65819,16.0833540234375Q12.70744,16.036604023437498,12.74849,15.9825140234375Q12.78954,15.9284240234375,12.82131,15.868404023437499Q12.85308,15.8083940234375,12.87473,15.7440340234375Q12.89639,15.6796740234375,12.90736,15.6126640234375Q12.91833,15.5456540234375,12.91833,15.4777440234375Q12.91833,15.3955040234375,12.90229,15.3148440234375Q12.88624,15.2341840234375,12.85477,15.1582040234375Q12.8233,15.082224023437501,12.77761,15.0138440234375Q12.73192,14.9454640234375,12.67377,14.8873140234375Q12.61561,14.8291640234375,12.54723,14.783474023437499Q12.47885,14.7377840234375,12.40287,14.7063140234375Q12.32689,14.6748340234375,12.24623,14.658794023437501Q12.16557,14.6427540234375,12.08333,14.642744023437501Q11.91469,14.642744023437501,11.75926,14.7082040234375Q10.9093,15.0000440234375,10,15.0000440234375Q7.75633,15.0000440234375,6.16983,13.413544023437499Q4.6008890000000005,11.8445940234375,4.583527,9.6329521234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M10.833333,15.8861049234375Q10.835,15.8597658234375,10.835,15.8333740234375Q10.835,15.7511337234375,10.818956,15.6704740234375Q10.802911,15.5898140234375,10.771439,15.5138330234375Q10.739967,15.4378530234375,10.694277,15.3694730234375Q10.648587,15.3010930234375,10.590434,15.2429400234375Q10.532281,15.1847870234375,10.463901,15.1390970234375Q10.395521,15.0934070234375,10.319541,15.0619350234375Q10.24356,15.0304630234375,10.1629,15.0144180234375Q10.0822403,14.9983740234375,10,14.9983740234375Q9.9177597,14.9983740234375,9.8371,15.0144180234375Q9.75644,15.0304630234375,9.680459,15.0619350234375Q9.604479,15.0934070234375,9.536099,15.1390970234375Q9.467719,15.1847870234375,9.409566,15.2429400234375Q9.351413,15.3010930234375,9.305723,15.3694730234375Q9.260033,15.4378530234375,9.228561,15.5138330234375Q9.197089,15.5898140234375,9.181044,15.6704740234375Q9.165,15.7511337234375,9.165,15.8333740234375Q9.165,15.8597658234375,9.166667,15.8861049234375L9.166667,18.2806440234375Q9.165,18.3069840234375,9.165,18.3333740234375Q9.165,18.4156140234375,9.181044,18.4962740234375Q9.197089,18.5769340234375,9.228561,18.6529140234375Q9.260033,18.7288940234375,9.305723,18.7972740234375Q9.351413,18.8656540234375,9.409566,18.9238040234375Q9.467719,18.9819640234375,9.536099,19.0276540234375Q9.604479,19.0733440234375,9.680459,19.1048140234375Q9.75644,19.1362840234375,9.8371,19.1523340234375Q9.9177597,19.1683740234375,10,19.1683740234375Q10.0822403,19.1683740234375,10.1629,19.1523340234375Q10.24356,19.1362840234375,10.319541,19.1048140234375Q10.395521,19.0733440234375,10.463901,19.0276540234375Q10.532281,18.9819640234375,10.590434,18.9238040234375Q10.648587,18.8656540234375,10.694277,18.7972740234375Q10.739967,18.7288940234375,10.771439,18.6529140234375Q10.802911,18.5769340234375,10.818956,18.4962740234375Q10.835,18.4156140234375,10.835,18.3333740234375Q10.835,18.3069840234375,10.833333,18.2806440234375L10.833333,15.8861049234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M1.9480309999999998,3.126542Q1.813081,3.007654,1.7390400000000001,2.843752Q1.665,2.67985,1.665,2.5Q1.665,2.4177597,1.681044,2.3371Q1.697089,2.25644,1.728561,2.180459Q1.760033,2.104479,1.805723,2.036099Q1.851413,1.967719,1.9095659999999999,1.9095659999999999Q1.967719,1.851413,2.036099,1.805723Q2.104479,1.760033,2.180459,1.728561Q2.25644,1.697089,2.3371,1.681044Q2.4177597,1.665,2.5,1.665Q2.67985,1.665,2.843752,1.7390400000000001Q3.007654,1.813081,3.126542,1.9480309999999998L18.052,16.8735Q18.1869,16.9923,18.261,17.1562Q18.335,17.3202,18.335,17.5Q18.335,17.5822,18.319000000000003,17.6629Q18.3029,17.7436,18.2714,17.819499999999998Q18.240000000000002,17.8955,18.1943,17.963900000000002Q18.148600000000002,18.0323,18.090400000000002,18.090400000000002Q18.0323,18.148600000000002,17.963900000000002,18.1943Q17.8955,18.240000000000002,17.819499999999998,18.2714Q17.7436,18.3029,17.6629,18.319000000000003Q17.5822,18.335,17.5,18.335Q17.3202,18.335,17.1562,18.261Q16.9923,18.1869,16.8735,18.052L1.9480309999999998,3.126542Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            eJ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var tJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      eJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_13_278"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath><clipPath id="master_svg1_13_278/13_029"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_13_278)"><g clip-path="url(#master_svg1_13_278/13_029)"><g><rect x="0" y="0" width="20" height="20" rx="0" fill="#FFFFFF" fill-opacity="0.009999999776482582" style="mix-blend-mode:passthrough;"></rect></g><g><path d="M6.249918953125,9.9999559765625L6.249918953125,4.5832959765625Q6.249918953125,3.0299959765624997,7.348267953125,1.9316419765625Q8.446621953125,0.8332929765625,9.999921953125,0.8332929765625Q11.553221953125,0.8332929765625,12.651571953125,1.9316419765625Q13.749921953125,3.0299959765624997,13.749921953125,4.5832959765625L13.749921953125,9.9999559765625Q13.749921953125,11.5532559765625,12.651571953125,12.6516259765625Q11.553221953125,13.7499259765625,9.999921953125,13.7499259765625Q8.446621953125,13.7499259765625,7.348267953125,12.6516259765625Q6.249918953125,11.5532559765625,6.249918953125,9.9999559765625ZM7.916584953125,9.9999559765625Q7.916584953125,10.8629059765625,8.526781953124999,11.4730959765625Q9.136971953125,12.0833259765625,9.999921953125,12.0833259765625Q10.862861953125,12.0833259765625,11.473061953125,11.4730959765625Q12.083251953125,10.8629059765625,12.083251953125,9.9999559765625L12.083251953125,4.5832959765625Q12.083251953125,3.7203459765625,11.473061953125,3.1101559765625Q10.862861953125,2.4999589765625,9.999921953125,2.4999589765625Q9.136971953125,2.4999589765625,8.526781953124999,3.1101559765625Q7.916584953125,3.7203459765625,7.916584953125,4.5832959765625L7.916584953125,9.9999559765625Z" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M4.583527,9.6329521234375Q4.585,9.6081849234375,4.585,9.5833740234375Q4.585,9.5011337234375,4.568956,9.4204740234375Q4.552911,9.3398140234375,4.521439,9.2638330234375Q4.489967,9.1878530234375,4.444277,9.1194730234375Q4.398587,9.0510930234375,4.340434,8.9929400234375Q4.282281,8.9347870234375,4.213901,8.8890970234375Q4.1455210000000005,8.8434070234375,4.069541,8.8119350234375Q3.99356,8.7804630234375,3.9129,8.7644180234375Q3.8322403,8.7483740234375,3.75,8.7483740234375Q3.6677597,8.7483740234375,3.5871,8.7644180234375Q3.50644,8.7804630234375,3.430459,8.8119350234375Q3.354479,8.8434070234375,3.286099,8.8890970234375Q3.2177189999999998,8.9347870234375,3.159566,8.9929400234375Q3.101413,9.0510930234375,3.055723,9.1194730234375Q3.010033,9.1878530234375,2.978561,9.2638330234375Q2.947089,9.3398140234375,2.931044,9.4204740234375Q2.915,9.5011337234375,2.915,9.5833740234375Q2.915,9.6112012234375,2.916853,9.6389666234375Q2.9363479999999997,12.5370740234375,4.99132,14.5920540234375Q7.06598,16.6667040234375,10,16.6667040234375Q12.93402,16.6667040234375,15.0087,14.5920540234375Q17.0636,12.5370940234375,17.0831,9.6390003234375Q17.085,9.6112181234375,17.085,9.5833740234375Q17.085,9.5011337234375,17.069000000000003,9.4204740234375Q17.0529,9.3398140234375,17.0214,9.2638330234375Q16.990000000000002,9.1878530234375,16.9443,9.1194730234375Q16.898600000000002,9.0510930234375,16.840400000000002,8.9929400234375Q16.7823,8.9347870234375,16.713900000000002,8.8890970234375Q16.6455,8.8434070234375,16.569499999999998,8.8119350234375Q16.4936,8.7804630234375,16.4129,8.7644180234375Q16.3322,8.7483740234375,16.25,8.7483740234375Q16.1678,8.7483740234375,16.0871,8.7644180234375Q16.0064,8.7804630234375,15.9305,8.8119350234375Q15.8545,8.8434070234375,15.7861,8.8890970234375Q15.7177,8.9347870234375,15.6596,8.9929400234375Q15.6014,9.0510930234375,15.5557,9.1194730234375Q15.51,9.1878530234375,15.4786,9.2638330234375Q15.4471,9.3398140234375,15.431,9.4204740234375Q15.415,9.5011337234375,15.415,9.5833740234375Q15.415,9.6081817234375,15.4165,9.6329456234375Q15.3991,11.8445940234375,13.8302,13.413544023437499Q12.24366,15.0000440234375,10,15.0000440234375Q7.75633,15.0000440234375,6.16983,13.413544023437499Q4.6008890000000005,11.8445940234375,4.583527,9.6329521234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M10.833333,15.8861049234375Q10.835,15.8597658234375,10.835,15.8333740234375Q10.835,15.7511337234375,10.818956,15.6704740234375Q10.802911,15.5898140234375,10.771439,15.5138330234375Q10.739967,15.4378530234375,10.694277,15.3694730234375Q10.648587,15.3010930234375,10.590434,15.2429400234375Q10.532281,15.1847870234375,10.463901,15.1390970234375Q10.395521,15.0934070234375,10.319541,15.0619350234375Q10.24356,15.0304630234375,10.1629,15.0144180234375Q10.0822403,14.9983740234375,10,14.9983740234375Q9.9177597,14.9983740234375,9.8371,15.0144180234375Q9.75644,15.0304630234375,9.680459,15.0619350234375Q9.604479,15.0934070234375,9.536099,15.1390970234375Q9.467719,15.1847870234375,9.409566,15.2429400234375Q9.351413,15.3010930234375,9.305723,15.3694730234375Q9.260033,15.4378530234375,9.228561,15.5138330234375Q9.197089,15.5898140234375,9.181044,15.6704740234375Q9.165,15.7511337234375,9.165,15.8333740234375Q9.165,15.8597658234375,9.166667,15.8861049234375L9.166667,18.2806440234375Q9.165,18.3069840234375,9.165,18.3333740234375Q9.165,18.4156140234375,9.181044,18.4962740234375Q9.197089,18.5769340234375,9.228561,18.6529140234375Q9.260033,18.7288940234375,9.305723,18.7972740234375Q9.351413,18.8656540234375,9.409566,18.9238040234375Q9.467719,18.9819640234375,9.536099,19.0276540234375Q9.604479,19.0733440234375,9.680459,19.1048140234375Q9.75644,19.1362840234375,9.8371,19.1523340234375Q9.9177597,19.1683740234375,10,19.1683740234375Q10.0822403,19.1683740234375,10.1629,19.1523340234375Q10.24356,19.1362840234375,10.319541,19.1048140234375Q10.395521,19.0733440234375,10.463901,19.0276540234375Q10.532281,18.9819640234375,10.590434,18.9238040234375Q10.648587,18.8656540234375,10.694277,18.7972740234375Q10.739967,18.7288940234375,10.771439,18.6529140234375Q10.802911,18.5769340234375,10.818956,18.4962740234375Q10.835,18.4156140234375,10.835,18.3333740234375Q10.835,18.3069840234375,10.833333,18.2806440234375L10.833333,15.8861049234375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            nJ = {
              class: 'icon',
              viewBox: '0 0 1024 1024',
              version: '1.1',
              xmlns: 'http://www.w3.org/2000/svg',
            }
          var rJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      nJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            ra(
                              'path',
                              {
                                d: 'M899.925333 172.080762a48.761905 48.761905 0 0 1 0 28.525714l-207.969523 679.448381a48.761905 48.761905 0 0 1-81.115429 20.187429l-150.552381-150.552381-96.304762 96.329143a24.380952 24.380952 0 0 1-41.593905-17.237334v-214.966857l275.821715-243.370667-355.57181 161.596953-103.253333-103.228953a48.761905 48.761905 0 0 1 20.23619-81.091047L838.997333 139.702857a48.761905 48.761905 0 0 1 60.903619 32.353524z',
                              },
                              null,
                              -1
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            iJ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var aJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      iJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_20_113"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_20_113)"><g><path d="M17.52452171875,9.078936578124999Q17.659471718749998,8.960048578125,17.73351171875,8.796145578125Q17.80755171875,8.632242578125,17.80755171875,8.452392578125Q17.80755171875,8.370152278125,17.79151171875,8.289492578125Q17.77546171875,8.208832578125,17.74399171875,8.132851578125Q17.71252171875,8.056871578125,17.66683171875,7.988491578125Q17.62114171875,7.920111578125,17.56299171875,7.861958578125Q17.50483171875,7.803805578125,17.43645171875,7.758115578125Q17.36807171875,7.712425578125,17.29209171875,7.680953578125Q17.21611171875,7.649481578125,17.13545171875,7.633436578125Q17.05479171875,7.617392578125,16.97255171875,7.617392578125Q16.79270171875,7.617392578125,16.62880171875,7.691433578125Q16.46490171875,7.765474578125,16.34601171875,7.900425578125L12.88504271875,11.361392578124999Q12.75009271875,11.480282578125,12.67605171875,11.644182578125001Q12.60201171875,11.808082578125,12.60201171875,11.987932578125001Q12.60201171875,12.070172578125,12.61805571875,12.150832578125Q12.63410071875,12.231492578125,12.66557271875,12.307472578125001Q12.69704471875,12.383452578125,12.74273471875,12.451832578125Q12.78842471875,12.520212578125001,12.84657771875,12.578362578124999Q12.90473071875,12.636522578125,12.97311071875,12.682212578125Q13.04149071875,12.727902578125,13.11747071875,12.759372578125Q13.19345171875,12.790842578125,13.27411171875,12.806892578125Q13.35477141875,12.822932578125,13.43701171875,12.822932578125Q13.61685971875,12.822932578125,13.78076071875,12.748892578125Q13.94466171875,12.674852578125,14.06354971875,12.539902578125L17.52452171875,9.078936578124999Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M12.88553,9.078933578125Q12.75058,8.960045578125,12.67654,8.796143578125Q12.6025,8.632241578125,12.6025,8.452392578125Q12.6025,8.370152278125,12.618544,8.289492578125Q12.634589,8.208832578125,12.666061,8.132851578125Q12.697533,8.056871578125,12.743223,7.988491578125Q12.788913,7.920111578125,12.847066,7.861958578125Q12.905219,7.803805578125,12.973599,7.758115578125Q13.041979,7.712425578125,13.117959,7.680953578125Q13.19394,7.649481578125,13.2746,7.633436578125Q13.3552597,7.617392578125,13.4375,7.617392578125Q13.617349,7.617392578125,13.781251,7.691432578125Q13.945153,7.765472578125,14.064041,7.900422578125L17.52501,11.361392578124999Q17.659959999999998,11.480282578125,17.734,11.644182578125001Q17.80804,11.808082578125,17.80804,11.987932578125001Q17.80804,12.070172578125,17.792,12.150832578125Q17.77595,12.231492578125,17.74448,12.307472578125001Q17.71301,12.383452578125,17.66732,12.451832578125Q17.62163,12.520212578125001,17.56347,12.578362578124999Q17.50532,12.636522578125,17.43694,12.682212578125Q17.36856,12.727902578125,17.29258,12.759372578125Q17.2166,12.790842578125,17.13594,12.806892578125Q17.05528,12.822932578125,16.97304,12.822932578125Q16.79319,12.822932578125,16.62929,12.748892578125Q16.46539,12.674852578125,16.3465,12.539902578125L12.88553,9.078933578125Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M4.44364390625,5.42117L2.49983690625,5.42117Q1.80948090625,5.42117,1.32132890625,5.90931Q0.83317090625,6.39747,0.83317090625,7.08783L0.83317090625,12.8496Q0.83317090625,13.54,1.32132990625,14.0281Q1.80948090625,14.5163,2.49983690625,14.5163L4.43961390625,14.5163Q6.77175390625,18.3333,9.99983390625,18.3333Q10.08191390625,18.3333,10.16241390625,18.3173Q10.24291390625,18.301299999999998,10.31874390625,18.2699Q10.39456390625,18.238500000000002,10.46281390625,18.1929Q10.53105390625,18.1473,10.58909390625,18.0893Q10.64713390625,18.0312,10.69272390625,17.963Q10.73832390625,17.8947,10.76973390625,17.8189Q10.80114390625,17.7431,10.81715390625,17.662599999999998Q10.83317390625,17.5821,10.83317390625,17.5L10.83317390625,2.5Q10.83317390625,2.4179238,10.81715390625,2.337425Q10.80114390625,2.256926,10.76973390625,2.181097Q10.73832390625,2.105269,10.69272390625,2.037025Q10.64712390625,1.968781,10.58909390625,1.910744Q10.53105390625,1.852708,10.46281390625,1.807109Q10.39456390625,1.76151,10.31874390625,1.7301009999999999Q10.24291390625,1.698691,10.16241390625,1.682679Q10.08191390625,1.666667,9.99983390625,1.666667Q6.77619390625,1.666667,4.44364390625,5.42117ZM4.91587390625,7.08783Q5.02559390625,7.08783,5.13157390625,7.05943Q5.23755390625,7.03103,5.3325739062499995,6.97617Q5.42758390625,6.92131,5.50516390625,6.84372Q5.58274390625,6.76614,5.63759390625,6.67111Q7.22859390625,3.91495,9.16650390625,3.434681L9.16650390625,16.563299999999998Q7.23188390625,16.074199999999998,5.6405439062500005,13.2715Q5.58600390625,13.1754,5.50830390625,13.0969Q5.4306139062500005,13.0184,5.33514390625,12.9628Q5.23966390625,12.9072,5.1330139062499995,12.8784Q5.02635390625,12.8496,4.91587390625,12.8496L2.49983690625,12.8496L2.49983790625,7.08783L4.91587390625,7.08783Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            oJ = {
              xmlns: 'http://www.w3.org/2000/svg',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              fill: 'none',
              version: '1.1',
              width: '20',
              height: '20',
              viewBox: '0 0 20 20',
            }
          var sJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      oJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            sa(
                              '<defs><clipPath id="master_svg0_13_280"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath><clipPath id="master_svg1_13_280/13_053"><rect x="0" y="0" width="20" height="20" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_13_280)"><g clip-path="url(#master_svg1_13_280/13_053)"><g><rect x="0" y="0" width="20" height="20" rx="0" fill="#FFFFFF" fill-opacity="0.009999999776482582" style="mix-blend-mode:passthrough;"></rect></g><g><path d="M4.443888046875,5.42117L2.500081046875,5.42117Q1.809725046875,5.42117,1.321573046875,5.90931Q0.833415046875,6.39747,0.833415046875,7.08783L0.833415046875,12.8496Q0.833415046875,13.54,1.321574046875,14.0281Q1.809725046875,14.5163,2.500081046875,14.5163L4.439858046875,14.5163Q6.771998046875,18.3333,10.000078046875,18.3333Q10.082158046875,18.3333,10.162658046875,18.3173Q10.243158046875,18.301299999999998,10.318988046875,18.2699Q10.394808046875,18.238500000000002,10.463058046875,18.1929Q10.531298046875,18.1473,10.589338046875,18.0893Q10.647378046875,18.0312,10.692968046875,17.963Q10.738568046875,17.8947,10.769978046875,17.8189Q10.801388046875,17.7431,10.817398046875,17.662599999999998Q10.833418046875,17.5821,10.833418046875,17.5L10.833418046875,2.5Q10.833418046875,2.4179238,10.817398046875,2.337425Q10.801388046875,2.256926,10.769978046875,2.181097Q10.738568046875,2.105269,10.692968046875,2.037025Q10.647368046875,1.968781,10.589338046875,1.910744Q10.531298046875,1.852708,10.463058046875,1.807109Q10.394808046875,1.76151,10.318988046875,1.7301009999999999Q10.243158046875,1.698691,10.162658046875,1.682679Q10.082158046875,1.666667,10.000078046875,1.666667Q6.776438046875,1.666667,4.443888046875,5.42117ZM4.916118046875,7.08783Q5.025838046875,7.08783,5.131818046875,7.05943Q5.237798046875,7.03103,5.3328180468749995,6.97617Q5.427828046875,6.92131,5.505408046875,6.84372Q5.582988046875,6.76614,5.637838046875,6.67111Q7.228838046875,3.91495,9.166748046875,3.434681L9.166748046875,16.563299999999998Q7.232128046875,16.074199999999998,5.6407880468750005,13.2715Q5.586248046875,13.1754,5.508548046875,13.0969Q5.4308580468750005,13.0184,5.335388046875,12.9628Q5.239908046875,12.9072,5.1332580468749995,12.8784Q5.026598046875,12.8496,4.916118046875,12.8496L2.500081046875,12.8496L2.500082046875,7.08783L4.916118046875,7.08783Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M12.813896953124999,6.903831Q12.740067953125,6.845187,12.681175953125,6.771557Q12.622282953125,6.697926,12.581291953125,6.613017Q12.540300953125,6.528109,12.519276953125,6.436197Q12.498251953125,6.3442856,12.498251953125,6.25Q12.498251953125,6.1677597,12.514295953125,6.0871Q12.530340953125,6.00644,12.561812953125,5.930459Q12.593284953125,5.8544789999999995,12.638974953125,5.786099Q12.684664953125,5.717719,12.742817953125,5.659566Q12.800970953125,5.601413,12.869350953125,5.555723Q12.937730953125,5.510033,13.013710953125,5.478561Q13.089691953125,5.447089,13.170351953125,5.431044Q13.251011653125,5.415,13.333251953125,5.415Q13.501904953125,5.415,13.657335953125,5.4804580000000005Q13.812766953125,5.545916,13.930607953125,5.66657Q14.362131953125001,6.059567,14.707911953125,6.532997Q15.248111953125001,7.2726299999999995,15.535961953125,8.14354Q15.833251953125,9.04304,15.833251953125,10Q15.833251953125,10.94869,15.540941953125,11.84127Q15.257921953125,12.70551,14.726221953125,13.4418Q14.373671953125,13.92992,13.930609953125,14.33343Q13.812768953125,14.45408,13.657336953125,14.51954Q13.501904953125,14.585,13.333251953125,14.585Q13.251011653125,14.585,13.170351953125,14.56895Q13.089691953125,14.55291,13.013710953125,14.52144Q12.937730953125,14.48997,12.869350953125,14.44428Q12.800970953125,14.39859,12.742817953125,14.34043Q12.684664953125,14.28228,12.638974953125,14.213899999999999Q12.593284953125,14.145520000000001,12.561812953125,14.06954Q12.530340953125,13.99356,12.514295953125,13.9129Q12.498251953125,13.832239999999999,12.498251953125,13.75Q12.498251953125,13.655719999999999,12.519276953125,13.5638Q12.540300953125,13.47189,12.581291953125,13.386980000000001Q12.622282953125,13.30207,12.681174953125,13.228439999999999Q12.740067953125,13.154810000000001,12.813895953125,13.09617Q13.125969953125,12.8109,13.375114153125,12.46595Q14.166584953125,11.36993,14.166584953125,10Q14.166584953125,8.61762,13.362005753125,7.516Q13.117749953125,7.181583,12.813896953124999,6.903831Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g><g><path d="M14.863105578125,2.228405984375Q16.823672578125,3.456592984375,17.969842578125,5.468508984375Q19.166602578125,7.569218984375,19.166602578125,10.000018984375Q19.166602578125,12.469708984375,17.933552578125,14.594658984375Q16.751772578125,16.631258984375002,14.739248578125,17.847858984375Q14.525103578125,17.995758984375,14.264892578125,17.995758984375Q14.182652278125,17.995758984375,14.101992578125,17.979658984375Q14.021332578125,17.963658984375,13.945351578125,17.932158984375Q13.869371578125,17.900658984375,13.800991578125,17.854958984375Q13.732611578125,17.809358984375002,13.674458578125,17.751158984375Q13.616305578125,17.692958984375,13.570615578125,17.624658984375Q13.524925578125,17.556258984375,13.493453578125,17.480258984375Q13.461981578125,17.404258984374998,13.445936578125,17.323658984375Q13.429892578125,17.242958984375,13.429892578125,17.160758984375Q13.429892578125,17.045958984374998,13.460862578124999,16.935458984375Q13.491831578125,16.824858984375,13.551473578125,16.726858984375Q13.611115578125,16.628758984375,13.695005578125,16.550458984375Q13.778896578125,16.472058984375,13.880811578125,16.419258984375Q15.525652578125,15.423558984375,16.492012578125,13.758158984375Q17.499932578125,12.021168984375,17.499932578125,10.000018984375Q17.499932578125,8.010658984374999,16.521692578125,6.293508984375Q15.584492578125,4.648418984375,13.982075578125,3.643182984375Q13.882499578125,3.589574984375,13.800770578125,3.511412984375Q13.719041578125,3.433249984375,13.661047578125,3.336162984375Q13.603053578125,3.239076984375,13.572972578125,3.130062984375Q13.542891578125,3.021047984375,13.542891578125,2.907958984375Q13.542891578125,2.825718684375,13.558936578125,2.745058984375Q13.574980578125,2.664398984375,13.606452578125,2.588417984375Q13.637924578125,2.512437984375,13.683614578125,2.444057984375Q13.729305578125,2.3756779843749998,13.787457578125,2.317524984375Q13.845610578125,2.259371984375,13.913990578125,2.213681984375Q13.982370578125,2.167991984375,14.058351578125,2.136519984375Q14.134331578125,2.105047984375,14.214991478125,2.089002984375Q14.295651478125,2.072958984375,14.377891578125,2.072958984375Q14.508378578125,2.072958984375,14.632644578125,2.112769984375Q14.756910578125,2.152579984375,14.863105578125,2.228405984375Z" fill-rule="evenodd" fill="#FFFFFF" fill-opacity="1" style="mix-blend-mode:passthrough;"></path></g></g></g>',
                              2
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            uJ = {
              t: '1744352112173',
              class: 'icon',
              viewBox: '0 0 1024 1024',
              version: '1.1',
              xmlns: 'http://www.w3.org/2000/svg',
              'p-id': '16533',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              width: '200',
              height: '200',
            }
          var lJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      uJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            ra(
                              'path',
                              {
                                d: 'M824 466.56V213.12q0-13.6512-5.2928-26.1632-5.104-12.064-14.3904-21.3536-9.2864-9.2864-21.3504-14.3872-12.5152-5.2928-26.1664-5.2928H246.4q-13.6512 0-26.1664 5.2928-12.064 5.1008-21.3504 14.3872-9.2864 9.2864-14.3904 21.3536Q179.2 199.4688 179.2 213.12v607.296q0 12.8448 5.0592 24.608 4.8576 11.2896 13.6704 19.9552 8.7616 8.6176 20.1184 13.344Q229.7792 883.2 242.56 883.2h217.6a28.8 28.8 0 0 0 0-57.6h-217.6q-2.528 0-4.2432-1.6864-1.5168-1.4912-1.5168-3.4976V213.12q0-3.9744 2.8128-6.784 2.8096-2.816 6.7872-2.816h510.4q3.9776 0 6.7872 2.816 2.8128 2.8096 2.8128 6.784v253.44a28.8 28.8 0 0 0 28.8 28.8 28.8 28.8 0 0 0 28.8-28.8zM466.0064 338.08l-130.2016 278.784A32 32 0 0 0 364.8 662.4h0.176a31.9904 31.9904 0 0 0 28.8192-18.4576L418.048 592h165.4976l15.2896 32.736q3.1008-3.4144 6.3904-6.704 20.3584-20.3616 45.4816-33.472l-115.1168-246.4832q-4.9408-10.5792-14.8704-16.5952-9.168-5.5552-19.9232-5.5552-10.7552 0-19.9232 5.5552-9.9296 6.016-14.8704 16.5952z m34.7936 76.7456L553.6576 528h-105.7152l52.8576-113.1776zM896 750.4c0 87.4816-70.9184 158.4-158.4 158.4S579.2 837.8816 579.2 750.4s70.9184-158.4 158.4-158.4 158.4 70.9184 158.4 158.4z m-116.3648-82.7648a28.9152 28.9152 0 0 1 7.1648-5.232q-5.8048-3.232-12.096-5.7248Q756.8256 649.6 737.6 649.6q-19.2256 0-37.104 7.0784-19.4112 7.6832-34.1728 22.448-14.7616 14.7616-22.4448 34.1696Q636.8 731.1744 636.8 750.4q0 19.232 7.0784 37.104 2.4896 6.2944 5.7248 12.096a28.7552 28.7552 0 0 1 5.232-7.1648l124.8-124.8zM838.4 750.4q0-19.2256-7.0784-37.104-2.4896-6.2912-5.7248-12.096a28.6944 28.6944 0 0 1-5.232 7.168l-124.8 124.8a28.7552 28.7552 0 0 1-7.1648 5.2288q5.8048 3.2352 12.096 5.728Q718.3744 851.2 737.6 851.2q19.2256 0 37.104-7.072 19.4112-7.6896 34.1728-22.4512 14.7616-14.7616 22.4448-34.1728Q838.4 769.632 838.4 750.4z',
                                'p-id': '16534',
                              },
                              null,
                              -1
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            cJ = {
              t: '1744352097285',
              class: 'icon',
              viewBox: '0 0 1024 1024',
              version: '1.1',
              xmlns: 'http://www.w3.org/2000/svg',
              'p-id': '16380',
              'data-spm-anchor-id': 'a313x.manage_type_myprojects.0.i0.60b03a81nz0mun',
              'xmlns:xlink': 'http://www.w3.org/1999/xlink',
              width: '200',
              height: '200',
            }
          var dJ = aX({}, [
              [
                'render',
                function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'svg',
                      cJ,
                      I(
                        t[0] ||
                          (t[0] = [
                            ra(
                              'path',
                              {
                                d: 'M833.6 213.12v253.44a28.8 28.8 0 0 1-28.8 28.8 28.8 28.8 0 0 1-28.8-28.8V213.12q0-3.9744-2.8128-6.784-2.8096-2.816-6.7872-2.816H256q-3.9776 0-6.7872 2.816Q246.4 209.1424 246.4 213.12v607.296q0 2.0064 1.5168 3.4976 1.7152 1.6864 4.2432 1.6864h217.6a28.8 28.8 0 0 1 0 57.6h-217.6q-12.7808 0-24.512-4.8768-11.3568-4.7232-20.1184-13.3408-8.8128-8.6656-13.6704-19.9584Q188.8 833.264 188.8 820.416V213.12q0-13.6512 5.2928-26.1632 5.104-12.064 14.3904-21.3536 9.2864-9.2864 21.3504-14.3872Q242.3456 145.92 256 145.92h510.4q13.6512 0 26.1664 5.2928 12.064 5.1008 21.3504 14.3872 9.2864 9.2864 14.3904 21.3536 5.2928 12.512 5.2928 26.1664zM345.408 613.664l130.1984-278.784q4.9408-10.5824 14.8704-16.5984 9.168-5.5552 19.9232-5.5552 10.7552 0 19.9232 5.5552 9.9296 6.016 14.8704 16.5952l130.2016 278.784a32 32 0 0 1-28.672 45.5392l-0.3232 0.0032c-12.4288 0-23.7344-7.2-28.9952-18.4608L593.1488 588.8h-165.4976l-24.256 51.9424a32.0064 32.0064 0 0 1-28.8192 18.4576l-0.176 0.0032a32 32 0 0 1-28.992-45.5424z m164.992-202.0416L457.5424 524.8h105.7152L510.4 411.6224z m120.2784 329.44l61.3216 61.5872 162.1248-162.8256a31.9936 31.9936 0 0 1 22.608-9.424H876.8a32 32 0 0 1 32 31.936v0.064a32 32 0 0 1-9.3216 22.5792l-184.8 185.6-0.0992 0.0992a31.9936 31.9936 0 0 1-45.2544-0.096l-83.984-84.352-0.016-0.016a31.9904 31.9904 0 0 1-9.2896-21.1104l30.496-33.4336c0.4896-0.0224 0.9792-0.032 1.4688-0.032h0.0704a32 32 0 0 1 22.608 9.4208z',
                                'p-id': '16381',
                                'data-spm-anchor-id':
                                  'a313x.manage_type_myprojects.0.i1.60b03a81nz0mun',
                                class: 'selected',
                              },
                              null,
                              -1
                            ),
                          ])
                      )
                    )
                  )
                },
              ],
            ]),
            hJ = { class: 'action-group' },
            fJ = ['onClick'],
            pJ = { key: 0, class: 'active-icon' },
            vJ = ['onClick'],
            mJ = { key: 0, class: 'active-icon' },
            gJ = ar({
              __name: 'ActionGroup',
              setup: function (e) {
                var t = nX(),
                  n = eX(),
                  r = ss(t),
                  i = r.hasCamera,
                  a = r.hasMic,
                  o = r.cameraOff,
                  s = r.micMuted,
                  u = r.volumeMuted,
                  l = r.showChatRecords,
                  c = r.streamState,
                  d = r.selectedAudioDevice,
                  h = r.selectedVideoDevice,
                  f = r.availableAudioDevices,
                  p = r.availableVideoDevices,
                  v = t.handleCameraOff,
                  m = t.handleMicMuted,
                  g = t.handleVolumeMute,
                  y = t.handleDeviceChange,
                  x = t.handleSubtitleToggle,
                  _ = ss(n),
                  b = _.wrapperRect,
                  S = _.isLandscape,
                  w = tn(!1),
                  A = tn(!1)
                return function (e, t) {
                  var n = (function (e) {
                    return Ir('directives', e)
                  })('click-outside')
                  return (
                    qi(),
                    Zi('div', hJ, [
                      on(i)
                        ? Un(
                            (qi(),
                            Zi(
                              'div',
                              {
                                key: 0,
                                class: 'action',
                                onClick:
                                  t[1] ||
                                  (t[1] = function () {
                                    return on(v) && on(v).apply(void 0, arguments)
                                  }),
                              },
                              [
                                ia(on(jZ), { icon: on(o) ? on(qZ) : on(YZ) }, null, 8, ['icon']),
                                'closed' === on(c)
                                  ? (qi(),
                                    Zi(
                                      'div',
                                      {
                                        key: 0,
                                        class: 'corner',
                                        onClick:
                                          t[0] ||
                                          (t[0] = Fo(
                                            function () {
                                              return (A.value = !A.value)
                                            },
                                            ['stop', 'prevent']
                                          )),
                                      },
                                      I(
                                        t[6] ||
                                          (t[6] = [ra('div', { class: 'corner-inner' }, null, -1)])
                                      )
                                    ))
                                  : ua('', !0),
                                Un(
                                  ra(
                                    'div',
                                    { class: Te(['selectors', { left: on(S) }]) },
                                    [
                                      (qi(!0),
                                      Zi(
                                        Vi,
                                        null,
                                        Pr(on(p), function (e) {
                                          return (
                                            qi(),
                                            Zi(
                                              'div',
                                              {
                                                key: e.deviceId,
                                                class: 'selector',
                                                onClick: Fo(
                                                  function () {
                                                    ;(on(y)(e.deviceId), (A.value = !1))
                                                  },
                                                  ['stop']
                                                ),
                                              },
                                              [
                                                oa(Ie(e.label) + ' ', 1),
                                                on(h) && e.deviceId === on(h).deviceId
                                                  ? (qi(), Zi('div', pJ, [ia(on(ZZ))]))
                                                  : ua('', !0),
                                              ],
                                              8,
                                              fJ
                                            )
                                          )
                                        }),
                                        128
                                      )),
                                    ],
                                    2
                                  ),
                                  [[ao, A.value && 'closed' === on(c)]]
                                ),
                              ]
                            )),
                            [
                              [
                                n,
                                function () {
                                  return (A.value = !1)
                                },
                              ],
                            ]
                          )
                        : ua('', !0),
                      on(a)
                        ? Un(
                            (qi(),
                            Zi(
                              'div',
                              {
                                key: 1,
                                class: 'action',
                                onClick:
                                  t[3] ||
                                  (t[3] = function () {
                                    return on(m) && on(m).apply(void 0, arguments)
                                  }),
                              },
                              [
                                ia(on(jZ), { icon: on(s) ? on($Z) : on(tJ) }, null, 8, ['icon']),
                                'closed' === on(c)
                                  ? (qi(),
                                    Zi(
                                      'div',
                                      {
                                        key: 0,
                                        class: 'corner',
                                        onClick:
                                          t[2] ||
                                          (t[2] = Fo(
                                            function () {
                                              return (w.value = !w.value)
                                            },
                                            ['stop', 'prevent']
                                          )),
                                      },
                                      I(
                                        t[7] ||
                                          (t[7] = [ra('div', { class: 'corner-inner' }, null, -1)])
                                      )
                                    ))
                                  : ua('', !0),
                                Un(
                                  ra(
                                    'div',
                                    { class: Te(['selectors', { left: on(S) }]) },
                                    [
                                      (qi(!0),
                                      Zi(
                                        Vi,
                                        null,
                                        Pr(on(f), function (e) {
                                          return (
                                            qi(),
                                            Zi(
                                              'div',
                                              {
                                                key: e.deviceId,
                                                class: 'selector',
                                                onClick: Fo(
                                                  function (t) {
                                                    ;(on(y)(e.deviceId), (w.value = !1))
                                                  },
                                                  ['stop']
                                                ),
                                              },
                                              [
                                                oa(Ie(e.label) + ' ', 1),
                                                on(d) && e.deviceId === on(d).deviceId
                                                  ? (qi(), Zi('div', mJ, [ia(on(ZZ))]))
                                                  : ua('', !0),
                                              ],
                                              8,
                                              vJ
                                            )
                                          )
                                        }),
                                        128
                                      )),
                                    ],
                                    2
                                  ),
                                  [[ao, w.value && 'closed' === on(c)]]
                                ),
                              ]
                            )),
                            [
                              [
                                n,
                                function () {
                                  return (w.value = !1)
                                },
                              ],
                            ]
                          )
                        : ua('', !0),
                      ra(
                        'div',
                        {
                          class: 'action',
                          onClick:
                            t[4] ||
                            (t[4] = function () {
                              return on(g) && on(g).apply(void 0, arguments)
                            }),
                        },
                        [ia(on(jZ), { icon: on(u) ? on(aJ) : on(sJ) }, null, 8, ['icon'])]
                      ),
                      on(b).width > 300
                        ? (qi(),
                          Zi(
                            'div',
                            {
                              key: 2,
                              class: 'action',
                              onClick:
                                t[5] ||
                                (t[5] = function () {
                                  return on(x) && on(x).apply(void 0, arguments)
                                }),
                            },
                            [ia(on(jZ), { icon: on(l) ? on(dJ) : on(lJ) }, null, 8, ['icon'])]
                          ))
                        : ua('', !0),
                    ])
                  )
                }
              },
            }),
            yJ = aX(gJ, [['__scopeId', 'data-v-f5429897']]),
            xJ = { class: 'gradio-webrtc-waveContainer' },
            _J = ar({
              __name: 'AudioWave',
              props: {
                streamState: { default: xs.closed },
                audioSourceCallback: {},
                numBars: { default: 16 },
                icon: {},
                iconButtonColor: { default: 'var(--color-accent)' },
                pulseColor: { default: 'var(--color-accent)' },
                waveColor: { default: 'var(--color-accent)' },
                pulseScale: { default: 1 },
              },
              emits: [],
              setup: function (e, t) {
                t.emit
                var n,
                  r,
                  i,
                  a,
                  o = e,
                  s = Ra(function () {
                    return o.icon
                      ? '128px'
                      : 'calc((var(--boxSize) + var(--gutter)) * '.concat(o.numBars, ' + 80px)')
                  })
                function u() {
                  r.getByteFrequencyData(i)
                  for (
                    var e = document.querySelectorAll(
                        '.gradio-webrtc-waveContainer .gradio-webrtc-box'
                      ),
                      t = 0;
                    t < e.length;
                    t++
                  ) {
                    var n = i[l(t)] / 255,
                      s = e[t]
                    ;((s.style.transform = 'scaleY('.concat(Math.max(0.1, n), ')')),
                      (s.style.background = o.waveColor),
                      (s.style.opacity = '0.5'))
                  }
                  a = requestAnimationFrame(u)
                }
                function l(e) {
                  var t = [0, 2, 4, 6, 8, 10, 12, 14, 15, 13, 11, 9, 7, 5, 3, 1]
                  if (e < 0 || e >= t.length) throw new Error('Index must be between 0 and 15')
                  return t[e]
                }
                return (
                  Ei(
                    function () {
                      return o.streamState
                    },
                    function () {
                      ;(console.log(111111),
                        'open' === o.streamState &&
                          (function () {
                            ;((n = new (window.AudioContext || window.webkitAudioContext)()),
                              (r = n.createAnalyser()))
                            var e = o.audioSourceCallback()
                            if (!e) return
                            ;(n.createMediaStreamSource(e).connect(r),
                              (r.fftSize = 64),
                              (r.smoothingTimeConstant = 0.8),
                              (i = new Uint8Array(r.frequencyBinCount)),
                              u())
                          })())
                    },
                    { immediate: !0 }
                  ),
                  Ar(function () {
                    ;(a && cancelAnimationFrame(a), n && n.close())
                  }),
                  function (e, t) {
                    return (
                      qi(),
                      Zi('div', xJ, [
                        ra(
                          'div',
                          { class: 'gradio-webrtc-boxContainer', style: _e({ width: s.value }) },
                          [
                            (qi(!0),
                            Zi(
                              Vi,
                              null,
                              Pr(Array(e.numBars / 2), function (e, t) {
                                return (qi(), Zi('div', { key: t, class: 'gradio-webrtc-box' }))
                              }),
                              128
                            )),
                            t[0] || (t[0] = ra('div', { class: 'split-container' }, null, -1)),
                            (qi(!0),
                            Zi(
                              Vi,
                              null,
                              Pr(Array(e.numBars / 2), function (e, t) {
                                return (qi(), Zi('div', { key: t, class: 'gradio-webrtc-box' }))
                              }),
                              128
                            )),
                          ],
                          4
                        ),
                      ])
                    )
                  }
                )
              },
            }),
            bJ = aX(_J, [['__scopeId', 'data-v-d7e47480']]),
            SJ = { class: 'player-controls' },
            wJ = { key: 0 },
            AJ = { key: 1, class: 'waiting-icon-text' },
            TJ = { class: 'icon', title: 'spinner' },
            MJ = { key: 2, class: 'stop-chat-inner' },
            EJ = { key: 0, class: 'input-audio-wave' },
            CJ = ar({
              __name: 'ChatBtn',
              props: {
                streamState: { type: String, default: xs.closed },
                onStartChat: { type: Function, required: !0 },
                audioSourceCallback: { type: Function, required: !0 },
                waveColor: { type: String, required: !0 },
              },
              emits: [],
              setup: function (e, t) {
                t.emit
                return function (t, n) {
                  return (
                    qi(),
                    Zi('div', SJ, [
                      ra(
                        'div',
                        {
                          class: Te([
                            'chat-btn',
                            e.streamState === on(xs).closed && 'start-chat',
                            e.streamState === on(xs).open && 'stop-chat',
                          ]),
                          onClick:
                            n[0] ||
                            (n[0] = function () {
                              return e.onStartChat && e.onStartChat.apply(e, arguments)
                            }),
                        },
                        [
                          e.streamState === on(xs).closed
                            ? (qi(), Zi('span', wJ, ''))
                            : e.streamState === on(xs).waiting
                              ? (qi(),
                                Zi('div', AJ, [
                                  ra('div', TJ, [
                                    ia(on(Yq), { 'wrapper-class-name': 'spin-icon' }),
                                  ]),
                                  n[1] || (n[1] = ra('span', null, '', -1)),
                                ]))
                              : (qi(), Zi('div', MJ)),
                        ],
                        2
                      ),
                      e.streamState === on(xs).open
                        ? (qi(),
                          Zi('div', EJ, [
                            ia(
                              bJ,
                              {
                                'audio-source-callback': e.audioSourceCallback,
                                'stream-state': e.streamState,
                                'wave-color': e.waveColor,
                              },
                              null,
                              8,
                              ['audio-source-callback', 'stream-state', 'wave-color']
                            ),
                          ]))
                        : ua('', !0),
                    ])
                  )
                }
              },
            }),
            kJ = aX(CJ, [['__scopeId', 'data-v-2b647c0d']])
          var RJ,
            IJ = { class: 'chat-input-container' },
            NJ = { class: 'chat-input-main' },
            PJ = { class: 'chat-input-inner' },
            LJ = { class: 'chat-input-wrapper' },
            DJ = ar({
              __name: 'ChatInput',
              props: { replying: { type: Boolean } },
              emits: ['send', 'stop', 'interrupt'],
              setup: function (e, t) {
                var n = t.emit,
                  r = 24,
                  i = sr('rowsDivRef'),
                  a = sr('chatInputRef')
                function o(e) {
                  var t, n, r
                  'Enter' === e.key &&
                    (e.altKey
                      ? a.value &&
                        ((a.value.value =
                          ((t = a.value.value),
                          (n = '\n'),
                          (r = a.value.selectionStart || 0) < 0 || r > t.length
                            ? (console.error(''), t)
                            : t.substring(0, r) + n + t.substring(r))),
                        a.value.dispatchEvent(new InputEvent('input')))
                      : (e.preventDefault(), s()))
                }
                function s() {
                  return u.apply(this, arguments)
                }
                function u() {
                  return (u = v(
                    h().m(function e() {
                      return h().w(function (e) {
                        for (;;)
                          switch (e.n) {
                            case 0:
                              a.value && (n('send', a.value.value), (a.value.value = ''))
                            case 1:
                              return e.a(2)
                          }
                      }, e)
                    })
                  )).apply(this, arguments)
                }
                function l(e) {
                  i.value &&
                    ((i.value.textContent = e.target.value.replace(/\n$/, '\n\n')),
                    (r = i.value.offsetHeight))
                }
                function c() {
                  n('stop')
                }
                function d() {
                  n('interrupt')
                }
                return function (e, t) {
                  return (
                    qi(),
                    Zi('div', IJ, [
                      ra('div', NJ, [
                        ra('div', { class: 'stop-chat-btn', onClick: c }),
                        ra('div', PJ, [
                          ra('div', LJ, [
                            ra(
                              'textarea',
                              {
                                class: 'chat-input',
                                ref_key: 'chatInputRef',
                                ref: a,
                                onKeydown: o,
                                onInput: l,
                                style: _e('height:'.concat(on(r), 'px')),
                              },
                              null,
                              36
                            ),
                            ra(
                              'div',
                              { class: 'rowsDiv', ref_key: 'rowsDivRef', ref: i },
                              Ie(on('')),
                              513
                            ),
                          ]),
                          e.replying
                            ? (qi(), Zi('button', { key: 0, class: 'interrupt-btn', onClick: d }))
                            : (qi(),
                              Zi('button', { key: 1, class: 'send-btn', onClick: s }, [
                                ia(on(jZ), { icon: on(rJ), color: '#fff' }, null, 8, ['icon']),
                              ])),
                        ]),
                      ]),
                      t[0] ||
                        (t[0] = ra('div', { class: 'ai-generate-hint' }, ' AI ', -1)),
                    ])
                  )
                }
              },
            }),
            OJ = aX(DJ, [['__scopeId', 'data-v-eeb6eebe']]),
            FJ = { class: 'answer-message-text' },
            BJ = aX(
              ar({
                __name: 'ChatMessage',
                props: { message: {}, role: {}, style: {} },
                setup: function (e) {
                  return function (e, t) {
                    return (
                      qi(),
                      Zi(
                        'div',
                        { class: Te(['answer-message-container', e.role]), style: _e(e.style) },
                        [ra('div', FJ, Ie(e.message), 1)],
                        6
                      )
                    )
                  }
                },
              }),
              [['__scopeId', 'data-v-57261938']]
            ),
            UJ = { class: 'chat-records-inner' },
            zJ = ar({
              __name: 'ChatRecords',
              props: { chatRecords: {} },
              setup: function (e, t) {
                var n = t.expose,
                  r = e,
                  i = sr('containerRef')
                function a() {
                  i.value && (i.value.scrollTop = i.value.scrollHeight)
                }
                return (
                  Ei(
                    function () {
                      return r.chatRecords
                    },
                    function (e) {
                      r.chatRecords &&
                        Cn().then(function () {
                          a()
                        })
                    }
                  ),
                  n({ scrollToBottom: a }),
                  function (e, t) {
                    return (
                      qi(),
                      Zi(
                        'div',
                        { class: 'chat-records', ref_key: 'containerRef', ref: i },
                        [
                          ra('div', UJ, [
                            (qi(!0),
                            Zi(
                              Vi,
                              null,
                              Pr(e.chatRecords, function (e, t) {
                                return (
                                  qi(),
                                  Zi(
                                    'div',
                                    { key: e.id, class: Te('chat-message '.concat(e.role)) },
                                    [
                                      ia(BJ, { message: e.message, role: e.role }, null, 8, [
                                        'message',
                                        'role',
                                      ]),
                                    ],
                                    2
                                  )
                                )
                              }),
                              128
                            )),
                          ]),
                        ],
                        512
                      )
                    )
                  }
                )
              },
            }),
            VJ = { class: 'content-container' },
            HJ = { key: 0, class: 'top-actions' },
            WJ = { key: 1, class: 'connection-loading-container' },
            GJ = { class: 'loading-content' },
            jJ = { class: 'loading-spinner' },
            QJ = ['muted'],
            qJ = { key: 2, class: 'chat-records-container' },
            XJ = ar({
              __name: 'index',
              setup: function (e) {
                var t = eX(),
                  n = nX(),
                  r = tn(),
                  i = tn(),
                  a = tn(),
                  o = tn(),
                  s = tn(),
                  u = tn('9 / 16'),
                  l = function () {
                    s.value &&
                      (u.value = ''.concat(s.value.videoWidth, ' / ').concat(s.value.videoHeight))
                  },
                  c = function () {
                    return n.localStream
                  }
                _r(function () {
                  var e = r.value
                  ;((t.wrapperRef = e),
                    e.getBoundingClientRect(),
                    (w.value.width = e.clientWidth),
                    (w.value.height = e.clientHeight),
                    (t.isLandscape = w.value.width > w.value.height),
                    console.log(w),
                    (t.remoteVideoContainerRef = a.value),
                    (t.localVideoContainerRef = i.value),
                    (t.localVideoRef = o.value),
                    (t.remoteVideoRef = s.value),
                    (t.wrapperRef = r.value))
                })
                var d = ss(n),
                  h = d.hasCamera,
                  f = d.hasMic,
                  p = d.micMuted,
                  v = d.cameraOff,
                  m = d.webcamAccessed,
                  g = d.streamState,
                  y = d.avatarType,
                  x = d.volumeMuted,
                  _ = d.replying,
                  b = (d.showChatRecords, d.chatRecords),
                  S = ss(t),
                  w = S.wrapperRect,
                  A =
                    (S.isLandscape,
                    Ra(function () {
                      return !!(b.value && b.value.length > 0) || 'open' === g.value
                    }))
                function T() {
                  n.startWebRTC().then(function () {
                    !(function () {
                      if (!n.chatDataChannel) return
                      n.chatDataChannel.addEventListener('message', function (e) {
                        var t = JSON.parse(e.data)
                        if ('chat' === t.type) {
                          var r = n.chatRecords.findIndex(function (e) {
                            return e.id === t.id
                          })
                          if (-1 !== r) {
                            var i = n.chatRecords[r]
                            ;((i.message += t.message),
                              n.chatRecords.splice(r, 1, i),
                              (n.chatRecords = I(n.chatRecords)))
                          } else
                            n.chatRecords = [].concat(I(n.chatRecords), [
                              { id: t.id, role: t.role || 'human', message: t.message },
                            ])
                        } else 'avatar_end' === t.type && (n.replying = !1)
                      })
                    })()
                  })
                }
                function M() {
                  n.chatDataChannel && n.chatDataChannel.send(JSON.stringify({ type: 'stop_chat' }))
                }
                var E = sr('chatRecordsInstanceRef')
                function C(e) {
                  var t
                  e &&
                    n.chatDataChannel &&
                    (n.chatDataChannel.send(JSON.stringify({ type: 'chat', data: e })),
                    (n.replying = !0),
                    null === (t = E.value) || void 0 === t || t.scrollToBottom())
                }
                return function (e, t) {
                  return (
                    qi(),
                    Zi(
                      'div',
                      { class: 'page-container', ref_key: 'wrapRef', ref: r },
                      [
                        ra('div', VJ, [
                          ra(
                            'div',
                            { class: 'video-container', style: _e({ aspectRatio: u.value }) },
                            [
                              on(m) ? (qi(), Zi('div', HJ, [ia(yJ)])) : ua('', !0),
                              Un(
                                ra(
                                  'div',
                                  {
                                    class: Te(
                                      'local-video-container '.concat(
                                        'open' === on(g) ? 'scaled' : ''
                                      )
                                    ),
                                    ref_key: 'localVideoContainerRef',
                                    ref: i,
                                  },
                                  [
                                    ra(
                                      'video',
                                      {
                                        class: 'local-video',
                                        ref_key: 'localVideoRef',
                                        ref: o,
                                        autoplay: '',
                                        muted: '',
                                        playsinline: '',
                                        style: _e({
                                          visibility: on(v) ? 'hidden' : 'visible',
                                          display: !on(h) || on(v) ? 'none' : 'block',
                                        }),
                                      },
                                      null,
                                      4
                                    ),
                                  ],
                                  2
                                ),
                                [[ao, on(h) && !on(v) && 'open' === on(g)]]
                              ),
                              'waiting' === on(g)
                                ? (qi(),
                                  Zi('div', WJ, [
                                    ra('div', GJ, [
                                      ra('div', jJ, [ia(on(Yq), { size: 'large' })]),
                                      t[0] ||
                                        (t[0] = ra(
                                          'div',
                                          { class: 'loading-text' },
                                          '...',
                                          -1
                                        )),
                                    ]),
                                  ]))
                                : ua('', !0),
                              ra(
                                'div',
                                {
                                  class: 'remote-video-container',
                                  ref_key: 'remoteVideoContainerRef',
                                  ref: a,
                                },
                                [
                                  on(y)
                                    ? ua('', !0)
                                    : Un(
                                        (qi(),
                                        Zi(
                                          'video',
                                          {
                                            key: 0,
                                            class: 'remote-video',
                                            onPlaying: l,
                                            ref_key: 'remoteVideoRef',
                                            ref: s,
                                            autoplay: '',
                                            playsinline: '',
                                            muted: on(x),
                                          },
                                          null,
                                          40,
                                          QJ
                                        )),
                                        [[ao, 'open' === on(g)]]
                                      ),
                                ],
                                512
                              ),
                              A.value
                                ? (qi(),
                                  Zi('div', qJ, [
                                    ia(
                                      zJ,
                                      {
                                        ref_key: 'chatRecordsInstanceRef',
                                        ref: E,
                                        chatRecords: on(b),
                                      },
                                      null,
                                      8,
                                      ['chatRecords']
                                    ),
                                  ]))
                                : ua('', !0),
                            ],
                            4
                          ),
                          (on(f) && !on(p)) || 'open' !== on(g)
                            ? on(m)
                              ? (qi(),
                                Ji(
                                  kJ,
                                  {
                                    key: 1,
                                    onStartChat: T,
                                    'audio-source-callback': c,
                                    streamState: on(g),
                                    'wave-color': '#7873F6',
                                  },
                                  null,
                                  8,
                                  ['streamState']
                                ))
                              : ua('', !0)
                            : (qi(),
                              Ji(
                                OJ,
                                {
                                  key: 0,
                                  replying: on(_),
                                  onInterrupt: M,
                                  onSend: C,
                                  onStop: on(n).startWebRTC,
                                },
                                null,
                                8,
                                ['replying', 'onStop']
                              )),
                        ]),
                      ],
                      512
                    )
                  )
                }
              },
            }),
            YJ = aX(XJ, [['__scopeId', 'data-v-ecb5f62f']]),
            KJ = { class: 'wrap' },
            ZJ = aX(
              ar({
                __name: 'App',
                setup: function (e) {
                  var t = nX()
                  return (
                    t.init(),
                    _r(function () {
                      window.self !== window.top &&
                        (document.body.classList.add('iframe-mode'),
                        console.log('  iframe  iframe '))
                    }),
                    function (e, n) {
                      return (
                        qi(),
                        Ji(
                          on(Vq),
                          { locale: on(HZ)[on(VZ)] },
                          {
                            default: Bn(function () {
                              return [
                                ra('div', KJ, [
                                  on(t).webcamAccessed ? ua('', !0) : (qi(), Ji(oX, { key: 0 })),
                                  ia(YJ),
                                ]),
                              ]
                            }),
                            _: 1,
                          },
                          8,
                          ['locale']
                        )
                      )
                    }
                  )
                },
              }),
              [['__scopeId', 'data-v-7e26f29b']]
            ),
            JJ = { exports: {} }
          var $J,
            e$,
            t$,
            n$,
            r$,
            i$ =
              (RJ ||
                ((RJ = 1),
                (function (e) {
                  e.exports = (function () {
                    var e = '__v-click-outside',
                      t = 'undefined' != typeof window,
                      n = 'undefined' != typeof navigator,
                      r =
                        t && ('ontouchstart' in window || (n && navigator.msMaxTouchPoints > 0))
                          ? ['touchstart']
                          : ['click'],
                      i = function (e) {
                        var t = e.event,
                          n = e.handler
                        ;(0, e.middleware)(t) && n(t)
                      },
                      a = function (t, n) {
                        var a = (function (e) {
                            var t = 'function' == typeof e
                            if (!t && 'object' != P(e))
                              throw new Error(
                                'v-click-outside: Binding value must be a function or an object'
                              )
                            return {
                              handler: t ? e : e.handler,
                              middleware:
                                e.middleware ||
                                function (e) {
                                  return e
                                },
                              events: e.events || r,
                              isActive: !(!1 === e.isActive),
                              detectIframe: !(!1 === e.detectIframe),
                              capture: Boolean(e.capture),
                            }
                          })(n.value),
                          o = a.handler,
                          s = a.middleware,
                          u = a.detectIframe,
                          l = a.capture
                        if (a.isActive) {
                          if (
                            ((t[e] = a.events.map(function (e) {
                              return {
                                event: e,
                                srcTarget: document.documentElement,
                                handler: function (e) {
                                  return (function (e) {
                                    var t = e.el,
                                      n = e.event,
                                      r = e.handler,
                                      a = e.middleware,
                                      o = n.path || (n.composedPath && n.composedPath())
                                    ;(o ? o.indexOf(t) < 0 : !t.contains(n.target)) &&
                                      i({ event: n, handler: r, middleware: a })
                                  })({ el: t, event: e, handler: o, middleware: s })
                                },
                                capture: l,
                              }
                            })),
                            u)
                          ) {
                            var c = {
                              event: 'blur',
                              srcTarget: window,
                              handler: function (e) {
                                return (function (e) {
                                  var t = e.el,
                                    n = e.event,
                                    r = e.handler,
                                    a = e.middleware
                                  setTimeout(function () {
                                    var e = document.activeElement
                                    e &&
                                      'IFRAME' === e.tagName &&
                                      !t.contains(e) &&
                                      i({ event: n, handler: r, middleware: a })
                                  }, 0)
                                })({ el: t, event: e, handler: o, middleware: s })
                              },
                              capture: l,
                            }
                            t[e] = [].concat(t[e], [c])
                          }
                          t[e].forEach(function (n) {
                            var r = n.event,
                              i = n.srcTarget,
                              a = n.handler
                            return setTimeout(function () {
                              t[e] && i.addEventListener(r, a, l)
                            }, 0)
                          })
                        }
                      },
                      o = function (t) {
                        ;((t[e] || []).forEach(function (e) {
                          return e.srcTarget.removeEventListener(e.event, e.handler, e.capture)
                        }),
                          delete t[e])
                      },
                      s = t
                        ? {
                            beforeMount: a,
                            updated: function (e, t) {
                              var n = t.value,
                                r = t.oldValue
                              JSON.stringify(n) !== JSON.stringify(r) && (o(e), a(e, { value: n }))
                            },
                            unmounted: o,
                          }
                        : {}
                    return {
                      install: function (e) {
                        e.directive('click-outside', s)
                      },
                      directive: s,
                    }
                  })()
                })(JJ)),
              JJ.exports),
            a$ = us(i$),
            o$ = (function () {
              var e,
                t = (e = Uo()).createApp.apply(e, arguments),
                n = t.mount
              return (
                (t.mount = function (e) {
                  var r = (function (e) {
                    if ($(e)) {
                      return document.querySelector(e)
                    }
                    return e
                  })(
                    /*!
                     * pinia v3.0.3
                     * (c) 2025 Eduardo San Martin Morote
                     * @license MIT
                     */ e
                  )
                  if (r) {
                    var i = t._component
                    ;(J(i) || i.render || i.template || (i.template = r.innerHTML),
                      1 === r.nodeType && (r.textContent = ''))
                    var a = n(
                      r,
                      !1,
                      (function (e) {
                        if (e instanceof SVGElement) return 'svg'
                        if ('function' == typeof MathMLElement && e instanceof MathMLElement)
                          return 'mathml'
                      })(r)
                    )
                    return (
                      r instanceof Element &&
                        (r.removeAttribute('v-cloak'), r.setAttribute('data-v-app', '')),
                      a
                    )
                  }
                }),
                t
              )
            })(ZJ),
            s$ =
              (($J = De(!0)),
              (e$ = $J.run(function () {
                return tn({})
              })),
              (n$ = []),
              (r$ = Zt({
                install: function (e) {
                  ;(Go(r$),
                    (r$._a = e),
                    e.provide(jo, r$),
                    (e.config.globalProperties.$pinia = r$),
                    n$.forEach(function (e) {
                      return t$.push(e)
                    }),
                    (n$ = []))
                },
                use: function (e) {
                  return (this._a ? t$.push(e) : n$.push(e), this)
                },
                _p: (t$ = []),
                _a: null,
                _e: $J,
                _s: new Map(),
                state: e$,
              })),
              r$)
          ;(o$.use(s$), o$.use(GZ), o$.use(a$), o$.mount('#app'))
        },
      }
    }))
})()
